/*! For license information please see 668.df999d19.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkshrestha_jci2021=self.webpackChunkshrestha_jci2021||[]).push([[668],{668:function(e,t,n){n.r(t),n.d(t,{h:function(){return Ds}});var r=n(762),i=n(433),o=n(671),a=n(144),s=n(791),l=n(164),u=n(497);function c(e,t){for(var n=function(){var n=t[r];if("string"!=typeof n&&!Array.isArray(n)){var i=function(t){if("default"!==t&&!(t in e)){var r=Object.getOwnPropertyDescriptor(n,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}};for(var o in n)i(o)}},r=0;r<t.length;r++)n();return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var h,f={exports:{}},d={};h=d,function(e){var t=e.Promise,n=t&&"resolve"in t&&"reject"in t&&"all"in t&&"race"in t&&function(){var e;return new t((function(t){e=t})),"function"==typeof e}();h?(h.Promise=n?t:w,h.Polyfill=w):n||(e.Promise=w);var r="pending",i="sealed",o="fulfilled",a="rejected",s=function(){};function l(e){return"[object Array]"===Object.prototype.toString.call(e)}var u,c="undefined"!=typeof setImmediate?setImmediate:setTimeout,f=[];function d(){for(var e=0;e<f.length;e++)f[e][0](f[e][1]);f=[],u=!1}function p(e,t){f.push([e,t]),u||(u=!0,c(d,0))}function m(e){var t=e.owner,n=t.state_,r=t.data_,i=e[n],s=e.then;if("function"==typeof i){n=o;try{r=i(r)}catch(l){b(s,l)}}v(s,r)||(n===o&&g(s,r),n===a&&b(s,r))}function v(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var r=t.then;if("function"==typeof r)return r.call(t,(function(r){n||(n=!0,t!==r?g(e,r):y(e,r))}),(function(t){n||(n=!0,b(e,t))})),!0}}catch(i){return n||b(e,i),!0}return!1}function g(e,t){(e===t||!v(e,t))&&y(e,t)}function y(e,t){e.state_===r&&(e.state_=i,e.data_=t,p(x,e))}function b(e,t){e.state_===r&&(e.state_=i,e.data_=t,p(T,e))}function _(e){var t=e.then_;e.then_=void 0;for(var n=0;n<t.length;n++)m(t[n])}function x(e){e.state_=o,_(e)}function T(e){e.state_=a,_(e)}function w(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof w))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(e,t){function n(e){b(t,e)}try{e((function(e){g(t,e)}),n)}catch(r){n(r)}}(e,this)}w.prototype={constructor:w,state_:r,then_:null,data_:void 0,then:function(e,t){var n={owner:this,then:new this.constructor(s),fulfilled:e,rejected:t};return this.state_===o||this.state_===a?p(m,n):this.then_.push(n),n.then},catch:function(e){return this.then(null,e)}},w.all=function(e){if(!l(e))throw new TypeError("You must pass an array to Promise.all().");return new this((function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var a,s=0;s<e.length;s++)(a=e[s])&&"function"==typeof a.then?a.then(o(s),n):r[s]=a;i||t(r)}))},w.race=function(e){if(!l(e))throw new TypeError("You must pass an array to Promise.race().");return new this((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"==typeof r.then?r.then(t,n):t(r)}))},w.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this((function(t){t(e)}))},w.reject=function(e){return new this((function(t,n){n(e)}))}}("undefined"!=typeof window?window:"undefined"!=typeof u.c?u.c:"undefined"!=typeof self?self:u.c);var p=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var g=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,r,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))m.call(n,a)&&(i[a]=n[a]);if(p){r=p(n);for(var s=0;s<r.length;s++)v.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},y=(0,u.g)(g);window.Promise||(window.Promise=d.Polyfill),Object.assign||(Object.assign=y);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var b=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-b}}for(var _=Date.now(),x=["ms","moz","webkit","o"],T=0;T<x.length&&!window.requestAnimationFrame;++T){var w=x[T];window.requestAnimationFrame=window[w+"RequestAnimationFrame"],window.cancelAnimationFrame=window[w+"CancelAnimationFrame"]||window[w+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),n=16+_-t;return n<0&&(n=0),_=t,window.setTimeout((function(){_=Date.now(),e(performance.now())}),n)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var S=/iPhone/i,E=/iPod/i,k=/iPad/i,C=/\biOS-universal(?:.+)Mac\b/i,A=/\bAndroid(?:.+)Mobile\b/i,O=/Android/i,P=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,M=/Silk/i,I=/Windows Phone/i,R=/\bWindows(?:.+)ARM\b/i,L=/BlackBerry/i,D=/BB10/i,N=/Opera Mini/i,j=/\b(CriOS|Chrome)(?:.+)Mobile/i,B=/Mobile(?:.+)Firefox\b/i,F=function(e){return"undefined"!=typeof e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};var H=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");"undefined"!=typeof r[1]&&(n=r[0]),"undefined"!=typeof(r=n.split("Twitter"))[1]&&(n=r[0]);var i=function(e){return function(t){return t.test(e)}}(n),o={apple:{phone:i(S)&&!i(I),ipod:i(E),tablet:!i(S)&&(i(k)||F(t))&&!i(I),universal:i(C),device:(i(S)||i(E)||i(k)||i(C)||F(t))&&!i(I)},amazon:{phone:i(P),tablet:!i(P)&&i(M),device:i(P)||i(M)},android:{phone:!i(I)&&i(P)||!i(I)&&i(A),tablet:!i(I)&&!i(P)&&!i(A)&&(i(M)||i(O)),device:!i(I)&&(i(P)||i(M)||i(A)||i(O))||i(/\bokhttp\b/i)},windows:{phone:i(I),tablet:i(R),device:i(I)||i(R)},other:{blackberry:i(L),blackberry10:i(D),opera:i(N),firefox:i(B),chrome:i(j),device:i(L)||i(D)||i(N)||i(B)||i(j)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator);var z={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(e){var t=!0;if(H.tablet||H.phone){var n;if(H.apple.device)if(n=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(n[1],10)<11&&(t=!1);if(H.android.device)if(n=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(n[1],10)<7&&(t=!1)}return t?e:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:H.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!H.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},U={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn===t&&(!i||s.once)&&(!r||s.context===r)&&a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(U);var V=U.exports,G=(0,u.g)(V),X={},Y={exports:{}};!function(e,t){!function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o="object"==typeof u.c&&u.c;(o.global===o||o.window===o||o.self===o)&&(n=o);var a,s,l=2147483647,c=36,h=1,f=26,d=38,p=700,m=72,v=128,g="-",y=/^xn--/,b=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=c-h,w=Math.floor,S=String.fromCharCode;function E(e){throw RangeError(x[e])}function k(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function C(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+k((e=e.replace(_,".")).split("."),t).join(".")}function A(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function O(e){return k(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function P(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function M(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,n){var r=0;for(e=n?w(e/p):e>>1,e+=w(e/t);e>T*f>>1;r+=c)e=w(e/T);return w(r+(T+1)*e/(e+d))}function R(e){var t,n,r,i,o,a,s,u,d,p,y=[],b=e.length,_=0,x=v,T=m;for((n=e.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&E("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=_,a=1,s=c;i>=b&&E("invalid-input"),((u=P(e.charCodeAt(i++)))>=c||u>w((l-_)/a))&&E("overflow"),_+=u*a,!(u<(d=s<=T?h:s>=T+f?f:s-T));s+=c)a>w(l/(p=c-d))&&E("overflow"),a*=p;T=I(_-o,t=y.length+1,0==o),w(_/t)>l-x&&E("overflow"),x+=w(_/t),_%=t,y.splice(_++,0,x)}return O(y)}function L(e){var t,n,r,i,o,a,s,u,d,p,y,b,_,x,T,k=[];for(b=(e=A(e)).length,t=v,n=0,o=m,a=0;a<b;++a)(y=e[a])<128&&k.push(S(y));for(r=i=k.length,i&&k.push(g);r<b;){for(s=l,a=0;a<b;++a)(y=e[a])>=t&&y<s&&(s=y);for(s-t>w((l-n)/(_=r+1))&&E("overflow"),n+=(s-t)*_,t=s,a=0;a<b;++a)if((y=e[a])<t&&++n>l&&E("overflow"),y==t){for(u=n,d=c;!(u<(p=d<=o?h:d>=o+f?f:d-o));d+=c)T=u-p,x=c-p,k.push(S(M(p+T%x,0))),u=w(T/x);k.push(S(M(u,0))),o=I(n,_,r==i),n=0,++r}++n,++t}return k.join("")}if(a={version:"1.3.2",ucs2:{decode:A,encode:O},decode:R,encode:L,toASCII:function(e){return C(e,(function(e){return b.test(e)?"xn--"+L(e):e}))},toUnicode:function(e){return C(e,(function(e){return y.test(e)?R(e.slice(4).toLowerCase()):e}))}},r&&i)if(e.exports==r)i.exports=a;else for(s in a)a.hasOwnProperty(s)&&(r[s]=a[s]);else n.punycode=a}(u.c)}(Y,Y.exports);var W=Y.exports,q={};function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var $=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};q.decode=q.parse=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var u,c,h,f,d=e[l].replace(o,"%20"),p=d.indexOf(n);p>=0?(u=d.substr(0,p),c=d.substr(p+1)):(u=d,c=""),h=decodeURIComponent(u),f=decodeURIComponent(c),K(i,h)?Array.isArray(i[h])?i[h].push(f):i[h]=[i[h],f]:i[h]=f}return i},q.encode=q.stringify=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var i=encodeURIComponent($(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return i+encodeURIComponent($(e))})).join(t):i+encodeURIComponent($(e[r]))})).join(t):r?encodeURIComponent($(r))+n+encodeURIComponent($(e)):""};var Z=W,Q={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},J=X.parse=Me;function ee(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}X.resolve=function(e,t){return Me(e,!1,!0).resolve(t)},X.resolveObject=function(e,t){return e?Me(e,!1,!0).resolveObject(t):t},X.format=function(e){return Q.isString(e)&&(e=Me(e)),e instanceof ee?e.format():ee.prototype.format.call(e)},X.Url=ee;var te,ne,re,ie,oe,ae,se,le,ue,ce,he,fe,de,pe,me,ve,ge,ye=/^([a-z0-9.+-]+:)/i,be=/:[0-9]*$/,_e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xe=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Te=["'"].concat(xe),we=["%","/","?",";","#"].concat(Te),Se=["/","?","#"],Ee=/^[+a-z0-9A-Z_-]{0,63}$/,ke=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ce={javascript:!0,"javascript:":!0},Ae={javascript:!0,"javascript:":!0},Oe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Pe=q;function Me(e,t,n){if(e&&Q.isObject(e)&&e instanceof ee)return e;var r=new ee;return r.parse(e,t,n),r}ee.prototype.parse=function(e,t,n){if(!Q.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(i);if(a=a.trim(),!n&&1===e.split("#").length){var s=_e.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?Pe.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=ye.exec(a);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===a.substr(0,2);c&&(!l||!Ae[l])&&(a=a.substr(2),this.slashes=!0)}if(!Ae[l]&&(c||l&&!Oe[l])){for(var h=-1,f=0;f<Se.length;f++){-1!==(m=a.indexOf(Se[f]))&&(-1===h||m<h)&&(h=m)}var d,p;-1!==(p=-1===h?a.lastIndexOf("@"):a.lastIndexOf("@",h))&&(d=a.slice(0,p),a=a.slice(p+1),this.auth=decodeURIComponent(d)),h=-1;for(f=0;f<we.length;f++){var m;-1!==(m=a.indexOf(we[f]))&&(-1===h||m<h)&&(h=m)}-1===h&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),y=(f=0,g.length);f<y;f++){var b=g[f];if(b&&!b.match(Ee)){for(var _="",x=0,T=b.length;x<T;x++)b.charCodeAt(x)>127?_+="x":_+=b[x];if(!_.match(Ee)){var w=g.slice(0,f),S=g.slice(f+1),E=b.match(ke);E&&(w.push(E[1]),S.unshift(E[2])),S.length&&(a="/"+S.join(".")+a),this.hostname=w.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=Z.toASCII(this.hostname));var k=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+k,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!Ce[u])for(f=0,y=Te.length;f<y;f++){var A=Te[f];if(-1!==a.indexOf(A)){var O=encodeURIComponent(A);O===A&&(O=escape(A)),a=a.split(A).join(O)}}var P=a.indexOf("#");-1!==P&&(this.hash=a.substr(P),a=a.slice(0,P));var M=a.indexOf("?");if(-1!==M?(this.search=a.substr(M),this.query=a.substr(M+1),t&&(this.query=Pe.parse(this.query)),a=a.slice(0,M)):t&&(this.search="",this.query={}),a&&(this.pathname=a),Oe[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var I=this.search||"";this.path=k+I}return this.href=this.format(),this},ee.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Q.isObject(this.query)&&Object.keys(this.query).length&&(o=Pe.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||Oe[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},ee.prototype.resolve=function(e){return this.resolveObject(Me(e,!1,!0)).format()},ee.prototype.resolveObject=function(e){if(Q.isString(e)){var t=new ee;t.parse(e,!1,!0),e=t}for(var n=new ee,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];"protocol"!==l&&(n[l]=e[l])}return Oe[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Oe[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var h=u[c];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||Ae[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),g=v||m||n.host&&e.pathname,y=g,b=n.pathname&&n.pathname.split("/")||[],_=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!Oe[n.protocol]);if(_&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),g=g&&(""===f[0]||""===b[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),n.search=e.search,n.query=e.query;else if(!Q.isNullOrUndefined(e.search)){if(_)n.hostname=n.host=b.shift(),(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift());return n.search=e.search,n.query=e.query,(!Q.isNull(n.pathname)||!Q.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=b.slice(-1)[0],T=(n.host||e.host||b.length>1)&&("."===x||".."===x)||""===x,w=0,S=b.length;S>=0;S--)"."===(x=b[S])?b.splice(S,1):".."===x?(b.splice(S,1),w++):w&&(b.splice(S,1),w--);if(!g&&!y)for(;w--;w)b.unshift("..");g&&""!==b[0]&&(!b[0]||"/"!==b[0].charAt(0))&&b.unshift(""),T&&"/"!==b.join("/").substr(-1)&&b.push("");var E,k=""===b[0]||b[0]&&"/"===b[0].charAt(0);_&&(n.hostname=n.host=k?"":b.length?b.shift():"",(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift()));return(g=g||n.host&&b.length)&&!k&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),(!Q.isNull(n.pathname)||!Q.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},ee.prototype.parseHost=function(){var e=this.host,t=be.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(te||(te={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(ne||(ne={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(re||(re={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(ie||(ie={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(oe||(oe={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(ae||(ae={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(se||(se={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(le||(le={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(ue||(ue={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(ce||(ce={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"}(he||(he={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(fe||(fe={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(de||(de={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(pe||(pe={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(me||(me={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(ve||(ve={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(ge||(ge={})),z.RETINA_PREFIX=/@([0-9\.]+)x/,z.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Ie,Re=!1,Le="5.3.12";function De(e){var t;if(!Re){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=["\n %c %c %c PixiJS "+Le+" - \u2730 "+e+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=window.console).log.apply(t,n)}else window.console&&window.console.log("PixiJS "+Le+" - "+e+" - http://www.pixijs.com/");Re=!0}}function Ne(){return"undefined"==typeof Ie&&(Ie=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:z.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch(o){return!1}}()),Ie}function je(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function Be(e){var t=e.toString(16);return"#"+(t="000000".substr(0,6-t.length)+t)}function Fe(e){return"string"==typeof e&&"#"===e[0]&&(e=e.substr(1)),parseInt(e,16)}var He=function(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[ie.NORMAL_NPM]=ie.NORMAL,e[ie.ADD_NPM]=ie.ADD,e[ie.SCREEN_NPM]=ie.SCREEN,t[ie.NORMAL]=ie.NORMAL_NPM,t[ie.ADD]=ie.ADD_NPM,t[ie.SCREEN]=ie.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}();function ze(e,t){return He[t?1:0][e]}function Ue(e,t,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function Ve(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var n=e>>16&255,r=e>>8&255,i=255&e;return(255*t<<24)+((n=n*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+(i=i*t+.5|0)}function Ge(e,t,n,r){return(n=n||new Float32Array(4))[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(255&e)/255,(r||void 0===r)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function Xe(e,t){void 0===t&&(t=null);var n=6*e;if((t=t||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function Ye(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var We={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function qe(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function Ke(e){return!(e&e-1)&&!!e}function $e(e){var t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,t|=n=((e>>>=n)>15?1:0)<<2,(t|=n=((e>>>=n)>3?1:0)<<1)|(e>>>=n)>>1}function Ze(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var o=i-(n=t+n>i?i-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}}function Qe(e){return 0===e?0:e<0?-1:1}var Je=0;function et(){return++Je}var tt={};function nt(e,t,n){if(void 0===n&&(n=3),!tt[t]){var r=(new Error).stack;"undefined"==typeof r?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(r))),tt[t]=!0}}var rt={},it=Object.create(null),ot=Object.create(null);var at=function(){function e(e,t,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||z.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),e}();function st(e){var t,n,r,i=e.width,o=e.height,a=e.getContext("2d"),s=a.getImageData(0,0,i,o).data,l=s.length,u={top:null,left:null,right:null,bottom:null},c=null;for(t=0;t<l;t+=4)0!==s[t+3]&&(n=t/4%i,r=~~(t/4/i),null===u.top&&(u.top=r),(null===u.left||n<u.left)&&(u.left=n),(null===u.right||u.right<n)&&(u.right=n+1),(null===u.bottom||u.bottom<r)&&(u.bottom=r));return null!==u.top&&(i=u.right-u.left,o=u.bottom-u.top+1,c=a.getImageData(u.left,u.top,i,o)),{height:o,width:i,data:c}}var lt,ut=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ct(e,t){if(void 0===t&&(t=window.location),0===e.indexOf("data:"))return"";t=t||window.location,lt||(lt=document.createElement("a")),lt.href=e;var n=J(lt.href),r=!n.port&&""===t.port||n.port===t.port;return n.hostname===t.hostname&&r&&n.protocol===t.protocol?"":"anonymous"}function ht(e,t){var n=z.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):void 0!==t?t:1}var ft,dt=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:ot,CanvasRenderTarget:at,DATA_URI:ut,EventEmitter:G,ProgramCache:rt,TextureCache:it,clearTextureCache:function(){var e;for(e in it)delete it[e];for(e in ot)delete ot[e]},correctBlendMode:ze,createIndicesForQuads:Xe,decomposeDataUri:function(e){var t=ut.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}},deprecation:nt,destroyTextureCache:function(){var e;for(e in it)it[e].destroy();for(e in ot)ot[e].destroy()},determineCrossOrigin:ct,earcut:u.e,getBufferType:Ye,getResolutionOfUrl:ht,hex2rgb:je,hex2string:Be,interleaveTypedArrays:function(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;var a=new ArrayBuffer(4*n),s=null,l=0;for(o=0;o<e.length;o++){var u=t[o],c=e[o],h=Ye(c);i[h]||(i[h]=new We[h](a)),s=i[h];for(var f=0;f<c.length;f++){s[(f/u|0)*r+l+f%u]=c[f]}l+=u}return new Float32Array(a)},isMobile:H,isPow2:Ke,isWebGLSupported:Ne,log2:$e,nextPow2:qe,premultiplyBlendMode:He,premultiplyRgba:Ue,premultiplyTint:Ve,premultiplyTintToRgba:Ge,removeItems:Ze,rgb2hex:function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},sayHello:De,sign:Qe,skipHello:function(){Re=!0},string2hex:Fe,trimCanvas:st,uid:et,url:X},Symbol.toStringTag,{value:"Module"})),pt=2*Math.PI,mt=180/Math.PI,vt=Math.PI/180;!function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"}(ft||(ft={}));var gt=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=ft.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this},e}(),yt=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=e,this.y=t,this.radius=n,this.type=ft.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-e,i=this.y-t;return(r*=r)+(i*=i)<=n},e.prototype.getBounds=function(){return new gt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}(),bt=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=e,this.y=t,this.width=n,this.height=r,this.type=ft.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,r=(t-this.y)/this.height;return(n*=n)+(r*=r)<=1},e.prototype.getBounds=function(){return new gt(this.x-this.width,this.y-this.height,this.width,this.height)},e}(),_t=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=Array.isArray(t[0])?t[0]:t;if("number"!=typeof r[0]){for(var i=[],o=0,a=r.length;o<a;o++)i.push(r[o].x,r[o].y);r=i}this.points=r,this.type=ft.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t},e.prototype.contains=function(e,t){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],l=this.points[2*o],u=this.points[2*o+1];s>t!=u>t&&e<(t-s)/(u-s)*(l-a)+a&&(n=!n)}return n},e}(),xt=function(){function e(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=20),this.x=e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=ft.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),r=t-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i||(n=e-(this.x+this.width-this.radius))*n+r*r<=i||n*n+(r=t-(this.y+this.height-this.radius))*r<=i||(n=e-(this.x+this.radius))*n+r*r<=i)return!0}return!1},e}(),Tt=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e}(),wt=function(){function e(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this._x=n,this._y=r,this.cb=e,this.scope=t}return e.prototype.clone=function(t,n){return void 0===t&&(t=this.cb),void 0===n&&(n=this.scope),new e(t,n,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),St=function(){function e(e,t,n,r,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(e,t){t=t||new Tt;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new Tt;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,o=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this},e.prototype.append=function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this},e.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return this.a=Math.cos(a+l)*i,this.b=Math.sin(a+l)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),a=Math.atan2(n,t),s=Math.abs(o+a);return s<1e-5||Math.abs(pt-s)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=a),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),Et=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],kt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ct=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],At=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ot=[],Pt=[],Mt=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];Ot.push(t);for(var n=0;n<16;n++)for(var r=Mt(Et[e]*Et[n]+Ct[e]*kt[n]),i=Mt(kt[e]*Et[n]+At[e]*kt[n]),o=Mt(Et[e]*Ct[n]+Ct[e]*At[n]),a=Mt(kt[e]*Ct[n]+At[e]*At[n]),s=0;s<16;s++)if(Et[s]===r&&kt[s]===i&&Ct[s]===o&&At[s]===a){t.push(s);break}}for(e=0;e<16;e++){var l=new St;l.set(Et[e],kt[e],Ct[e],At[e],0,0),Pt.push(l)}}();var It={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return Et[e]},uY:function(e){return kt[e]},vX:function(e){return Ct[e]},vY:function(e){return At[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return Ot[e][t]},sub:function(e,t){return Ot[e][It.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?It.S:It.N:2*Math.abs(t)<=Math.abs(e)?e>0?It.E:It.W:t>0?e>0?It.SE:It.SW:e>0?It.NE:It.NW},matrixAppendRotationInv:function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=Pt[It.inv(t)];i.tx=n,i.ty=r,e.append(i)}},Rt=function(){function e(){this.worldTransform=new St,this.localTransform=new St,this.position=new wt(this.onChange,this,0,0),this.scale=new wt(this.onChange,this,1,1),this.pivot=new wt(this.onChange,this,0,0),this.skew=new wt(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();z.SORTABLE_CHILDREN=!1;var Lt=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?gt.EMPTY:((e=e||new gt(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=e[0],a=e[1];t=o<t?o:t,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[2])<t?o:t,n=(a=e[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[4])<t?o:t,n=(a=e[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[6])<t?o:t,n=(a=e[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=t,this.minY=n,this.maxX=r,this.maxY=i},e.prototype.addFrame=function(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)},e.prototype.addFrameMatrix=function(e,t,n,r,i){var o=e.a,a=e.b,s=e.c,l=e.d,u=e.tx,c=e.ty,h=this.minX,f=this.minY,d=this.maxX,p=this.maxY,m=o*t+s*n+u,v=a*t+l*n+c;h=m<h?m:h,f=v<f?v:f,d=m>d?m:d,p=v>p?v:p,h=(m=o*r+s*n+u)<h?m:h,f=(v=a*r+l*n+c)<f?v:f,d=m>d?m:d,p=v>p?v:p,h=(m=o*t+s*i+u)<h?m:h,f=(v=a*t+l*i+c)<f?v:f,d=m>d?m:d,p=v>p?v:p,h=(m=o*r+s*i+u)<h?m:h,f=(v=a*r+l*i+c)<f?v:f,d=m>d?m:d,p=v>p?v:p,this.minX=h,this.minY=f,this.maxX=d,this.maxY=p},e.prototype.addVertexData=function(e,t,n){for(var r=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=t;s<n;s+=2){var l=e[s],u=e[s+1];r=l<r?l:r,i=u<i?u:i,o=l>o?l:o,a=u>a?u:a}this.minX=r,this.minY=i,this.maxX=o,this.maxY=a},e.prototype.addVertices=function(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)},e.prototype.addVerticesMatrix=function(e,t,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=e.a,s=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty,f=this.minX,d=this.minY,p=this.maxX,m=this.maxY,v=n;v<r;v+=2){var g=t[v],y=t[v+1],b=a*g+l*y+c,_=u*y+s*g+h;f=Math.min(f,b-i),p=Math.max(p,b+i),d=Math.min(d,_-o),m=Math.max(m,_+o)}this.minX=f,this.minY=d,this.maxX=p,this.maxY=m},e.prototype.addBounds=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i},e.prototype.addBoundsMask=function(e,t){var n=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>l?i:l,this.maxY=o>u?o:u}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var n=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>l?i:l,this.maxY=o>u?o:u}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,n,r,i,o){e-=i,t-=o,n+=i,r+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r},e}(),Dt=function(e,t){return(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Nt(e,t){function n(){this.constructor=e}Dt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var jt=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new Rt,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Lt,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return Nt(t,e),t.mixin=function(e){for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t.prototype,i,Object.getOwnPropertyDescriptor(e,i))}},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new gt),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new gt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Lt);var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=r,this._bounds.updateID+=this._boundsID-i,o},t.prototype.toGlobal=function(e,t,n){return void 0===n&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Bt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*mt},set:function(e){this.transform.rotation=e*vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var t;this._mask&&((t=this._mask.maskObject||this._mask).renderable=!0,t.isMask=!1);(this._mask=e,this._mask)&&((t=this._mask.maskObject||this._mask).renderable=!1,t.isMask=!0)},enumerable:!1,configurable:!0}),t}(G),Bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return Nt(t,e),t}(jt);function Ft(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}jt.prototype.displayObjectUpdateTransform=jt.prototype.updateTransform;var Ht=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=z.SORTABLE_CHILDREN,t.sortDirty=!1,t}return Nt(t,e),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(t.length>1)for(var r=0;r<t.length;r++)this.addChild(t[r]);else{var i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);Ze(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(t.length>1)for(var r=0;r<t.length;r++)this.removeChild(t[r]);else{var i=t[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,Ze(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Ze(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var n,r=e,i=t-r;if(i>0&&i<=t){n=this.children.splice(r,i);for(var o=0;o<n.length;++o)n[o].parent=null,n[o].transform&&(n[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(o=0;o<n.length;++o)n[o].emit("removed",this),this.emit("childRemoved",n[o],this,o);return n}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var r=this.children[t];r._lastSortedIndex=t,!e&&0!==r.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(Ft),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var n=t._mask.maskObject||t._mask;n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,n){void 0===n&&(n=!1);var r=e.prototype.getLocalBounds.call(this,t);if(!n)for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){e.batch.flush();var t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}n&&e.mask.push(this,this._mask),this._render(e);r=0;for(var i=this.children.length;r<i;r++)this.children[r].render(e);e.batch.flush(),n&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),t}(jt);Ht.prototype.containerUpdateTransform=Ht.prototype.updateTransform;var zt={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};jt.mixin(zt);var Ut,Vt=100,Gt=function(){function e(e){this._hookDiv=null,(H.tablet||H.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=Vt+"px",t.style.height=Vt+"px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessability for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}},e.prototype.update=function(){var e=performance.now();if(!(H.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=this.renderer.resolution,r=t.width/this.renderer.width*n,i=t.height/this.renderer.height*n,o=this.div;o.style.left=t.left+"px",o.style.top=t.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var s=this.children[a];if(s.renderId!==this.renderId)s._accessibleActive=!1,Ze(this.children,a,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,a--;else{o=s._accessibleDiv;var l=s.hitArea,u=s.worldTransform;s.hitArea?(o.style.left=(u.tx+l.x*u.a)*r+"px",o.style.top=(u.ty+l.y*u.d)*i+"px",o.style.width=l.width*u.a*r+"px",o.style.height=l.height*u.d*i+"px"):(l=s.getBounds(),this.capHitArea(l),o.style.left=l.x*r+"px",o.style.top=l.y*i+"px",o.style.width=l.width*r+"px",o.style.height=l.height*i+"px",o.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(o.title=s.accessibleTitle),o.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&o.setAttribute("aria-label",s.accessibleHint)),(s.accessibleTitle!==o.title||s.tabIndex!==o.tabIndex)&&(o.title=s.accessibleTitle,o.tabIndex=s.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width=Vt+"px",t.style.height=Vt+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData),t.dispatchEvent(e.target.displayObject,"pointertap",t.eventData),t.dispatchEvent(e.target.displayObject,"tap",t.eventData)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},e.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();z.TARGET_FPMS=.06,function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"}(Ut||(Ut={}));var Xt=function(){function e(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.fn=e,this.context=t,this.priority=n,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),Yt=function(){function e(){var e=this;this._head=new Xt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/z.TARGET_FPMS,this.elapsedMS=1/z.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,n){return void 0===n&&(n=Ut.NORMAL),this._addListener(new Xt(e,t,n))},e.prototype.addOnce=function(e,t,n){return void 0===n&&(n=Ut.NORMAL),this._addListener(new Xt(e,t,n,!0))},e.prototype._addListener=function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*z.TARGET_FPMS;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,z.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),Wt=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,Ut.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Yt.shared:new Yt,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e}(),qt=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Tt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),Kt=function(e,t){return(Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var $t=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),Zt=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 0!==(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return 0!==(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return 0!==(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),Qt=function(){function e(){this._tempPoint=new Tt}return e.prototype.recursiveFindHit=function(e,t,n,r,i){if(!t||!t.visible)return!1;var o=e.data.global,a=!1,s=i=t.interactive||i,l=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,l=!1)),s=!1):t._mask&&r&&(t._mask.containsPoint&&t._mask.containsPoint(o)||(r=!1)),l&&t.interactiveChildren&&t.children)for(var u=t.children,c=u.length-1;c>=0;c--){var h=u[c],f=this.recursiveFindHit(e,h,n,r,s);if(f){if(!h.parent)continue;s=!1,f&&(e.target&&(r=!1),a=!0)}}return i&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(a=!0),t.interactive&&(a&&!e.target&&(e.target=t),n&&n(e,t,!!a))),a},e.prototype.findHit=function(e,t,n,r){this.recursiveFindHit(e,t,n,r,!1)},e}(),Jt={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};jt.mixin(Jt);var en={target:null,data:{global:null}},tn=function(e){function t(t,n){var r=e.call(this)||this;return n=n||{},r.renderer=t,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new qt,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new $t,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new Qt,r._tempDisplayObject=new Bt,r._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(e,t){function n(){this.constructor=e}Kt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,t){return en.target=null,en.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(en,t,null,!0),en.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Yt.system.add(this.tickerUpdate,this,Ut.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(Yt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(typeof t){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,n){(!n.stopPropagationHint||e===n.stopsPropagatingAt)&&(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},t.prototype.delayDispatchEvent=function(e,t,n){this.delayedEvents.push({displayObject:e,eventString:t,eventData:n})},t.prototype.mapPositionToPoint=function(e,t,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*i,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},t.prototype.processInteractive=function(e,t,n,r){var i=this.search.findHit(e,t,n,r),o=this.delayedEvents;if(!o.length)return i;e.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var l=o[s],u=l.displayObject,c=l.eventString,h=l.eventData;h.stopsPropagatingAt===u&&(h.stopPropagationHint=!0),this.dispatchEvent(u,c,h)}return i},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,n){var r=e.data,i=e.data.identifier;if(n)if(t.trackedPointers[i]||(t.trackedPointers[i]=new Zt(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===r.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,o?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],l=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(u.data.originalEvent=e,this.processInteractive(u,this.lastObjectRendered,n,t||!o),this.emit(t?"pointercancel":"pointerup"+o,u),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+o:"mouseup"+o,u)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(s.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,"pointercancel",e),"touch"===n.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,n){var r=e.data,i=e.data.identifier,o=t.trackedPointers[i],a="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(s){var u=2===r.button,c=Zt.FLAGS,h=u?c.RIGHT_DOWN:c.LEFT_DOWN,f=void 0!==o&&o.flags&h;n?(this.dispatchEvent(t,u?"rightup":"mouseup",e),f&&(this.dispatchEvent(t,u?"rightclick":"click",e),l=!0)):f&&this.dispatchEvent(t,u?"rightupoutside":"mouseupoutside",e),o&&(u?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),o&&((!s||l)&&this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),o.over=!1))):o&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[i]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);("mouse"===t[0].pointerType||"pen"===t[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),("mouse"===i.pointerType||"pen"===i.pointerType)&&this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,n){var r=e.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(e,t,n),(!this.moveWhenInside||n)&&(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),o&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},t.prototype.processPointerOverOut=function(e,t,n){var r=e.data,i=e.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=t.trackedPointers[i];n&&!a&&(a=t.trackedPointers[i]=new Zt(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(t,"pointerover",e),o&&this.delayDispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[i]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e)[0],n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),("mouse"===t.pointerType||"pen"===t.pointerType)&&this.emit("mouseover",r)},t.prototype.getInteractionDataForPointerId=function(e){var t,n=e.pointerId;return 1===n||"mouse"===e.pointerType?t=this.mouse:this.activeInteractionData[n]?t=this.activeInteractionData[n]:((t=this.interactionDataPool.pop()||new qt).identifier=n,this.activeInteractionData[n]=t),t.copyEvent(e),t},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];"undefined"==typeof i.button&&(i.button=e.touches.length?1:0),"undefined"==typeof i.buttons&&(i.buttons=e.touches.length?1:0),"undefined"==typeof i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"==typeof i.width&&(i.width=i.radiusX||1),"undefined"==typeof i.height&&(i.height=i.radiusY||1),"undefined"==typeof i.tiltX&&(i.tiltX=0),"undefined"==typeof i.tiltY&&(i.tiltY=0),"undefined"==typeof i.pointerType&&(i.pointerType="touch"),"undefined"==typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"==typeof i.pressure&&(i.pressure=i.force||.5),"undefined"==typeof i.twist&&(i.twist=0),"undefined"==typeof i.tangentialPressure&&(i.tangentialPressure=0),"undefined"==typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"==typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else if(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent)t.push(e);else{var o=e;"undefined"==typeof o.isPrimary&&(o.isPrimary=!0),"undefined"==typeof o.width&&(o.width=1),"undefined"==typeof o.height&&(o.height=1),"undefined"==typeof o.tiltX&&(o.tiltX=0),"undefined"==typeof o.tiltY&&(o.tiltY=0),"undefined"==typeof o.pointerType&&(o.pointerType="mouse"),"undefined"==typeof o.pointerId&&(o.pointerId=1),"undefined"==typeof o.pressure&&(o.pressure=.5),"undefined"==typeof o.twist&&(o.twist=0),"undefined"==typeof o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,t.push(o)}return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(G),nn=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,n,r,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var l=this.name,u=this.items;this._aliasCount++;for(var c=0,h=u.length;c<h;c++)u[c][l](e,t,n,r,i,o,a,s);return u===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(nn.prototype,{dispatch:{value:nn.prototype.emit},run:{value:nn.prototype.emit}}),z.PREFER_ENV=H.any?te.WEBGL:te.WEBGL2,z.STRICT_TEXTURE_CACHE=!1;var rn=[];function on(e,t){if(!e)return null;var n="";if("string"==typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=rn.length-1;i>=0;--i){var o=rn[i];if(o.test&&o.test(e,n))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var an=function(e,t){return(an=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function sn(e,t){function n(){this.constructor=e}an(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ln=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new nn("setRealSize"),this.onUpdate=new nn("update"),this.onError=new nn("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),un=function(e){function t(t,n){var r=this,i=n||{},o=i.width,a=i.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(r=e.call(this,o,a)||this).data=t,r}return sn(t,e),t.prototype.upload=function(e,t,n){var r=e.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===fe.UNPACK),n.width===t.width&&n.height===t.height?r.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(n.width=t.width,n.height=t.height,r.texImage2D(t.target,0,n.internalFormat,t.width,t.height,0,t.format,n.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(ln),cn={scaleMode:ue.NEAREST,format:ae.RGBA,alphaMode:fe.NPM},hn=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this)||this,i=(n=n||{}).alphaMode,o=n.mipmap,a=n.anisotropicLevel,s=n.scaleMode,l=n.width,u=n.height,c=n.wrapMode,h=n.format,f=n.type,d=n.target,p=n.resolution,m=n.resourceOptions;return t&&!(t instanceof ln)&&((t=on(t,m)).internal=!0),r.width=l||0,r.height=u||0,r.resolution=p||z.RESOLUTION,r.mipmap=void 0!==o?o:z.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:z.ANISOTROPIC_LEVEL,r.wrapMode=c||z.WRAP_MODE,r.scaleMode=void 0!==s?s:z.SCALE_MODE,r.format=h||ae.RGBA,r.type=f||le.UNSIGNED_BYTE,r.target=d||se.TEXTURE_2D,r.alphaMode=void 0!==i?i:fe.UNPACK,void 0!==n.premultiplyAlpha&&(r.premultiplyAlpha=n.premultiplyAlpha),r.uid=et(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=l>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(t),r}return sn(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=e,this.height=t,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=e/this.resolution,this.height=t/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=Ke(this.realWidth)&&Ke(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=this.width*t/e,this.height=this.height*t/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ot[this.cacheId],delete it[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,n,r){void 0===r&&(r=z.STRICT_TEXTURE_CACHE);var i="string"==typeof e,o=null;i?o=e:(e._pixiId||(e._pixiId="pixiid_"+et()),o=e._pixiId);var a=ot[o];if(i&&r&&!a)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return a||((a=new t(e,n)).cacheId=o,t.addToCache(a,o)),a},t.fromBuffer=function(e,n,r,i){e=e||new Float32Array(n*r*4);var o=new un(e,{width:n,height:r}),a=e instanceof Float32Array?le.FLOAT:le.UNSIGNED_BYTE;return new t(o,Object.assign(cn,i||{width:n,height:r,type:a}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),ot[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),ot[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=ot[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete ot[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete ot[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(G),fn=function(e){function t(t,n){var r=this,i=n||{},o=i.width,a=i.height;(r=e.call(this,o,a)||this).items=[],r.itemDirtyIds=[];for(var s=0;s<t;s++){var l=new hn;r.items.push(l),r.itemDirtyIds.push(-2)}return r.length=t,r._load=null,r.baseTexture=null,r}return sn(t,e),t.prototype.initFromArray=function(e,t){for(var n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof ln?this.addResourceAt(e[n],n):this.addResourceAt(on(e[n],t),n))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=t,this.items[n].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],n=t.realWidth,r=t.realHeight;return e.resize(n,r),Promise.resolve(e)})),this._load},t}(ln),dn=function(e){function t(t,n){var r,i,o=this,a=n||{},s=a.width,l=a.height;return Array.isArray(t)?(r=t,i=t.length):i=t,o=e.call(this,i,{width:s,height:l})||this,r&&o.initFromArray(r,n),o}return sn(t,e),t.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=se.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,n){var r=this,i=r.length,o=r.itemDirtyIds,a=r.items,s=e.gl;n.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,t.format,this._width,this._height,i,0,t.format,t.type,null);for(var l=0;l<i;l++){var u=a[l];o[l]<u.dirtyId&&(o[l]=u.dirtyId,u.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,t.format,t.type,u.resource.source))}return!0},t}(fn),pn=function(e){function t(t){var n=this,r=t,i=r.naturalWidth||r.videoWidth||r.width,o=r.naturalHeight||r.videoHeight||r.height;return(n=e.call(this,i,o)||this).source=t,n.noSubImage=!1,n}return sn(t,e),t.crossOrigin=function(e,t,n){void 0===n&&0!==t.indexOf("data:")?e.crossOrigin=ct(t):!1!==n&&(e.crossOrigin="string"==typeof n?n:"anonymous")},t.prototype.upload=function(e,t,n,r){var i=e.gl,o=t.realWidth,a=t.realHeight;return r=r||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===fe.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||n.width!==o||n.height!==a?(n.width=o,n.height=a,i.texImage2D(t.target,0,t.format,t.format,t.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,t.type,r),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,n=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;this.resize(n,r),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(ln),mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sn(t,e),t.test=function(e){var t=window.OffscreenCanvas;return!!(t&&e instanceof t)||e instanceof HTMLCanvasElement},t}(pn),vn=function(e){function t(n,r){var i=this,o=r||{},a=o.width,s=o.height,l=o.autoLoad,u=o.linkBaseTexture;if(n&&n.length!==t.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");i=e.call(this,6,{width:a,height:s})||this;for(var c=0;c<t.SIDES;c++)i.items[c].target=se.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=!1!==u,n&&i.initFromArray(n,r),!1!==l&&i.load(),i}return sn(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=se.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=se.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,n,r){for(var i=this.itemDirtyIds,o=0;o<t.SIDES;o++){var a=this.items[o];i[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),i[o]=a.dirtyId):i[o]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,n.realWidth,n.realHeight,0,n.format,r.type,null),i[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(fn),gn=function(e){function t(t,n){var r=this;if(n=n||{},!(t instanceof HTMLImageElement)){var i=new Image;pn.crossOrigin(i,t,n.crossorigin),i.src=t,t=i}return r=e.call(this,t)||this,!t.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=t.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==n.createBitmap?n.createBitmap:z.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,r.alphaMode="number"==typeof n.alphaMode?n.alphaMode:null,void 0!==n.premultiplyAlpha&&(r.premultiplyAlpha=n.premultiplyAlpha),r.bitmap=null,r._load=null,!1!==n.autoLoad&&r.load(),r}return sn(t,e),t.prototype.load=function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,n){var r=t.source;t.url=r.src;var i=function(){t.destroyed||(r.onload=null,r.onerror=null,t.resize(r.width,r.height),t._load=null,t.createBitmap?e(t.process()):e(t))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(e){n(e),t.onError.emit(e)})}))),this._load},t.prototype.process=function(){var e=this,t=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(t,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===fe.UNPACK?"premultiply":"none"}).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process):Promise.resolve(this)},t.prototype.upload=function(t,n,r){if("number"==typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,n,r,this.bitmap),!this.preserveBitmap){var i=!0,o=n._glTextures;for(var a in o){var s=o[a];if(s!==r&&s.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(pn),yn=function(e){function t(t,n){var r=this;return n=n||{},(r=e.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=t,r.scale=n.scale||1,r._overrideWidth=n.width,r._overrideHeight=n.height,r._resolve=null,r._crossorigin=n.crossorigin,r._load=null,!1!==n.autoLoad&&r.load(),r}return sn(t,e),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise((function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}))),this._load},t.prototype._loadSvg=function(){var e=this,t=new Image;pn.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(n){e._resolve&&(t.onerror=null,e.onError.emit(n))},t.onload=function(){if(e._resolve){var n=t.width,r=t.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*e.scale,o=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(i=e._overrideWidth||e._overrideHeight/r*n,o=e._overrideHeight||e._overrideWidth/n*r),i=Math.round(i),o=Math.round(o);var a=e.source;a.width=i,a.height=o,a._pixiId="canvas_"+et(),a.getContext("2d").drawImage(t,0,0,n,r,0,0,i,o),e._resolve(),e._resolve=null}}},t.getSize=function(e){var n=t.SVG_SIZE.exec(e),r={};return n&&(r[n[1]]=Math.round(parseFloat(n[3])),r[n[5]]=Math.round(parseFloat(n[7]))),r},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,t){return"svg"===t||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&0===e.indexOf("<svg")},t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(pn),bn=function(e){function t(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof n&&(n=[n]);var a=n[0].src||n[0];pn.crossOrigin(o,a,r.crossorigin);for(var s=0;s<n.length;++s){var l=document.createElement("source"),u=n[s],c=u.src,h=u.mime,f=(c=c||n[s]).split("?").shift().toLowerCase(),d=f.substr(f.lastIndexOf(".")+1);h=h||t.MIME_TYPES[d]||"video/"+d,l.src=c,l.type=h,o.appendChild(l)}n=o}return(i=e.call(this,n)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return sn(t,e),t.prototype.update=function(t){if(!this.destroyed){var n=Yt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){e.valid?n(e):(e._resolve=n,t.load())})),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Yt.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&Yt.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Yt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,n){return e instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(pn),_n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sn(t,e),t.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},t}(pn);rn.push(gn,_n,mn,bn,yn,un,vn,dn);var xn={Resource:ln,BaseImageResource:pn,INSTALLED:rn,autoDetectResource:on,AbstractMultiResource:fn,ArrayResource:dn,BufferResource:un,CanvasResource:mn,CubeResource:vn,ImageResource:gn,SVGResource:yn,VideoResource:bn,ImageBitmapResource:_n},Tn=function(){function e(e){this.renderer=e}return e.prototype.destroy=function(){this.renderer=null},e}(),wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sn(t,e),t.prototype.upload=function(e,t,n){var r=e.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===fe.UNPACK),n.width===t.width&&n.height===t.height?r.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(n.width=t.width,n.height=t.height,r.texImage2D(t.target,0,1===e.context.webGLVersion?r.DEPTH_COMPONENT:r.DEPTH_COMPONENT16,t.width,t.height,0,t.format,t.type,this.data)),!0},t}(un),Sn=function(){function e(e,t){this.width=Math.ceil(e||100),this.height=Math.ceil(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new nn("disposeFramebuffer"),this.multisample=ge.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new hn(null,{scaleMode:ue.NEAREST,resolution:1,mipmap:he.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new hn(new wn(null,{width:this.width,height:this.height}),{scaleMode:ue.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:he.OFF,format:ae.DEPTH_COMPONENT,type:le.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.ceil(e),t=Math.ceil(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,t/i)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),En=function(e){function t(t){var n=this;"number"==typeof t&&(t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});n=e.call(this,null,t)||this;var r=t||{},i=r.width,o=r.height;return n.mipmap=0,n.width=Math.ceil(i)||100,n.height=Math.ceil(o)||100,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Sn(n.width*n.resolution,n.height*n.resolution).addColorTexture(0,n),n.maskStack=[],n.filterStack=[{}],n}return sn(t,e),t.prototype.resize=function(e,t){e=Math.ceil(e),t=Math.ceil(t),this.framebuffer.resize(e*this.resolution,t*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(hn),kn=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,n){var r=t.width,i=t.height;if(n){var o=e.width/2/r,a=e.height/2/i,s=e.x/r+o,l=e.y/i+a;n=It.add(n,It.NW),this.x0=s+o*It.uX(n),this.y0=l+a*It.uY(n),n=It.add(n,2),this.x1=s+o*It.uX(n),this.y1=l+a*It.uY(n),n=It.add(n,2),this.x2=s+o*It.uX(n),this.y2=l+a*It.uY(n),n=It.add(n,2),this.x3=s+o*It.uX(n),this.y3=l+a*It.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e}(),Cn=new kn,An=function(e){function t(n,r,i,o,a,s){var l=e.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new gt(0,0,1,1)),n instanceof t&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=o,l.valid=!1,l._uvs=Cn,l.uvMatrix=null,l.orig=i||r,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new Tt(s.x,s.y):new Tt(0,0),l._updateID=0,l.textureCacheIds=[],n.valid?l.noFrame?n.valid&&l.onBaseTextureUpdated(n):l.frame=r:n.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&n.on("update",l.onBaseTextureUpdated,l),l}return sn(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture;n&&n.url&&it[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===Cn&&(this._uvs=new kn),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,n,r){void 0===n&&(n={}),void 0===r&&(r=z.STRICT_TEXTURE_CACHE);var i="string"==typeof e,o=null;i?o=e:(e._pixiId||(e._pixiId="pixiid_"+et()),o=e._pixiId);var a=it[o];if(i&&r&&!a)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return a||(n.resolution||(n.resolution=ht(e)),(a=new t(new hn(e,n))).baseTexture.cacheId=o,hn.addToCache(a.baseTexture,o),t.addToCache(a,o)),a},t.fromURL=function(e,n){var r=Object.assign({autoLoad:!1},null==n?void 0:n.resourceOptions),i=t.from(e,Object.assign({resourceOptions:r},n),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},t.fromBuffer=function(e,n,r,i){return new t(hn.fromBuffer(e,n,r,i))},t.fromLoader=function(e,n,r){var i=new gn(e);i.url=n;var o=new t(new hn(i,{scaleMode:z.SCALE_MODE,resolution:ht(n)}));return r||(r=n),hn.addToCache(o.baseTexture,r),t.addToCache(o,r),r!==n&&(hn.addToCache(o.baseTexture,n),t.addToCache(o,n)),o},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),it[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),it[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=it[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete it[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)it[e.textureCacheIds[r]]===e&&delete it[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,o=t+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+t+" + "+r+" = "+(t+r)+" > "+this.baseTexture.width,u="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+u)}this.valid=r&&i&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(G);function On(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}An.EMPTY=new An(new hn),On(An.EMPTY),On(An.EMPTY.baseTexture),An.WHITE=function(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new An(new hn(new mn(e)))}(),On(An.WHITE),On(An.WHITE.baseTexture);var Pn=function(e){function t(t,n){var r=this,i=null;if(!(t instanceof En)){var o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+a+") instead of the ctor directly."),i=arguments[0],n=null,t=new En({width:o,height:a,scaleMode:s,resolution:l})}return(r=e.call(this,t,n)||this).legacyRenderer=i,r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return sn(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,n){void 0===n&&(n=!0),e=Math.ceil(e),t=Math.ceil(t),this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,n&&this.baseTexture.resize(e,t),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new En(e))},t}(An),Mn=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t){var n=new En(Object.assign({width:e,height:t,resolution:1},this.textureOptions));return new Pn(n)},e.prototype.getOptimalTexture=function(t,n,r){void 0===r&&(r=1);var i=e.SCREEN_KEY;t*=r,n*=r,(!this.enableFullScreen||t!==this._pixelsWidth||n!==this._pixelsHeight)&&(i=(65535&(t=qe(t)))<<16|65535&(n=qe(n))),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(t,n)),o.filterPoolKey=i,o.setResolution(r),o},e.prototype.getFilterTexture=function(e,t){var n=this.getOptimalTexture(e.width,e.height,t||e.resolution);return n.filterFrame=e.filterFrame,n},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var n=e.SCREEN_KEY,r=this.texturePool[n];if(this.enableFullScreen=t.width>0&&t.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY="screen",e}(),In=function(){function e(e,t,n,r,i,o,a){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=5126),this.buffer=e,this.size=t,this.normalized=n,this.type=r,this.stride=i,this.start=o,this.instance=a}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,n,r,i,o){return new e(t,n,r,i,o)},e}(),Rn=0,Ln=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=Rn++,this.disposeRunner=new nn("disposeBuffer")}return e.prototype.update=function(e){this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}();function Dn(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var Nn={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var jn={5126:4,5123:2,5121:1},Bn=0,Fn={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Hn=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Bn++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new nn("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,n,r,i,o,a,s){if(void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Ln||(t instanceof Array&&(t=new Float32Array(t)),t=new Ln(t));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],t,n,r,i);return this}var c=this.buffers.indexOf(t);return-1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new In(c,n,r,i,o,a,s),this.instanced=this.instanced||s,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof Ln||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ln(e)),e.index=!0,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],n=[],r=new Ln;for(e in this.attributes){var i=this.attributes[e],o=this.buffers[i.buffer];t.push(o.data),n.push(i.size*jn[i.type]/4),i.buffer=0}for(r.data=function(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;var a=new ArrayBuffer(4*n),s=null,l=0;for(o=0;o<e.length;o++){var u=t[o],c=e[o],h=Dn(c);i[h]||(i[h]=new Nn[h](a)),s=i[h];for(var f=0;f<c.length;f++)s[(f/u|0)*r+l+f%u]=c[f];l+=u}return new Float32Array(a)}(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,n=0;n<this.buffers.length;n++)t.buffers[n]=new Ln(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];t.attributes[n]=new In(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},e.merge=function(t){for(var n,r=new e,i=[],o=[],a=[],s=0;s<t.length;s++){n=t[s];for(var l=0;l<n.buffers.length;l++)o[l]=o[l]||0,o[l]+=n.buffers[l].data.length,a[l]=0}for(s=0;s<n.buffers.length;s++)i[s]=new(Fn[Dn(n.buffers[s].data)])(o[s]),r.buffers[s]=new Ln(i[s]);for(s=0;s<t.length;s++){n=t[s];for(l=0;l<n.buffers.length;l++)i[l].set(n.buffers[l].data,a[l]),a[l]+=n.buffers[l].data.length}if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.index=!0;var u=0,c=0,h=0,f=0;for(s=0;s<n.buffers.length;s++)if(n.buffers[s]!==n.indexBuffer){f=s;break}for(var s in n.attributes){var d=n.attributes[s];(0|d.buffer)===f&&(c+=d.size*jn[d.type]/4)}for(s=0;s<t.length;s++){var p=t[s].indexBuffer.data;for(l=0;l<p.length;l++)r.indexBuffer.data[l+h]+=u;u+=n.buffers[f].data.length/c,h+=p.length}}return r},e}(),zn=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return sn(t,e),t}(Hn),Un=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new Ln(t.vertices),t.uvBuffer=new Ln(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return sn(t,e),t.prototype.map=function(e,t){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Hn),Vn=0,Gn=function(){function e(e,t){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Vn++,this.static=!!t}return e.prototype.update=function(){this.dirtyId++},e.prototype.add=function(t,n,r){this.uniforms[t]=new e(n,r)},e.from=function(t,n){return new e(t,n)},e}(),Xn=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new gt,this.destinationFrame=new gt,this.filters=[]}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Yn=function(e){function t(t){var n=e.call(this,t)||this;return n.defaultFilterStack=[{}],n.texturePool=new Mn,n.texturePool.setScreenSize(t.view),n.statePool=[],n.quad=new zn,n.quadUv=new Un,n.tempRect=new gt,n.activeState={},n.globalUniforms=new Gn({outputFrame:n.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),n.forceClear=!1,n.useMaxPadding=!1,n}return sn(t,e),t.prototype.push=function(e,t){for(var n=this.renderer,r=this.defaultFilterStack,i=this.statePool.pop()||new Xn,o=t[0].resolution,a=t[0].padding,s=t[0].autoFit,l=t[0].legacy,u=1;u<t.length;u++){var c=t[u];o=Math.min(o,c.resolution),a=this.useMaxPadding?Math.max(a,c.padding):a+c.padding,s=s&&c.autoFit,l=l||c.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=n.renderTexture.current),r.push(i),i.resolution=o,i.legacy=l,i.target=e,i.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),i.sourceFrame.pad(a),s&&i.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),i.sourceFrame.ceil(o),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,o),i.filters=t,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var h=this.tempRect;h.width=i.sourceFrame.width,h.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,n.renderTexture.bind(i.renderTexture,i.sourceFrame,h),n.renderTexture.clear()},t.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;var i=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=i[0]*t.resolution,o[1]=i[1]*t.resolution,o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*i[2]-.5*o[2],a[3]=t.sourceFrame.height*i[3]-.5*o[3],t.legacy){var s=r.filterArea;s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=t.sourceFrame.x,s[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(t.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,l.renderTexture,de.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var u=t.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,t.resolution);c.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){n[h].apply(this,u,c,de.CLEAR,t);var f=u;u=c,c=f}n[h].apply(this,u,l.renderTexture,de.BLEND,t),this.returnFilterTexture(u),this.returnFilterTexture(c)}t.clear(),this.statePool.push(t)},t.prototype.bindAndClear=function(e,t){if(void 0===t&&(t=de.CLEAR),e&&e.filterFrame){var n=this.tempRect;n.width=e.filterFrame.width,n.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,n)}else this.renderer.renderTexture.bind(e);"boolean"==typeof t&&(t=t?de.CLEAR:de.BLEND,nt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(t===de.CLEAR||t===de.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},t.prototype.applyFilter=function(e,t,n,r){var i=this.renderer;this.bindAndClear(n,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.state.set(e.state),i.shader.bind(e),e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(oe.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(oe.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,t){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,o=t._texture.orig,a=e.set(i.width,0,0,i.height,r.x,r.y),s=t.worldTransform.copyTo(St.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(t.anchor.x,t.anchor.y),a},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,t,n){return void 0===n&&(n=1),this.texturePool.getOptimalTexture(e,t,n)},t.prototype.getFilterTexture=function(e,t){if("number"==typeof e){var n=e;e=t,t=n}e=e||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution);return r.filterFrame=e.filterFrame,r},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t}(Tn),Wn=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}(),qn=function(e){function t(t){var n=e.call(this,t)||this;return n.emptyRenderer=new Wn(t),n.currentRenderer=n.emptyRenderer,n}return sn(t,e),t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,t){for(var n=this.renderer.texture.boundTextures,r=t-1;r>=0;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)},t.prototype.boundArray=function(e,t,n,r){for(var i=e.elements,o=e.ids,a=e.count,s=0,l=0;l<a;l++){var u=i[l],c=u._batchLocation;if(c>=0&&c<r&&t[c]===u)o[l]=c;else for(;s<r;){var h=t[s];if(!h||h._batchEnabled!==n||h._batchLocation!==s){o[l]=s,u._batchLocation=s,t[s]=u;break}s++}}},t}(Tn),Kn=0,$n=function(e){function t(t){var n=e.call(this,t)||this;return n.webGLVersion=1,n.extensions={},n.supports={uint32Indices:!1},n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),t.view.addEventListener("webglcontextlost",n.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n}return sn(t,e),Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Kn++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Kn++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},t.prototype.createContext=function(e,t){var n;if(z.PREFER_ENV>=te.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var t=e.getContextAttributes(),n="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;n&&(this.webGLVersion=2),t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(Tn),Zn=function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=ge.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},Qn=new gt,Jn=function(e){function t(t){var n=e.call(this,t)||this;return n.managedFramebuffers=[],n.unknownFramebuffer=new Sn(10,10),n.msaaSamples=null,n}return sn(t,e),t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new gt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;z.PREFER_ENV===te.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,t){var n=this.gl;if(e){var r=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==e.dirtyId&&(r.dirtyId=e.dirtyId,r.dirtyFormat!==e.dirtyFormat?(r.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):r.dirtySize!==e.dirtySize&&(r.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var i=0;i<e.colorTextures.length;i++){var o=e.colorTextures[i];this.renderer.texture.unbind(o.parentTextureArray||o)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,t,n,r){var i=this.viewport;(i.width!==n||i.height!==r||i.x!==e||i.y!==t)&&(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,t,n,r,i){void 0===i&&(i=re.COLOR|re.DEPTH);var o=this.gl;o.clearColor(e,t,n,r),o.clear(i)},t.prototype.initFramebuffer=function(e){var t=this.gl,n=new Zn(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));for(var r=e.colorTextures,i=0;i<r.length;i++)this.renderer.texture.bind(r[i],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID],r=e.colorTextures.length;t.drawBuffers||(r=Math.min(r,1)),n.multisample>1&&(n.msaaBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.RGBA8,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,n.msaaBuffer));for(var i=[],o=0;o<r;o++)if(!(0===o&&n.multisample>1)){var a=e.colorTextures[o],s=a.parentTextureArray||a;this.renderer.texture.bind(s,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+o,a.target,s._glTextures[this.CONTEXT_UID].texture,0),i.push(t.COLOR_ATTACHMENT0+o)}if((i.length>1&&t.drawBuffers(i),e.depthTexture)&&this.writeDepthTexture){var l=e.depthTexture;this.renderer.texture.bind(l,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,0)}!n.stencil&&(e.stencil||e.depth)&&(n.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),e.depthTexture||t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,n.stencil))},t.prototype.detectSamples=function(e){var t=this.msaaSamples,n=ge.NONE;if(e<=1||null===t)return n;for(var r=0;r<t.length;r++)if(t[r]<=e){n=t[r];break}return 1===n&&(n=ge.NONE),n},t.prototype.blit=function(e,t,n){var r=this,i=r.current,o=r.renderer,a=r.gl,s=r.CONTEXT_UID;if(2===o.context.webGLVersion&&i){var l=i.glFramebuffers[s];if(l){if(!e){if(l.multisample<=1)return;l.blitFramebuffer||(l.blitFramebuffer=new Sn(i.width,i.height),l.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(e=l.blitFramebuffer).width=i.width,e.height=i.height}t||((t=Qn).width=i.width,t.height=i.height),n||(n=t);var u=t.width===n.width&&t.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(t.x,t.y,t.width,t.height,n.x,n.y,n.width,n.height,a.COLOR_BUFFER_BIT,u?a.NEAREST:a.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(n.framebuffer),n.stencil&&r.deleteRenderbuffer(n.stencil))}},t.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.enableStencil();var n=e.width,r=e.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),t.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new gt},t}(Tn),er=function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},tr={5126:4,5123:2,5121:1},nr=function(e){function t(t){var n=e.call(this,t)||this;return n._activeGeometry=null,n._activeVao=null,n.hasVao=!0,n.hasInstance=!0,n.canUseUInt32ElementIndex=!1,n.managedGeometries={},n.managedBuffers={},n}return sn(t,e),t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;z.PREFER_ENV===te.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(e){return n.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return n.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=function(e,t){return r.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,n,i,o){return r.drawElementsInstancedANGLE(e,t,n,i,o)},e.drawArraysInstanced=function(e,t,n,i){return r.drawArraysInstancedANGLE(e,t,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},t.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var o=r[t.program.id]||this.initGeometryVao(e,t.program,i);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.gl,n=0;n<e.buffers.length;n++){var r=e.buffers[n],i=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==i.updateID){i.updateID=r._updateID;var o=r.index?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;if(t.bindBuffer(o,i.buffer),this._boundBuffer=i,i.byteLength>=r.data.byteLength)t.bufferSubData(o,0,r.data);else{var a=r.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=r.data.byteLength,t.bufferData(o,r.data,a)}}}},t.prototype.checkCompatibility=function(e,t){var n=e.attributes,r=t.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},t.prototype.getSignature=function(e,t){var n=e.attributes,r=t.attributeData,i=["g",e.id];for(var o in n)r[o]&&i.push(o);return i.join("-")},t.prototype.initGeometryVao=function(e,t,n){void 0===n&&(n=!0),this.checkCompatibility(e,t);var r=this.gl,i=this.CONTEXT_UID,o=this.getSignature(e,t),a=e.glVertexArrayObjects[this.CONTEXT_UID],s=a[o];if(s)return a[t.id]=s,s;var l=e.buffers,u=e.attributes,c={},h={};for(var f in l)c[f]=0,h[f]=0;for(var f in u)!u[f].size&&t.attributeData[f]?u[f].size=t.attributeData[f].size:u[f].size||console.warn("PIXI Geometry attribute '"+f+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[u[f].buffer]+=u[f].size*tr[u[f].type];for(var f in u){var d=u[f],p=d.size;void 0===d.stride&&(c[d.buffer]===p*tr[d.type]?d.stride=0:d.stride=c[d.buffer]),void 0===d.start&&(d.start=h[d.buffer],h[d.buffer]+=p*tr[d.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var m=0;m<l.length;m++){var v=l[m];v._glBuffers[i]||(v._glBuffers[i]=new er(r.createBuffer()),this.managedBuffers[v.id]=v,v.disposeRunner.add(this)),n&&v._glBuffers[i].refCount++}return this.activateVao(e,t),this._activeVao=s,a[t.id]=s,a[o]=s,s},t.prototype.disposeBuffer=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),n&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var n=e.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,i=e.buffers;if(e.disposeRunner.remove(this),n){for(var o=0;o<i.length;o++){var a=i[o]._glBuffers[this.CONTEXT_UID];a.refCount--,0===a.refCount&&!t&&this.disposeBuffer(i[o],t)}if(!t)for(var s in n)if("g"===s[0]){var l=n[s];this._activeVao===l&&this.unbind(),r.deleteVertexArray(l)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e);t=Object.keys(this.managedBuffers);for(n=0;n<t.length;n++)this.disposeBuffer(this.managedBuffers[t[n]],e)},t.prototype.activateVao=function(e,t){var n=this.gl,r=this.CONTEXT_UID,i=e.buffers,o=e.attributes;e.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[r].buffer);var a=null;for(var s in o){var l=o[s],u=i[l.buffer]._glBuffers[r];if(t.attributeData[s]){a!==u&&(n.bindBuffer(n.ARRAY_BUFFER,u.buffer),a=u);var c=t.attributeData[s].location;if(n.enableVertexAttribArray(c),n.vertexAttribPointer(c,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(c,1)}}}},t.prototype.draw=function(e,t,n,r){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(e,t||o.indexBuffer.data.length,s,(n||0)*a,r||1):i.drawElements(e,t||o.indexBuffer.data.length,s,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(e,n,t||o.getSize(),r||1):i.drawArrays(e,n,t||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t}(Tn),rr=function(){function e(e){void 0===e&&(e=null),this.type=ve.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=ve.NONE,this.autoDetect=!0),this._target=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function ir(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function or(e,t,n,r){var i=ir(e,e.VERTEX_SHADER,t),o=ir(e,e.FRAGMENT_SHADER,n),a=e.createProgram();if(e.attachShader(a,i),e.attachShader(a,o),r)for(var s in r)e.bindAttribLocation(a,r[s],s);return e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||(console.warn(t),console.error(e.getShaderInfoLog(i))),e.getShaderParameter(o,e.COMPILE_STATUS)||(console.warn(n),console.error(e.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(a,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(a)),e.deleteProgram(a),a=null),e.deleteShader(i),e.deleteShader(o),a}function ar(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function sr(e,t){switch(e){case"float":case"int":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return ar(2*t);case"bvec3":return ar(3*t);case"bvec4":return ar(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var lr,ur={},cr=ur;function hr(){if(cr===ur||cr&&cr.isContextLost()){var e=document.createElement("canvas"),t=void 0;z.PREFER_ENV>=te.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),cr=t}return cr}function fr(e,t,n){if("precision"!==e.substring(0,9)){var r=t;return t===me.HIGH&&n!==me.HIGH&&(r=me.MEDIUM),"precision "+r+" float;\n"+e}return n!==me.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var dr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function pr(e){return dr[e]}var mr=null,vr={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function gr(e,t){if(!mr){var n=Object.keys(vr);mr={};for(var r=0;r<n.length;++r){var i=n[r];mr[e[i]]=vr[i]}}return mr[t]}var yr=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],br={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},_r={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var xr,Tr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function wr(e){for(var t="",n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == "+n+".0){}");return t}function Sr(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=Tr.replace(/%forloop%/gi,wr(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}var Er=0,kr={},Cr=function(){function e(t,n,r){void 0===r&&(r="pixi-shader"),this.id=Er++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),kr[r]?(kr[r]++,r+="-"+kr[r]):kr[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=fr(this.vertexSrc,z.PRECISION_VERTEX,me.HIGH),this.fragmentSrc=fr(this.fragmentSrc,z.PRECISION_FRAGMENT,function(){if(!lr){lr=me.MEDIUM;var e=hr();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);lr=t.precision?me.HIGH:me.MEDIUM}}return lr}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return e.prototype.extractData=function(e,t){var n=hr();if(n){var r=or(n,e,t);this.attributeData=this.getAttributeData(r,n),this.uniformData=this.getUniformData(r,n),n.deleteProgram(r)}else this.uniformData={},this.attributeData={}},e.prototype.getAttributeData=function(e,t){for(var n={},r=[],i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=gr(t,a.type),l={type:s,name:a.name,size:pr(s),location:0};n[a.name]=l,r.push(l)}r.sort((function(e,t){return e.name>t.name?1:-1}));for(o=0;o<r.length;o++)r[o].location=o;return n},e.prototype.getUniformData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]$/,""),s=o.name.match(/\[.*?\]$/),l=gr(t,o.type);n[a]={type:l,size:o.size,isArray:s,value:sr(l,o.size)}}return n},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),e.from=function(t,n,r){var i=t+n,o=rt[i];return o||(rt[i]=o=new e(t,n,r)),o},e}(),Ar=function(){function e(e,t){for(var n in this.program=e,this.uniformGroup=t?t instanceof Gn?t:new Gn(t):new Gn({}),e.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){var r=t.uniforms[n];if(r.group&&this.checkUniformExists(e,r))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,n,r){return new e(Cr.from(t,n),r)},e}(),Or=function(){function e(){this.data=0,this.blendMode=ie.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==ie.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),Pr=function(e){function t(n,r,i){var o=this,a=Cr.from(n||t.defaultVertexSrc,r||t.defaultFragmentSrc);return(o=e.call(this,a,i)||this).padding=0,o.resolution=z.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Or,o}return sn(t,e),t.prototype.apply=function(e,t,n,r,i){e.applyFilter(this,t,n,r)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(Ar),Mr=new St,Ir=function(){function e(e,t){this._texture=e,this.mapCoord=new St,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"==typeof t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[r]=i*n.a+o*n.c+n.tx,t[r+1]=i*n.b+o*n.d+n.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;i&&(Mr.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Mr));var o=t.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(t._frame.x+s+l)/o.width,a[1]=(t._frame.y+s+l)/o.height,a[2]=(t._frame.x+t._frame.width-s+l)/o.width,a[3]=(t._frame.y+t._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0},e}(),Rr=function(e){function t(t){var n=this,r=new St;return n=e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,t.renderable=!1,n.maskSprite=t,n.maskMatrix=r,n}return sn(t,e),t.prototype.apply=function(e,t,n,r){var i=this.maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Ir(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,n,r))},t}(Pr),Lr=function(e){function t(t){var n=e.call(this,t)||this;return n.enableScissor=!1,n.alphaMaskPool=[],n.maskDataPool=[],n.maskStack=[],n.alphaMaskIndex=0,n}return sn(t,e),t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,t){var n=t;if(!n.isMaskData){var r=this.maskDataPool.pop()||new rr;r.pooled=!0,r.maskObject=t,n=r}switch(n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=e,n.type){case ve.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case ve.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case ve.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n)}},t.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){switch(t.type){case ve.SCISSOR:this.renderer.scissor.pop();break;case ve.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case ve.SPRITE:this.popSpriteMask()}t.reset(),t.pooled&&this.maskDataPool.push(t)}},t.prototype.detect=function(e){var t=e.maskObject;if(t.isSprite)e.type=ve.SPRITE;else if(e.type=ve.STENCIL,this.enableScissor&&t.isFastRect&&t.isFastRect()){var n=t.worldTransform,r=Math.atan2(n.b,n.a),i=Math.atan2(n.d,n.c);r=Math.round(r*(180/Math.PI)*100),i=((i=Math.round(i*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0===(r=(r%9e3+9e3)%9e3)&&9e3===i&&(e.type=ve.SCISSOR)}},t.prototype.pushSpriteMask=function(e){var t=e.maskObject,n=e._target,r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Rr(t)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=t;var i=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,r),n.filterArea=i,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t}(Tn),Dr=function(e){function t(t){var n=e.call(this,t)||this;return n.maskStack=[],n.glConst=0,n}return sn(t,e),t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var r=this.getStackLength();r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.maskStack=null},t}(Tn),Nr=function(e){function t(t){var n=e.call(this,t)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return sn(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var n=e._scissorRect,r=t.getBounds(!0),i=this.renderer.gl;t.renderable=!1,n?r.fit(n):i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=r,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,n=this.renderer.projection,r=n.transform,i=n.sourceFrame,o=n.destinationFrame,a=t?t.resolution:this.renderer.resolution,s=(e.x-i.x)*a+o.x,l=(e.y-i.y)*a+o.y,u=e.width*a,c=e.height*a;r&&(s+=r.tx*a,l+=r.ty*a),t||(l=this.renderer.height-c-l),this.renderer.gl.scissor(s,l,u,c)},t}(Dr),jr=function(e){function t(t){var n=e.call(this,t)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return sn(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,n=this.renderer.gl,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),e._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,r,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(Dr),Br=function(e){function t(t){var n=e.call(this,t)||this;return n.destinationFrame=null,n.sourceFrame=null,n.defaultFrame=null,n.projectionMatrix=new St,n.transform=null,n}return sn(t,e),t.prototype.update=function(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,t,n,r){var i=this.projectionMatrix,o=r?-1:1;i.identity(),i.a=1/t.width*2,i.d=o*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-o-t.y*i.d},t.prototype.setTransform=function(e){},t}(Tn),Fr=new gt,Hr=new gt,zr=new gt,Ur=function(e){function t(t){var n=e.call(this,t)||this;return n.clearColor=t._backgroundColorRgba,n.defaultMaskStack=[],n.current=null,n.sourceFrame=new gt,n.destinationFrame=new gt,n}return sn(t,e),t.prototype.bind=function(e,t,n){void 0===e&&(e=null);var r,i,o,a=this.renderer;this.current=e,e?(o=(r=e.baseTexture).resolution,t||(Fr.width=e.frame.width,Fr.height=e.frame.height,t=Fr),n||(Hr.x=e.frame.x,Hr.y=e.frame.y,Hr.width=t.width,Hr.height=t.height,n=Hr),i=r.framebuffer):(o=a.resolution,t||(Fr.width=a.screen.width,Fr.height=a.screen.height,t=Fr),n||((n=Fr).width=t.width,n.height=t.height)),zr.x=n.x*o,zr.y=n.y*o,zr.width=n.width*o,zr.height=n.height*o,this.renderer.framebuffer.bind(i,zr),this.renderer.projection.update(n,t,o,!i),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t)},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(Tn),Vr=function(){},Gr=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},e}(),Xr=0,Yr={textureCount:0},Wr=function(e){function t(t){var n=e.call(this,t)||this;return n.destroyed=!1,n.systemCheck(),n.gl=null,n.shader=null,n.program=null,n.cache={},n.id=Xr++,n}return sn(t,e),t.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof xr)return xr;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");xr=!0===e({a:"b"},"a","b")}catch(t){xr=!1}return xr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(Yr.textureCount=0,this.syncUniformGroup(e.uniformGroup,Yr)),r},t.prototype.setUniforms=function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,t){var n=this.getglProgram();(!e.static||e.dirtyId!==n.uniformGroups[e.id])&&(n.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))},t.prototype.syncUniforms=function(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData);return this.cache[t]||(this.cache[t]=function(e,t){var n=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in e.uniforms){var i=t[r];if(i){for(var o=e.uniforms[r],a=!1,s=0;s<yr.length;s++)if(yr[s].test(i,o)){n.push(yr[s].code(r,o)),a=!0;break}if(!a){var l=(1===i.size?br:_r)[i.type].replace("location",'ud["'+r+'"].location');n.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+l+";")}}else e.uniforms[r].group&&n.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(e,t){var n=e.uniforms,r=[];for(var i in n)r.push(i),t[i]&&r.push(t[i].type);return r.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(e){var t=this.gl,n=e.program,r={};for(var i in n.attributeData)r[i]=n.attributeData[i].location;var o=or(t,n.vertexSrc,n.fragmentSrc,r),a={};for(var i in n.uniformData){var s=n.uniformData[i];a[i]={location:t.getUniformLocation(o,i),value:sr(s.type,s.size)}}var l=new Gr(o,a);return n.glPrograms[this.renderer.CONTEXT_UID]=l,l},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(Tn);var qr=function(e){function t(t){var n=e.call(this,t)||this;return n.gl=null,n.stateId=0,n.polygonOffset=0,n.blendMode=ie.NONE,n._blendEq=!1,n.map=[],n.map[0]=n.setBlend,n.map[1]=n.setOffset,n.map[2]=n.setCullFace,n.map[3]=n.setDepthTest,n.map[4]=n.setFrontFace,n.checks=[],n.defaultState=new Or,n.defaultState.blend=!0,n}return sn(t,e),t.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(e,t){return void 0===t&&(t=[]),t[ie.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.ADD]=[e.ONE,e.ONE],t[ie.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.NONE]=[0,0],t[ie.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[ie.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ie.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[ie.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[ie.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[ie.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[ie.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[ie.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[ie.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[ie.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[ie.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,t){var n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):!t&&-1!==n&&this.checks.splice(n,1)},t.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},t.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},t}(Tn),Kr=function(e){function t(t){var n=e.call(this,t)||this;return n.count=0,n.checkCount=0,n.maxIdle=z.GC_MAX_IDLE,n.checkCountMax=z.GC_MAX_CHECK_COUNT,n.mode=z.GC_MODE,n}return sn(t,e),t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==pe.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,n=!0)}if(n){var o=0;for(r=0;r<t.length;r++)null!==t[r]&&(t[o++]=t[r]);t.length=o}},t.prototype.unload=function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var r=e.children.length-1;r>=0;r--)this.unload(e.children[r])},t}(Tn),$r=function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Zr=function(e){function t(t){var n=e.call(this,t)||this;return n.boundTextures=[],n.currentLocation=-1,n.managedTextures=[],n._unknownBoundTextures=!1,n.unknownTexture=new hn,n}return sn(t,e),t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new $r(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new $r(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,t){void 0===t&&(t=0);var n=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var t=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<n.length;r++)n[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[r]=null)},t.prototype.initTexture=function(e){var t=new $r(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},t.prototype.initTextureType=function(e,t){if(t.internalFormat=e.format,t.type=e.type,2===this.webGLVersion){var n=this.renderer.gl;e.type===n.FLOAT&&e.format===n.RGBA&&(t.internalFormat=n.RGBA32F),e.type===le.HALF_FLOAT&&(t.type=n.HALF_FLOAT),t.type===n.HALF_FLOAT&&e.format===n.RGBA&&(t.internalFormat=n.RGBA16F)}},t.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var n=this.renderer;if(this.initTextureType(e,t),!e.resource||!e.resource.upload(n,e,t)){var r=e.realWidth,i=e.realHeight,o=n.gl;(t.width!==r||t.height!==i||t.dirtyId<0)&&(t.width=r,t.height=i,o.texImage2D(e.target,0,t.internalFormat,r,i,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,t){var n=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&Ze(this.managedTextures,r,1)}},t.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==he.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=ce.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,t){var n=this.gl;if(t.mipmap&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ue.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===ue.LINEAR){var i=Math.min(e.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ue.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ue.LINEAR?n.LINEAR:n.NEAREST)},t}(Tn),Qr={FilterSystem:Yn,BatchSystem:qn,ContextSystem:$n,FramebufferSystem:Jn,GeometrySystem:nr,MaskSystem:Lr,ScissorSystem:Nr,StencilSystem:jr,ProjectionSystem:Br,RenderTextureSystem:Ur,ShaderSystem:Wr,StateSystem:qr,TextureGCSystem:Kr,TextureSystem:Zr},Jr=new St,ei=function(e){function t(t,n){void 0===t&&(t=ne.UNKNOWN);var r=e.call(this)||this;return(n=Object.assign({},z.RENDER_OPTIONS,n)).roundPixels&&(z.ROUND_PIXELS=n.roundPixels,nt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),r.options=n,r.type=t,r.screen=new gt(0,0,n.width,n.height),r.view=n.view||document.createElement("canvas"),r.resolution=n.resolution||z.RESOLUTION,r.transparent=n.transparent,r.autoDensity=n.autoDensity||n.autoResize||!1,r.preserveDrawingBuffer=n.preserveDrawingBuffer,r.clearBeforeRender=n.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,0],r._backgroundColorString="#000000",r.backgroundColor=n.backgroundColor||r._backgroundColor,r._lastObjectRendered=null,r.plugins={},r}return sn(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=t+"px"),this.emit("resize",e,t)},t.prototype.generateTexture=function(e,t,n,r){0===(r=r||e.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var i=Pn.create({width:0|r.width,height:0|r.height,scaleMode:t,resolution:n});return Jr.tx=-r.x,Jr.ty=-r.y,this.render(e,i,!1,Jr,!!e.parent),i},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var n=this;n.plugins=null,n.type=ne.UNKNOWN,n.view=null,n.screen=null,n._tempDisplayObjectParent=null,n.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Be(e),je(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),t}(G),ti=function(e){function t(n){var r=e.call(this,ne.WEBGL,n)||this;return n=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new nn("destroy"),contextChange:new nn("contextChange"),reset:new nn("reset"),update:new nn("update"),postrender:new nn("postrender"),prerender:new nn("prerender"),resize:new nn("resize")},r.globalUniforms=new Gn({projectionMatrix:new St},!0),r.addSystem(Lr,"mask").addSystem($n,"context").addSystem(qr,"state").addSystem(Wr,"shader").addSystem(Zr,"texture").addSystem(nr,"geometry").addSystem(Jn,"framebuffer").addSystem(Nr,"scissor").addSystem(jr,"stencil").addSystem(Br,"projection").addSystem(Kr,"textureGC").addSystem(Yn,"filter").addSystem(Ur,"renderTexture").addSystem(qn,"batch"),r.initPlugins(t.__plugins),n.context?r.context.initFromContext(n.context):r.context.initFromOptions({alpha:!!r.transparent,antialias:n.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,De(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return sn(t,e),t.create=function(e){if(Ne())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.addSystem=function(e,t){t||(t=e.name);var n=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var r in this[t]=n,this.runners)this.runners[r].add(n);return this},t.prototype.render=function(e,t,n,r,i){if(this.renderingToScreen=!t,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(t||(this._lastObjectRendered=e),!i){var o=e.enableTempParent();e.updateTransform(),e.disableTempParent(o)}this.renderTexture.bind(t),this.batch.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),t&&t.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(t,n){e.prototype.resize.call(this,t,n),this.runners.resize.emit(t,n)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(t){for(var n in this.runners.destroy.emit(),this.runners)this.runners[n].destroy();e.prototype.destroy.call(this,t),this.gl=null},t.registerPlugin=function(e,n){t.__plugins=t.__plugins||{},t.__plugins[e]=n},t}(ei);function ni(e){return ti.create(e)}var ri="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ii="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",oi=function(){this.texArray=null,this.blend=0,this.type=oe.TRIANGLES,this.start=0,this.size=0,this.data=null},ai=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),si=function(){function e(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}(),li=function(e){function t(t){var n=e.call(this,t)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Or.for2d(),n.size=4*z.SPRITE_BATCH_SIZE,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),t.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return sn(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;z.PREFER_ENV===te.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),z.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Sr(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,n=t._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new oi);for(;n.length<i;)n.push(new ai);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,n=this.MAX_TEXTURES,r=t._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++hn._globalBatch,l=0,u=r[0],c=0;i.copyBoundTextures(o,n);for(var h=0;h<this._bufferSize;++h){var f=e[h];e[h]=null,f._batchEnabled!==s&&(u.count>=n&&(i.boundArray(u,o,s,n),this.buildDrawCalls(u,c,h),c=h,u=r[++l],++s),f._batchEnabled=s,f.touched=a,u.elements[u.count++]=f)}u.count>0&&(i.boundArray(u,o,s,n),this.buildDrawCalls(u,c,this._bufferSize),++l,++s);for(h=0;h<o.length;h++)o[h]=null;hn._globalBatch=s},t.prototype.buildDrawCalls=function(e,n,r){var i=this,o=i._bufferedElements,a=i._attributeBuffer,s=i._indexBuffer,l=i.vertexSize,u=t._drawCallPool,c=this._dcIndex,h=this._aIndex,f=this._iIndex,d=u[c];d.start=this._iIndex,d.texArray=e;for(var p=n;p<r;++p){var m=o[p],v=m._texture.baseTexture,g=He[v.alphaMode?1:0][m.blendMode];o[p]=null,n<p&&d.blend!==g&&(d.size=f-d.start,n=p,(d=u[++c]).texArray=e,d.start=f),this.packInterleavedGeometry(m,a,s,h,f),h+=m.vertexData.length/2*l,f+=m.indices.length,d.blend=g}n<r&&(d.size=f-d.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=f},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,n=e._attributeBuffer,r=e._indexBuffer;z.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,r=n.gl,i=n.state,o=t._drawCallPool,a=null,s=0;s<e;s++){var l=o[s],u=l.texArray,c=l.type,h=l.size,f=l.start,d=l.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,i.set(this.state),r.drawElements(c,h,r.UNSIGNED_SHORT,2*f)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),z.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=qe(Math.ceil(e/8)),n=$e(t),r=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new si(r*this.vertexSize*4)),i},t.prototype.getIndexBuffer=function(e){var t=qe(Math.ceil(e/12)),n=$e(t),r=12*t;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i},t.prototype.packInterleavedGeometry=function(e,t,n,r,i){for(var o=t.uint32View,a=t.float32View,s=r/this.vertexSize,l=e.uvs,u=e.indices,c=e.vertexData,h=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),d=f<1&&e._texture.baseTexture.alphaMode?Ve(e._tintRGB,f):e._tintRGB+(255*f<<24),p=0;p<c.length;p+=2)a[r++]=c[p],a[r++]=c[p+1],a[r++]=l[p],a[r++]=l[p+1],o[r++]=d,a[r++]=h;for(p=0;p<u.length;p++)n[i++]=s+u[p]},t._drawCallPool=[],t._textureArrayPool=[],t}(Wn),ui=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=Gn.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Cr(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new St,default:this.defaultGroupCache[e]};return new Ar(this.programCache[e],i)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+="if(vTextureId < "+n+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"},e}(),ci=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n._buffer=new Ln(null,t,!1),n._indexBuffer=new Ln(null,t,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,le.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,le.FLOAT).addAttribute("aColor",n._buffer,4,!0,le.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,le.FLOAT).addIndex(n._indexBuffer),n}return sn(t,e),t}(Hn),hi="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",fi="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",di=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:hi,fragment:fi,geometryClass:ci,vertexSize:6},e),n=t.vertex,r=t.fragment,i=t.vertexSize,o=t.geometryClass;return function(e){function t(t){var a=e.call(this,t)||this;return a.shaderGenerator=new ui(n,r),a.geometryClass=o,a.vertexSize=i,a}return sn(t,e),t}(li)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return hi},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return fi},enumerable:!1,configurable:!0}),e}(),pi=di.create(),mi=function(){function e(t){var n=this;t=Object.assign({forceCanvas:!1},t),this.renderer=ni(t),this.stage=new Ht,e._plugins.forEach((function(e){e.init.call(n,t)}))}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,n){var r=this,i=e._plugins.slice(0);i.reverse(),i.forEach((function(e){e.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null},e}();mi._plugins=[];var vi=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){window.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,n;if(t.cancelResize(),t._resizeTo===window)e=window.innerWidth,n=window.innerHeight;else{var r=t._resizeTo;e=r.clientWidth,n=r.clientHeight}t.renderer.resize(e,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();mi.registerPlugin(vi);var gi=new gt,yi=function(){function e(e){this.renderer=e,e.extract=this}return e.prototype.image=function(e,t,n){var r=new Image;return r.src=this.base64(e,t,n),r},e.prototype.base64=function(e,t,n){return this.canvas(e).toDataURL(t,n)},e.prototype.canvas=function(t){var n,r,i,o=this.renderer,a=!1,s=!1;t&&(t instanceof Pn?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(n=i.baseTexture.resolution,r=i.frame,a=!1,o.renderTexture.bind(i)):(n=this.renderer.resolution,a=!0,(r=gi).width=this.renderer.width,r.height=this.renderer.height,o.renderTexture.bind(null));var l=Math.floor(r.width*n+1e-4),u=Math.floor(r.height*n+1e-4),c=new at(l,u,1),h=new Uint8Array(4*l*u),f=o.gl;f.readPixels(r.x*n,r.y*n,l,u,f.RGBA,f.UNSIGNED_BYTE,h);var d=c.context.getImageData(0,0,l,u);if(e.arrayPostDivide(h,d.data),c.context.putImageData(d,0,0),a){var p=new at(c.width,c.height,1);p.context.scale(1,-1),p.context.drawImage(c.canvas,0,-u),c.destroy(),c=p}return s&&i.destroy(!0),c.canvas},e.prototype.pixels=function(t){var n,r,i,o=this.renderer,a=!1;t&&(t instanceof Pn?i=t:(i=this.renderer.generateTexture(t),a=!0)),i?(n=i.baseTexture.resolution,r=i.frame,o.renderTexture.bind(i)):(n=o.resolution,(r=gi).width=o.width,r.height=o.height,o.renderTexture.bind(null));var s=r.width*n,l=r.height*n,u=new Uint8Array(4*s*l),c=o.gl;return c.readPixels(r.x*n,r.y*n,s,l,c.RGBA,c.UNSIGNED_BYTE,u),a&&i.destroy(!0),e.arrayPostDivide(u,u),u},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e.arrayPostDivide=function(e,t){for(var n=0;n<e.length;n+=4){var r=t[n+3]=e[n+3];0!==r?(t[n]=Math.round(Math.min(255*e[n]/r,255)),t[n+1]=Math.round(Math.min(255*e[n+1]/r,255)),t[n+2]=Math.round(Math.min(255*e[n+2]/r,255))):(t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2])}},e}(),bi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(e,t,r){t&&(i[n.q.name][t]=r)})),i}},_i=(0,u.g)(bi),xi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;(0,o.Z)(this,e),this._fn=t,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return(0,a.Z)(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}();function Ti(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var wi=function(){function e(){(0,o.Z)(this,e),this._head=this._tail=void 0}return(0,a.Z)(e,[{key:"handlers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._head;if(e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n}},{key:"has",value:function(e){if(!(e instanceof xi))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return Ti(this,new xi(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return Ti(this,new xi(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof xi))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();function Si(){}function Ei(e,t,n,r){var i=0,o=e.length;!function a(s){s||i===o?n&&n(s):r?setTimeout((function(){t(e[i++],a)}),1):t(e[i++],a)}()}function ki(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}var Ci={};function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t,n){return t&&Ai(e.prototype,t),n&&Ai(e,n),e}var Pi=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Mi=null;function Ii(){}var Ri=function(){function e(t,n,r){if("string"!=typeof t||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=t,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Ii,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new wi,this.onProgress=new wi,this.onComplete=new wi,this.onAfterMiddleware=new wi}e.setExtensionLoadType=function(t,n){Li(e._loadTypeMap,t,n)},e.setExtensionXhrType=function(t,n){Li(e._xhrTypeMap,t,n)};var t=e.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var n=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout((function(){return t(n)}),1));switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:Pi&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t._hasFlag=function(e){return 0!==(this._flags&e)},t._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},t._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},t._createSource=function(e,t,n){n||(n=e+"/"+this._getExtension(t));var r=document.createElement("source");return r.src=t,r.type=n,r},t._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var e=this.xhr;this.abort(Di(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t._xhrOnTimeout=function(){var e=this.xhr;this.abort(Di(e)+" Request timed out.")},t._xhrOnAbort=function(){var e=this.xhr;this.abort(Di(e)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t=this.xhr,n="",r="undefined"==typeof t.status?200:t.status;if((""===t.responseType||"text"===t.responseType||"undefined"==typeof t.responseType)&&(n=t.responseText),0===r&&(n.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=e.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var o=document.createElement("div");o.innerHTML=n,this.data=o}this.type=e.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=t.response||n;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},t._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,Mi||(Mi=document.createElement("a")),Mi.href=e;var n=!(e=_i(Mi.href,{strictMode:!0})).port&&""===t.port||e.port===t.port,r=e.protocol?e.protocol+":":"";return e.host===t.hostname&&n&&r===t.protocol?"":"anonymous"},t._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},t._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var r=e.indexOf("?"),i=e.indexOf("#"),o=Math.min(r>-1?r:e.length,i>-1?i:e.length);t=(e=e.substring(0,o)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Oi(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();function Li(e,t,n){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=n)}function Di(e){return e.toString().replace("object ","")}Ri.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Ri.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Ri.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Ri.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Ri._loadTypeMap={gif:Ri.LOAD_TYPE.IMAGE,png:Ri.LOAD_TYPE.IMAGE,bmp:Ri.LOAD_TYPE.IMAGE,jpg:Ri.LOAD_TYPE.IMAGE,jpeg:Ri.LOAD_TYPE.IMAGE,tif:Ri.LOAD_TYPE.IMAGE,tiff:Ri.LOAD_TYPE.IMAGE,webp:Ri.LOAD_TYPE.IMAGE,tga:Ri.LOAD_TYPE.IMAGE,svg:Ri.LOAD_TYPE.IMAGE,"svg+xml":Ri.LOAD_TYPE.IMAGE,mp3:Ri.LOAD_TYPE.AUDIO,ogg:Ri.LOAD_TYPE.AUDIO,wav:Ri.LOAD_TYPE.AUDIO,mp4:Ri.LOAD_TYPE.VIDEO,webm:Ri.LOAD_TYPE.VIDEO},Ri._xhrTypeMap={xhtml:Ri.XHR_RESPONSE_TYPE.DOCUMENT,html:Ri.XHR_RESPONSE_TYPE.DOCUMENT,htm:Ri.XHR_RESPONSE_TYPE.DOCUMENT,xml:Ri.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Ri.XHR_RESPONSE_TYPE.DOCUMENT,svg:Ri.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Ri.XHR_RESPONSE_TYPE.DOCUMENT,gif:Ri.XHR_RESPONSE_TYPE.BLOB,png:Ri.XHR_RESPONSE_TYPE.BLOB,bmp:Ri.XHR_RESPONSE_TYPE.BLOB,jpg:Ri.XHR_RESPONSE_TYPE.BLOB,jpeg:Ri.XHR_RESPONSE_TYPE.BLOB,tif:Ri.XHR_RESPONSE_TYPE.BLOB,tiff:Ri.XHR_RESPONSE_TYPE.BLOB,webp:Ri.XHR_RESPONSE_TYPE.BLOB,tga:Ri.XHR_RESPONSE_TYPE.BLOB,json:Ri.XHR_RESPONSE_TYPE.JSON,text:Ri.XHR_RESPONSE_TYPE.TEXT,txt:Ri.XHR_RESPONSE_TYPE.TEXT,ttf:Ri.XHR_RESPONSE_TYPE.BUFFER,otf:Ri.XHR_RESPONSE_TYPE.BUFFER},Ri.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var ji=window.URL||window.webkitURL;var Bi={caching:function(e,t){var n=this;Ci[e.url]?(e.data=Ci[e.url],e.complete()):e.onComplete.once((function(){return Ci[n.url]=n.data})),t()},parsing:function(e,t){if(e.data){if(e.xhr&&e.xhrType===Ri.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var n=ji.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=n,e.type=Ri.TYPE.IMAGE,void(e.data.onload=function(){ji.revokeObjectURL(n),e.data.onload=null,t()})}}else{var r=e.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return e.data=new Image,e.data.src="data:"+r+";base64,"+function(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=255&e.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var a=0;a<i.length;++a)t+=Ni.charAt(i[a])}return t}(e.xhr.responseText),e.type=Ri.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}},Fi=/(#[\w-]+)?$/,Hi=function(){function e(t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return r._loadResource(e,t)},this._queue=function(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=0,r={_tasks:[],concurrency:t,saturated:Si,unsaturated:Si,buffer:t/4,empty:Si,drain:Si,error:Si,started:!1,paused:!1,push:function(e,t){i(e,!1,t)},kill:function(){n=0,r.drain=Si,r.started=!1,r._tasks=[]},unshift:function(e,t){i(e,!0,t)},process:function(){for(;!r.paused&&n<r.concurrency&&r._tasks.length;){var t=r._tasks.shift();0===r._tasks.length&&r.empty(),(n+=1)===r.concurrency&&r.saturated(),e(t.data,ki(o(t)))}},length:function(){return r._tasks.length},running:function(){return n},idle:function(){return r._tasks.length+n===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var e=1;e<=r.concurrency;e++)r.process()}}};function i(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,null==e&&r.idle())setTimeout((function(){return r.drain()}),1);else{var i={data:e,callback:"function"==typeof n?n:Si};t?r._tasks.unshift(i):r._tasks.push(i),setTimeout((function(){return r.process()}),1)}}function o(e){return function(){n-=1,e.callback.apply(e,arguments),null!=arguments[0]&&r.error(arguments[0],e.data),n<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new wi,this.onError=new wi,this.onLoad=new wi,this.onStart=new wi,this.onComplete=new wi;for(var i=0;i<e._defaultBeforeMiddleware.length;++i)this.pre(e._defaultBeforeMiddleware[i]);for(var o=0;o<e._defaultAfterMiddleware.length;++o)this.use(e._defaultAfterMiddleware[o])}var t=e.prototype;return t.add=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"==typeof e&&(r=t||e.callback||e.onComplete,n=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(r=n,n=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new Ri(e,t,n),"function"==typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var o=n.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var l=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[e]),o.progressChunk=l;for(var u=0;u<a.length;++u)a[u].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.pre=function(e){return this._beforeMiddleware.push(e),this},t.use=function(e){return this._afterMiddleware.push(e),this},t.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},t.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(e){var t,n=_i(e,{strictMode:!0});if(t=n.protocol||!n.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var r=Fi.exec(t)[0];-1!==(t=t.substr(0,t.length-r.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=r}return t},t._loadResource=function(e,t){var n=this;e._dequeue=t,Ei(this._beforeMiddleware,(function(t,r){t.call(n,e,(function(){r(e.isComplete?{}:null)}))}),(function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())}),!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Ei(this._afterMiddleware,(function(n,r){n.call(t,e,r)}),(function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(100,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()}),!0)},Oi(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),e}();Hi._defaultBeforeMiddleware=[],Hi._defaultAfterMiddleware=[],Hi.pre=function(e){return Hi._defaultBeforeMiddleware.push(e),Hi},Hi.use=function(e){return Hi._defaultAfterMiddleware.push(e),Hi};var zi=Ri,Ui=function(e,t){return(Ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var Vi=function(){function e(){}return e.use=function(e,t){e.data&&e.type===Ri.TYPE.IMAGE&&(e.texture=An.fromLoader(e.data,e.url,e.name)),t()},e}(),Gi=function(e){function t(n,r){for(var i=e.call(this,n,r)||this,o=0;o<t._plugins.length;++o){var a=t._plugins[o],s=a.pre,l=a.use;s&&i.pre(s),l&&i.use(l)}return i._protected=!1,i}return function(e,t){function n(){this.constructor=e}Ui(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}(Hi);Gi.registerPlugin({use:Bi.parsing}),Gi.registerPlugin(Vi);var Xi=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Gi.shared:new Gi},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),Yi=function(e,t){return(Yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Wi(e,t){function n(){this.constructor=e}Yi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var qi,Ki,$i=function(e){function t(t,n,r,i){void 0===t&&(t=1500),void 0===r&&(r=16384),void 0===i&&(i=!1);var o=e.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=t,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=ie.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return Wi(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,je(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(Ht),Zi=function(){function e(e,t,n){this.geometry=new Hn,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;++r){var i=e[r];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||le.FLOAT,offset:i.offset},t[r]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new Ln(Xe(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){(a=this.dynamicProperties[n]).offset=t,t+=a.size,this.dynamicStride+=a.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Ln(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(n=0;n<this.staticProperties.length;++n){(a=this.staticProperties[n]).offset=i,i+=a.size,this.staticStride+=a.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Ln(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n){var a=this.dynamicProperties[n];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===le.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(n=0;n<this.staticProperties.length;++n){a=this.staticProperties[n];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===le.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}},e.prototype.uploadDynamic=function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===le.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===le.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),Qi=function(e){function t(t){var n=e.call(this,t)||this;return n.shader=null,n.properties=null,n.tempMatrix=new St,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:le.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Ar.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),n.state=Or.for2d(),n}return Wi(t,e),t.prototype.render=function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,o=t.length;if(0!==o){o>n&&!e.autoResize&&(o=n);var a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));var s=t[0]._texture.baseTexture;this.state.blendMode=ze(e.blendMode,s.alphaMode),i.state.set(this.state);var l=i.gl,u=e.worldTransform.copyTo(this.tempMatrix);u.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=Ue(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var c=!1,h=0,f=0;h<o;h+=r,f+=1){var d=o-h;d>r&&(d=r),f>=a.length&&a.push(this._generateOneMoreBuffer(e));var p=a[f];p.uploadDynamic(t,h,d);var m=e._bufferUpdateIDs[f]||0;(c=c||p._updateID<m)&&(p._updateID=e._updateID,p.uploadStatic(t,h,d)),i.geometry.bind(p.geometry),l.drawElements(l.TRIANGLES,6*d,l.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],n=e._maxSize,r=e._batchSize,i=e._properties,o=0;o<n;o+=r)t.push(new Zi(this.properties,i,r));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,n=e._properties;return new Zi(this.properties,n,t)},t.prototype.uploadVertices=function(e,t,n,r,i,o){for(var a=0,s=0,l=0,u=0,c=0;c<n;++c){var h=e[t+c],f=h._texture,d=h.scale.x,p=h.scale.y,m=f.trim,v=f.orig;m?(a=(s=m.x-h.anchor.x*v.width)+m.width,l=(u=m.y-h.anchor.y*v.height)+m.height):(a=v.width*(1-h.anchor.x),s=v.width*-h.anchor.x,l=v.height*(1-h.anchor.y),u=v.height*-h.anchor.y),r[o]=s*d,r[o+1]=u*p,r[o+i]=a*d,r[o+i+1]=u*p,r[o+2*i]=a*d,r[o+2*i+1]=l*p,r[o+3*i]=s*d,r[o+3*i+1]=l*p,o+=4*i}},t.prototype.uploadPosition=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},t.prototype.uploadRotation=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},t.prototype.uploadUvs=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},t.prototype.uploadTint=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a],l=s._texture.baseTexture.alphaMode>0,u=s.alpha,c=u<1&&l?Ve(s._tintRGB,u):s._tintRGB+(255*u<<24);r[o]=c,r[o+i]=c,r[o+2*i]=c,r[o+3*i]=c,o+=4*i}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(Wn);!function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"}(qi||(qi={})),function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"}(Ki||(Ki={}));var Ji={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},eo=function(){function e(){this.color=16777215,this.alpha=1,this.texture=An.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=An.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),to=function(e,t){return(to=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function no(e,t){function n(){this.constructor=e}to(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ro={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,o=t.indices;if(n.length>=6){for(var a=[],s=0;s<r.length;s++){var l=r[s];a.push(n.length/2),n=n.concat(l.points)}var c=(0,u.e)(n,a,2);if(!c)return;var h=i.length/2;for(s=0;s<c.length;s+=3)o.push(c[s]+h),o.push(c[s+1]+h),o.push(c[s+2]+h);for(s=0;s<n.length;s++)i.push(n[s])}}},io={build:function(e){var t,n,r=e.shape,i=e.points,o=r.x,a=r.y;if(i.length=0,e.type===ft.CIRC)t=r.radius,n=r.radius;else{var s=e.shape;t=s.width,n=s.height}if(0!==t&&0!==n){var l=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(t+n));l/=2.3;for(var u=2*Math.PI/l,c=0;c<l-.5;c++)i.push(o+Math.sin(-u*c)*t,a+Math.cos(-u*c)*n);i.push(i[0],i[1])}},triangulate:function(e,t){var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=o,s=e.shape,l=e.matrix,u=s.x,c=s.y;r.push(e.matrix?l.a*u+l.c*c+l.tx:u,e.matrix?l.b*u+l.d*c+l.ty:c);for(var h=0;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(o++,a,o)}},oo={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(n,r,n+i,r,n+i,r+o,n,r+o)},triangulate:function(e,t){var n=e.points,r=t.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function ao(e,t,n){return e+(t-e)*n}function so(e,t,n,r,i,o,a){void 0===a&&(a=[]);for(var s=a,l=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0;p<=20;++p)l=ao(e,n,m=p/20),u=ao(t,r,m),c=ao(n,i,m),h=ao(r,o,m),f=ao(l,c,m),d=ao(u,h,m),s.push(f,d);return s}var lo={build:function(e){var t=e.shape,n=e.points,r=t.x,i=t.y,o=t.width,a=t.height,s=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));n.length=0,s?(so(r,i+s,r,i,r+s,i,n),so(r+o-s,i,r+o,i,r+o,i+s,n),so(r+o,i+a-s,r+o,i+a,r+o-s,i+a,n),so(r+s,i+a,r,i+a,r,i+a-s,n)):n.push(r,i,r+o,i,r+o,i+a,r,i+a)},triangulate:function(e,t){for(var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=(0,u.e)(n,null,2),s=0,l=a.length;s<l;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(s=0,l=n.length;s<l;s++)r.push(n[s],n[++s])}};function uo(e,t,n,r,i,o,a,s){var l,u;a?(l=r,u=-n):(l=-r,u=n);var c=e-n*i+l,h=t-r*i+u,f=e+n*o+l,d=t+r*o+u;return s.push(c,h),s.push(f,d),2}function co(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=Math.atan2(l,u),h=Math.atan2(i-e,o-t);s&&c<h?c+=2*Math.PI:!s&&c>h&&(h+=2*Math.PI);var f=c,d=h-c,p=Math.abs(d),m=Math.sqrt(l*l+u*u),v=1+(15*p*Math.sqrt(m)/Math.PI>>0),g=d/v;if(f+=g,s){a.push(e,t),a.push(n,r);for(var y=1,b=f;y<v;y++,b+=g)a.push(e,t),a.push(e+Math.sin(b)*m,t+Math.cos(b)*m);a.push(e,t),a.push(i,o)}else{a.push(n,r),a.push(e,t);for(y=1,b=f;y<v;y++,b+=g)a.push(e+Math.sin(b)*m,t+Math.cos(b)*m),a.push(e,t);a.push(i,o),a.push(e,t)}return 2*v}function ho(e,t){e.lineStyle.native?function(e,t){var n=0,r=e.shape,i=e.points||r.points,o=r.type!==ft.POLY||r.closeStroke;if(0!==i.length){var a=t.points,s=t.indices,l=i.length/2,u=a.length/2,c=u;for(a.push(i[0],i[1]),n=1;n<l;n++)a.push(i[2*n],i[2*n+1]),s.push(c,c+1),c++;o&&s.push(c,u)}}(e,t):function(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(0!==r.length){var o=e.lineStyle,a=new Tt(r[0],r[1]),s=new Tt(r[r.length-2],r[r.length-1]),l=n.type!==ft.POLY||n.closeStroke,u=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var c=.5*(a.x+s.x),h=.5*(s.y+a.y);r.unshift(c,h),r.push(c,h)}var f=t.points,d=r.length/2,p=r.length,m=f.length/2,v=o.width/2,g=v*v,y=o.miterLimit*o.miterLimit,b=r[0],_=r[1],x=r[2],T=r[3],w=0,S=0,E=-(_-T),k=b-x,C=0,A=0,O=Math.sqrt(E*E+k*k);E/=O,k/=O,E*=v,k*=v;var P=o.alignment,M=2*(1-P),I=2*P;l||(o.cap===Ki.ROUND?p+=co(b-E*(M-I)*.5,_-k*(M-I)*.5,b-E*M,_-k*M,b+E*I,_+k*I,f,!0)+2:o.cap===Ki.SQUARE&&(p+=uo(b,_,E,k,M,I,!0,f))),f.push(b-E*M,_-k*M),f.push(b+E*I,_+k*I);for(var R=1;R<d-1;++R){b=r[2*(R-1)],_=r[2*(R-1)+1],x=r[2*R],T=r[2*R+1],w=r[2*(R+1)],S=r[2*(R+1)+1],E=-(_-T),k=b-x,E/=O=Math.sqrt(E*E+k*k),k/=O,E*=v,k*=v,C=-(T-S),A=x-w,C/=O=Math.sqrt(C*C+A*A),A/=O,C*=v,A*=v;var L=x-b,D=_-T,N=x-w,j=S-T,B=D*N-j*L,F=B<0;if(Math.abs(B)<.1)f.push(x-E*M,T-k*M),f.push(x+E*I,T+k*I);else{var H=(-E+b)*(-k+T)-(-E+x)*(-k+_),z=(-C+w)*(-A+T)-(-C+x)*(-A+S),U=(L*z-N*H)/B,V=(j*H-D*z)/B,G=(U-x)*(U-x)+(V-T)*(V-T),X=x+(U-x)*M,Y=T+(V-T)*M,W=x-(U-x)*I,q=T-(V-T)*I,K=F?M:I;G<=Math.min(L*L+D*D,N*N+j*j)+K*K*g?o.join===qi.BEVEL||G/g>y?(F?(f.push(X,Y),f.push(x+E*I,T+k*I),f.push(X,Y),f.push(x+C*I,T+A*I)):(f.push(x-E*M,T-k*M),f.push(W,q),f.push(x-C*M,T-A*M),f.push(W,q)),p+=2):o.join===qi.ROUND?F?(f.push(X,Y),f.push(x+E*I,T+k*I),p+=co(x,T,x+E*I,T+k*I,x+C*I,T+A*I,f,!0)+4,f.push(X,Y),f.push(x+C*I,T+A*I)):(f.push(x-E*M,T-k*M),f.push(W,q),p+=co(x,T,x-E*M,T-k*M,x-C*M,T-A*M,f,!1)+4,f.push(x-C*M,T-A*M),f.push(W,q)):(f.push(X,Y),f.push(W,q)):(f.push(x-E*M,T-k*M),f.push(x+E*I,T+k*I),o.join===qi.BEVEL||G/g>y||(o.join===qi.ROUND?p+=F?co(x,T,x+E*I,T+k*I,x+C*I,T+A*I,f,!0)+2:co(x,T,x-E*M,T-k*M,x-C*M,T-A*M,f,!1)+2:(F?(f.push(W,q),f.push(W,q)):(f.push(X,Y),f.push(X,Y)),p+=2)),f.push(x-C*M,T-A*M),f.push(x+C*I,T+A*I),p+=2)}}b=r[2*(d-2)],_=r[2*(d-2)+1],x=r[2*(d-1)],E=-(_-(T=r[2*(d-1)+1])),k=b-x,E/=O=Math.sqrt(E*E+k*k),k/=O,E*=v,k*=v,f.push(x-E*M,T-k*M),f.push(x+E*I,T+k*I),l||(o.cap===Ki.ROUND?p+=co(x-E*(M-I)*.5,T-k*(M-I)*.5,x-E*M,T-k*M,x+E*I,T+k*I,f,!1)+2:o.cap===Ki.SQUARE&&(p+=uo(x,T,E,k,M,I,!1,f)));var $=t.indices,Z=Ji.epsilon*Ji.epsilon;for(R=m;R<p+m-2;++R)b=f[2*R],_=f[2*R+1],x=f[2*(R+1)],T=f[2*(R+1)+1],w=f[2*(R+2)],S=f[2*(R+2)+1],!(Math.abs(b*(T-S)+x*(S-_)+w*(_-T))<Z)&&$.push(R,R+1,R+2)}}(e,t)}var fo,po=function(e){function t(t,n,r,i,o,a){void 0===a&&(a=0);o=o||i/2;for(var s=-1*Math.PI/2+a,l=2*r,u=pt/l,c=[],h=0;h<l;h++){var f=h%2?o:i,d=h*u+s;c.push(t+f*Math.cos(d),n+f*Math.sin(d))}return e.call(this,c)||this}return no(t,e),t}(_t),mo=function(){function e(){}return e.curveTo=function(e,t,n,r,i,o){var a=o[o.length-2],s=o[o.length-1]-t,l=a-e,u=r-t,c=n-e,h=Math.abs(s*c-l*u);if(h<1e-8||0===i)return(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t),null;var f=s*s+l*l,d=u*u+c*c,p=s*u+l*c,m=i*Math.sqrt(f)/h,v=i*Math.sqrt(d)/h,g=m*p/f,y=v*p/d,b=m*c+v*l,_=m*u+v*s,x=l*(v+g),T=s*(v+g),w=c*(m+y),S=u*(m+y);return{cx:b+e,cy:_+t,radius:i,startAngle:Math.atan2(T-_,x-b),endAngle:Math.atan2(S-_,w-b),anticlockwise:l*u>c*s}},e.arc=function(e,t,n,r,i,o,a,s,l){for(var u=a-o,c=Ji._segmentsCount(Math.abs(u)*i,40*Math.ceil(Math.abs(u)/pt)),h=u/(2*c),f=2*h,d=Math.cos(h),p=Math.sin(h),m=c-1,v=m%1/m,g=0;g<=m;++g){var y=h+o+f*(g+v*g),b=Math.cos(y),_=-Math.sin(y);l.push((d*b+p*_)*i+n,(d*-_+p*b)*i+r)}},e}(),vo=function(){function e(){}return e.curveLength=function(e,t,n,r,i,o,a,s){for(var l=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0,v=0,g=0,y=0,b=e,_=t,x=1;x<=10;++x)g=b-(m=(p=(d=(f=1-(u=x/10))*f)*f)*e+3*d*u*n+3*f*(c=u*u)*i+(h=c*u)*a),y=_-(v=p*t+3*d*u*r+3*f*c*o+h*s),b=m,_=v,l+=Math.sqrt(g*g+y*y);return l},e.curveTo=function(t,n,r,i,o,a,s){var l=s[s.length-2],u=s[s.length-1];s.length-=2;var c=Ji._segmentsCount(e.curveLength(l,u,t,n,r,i,o,a)),h=0,f=0,d=0,p=0,m=0;s.push(l,u);for(var v=1,g=0;v<=c;++v)d=(f=(h=1-(g=v/c))*h)*h,m=(p=g*g)*g,s.push(d*l+3*f*g*t+3*h*p*r+m*o,d*u+3*f*g*n+3*h*p*i+m*a)},e}(),go=function(){function e(){}return e.curveLength=function(e,t,n,r,i,o){var a=e-2*n+i,s=t-2*r+o,l=2*n-2*e,u=2*r-2*t,c=4*(a*a+s*s),h=4*(a*l+s*u),f=l*l+u*u,d=2*Math.sqrt(c+h+f),p=Math.sqrt(c),m=2*c*p,v=2*Math.sqrt(f),g=h/p;return(m*d+p*h*(d-v)+(4*f*c-h*h)*Math.log((2*p+g+d)/(g+v)))/(4*m)},e.curveTo=function(t,n,r,i,o){for(var a=o[o.length-2],s=o[o.length-1],l=Ji._segmentsCount(e.curveLength(a,s,t,n,r,i)),u=0,c=0,h=1;h<=l;++h){var f=h/l;u=a+(t-a)*f,c=s+(n-s)*f,o.push(u+(t+(r-t)*f-u)*f,c+(n+(i-n)*f-c)*f)}},e}(),yo=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),bo=((fo={})[ft.POLY]=ro,fo[ft.CIRC]=io,fo[ft.ELIP]=io,fo[ft.RECT]=oo,fo[ft.RREC]=lo,fo),_o=[],xo=[],To={buildPoly:ro,buildCircle:io,buildRectangle:oo,buildRoundedRectangle:lo,FILL_COMMANDS:bo,BATCH_POOL:_o,DRAW_CALL_POOL:xo,buildLine:ho,Star:po,ArcUtils:mo,BezierUtils:vo,QuadraticUtils:go,BatchPart:yo},wo=function(){function e(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=r,this.type=e.type,this.points=[],this.holes=[]}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),So=new Tt,Eo=new Lt,ko=function(e){function t(){var t=e.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new Lt,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}return no(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),xo.push(this.drawCalls[e]);this.drawCalls.length=0;for(e=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),_o.push(t)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=new wo(e,t,n,r);return this.graphicsData.push(i),this.dirty++,this},t.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var n=new wo(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var r=t[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(e,So):So.copyFrom(e),r.shape.contains(So.x,So.y))){var i=!1;if(r.holes)for(var o=0;o<r.holes.length;o++){if(r.holes[o].shape.contains(So.x,So.y)){i=!0;break}}if(!i)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,n=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var a=n[o],s=a.fillStyle,l=a.lineStyle;bo[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var u=0;u<2;u++){var c=0===u?s:l;if(c.visible){var h=c.texture.baseTexture,f=this.indices.length,d=this.points.length/2;h.wrapMode=ce.REPEAT,0===u?this.processFill(a):this.processLine(a);var p=this.points.length/2-d;0!==p&&(r&&!this._compareStyles(i,c)&&(r.end(f,d),r=null),r||((r=_o.pop()||new yo).begin(c,f,d),this.batches.push(r),i=c),this.addUvs(this.points,t,c.texture,d,p,c.matrix))}}}var m=this.indices.length,v=this.points.length/2;if(r&&r.end(m,v),0===this.batches.length)return void(this.batchable=!0);if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var g=v>65535&&e;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},t.prototype._compareStyles=function(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var r=e[t],i=0;i<r.size;i++){var o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++hn._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),xo.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=xo.pop();i||((i=new oi).texArray=new ai),i.texArray.count=0,i.start=0,i.size=0,i.type=oe.TRIANGLES;var o=0,a=null,s=0,l=!1,u=oe.TRIANGLES,c=0;this.drawCalls.push(i);for(t=0;t<this.batches.length;t++){var h=this.batches[t],f=h.style,d=f.texture.baseTexture;l!==!!f.native&&(u=(l=!!f.native)?oe.LINES:oe.TRIANGLES,a=null,o=8,e++),a!==d&&(a=d,d._batchEnabled!==e&&(8===o&&(e++,o=0,i.size>0&&((i=xo.pop())||((i=new oi).texArray=new ai),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=u),d.touched=1,d._batchEnabled=e,d._batchLocation=o,d.wrapMode=10497,i.texArray.elements[i.texArray.count++]=d,o++)),i.size+=h.size,c+=h.size,s=d._batchLocation,this.addColors(n,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(r,s,h.attribSize,h.attribStart)}hn._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,l=0;l<e.length/2;l++)o[s++]=e[2*l],o[s++]=e[2*l+1],o[s++]=t[2*l],o[s++]=t[2*l+1],a[s++]=n[l],o[s++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),ro.triangulate(e,this)):bo[e.type].triangulate(e,this)},t.prototype.processLine=function(e){ho(e,this);for(var t=0;t<e.holes.length;t++)ho(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var n=e[t];bo[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,t=Eo,n=St.IDENTITY;this._bounds.clear(),t.clear();for(var r=0;r<this.graphicsData.length;r++){var i=this.graphicsData[r],o=i.shape,a=i.type,s=i.lineStyle,l=i.matrix||St.IDENTITY,u=0;if(s&&s.visible){var c=s.alignment;u=s.width,a===ft.POLY?u*=.5+Math.abs(.5-c):u*=Math.max(0,c)}if(n!==l&&(t.isEmpty()||(e.addBoundsMatrix(t,n),t.clear()),n=l),a===ft.RECT||a===ft.RREC){var h=o;t.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,u,u)}else if(a===ft.CIRC){var f=o;t.addFramePad(f.x,f.y,f.x,f.y,f.radius+u,f.radius+u)}else if(a===ft.ELIP){var d=o;t.addFramePad(d.x,d.y,d.x,d.y,d.width+u,d.height+u)}else{var p=o;e.addVerticesMatrix(n,p.points,0,p.points.length,u,u)}}t.isEmpty()||e.addBoundsMatrix(t,n),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var n=0;n<e.length/2;n++){var r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}},t.prototype.addColors=function(e,t,n,r,i){void 0===i&&(i=0);var o=Ve((t>>16)+(65280&t)+((255&t)<<16),n);e.length=Math.max(e.length,i+r);for(var a=0;a<r;a++)e[i+a]=o},t.prototype.addTextureIds=function(e,t,n,r){void 0===r&&(r=0),e.length=Math.max(e.length,r+n);for(var i=0;i<n;i++)e[r+i]=t},t.prototype.addUvs=function(e,t,n,r,i,o){void 0===o&&(o=null);for(var a=0,s=t.length,l=n.frame;a<i;){var u=e[2*(r+a)],c=e[2*(r+a)+1];if(o){var h=o.a*u+o.c*c+o.tx;c=o.b*u+o.d*c+o.ty,u=h}a++,t.push(u/l.width,c/l.height)}var f=n.baseTexture;(l.width<f.width||l.height<f.height)&&this.adjustUvs(t,n,s,i)},t.prototype.adjustUvs=function(e,t,n,r){for(var i=t.baseTexture,o=1e-6,a=n+2*r,s=t.frame,l=s.width/i.width,u=s.height/i.height,c=s.x/s.width,h=s.y/s.height,f=Math.floor(e[n]+o),d=Math.floor(e[n+1]+o),p=n+2;p<a;p+=2)f=Math.min(f,Math.floor(e[p]+o)),d=Math.min(d,Math.floor(e[p+1]+o));c-=f,h-=d;for(p=n;p<a;p+=2)e[p]=(e[p]+c)*l,e[p+1]=(e[p+1]+h)*u},t.BATCHABLE_SIZE=100,t}(ci),Co=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=Ki.BUTT,t.join=qi.MITER,t.miterLimit=10,t}return no(t,e),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(eo),Ao=new Float32Array(3),Oo={},Po=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n._geometry=t||new ko,n._geometry.refCount++,n.shader=null,n.state=Or.for2d(),n._fillStyle=new eo,n._lineStyle=new Co,n._matrix=null,n._holeMode=!1,n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n.pluginName="batch",n._transformID=-1,n.tint=16777215,n.blendMode=ie.NORMAL,n}return no(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"==typeof e){var t=arguments;e={width:t[0]||0,color:t[1]||0,alpha:void 0!==t[2]?t[2]:1,alignment:void 0!==t[3]?t[3]:.5,native:!!t[4]}}return this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){if("number"==typeof e){nt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var t=arguments;e={width:t[0],texture:t[1],color:t[2],alpha:t[3],matrix:t[4],alignment:t[5],native:t[6]},Object.keys(e).forEach((function(t){return void 0===e[t]&&delete e[t]}))}e=Object.assign({width:0,texture:An.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ki.BUTT,join:qi.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new _t,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new _t,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==e||i!==t)&&n.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),go.curveTo(e,t,n,r,i),this},t.prototype.bezierCurveTo=function(e,t,n,r,i,o){return this._initCurve(),vo.curveTo(e,t,n,r,i,o,this.currentPath.points),this},t.prototype.arcTo=function(e,t,n,r,i){this._initCurve(e,t);var o=this.currentPath.points,a=mo.curveTo(e,t,n,r,i,o);if(a){var s=a.cx,l=a.cy,u=a.radius,c=a.startAngle,h=a.endAngle,f=a.anticlockwise;this.arc(s,l,u,c,h,f)}return this},t.prototype.arc=function(e,t,n,r,i,o){if(void 0===o&&(o=!1),r===i)return this;if(!o&&i<=r?i+=pt:o&&r<=i&&(r+=pt),0===i-r)return this;var a=e+Math.cos(r)*n,s=t+Math.sin(r)*n,l=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var c=Math.abs(u[u.length-2]-a),h=Math.abs(u[u.length-1]-s);c<l&&h<l||u.push(a,s)}else this.moveTo(a,s),u=this.currentPath.points;return mo.arc(a,s,e,t,n,r,i,o,u),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:An.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){if(e instanceof An){nt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var t=arguments;e={texture:t[0],color:t[1],alpha:t[2],matrix:t[3]},Object.keys(e).forEach((function(t){return void 0===e[t]&&delete e[t]}))}e=Object.assign({texture:An.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,n,r){return this.drawShape(new gt(e,t,n,r))},t.prototype.drawRoundedRect=function(e,t,n,r,i){return this.drawShape(new xt(e,t,n,r,i))},t.prototype.drawCircle=function(e,t,n){return this.drawShape(new yt(e,t,n))},t.prototype.drawEllipse=function(e,t,n,r){return this.drawShape(new bt(e,t,n,r))},t.prototype.drawPolygon=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r,i=!0,o=t[0];o.points?(i=o.closeStroke,r=o.points):r=Array.isArray(t[0])?t[0]:t;var a=new _t(r);return a.closeStroke=i,this.drawShape(a),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.drawStar=function(e,t,n,r,i,o){return void 0===o&&(o=0),this.drawPolygon(new po(e,t,n,r,i,o))},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===ft.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var t=this._geometry,n=e.context.supports.uint32Indices;t.updateBatches(n),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var r=0;r<n;r++){var i=e.batches[r],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),l={vertexData:a,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:je(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=l}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),n=this._geometry,r=this.tint,i=this.worldAlpha,o=t.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(255&r)/255*i,o.tint[3]=i,e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var s=0,l=a.length;s<l;s++)this._renderDrawCallDirect(e,n.drawCalls[s])},t.prototype._renderDrawCallDirect=function(e,t){for(var n=t.texArray,r=t.type,i=t.size,o=t.start,a=n.count,s=0;s<a;s++)e.texture.bind(n.elements[s],s);e.geometry.draw(r,i,o)},t.prototype._resolveDirectShader=function(e){var t=this.shader,n=this.pluginName;if(!t){if(!Oo[n]){for(var r=e.plugins.batch.MAX_TEXTURES,i=new Int32Array(r),o=0;o<r;o++)i[o]=o;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new St,default:Gn.from({uSamplers:i},!0)},s=e.plugins[n]._shader.program;Oo[n]=new Ar(s,a)}t=Oo[n]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;this._bounds.addFrame(this.transform,n,r,i,o)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=je(this.tint,Ao),t=0;t<this.batches.length;t++){var n=this.batches[t],r=n._batchRGB,i=(e[0]*r[0]*255<<16)+(e[1]*r[1]*255<<8)+(0|e[2]*r[2]*255);n._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=this._geometry.points,u=this.vertexData,c=0,h=0;h<l.length;h+=2){var f=l[h],d=l[h+1];u[c++]=n*f+i*d+a,u[c++]=o*d+r*f+s}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},t._TEMP_POINT=new Tt,t}(Ht),Mo=function(e,t){return(Mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var Io,Ro=new Tt,Lo=new Uint16Array([0,1,2,0,2,3]),Do=function(e){function t(t){var n=e.call(this)||this;return n._anchor=new wt(n._onAnchorUpdate,n,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=ie.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=t||An.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=Lo,n.pluginName="batch",n.isSprite=!0,n._roundPixels=z.ROUND_PIXELS,n}return function(e,t){function n(){this.constructor=e}Mo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Qe(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Qe(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=this.vertexData,u=e.trim,c=e.orig,h=this._anchor,f=0,d=0,p=0,m=0;if(u?(f=(d=u.x-h._x*c.width)+u.width,p=(m=u.y-h._y*c.height)+u.height):(f=(d=-h._x*c.width)+c.width,p=(m=-h._y*c.height)+c.height),l[0]=n*d+i*m+a,l[1]=o*m+r*d+s,l[2]=n*f+i*m+a,l[3]=o*m+r*f+s,l[4]=n*f+i*p+a,l[5]=o*p+r*f+s,l[6]=n*d+i*p+a,l[7]=o*p+r*d+s,this._roundPixels)for(var v=z.RESOLUTION,g=0;g<l.length;++g)l[g]=Math.round((l[g]*v|0)/v)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,u=i.tx,c=i.ty,h=-r._x*n.width,f=h+n.width,d=-r._y*n.height,p=d+n.height;t[0]=o*h+s*d+u,t[1]=l*d+a*h+c,t[2]=o*f+s*d+u,t[3]=l*d+a*f+c,t[4]=o*f+s*p+u,t[5]=l*p+a*f+c,t[6]=o*h+s*p+u,t[7]=l*p+a*h+c},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new gt),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ro);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x,i=0;return Ro.x>=r&&Ro.x<r+t&&(i=-n*this.anchor.y,Ro.y>=i&&Ro.y<i+n)},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var n="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!n)}this._texture=null},t.from=function(e,n){return new t(e instanceof An?e:An.from(e,n))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=Qe(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=Qe(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||An.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Ht),No=function(e,t){return(No=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};!function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Io||(Io={}));var jo={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Io.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Bo=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Fo=function(){function e(e){this.styleID=0,this.reset(),Uo(this,e,e)}return e.prototype.clone=function(){var t={};return Uo(t,this,jo),new e(t)},e.prototype.reset=function(){Uo(this,jo,jo)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=zo(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=zo(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=zo(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;n>=0;n--){var r=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Bo.indexOf(r)<0&&(r='"'+r+'"'),t[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}();function Ho(e){return"number"==typeof e?Be(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function zo(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=Ho(e[t]);return e}return Ho(e)}function Uo(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var Vo=function(){function e(e,t,n,r,i,o,a,s,l){this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=l}return e.measureText=function(t,n,r,i){void 0===i&&(i=e._canvas),r=null==r?n.wordWrap:r;var o=n.toFontString(),a=e.measureFont(o);0===a.fontSize&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);var s=i.getContext("2d");s.font=o;for(var l=(r?e.wordWrap(t,n,i):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length),c=0,h=0;h<l.length;h++){var f=s.measureText(l[h]).width+(l[h].length-1)*n.letterSpacing;u[h]=f,c=Math.max(c,f)}var d=c+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||a.fontSize+n.strokeThickness,m=Math.max(p,a.fontSize+n.strokeThickness)+(l.length-1)*(p+n.leading);return n.dropShadow&&(m+=n.dropShadowDistance),new e(t,n,d,m,l,u,p+n.leading,c,a)},e.wordWrap=function(t,n,r){void 0===r&&(r=e._canvas);for(var i=r.getContext("2d"),o=0,a="",s="",l=Object.create(null),u=n.letterSpacing,c=n.whiteSpace,h=e.collapseSpaces(c),f=e.collapseNewlines(c),d=!h,p=n.wordWrapWidth+u,m=e.tokenize(t),v=0;v<m.length;v++){var g=m[v];if(e.isNewline(g)){if(!f){s+=e.addLine(a),d=!h,a="",o=0;continue}g=" "}if(h){var y=e.isBreakingSpace(g),b=e.isBreakingSpace(a[a.length-1]);if(y&&b)continue}var _=e.getFromCache(g,u,l,i);if(_>p)if(""!==a&&(s+=e.addLine(a),a="",o=0),e.canBreakWords(g,n.breakWords))for(var x=e.wordWrapSplit(g),T=0;T<x.length;T++){for(var w=x[T],S=1;x[T+S];){var E=x[T+S],k=w[w.length-1];if(e.canBreakChars(k,E,g,T,n.breakWords))break;w+=E,S++}T+=w.length-1;var C=e.getFromCache(w,u,l,i);C+o>p&&(s+=e.addLine(a),d=!1,a="",o=0),a+=w,o+=C}else{a.length>0&&(s+=e.addLine(a),a="",o=0);var A=v===m.length-1;s+=e.addLine(g,!A),d=!1,a="",o=0}else _+o>p&&(d=!1,s+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(g)||d)&&(a+=g,o+=_)}return s+=e.addLine(a,!1)},e.addLine=function(t,n){return void 0===n&&(n=!0),t=e.trimRight(t),t=n?t+"\n":t},e.getFromCache=function(e,t,n,r){var i=n[e];if("number"!=typeof i){var o=e.length*t;i=r.measureText(e).width+o,n[e]=i}return i},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!=typeof t)return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return"string"==typeof t&&e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t){return"string"==typeof t&&e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var n=[],r="";if("string"!=typeof t)return n;for(var i=0;i<t.length;i++){var o=t[i];e.isBreakingSpace(o)||e.isNewline(o)?(""!==r&&(n.push(r),r=""),n.push(o)):r+=o}return""!==r&&n.push(r),n},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(e,t,n,r,i){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var n={ascent:0,descent:0,fontSize:0},r=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),l=2*s;s=s*e.BASELINE_MULTIPLIER|0,r.width=a,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var u=i.getImageData(0,0,a,l).data,c=u.length,h=4*a,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var m=0;m<h;m+=4)if(255!==u[d+m]){p=!0;break}if(p)break;d+=h}for(n.ascent=s-f,d=c-h,p=!1,f=l;f>s;--f){for(m=0;m<h;m+=4)if(255!==u[d+m]){p=!0;break}if(p)break;d-=h}return n.descent=f-s,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),Go=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch(n){return document.createElement("canvas")}}();Go.width=Go.height=10,Vo._canvas=Go,Vo._context=Go.getContext("2d"),Vo._fonts={},Vo.METRICS_STRING="|\xc9q\xc5",Vo.BASELINE_SYMBOL="M",Vo.BASELINE_MULTIPLIER=1.4,Vo._newlines=[10,13],Vo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Xo={texture:!0,children:!1,baseTexture:!0},Yo=function(e){function t(t,n,r){var i=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var a=An.from(r);return a.orig=new gt,a.trim=new gt,(i=e.call(this,a)||this)._ownCanvas=o,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=z.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=t,i.style=n,i.localStyleID=-1,i}return function(e,t){function n(){this.constructor=e}No(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var n=this.context,r=Vo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,a=r.lines,s=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*t.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;for(var h,f,d=t.dropShadow?2:1,p=0;p<d;++p){var m=t.dropShadow&&0===p,v=m?Math.ceil(Math.max(1,o)+2*t.padding):0,g=v*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";var y=t.dropShadowColor,b=je("number"==typeof y?y:Fe(y)),_=t.dropShadowBlur*this._resolution,x=t.dropShadowDistance*this._resolution;n.shadowColor="rgba("+255*b[0]+","+255*b[1]+","+255*b[2]+","+t.dropShadowAlpha+")",n.shadowBlur=_,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*x,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*x+g}else n.fillStyle=this._generateFillStyle(t,a,r),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var T=0;T<a.length;T++)h=t.strokeThickness/2,f=t.strokeThickness/2+T*s+c.ascent,"right"===t.align?h+=u-l[T]:"center"===t.align&&(h+=(u-l[T])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(a[T],h+t.padding,f+t.padding-v,!0),t.fill&&this.drawLetterSpacing(a[T],h+t.padding,f+t.padding-v)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,n,r){void 0===r&&(r=!1);var i=this._style.letterSpacing;if(0!==i)for(var o=t,a=Array.from?Array.from(e):e.split(""),s=this.context.measureText(e).width,l=0,u=0;u<a.length;++u){var c=a[u];r?this.context.strokeText(c,o,n):this.context.fillText(c,o,n),o+=s-(l=this.context.measureText(e.substring(u+1)).width)+i,s=l}else r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n)},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=st(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;n.trim.width=n._frame.width=Math.ceil(e.width/this._resolution),n.trim.height=n._frame.height=Math.ceil(e.height/this._resolution),n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,t,n){var r=e.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];var i,o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,s=Math.ceil(this.canvas.width/this._resolution)-o-2*a,l=Math.ceil(this.canvas.height/this._resolution)-o-2*a,u=r.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var h=u.length+1,f=1;f<h;++f)c.push(f/h);if(u.unshift(r[0]),c.unshift(0),u.push(r[r.length-1]),c.push(1),e.fillGradientType===Io.LINEAR_VERTICAL){i=this.context.createLinearGradient(s/2,a,s/2,l+a);var d=0,p=(n.fontProperties.fontSize+e.strokeThickness)/l;for(f=0;f<t.length;f++)for(var m=n.lineHeight*f,v=0;v<u.length;v++){var g=m/l+("number"==typeof c[v]?c[v]:v/u.length)*p,y=Math.max(d,g);y=Math.min(y,1),i.addColorStop(y,u[v]),d=y}}else{i=this.context.createLinearGradient(a,l/2,s+a,l/2);var b=u.length+1,_=1;for(f=0;f<u.length;f++){var x=void 0;x="number"==typeof c[f]?c[f]:_/b,i.addColorStop(x,u[f]),_++}}return i},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},Xo,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=Qe(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=Qe(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof Fo?e:new Fo(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t}(Do);z.UPLOADS_PER_FRAME=4;var Wo=function(e,t){return(Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var qo=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function Ko(e,t){var n=!1;if(e&&e._textures&&e._textures.length)for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof An){var i=e._textures[r].baseTexture;-1===t.indexOf(i)&&(t.push(i),n=!0)}return n}function $o(e,t){if(e.baseTexture instanceof hn){var n=e.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function Zo(e,t){if(e._texture&&e._texture instanceof An){var n=e._texture.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function Qo(e,t){return t instanceof Yo&&(t.updateText(!0),!0)}function Jo(e,t){if(t instanceof Fo){var n=t.toFontString();return Vo.measureFont(n),!0}return!1}function ea(e,t){if(e instanceof Yo){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var n=e._texture.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function ta(e,t){return e instanceof Fo&&(-1===t.indexOf(e)&&t.push(e),!0)}var na=function(){function e(e){var t=this;this.limiter=new qo(z.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(ea),this.registerFindHook(ta),this.registerFindHook(Ko),this.registerFindHook($o),this.registerFindHook(Zo),this.registerUploadHook(Qo),this.registerUploadHook(Jo)}return e.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,Yt.system.addOnce(this.tick,this,Ut.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)Yt.system.addOnce(this.tick,this,Ut.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(n=0,r=i.length;n<r;n++)i[n]()}},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Ht)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&Yt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function ra(e,t){return t instanceof hn&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function ia(e,t){if(!(t instanceof Po))return!1;var n=t.geometry;t.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var o=r[i].style.texture;o&&ra(e,o.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function oa(e,t){return e instanceof Po&&(t.push(e),!0)}var aa=function(e){function t(t){var n=e.call(this,t)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(oa),n.registerUploadHook(ra),n.registerUploadHook(ia),n}return function(e,t){function n(){this.constructor=e}Wo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(na),sa=function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}(),la=function(){function e(e,t,n){void 0===n&&(n=null),this._texture=e instanceof An?e:null,this.baseTexture=e instanceof hn?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,n=ht(e,null);return null===n&&(n=void 0!==t?parseFloat(t):1),1!==n&&this.baseTexture.setResolution(n),n},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var n=t,r=e.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],o=this._frames[i],a=o.frame;if(a){var s=null,l=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new gt(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s=o.rotated?new gt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new gt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new gt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new An(this.baseTexture,s,c,l,o.rotated?2:0,o.anchor),An.addToCache(this.textures[i],i)}n++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var n=0;n<e[t].length;n++){var r=e[t][n];this.animations[t].push(this.textures[r])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},e.prototype.destroy=function(e){var t;for(var n in void 0===e&&(e=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),ua=function(){function e(){}return e.use=function(t,n){var r=this,i=t.name+"_image";if(t.data&&t.type===zi.TYPE.JSON&&t.data.frames&&!r.resources[i]){var o={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=e.getResourcePath(t,r.baseUrl);r.add(i,a,o,(function(e){if(e.error)n(e.error);else{var r=new la(e.texture,t.data,t.url);r.parse((function(){t.spritesheet=r,t.textures=r.textures,n()}))}}))}else n()},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:X.resolve(e.url.replace(t,""),e.data.meta.image)},e}(),ca=function(e,t){return(ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ha(e,t){function n(){this.constructor=e}ca(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var fa=new Tt,da=function(e){function t(t,n,r){void 0===n&&(n=100),void 0===r&&(r=100);var i=e.call(this,t)||this;return i.tileTransform=new Rt,i._width=n,i._height=r,i.uvMatrix=i.texture.uvMatrix||new Ir(t),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}return ha(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,r)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new gt),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,fa);var t=this._width,n=this._height,r=-t*this.anchor._x;if(fa.x>=r&&fa.x<r+t){var i=-n*this.anchor._y;if(fa.y>=i&&fa.y<i+n)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,n){return"number"==typeof n&&(nt("5.3.0","TilingSprite.from use options instead of width and height args"),n={width:n,height:arguments[2]}),new t(An.from(e,n),n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(Do),pa="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",ma=new St,va=function(e){function t(t){var n=e.call(this,t)||this,r={globals:n.renderer.globalUniforms};return n.shader=Ar.from(pa,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",r),n.simpleShader=Ar.from(pa,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",r),n.quad=new Un,n.state=Or.for2d(),n}return ha(t,e),t.prototype.render=function(e){var t=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((r=n.uvs)[0]=r[6]=-e.anchor.x,r[1]=r[3]=-e.anchor.y,r[2]=r[4]=1-e.anchor.x,r[5]=r[7]=1-e.anchor.y),n.invalidate();var i=e._texture,o=i.baseTexture,a=e.tileTransform.localTransform,s=e.uvMatrix,l=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;l&&(o._glTextures[t.CONTEXT_UID]?l=o.wrapMode!==ce.CLAMP:o.wrapMode===ce.CLAMP&&(o.wrapMode=ce.REPEAT));var u=l?this.simpleShader:this.shader,c=i.width,h=i.height,f=e._width,d=e._height;ma.set(a.a*c/f,a.b*c/d,a.c*h/f,a.d*h/d,a.tx/f,a.ty/d),ma.invert(),l?ma.prepend(s.mapCoord):(u.uniforms.uMapCoord=s.mapCoord.toArray(!0),u.uniforms.uClampFrame=s.uClampFrame,u.uniforms.uClampOffset=s.uClampOffset),u.uniforms.uTransform=ma.toArray(!0),u.uniforms.uColor=Ge(e.tint,e.worldAlpha,u.uniforms.uColor,o.alphaMode),u.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),u.uniforms.uSampler=i,t.shader.bind(u),t.geometry.bind(n),this.state.blendMode=ze(e.blendMode,o.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(Wn),ga=function(e,t){return(ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ya(e,t){function n(){this.constructor=e}ga(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ba=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),_a=new Tt,xa=new _t,Ta=function(e){function t(t,n,r,i){void 0===i&&(i=oe.TRIANGLES);var o=e.call(this)||this;return o.geometry=t,t.refCount++,o.shader=n,o.state=r||Or.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=z.ROUND_PIXELS,o.batchUvs=null,o}return ya(t,e),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===oe.TRIANGLES&&n.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.program.uniformData.translationMatrix&&(t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry,t=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var n=this.transform.worldTransform,r=n.a,i=n.b,o=n.c,a=n.d,s=n.tx,l=n.ty,u=this.vertexData,c=0;c<u.length/2;c++){var h=t[2*c],f=t[2*c+1];u[2*c]=r*h+o*f+s,u[2*c+1]=i*h+a*f+l}if(this._roundPixels){var d=z.RESOLUTION;for(c=0;c<u.length;++c)u[c]=Math.round((u[c]*d|0)/d)}this.vertexDirty=e.vertexDirtyId}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new ba(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,_a);for(var t=this.geometry.getBuffer("aVertexPosition").data,n=xa.points,r=this.geometry.getIndex().data,i=r.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*r[a],l=2*r[a+1],u=2*r[a+2];if(n[0]=t[s],n[1]=t[s+1],n[2]=t[l],n[3]=t[l+1],n[4]=t[u],n[5]=t[u+1],xa.contains(_a.x,_a.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Ht),wa=function(e){function t(t,n){var r=this,i={uSampler:t,alpha:1,uTextureMatrix:St.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(i,n.uniforms),(r=e.call(this,n.program||Cr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,r.uvMatrix=new Ir(t),r.batchable=void 0===n.program,r.pluginName=n.pluginName,r.tint=n.tint,r.alpha=n.alpha,r}return ya(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;Ge(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Ar),Sa=function(e){function t(t,n,r){var i=e.call(this)||this,o=new Ln(t),a=new Ln(n,!0),s=new Ln(r,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,le.FLOAT).addAttribute("aTextureCoord",a,2,!1,le.FLOAT).addIndex(s),i._updateId=-1,i}return ya(t,e),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Hn),Ea=function(e,t){return(Ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var ka=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Ca=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var r in t){var i=t[r].match(/^[a-z]+/gm)[0],o=t[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in o){var l=o[s].split("="),u=l[0],c=l[1].replace(/"/gm,""),h=parseFloat(c),f=isNaN(h)?c:h;a[u]=f}n[i].push(a)}var d=new ka;return n.info.forEach((function(e){return d.info.push({face:e.face,size:parseInt(e.size,10)})})),n.common.forEach((function(e){return d.common.push({lineHeight:parseInt(e.lineHeight,10)})})),n.page.forEach((function(e){return d.page.push({id:parseInt(e.id,10),file:e.file})})),n.char.forEach((function(e){return d.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),n.kerning.forEach((function(e){return d.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),d},e}(),Aa=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new ka,n=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),s=0;s<n.length;s++)t.info.push({face:n[s].getAttribute("face"),size:parseInt(n[s].getAttribute("size"),10)});for(s=0;s<r.length;s++)t.common.push({lineHeight:parseInt(r[s].getAttribute("lineHeight"),10)});for(s=0;s<i.length;s++)t.page.push({id:parseInt(i[s].getAttribute("id"),10)||0,file:i[s].getAttribute("file")});for(s=0;s<o.length;s++){var l=o[s];t.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(s=0;s<a.length;s++)t.kerning.push({first:parseInt(a[s].getAttribute("first"),10),second:parseInt(a[s].getAttribute("second"),10),amount:parseInt(a[s].getAttribute("amount"),10)});return t},e}(),Oa=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new self.DOMParser).parseFromString(e,"text/xml");return Aa.test(t)}return!1},e.parse=function(e){var t=(new window.DOMParser).parseFromString(e,"text/xml");return Aa.parse(t)},e}(),Pa=[Ca,Aa,Oa];function Ma(e){for(var t=0;t<Pa.length;t++)if(Pa[t].test(e))return Pa[t];return null}function Ia(e,t,n,r,i,o,a){var s=n.text,l=n.fontProperties;t.translate(r,i),t.scale(o,o);var u=a.strokeThickness/2,c=-a.strokeThickness/2;if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=function(e,t,n,r,i,o){var a=n.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var s,l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,c=Math.ceil(e.width/r)-l-2*u,h=Math.ceil(e.height/r)-l-2*u,f=a.slice(),d=n.fillGradientStops.slice();if(!d.length)for(var p=f.length+1,m=1;m<p;++m)d.push(m/p);if(f.unshift(a[0]),d.unshift(0),f.push(a[a.length-1]),d.push(1),n.fillGradientType===Io.LINEAR_VERTICAL){s=t.createLinearGradient(c/2,u,c/2,h+u);var v=0,g=(o.fontProperties.fontSize+n.strokeThickness)/h;for(m=0;m<i.length;m++)for(var y=o.lineHeight*m,b=0;b<f.length;b++){var _=y/h+("number"==typeof d[b]?d[b]:b/f.length)*g,x=Math.max(v,_);x=Math.min(x,1),s.addColorStop(x,f[b]),v=x}}else{s=t.createLinearGradient(u,h/2,c+u,h/2);var T=f.length+1,w=1;for(m=0;m<f.length;m++){var S=void 0;S="number"==typeof d[m]?d[m]:w/T,s.addColorStop(S,f[m]),w++}}return s}(e,t,a,o,[s],n),t.strokeStyle=a.stroke,a.dropShadow){var h=a.dropShadowColor,f=je("number"==typeof h?h:Fe(h)),d=a.dropShadowBlur*o,p=a.dropShadowDistance*o;t.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+a.dropShadowAlpha+")",t.shadowBlur=d,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*p,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*p}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(s,u,c+n.lineHeight-l.descent),a.fill&&t.fillText(s,u,c+n.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}var Ra=function(){function e(e,t,n){var r=e.info[0],i=e.common[0],o=ht(e.page[0].file),a={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/o,this.chars={},this.pageTextures=a;for(var s=0;s<e.page.length;s++){var l=e.page[s],u=l.id,c=l.file;a[u]=t instanceof Array?t[s]:t[c]}for(s=0;s<e.char.length;s++){var h=e.char[s],f=(u=h.id,h.page),d=e.char[s],p=d.x,m=d.y,v=d.width,g=d.height,y=d.xoffset,b=d.yoffset,_=d.xadvance;m/=o,v/=o,g/=o,y/=o,b/=o,_/=o;var x=new gt((p/=o)+a[f].frame.x/o,m+a[f].frame.y/o,v,g);this.chars[u]={xOffset:y,yOffset:b,xAdvance:_,kerning:{},texture:new An(a[f].baseTexture,x),page:f}}for(s=0;s<e.kerning.length;s++){var T=e.kerning[s],w=T.first,S=T.second,E=T.amount;w/=o,S/=o,E/=o,this.chars[S]&&(this.chars[S].kerning[w]=E)}}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,n,r){var i;if(t instanceof ka)i=t;else{var o=Ma(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}n instanceof An&&(n=[n]);var a=new e(i,n,r);return e.available[a.font]=a,a},e.uninstall=function(t){var n=e.available[t];if(!n)throw new Error("No font found named '"+t+"'");n.destroy(),delete e.available[t]},e.from=function(t,n,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,r),o=i.chars,a=i.padding,s=i.resolution,l=i.textureWidth,u=i.textureHeight,c=function(e){"string"==typeof e&&(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,l=a;s<=l;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,i.split(""))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(o),h=n instanceof Fo?n:new Fo(n),f=l,d=new ka;d.info[0]={face:h.fontFamily,size:h.fontSize},d.common[0]={lineHeight:h.fontSize};for(var p,m,v,g=0,y=0,b=0,_=[],x=0;x<c.length;x++){p||((p=document.createElement("canvas")).width=l,p.height=u,m=p.getContext("2d"),v=new hn(p,{resolution:s}),_.push(new An(v)),d.page.push({id:_.length-1,file:""}));var T=Vo.measureText(c[x],h,!1,p),w=T.width,S=Math.ceil(T.height),E=Math.ceil(("italic"===h.fontStyle?2:1)*w);if(y>=u-S*s){if(0===y)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+h.fontSize+"px fonts");--x,p=null,m=null,v=null,y=0,g=0,b=0}else if(b=Math.max(S+T.fontProperties.descent,b),E*s+g>=f)--x,y+=b*s,y=Math.ceil(y),g=0,b=0;else{Ia(p,m,T,g,y,s,h);var k=T.text.charCodeAt(0);d.char.push({id:k,page:_.length-1,x:g/s,y:y/s,width:E,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(w-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),g+=(E+2*a)*s,g=Math.ceil(g)}}var C=new e(d,_,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=C,C},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),La=[],Da=[],Na=function(e){function t(n,r){void 0===r&&(r={});var i=e.call(this)||this;i._tint=16777215,r.font&&(nt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(r));var o=Object.assign({},t.styleDefaults,r),a=o.align,s=o.tint,l=o.maxWidth,u=o.letterSpacing,c=o.fontName,h=o.fontSize;if(!Ra.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=c,i._fontSize=h||Ra.available[c].size,i._text=n,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=u,i._anchor=new wt((function(){i.dirty=!0}),i,0,0),i._roundPixels=z.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return function(e,t){function n(){this.constructor=e}Ea(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.updateText=function(){for(var e,t=Ra.available[this._fontName],n=this._fontSize/t.size,r=new Tt,i=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",s=a.length,l=this._maxWidth*t.size/this._fontSize,u=null,c=0,h=0,f=0,d=-1,p=0,m=0,v=0,g=0;g<s;g++){var y=a.charCodeAt(g),b=a.charAt(g);if(/(?:\s)/.test(b)&&(d=g,p=c),"\r"!==b&&"\n"!==b){var _=t.chars[y];if(_){u&&_.kerning[u]&&(r.x+=_.kerning[u]);var x=Da.pop()||{texture:An.EMPTY,line:0,charCode:0,position:new Tt};x.texture=_.texture,x.line=f,x.charCode=y,x.position.x=r.x+_.xOffset+this._letterSpacing/2,x.position.y=r.y+_.yOffset,i.push(x),r.x+=_.xAdvance+this._letterSpacing,c=r.x,v=Math.max(v,_.yOffset+_.texture.height),u=y,-1!==d&&l>0&&r.x>l&&(Ze(i,1+d-++m,1+g-d),g=d,d=-1,o.push(p),h=Math.max(h,p),f++,r.x=0,r.y+=t.lineHeight,u=null)}}else o.push(c),h=Math.max(h,c),++f,++m,r.x=0,r.y+=t.lineHeight,u=null}var T=a.charAt(a.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(c=p),o.push(c),h=Math.max(h,c));var w=[];for(g=0;g<=f;g++){var S=0;"right"===this._align?S=h-o[g]:"center"===this._align&&(S=(h-o[g])/2),w.push(S)}var E=i.length,k={},C=[],A=this._activePagesMeshData;for(g=0;g<A.length;g++)La.push(A[g]);for(g=0;g<E;g++){var O=(B=i[g].texture).baseTexture.uid;if(!k[O]){if(!(X=La.pop())){var P=new Sa,M=new wa(An.EMPTY);X={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Ta(P,M),vertices:null,uvs:null,indices:null}}X.index=0,X.indexCount=0,X.vertexCount=0,X.uvsCount=0,X.total=0;var I=this._textureCache;I[O]=I[O]||new An(B.baseTexture),X.mesh.texture=I[O],X.mesh.tint=this._tint,C.push(X),k[O]=X}k[O].total++}for(g=0;g<A.length;g++)-1===C.indexOf(A[g])&&this.removeChild(A[g].mesh);for(g=0;g<C.length;g++)C[g].mesh.parent!==this&&this.addChild(C[g].mesh);for(var g in this._activePagesMeshData=C,k){var R=(X=k[g]).total;if(!((null===(e=X.indices)||void 0===e?void 0:e.length)>6*R)||X.vertices.length<2*Ta.BATCHABLE_SIZE)X.vertices=new Float32Array(8*R),X.uvs=new Float32Array(8*R),X.indices=new Uint16Array(6*R);else for(var L=X.total,D=X.vertices,N=4*L*2;N<D.length;N++)D[N]=0;X.mesh.size=6*R}for(g=0;g<E;g++){var j=(b=i[g]).position.x+w[b.line];this._roundPixels&&(j=Math.round(j));var B,F=j*n,H=b.position.y*n,z=k[(B=b.texture).baseTexture.uid],U=B.frame,V=B._uvs,G=z.index++;z.indices[6*G+0]=0+4*G,z.indices[6*G+1]=1+4*G,z.indices[6*G+2]=2+4*G,z.indices[6*G+3]=0+4*G,z.indices[6*G+4]=2+4*G,z.indices[6*G+5]=3+4*G,z.vertices[8*G+0]=F,z.vertices[8*G+1]=H,z.vertices[8*G+2]=F+U.width*n,z.vertices[8*G+3]=H,z.vertices[8*G+4]=F+U.width*n,z.vertices[8*G+5]=H+U.height*n,z.vertices[8*G+6]=F,z.vertices[8*G+7]=H+U.height*n,z.uvs[8*G+0]=V.x0,z.uvs[8*G+1]=V.y0,z.uvs[8*G+2]=V.x1,z.uvs[8*G+3]=V.y1,z.uvs[8*G+4]=V.x2,z.uvs[8*G+5]=V.y2,z.uvs[8*G+6]=V.x3,z.uvs[8*G+7]=V.y3}for(var g in this._textWidth=h*n,this._textHeight=(r.y+t.lineHeight)*n,k){var X=k[g];if(0!==this.anchor.x||0!==this.anchor.y)for(var Y=0,W=this._textWidth*this.anchor.x,q=this._textHeight*this.anchor.y,K=0;K<X.total;K++)X.vertices[Y++]-=W,X.vertices[Y++]-=q,X.vertices[Y++]-=W,X.vertices[Y++]-=q,X.vertices[Y++]-=W,X.vertices[Y++]-=q,X.vertices[Y++]-=W,X.vertices[Y++]-=q;this._maxLineHeight=v*n;var $=X.mesh.geometry.getBuffer("aVertexPosition"),Z=X.mesh.geometry.getBuffer("aTextureCoord"),Q=X.mesh.geometry.getIndex();$.data=X.vertices,Z.data=X.uvs,Q.data=X.indices,$.update(),Z.update(),Q.update()}for(g=0;g<i.length;g++)Da.push(i[g])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Ra.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var t=e.font.split(" ");e.fontName=1===t.length?t[0]:t.slice(1).join(" "),t.length>=2&&(e.fontSize=parseInt(t[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},t.prototype.destroy=function(t){var n=this._textureCache;for(var r in n){n[r].destroy(),delete n[r]}this._textureCache=null,e.prototype.destroy.call(this,t)},t.registerFont=function(e,t){return nt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Ra.install(e,t)},Object.defineProperty(t,"fonts",{get:function(){return nt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Ra.available},enumerable:!1,configurable:!0}),t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(Ht),ja=function(){function e(){}return e.add=function(){zi.setExtensionXhrType("fnt",zi.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,n){var r=Ma(t.data);if(r)for(var i=e.getBaseUrl(this,t),o=r.parse(t.data),a={},s=function(e){a[e.metadata.pageFile]=e.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=Ra.install(o,a,!0),n())},l=0;l<o.page.length;++l){var u=o.page[l].file,c=i+u,h=!1;for(var f in this.resources){var d=this.resources[f];if(d.url===c){d.metadata.pageFile=u,d.texture?s(d):d.onAfterMiddleware.add(s),h=!0;break}}if(!h){var p={crossOrigin:t.crossOrigin,loadType:zi.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},t.metadata.imageMetadata),parentResource:t};this.add(c,p,s)}}else n()},e.getBaseUrl=function(t,n){var r=n.isDataUrl?"":e.dirname(n.url);return n.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}(),Ba=function(e,t){return(Ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var Fa=function(e){function t(t){void 0===t&&(t=1);var n=e.call(this,ri,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return n.alpha=t,n}return function(e,t){function n(){this.constructor=e}Ba(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Pr),Ha=function(e,t){return(Ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function za(e,t){function n(){this.constructor=e}Ha(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ua,Va,Ga,Xa,Ya,Wa,qa,Ka,$a,Za,Qa,Ja,es,ts,ns,rs,is,os={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},as=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(Ua||(Ua={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(Va||(Va={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(Ga||(Ga={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(Xa||(Xa={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Ya||(Ya={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Wa||(Wa={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(qa||(qa={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(Ka||(Ka={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}($a||($a={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Za||(Za={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"}(Qa||(Qa={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Ja||(Ja={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(es||(es={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(ts||(ts={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(ns||(ns={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(rs||(rs={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(is||(is={}));var ss=function(e){function t(t,n,r,i,o){void 0===n&&(n=8),void 0===r&&(r=4),void 0===i&&(i=z.FILTER_RESOLUTION),void 0===o&&(o=5);var a=this,s=function(e,t){var n,r=Math.ceil(e/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=n.replace("%index%",a.toString());o+=s=s.replace("%sampleIndex%",a-(r-1)+".0"),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",e.toString())}(o,t),l=function(e){for(var t,n=os[e],r=n.length,i=as,o="",a=0;a<e;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());t=a,a>=r&&(t=e-a-1),o+=s=s.replace("%value%",n[t].toString()),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",e.toString())}(o);return(a=e.call(this,s,l)||this).horizontal=t,a.resolution=i,a._quality=0,a.quality=r,a.blur=n,a}return za(t,e),t.prototype.apply=function(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{var i=e.getFilterTexture(),o=e.renderer,a=t,s=i;this.state.blend=!1,e.applyFilter(this,a,s,es.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(a,es.BLIT),this.uniforms.uSampler=s;var u=s;s=a,a=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,n,r),e.returnFilterTexture(i)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(Pr),ls=function(e){function t(t,n,r,i){void 0===t&&(t=8),void 0===n&&(n=4),void 0===r&&(r=z.FILTER_RESOLUTION),void 0===i&&(i=5);var o=e.call(this)||this;return o.blurXFilter=new ss(!0,t,n,r,i),o.blurYFilter=new ss(!1,t,n,r,i),o.resolution=r,o.quality=n,o.blur=t,o.repeatEdgePixels=!1,o}return za(t,e),t.prototype.apply=function(e,t,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,es.CLEAR),this.blurYFilter.apply(e,a,n,r),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,t,n,r):this.blurXFilter.apply(e,t,n,r)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(Pr),us=function(e,t){return(us=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var cs=function(e){function t(){var t=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=e.call(this,ii,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",n)||this).alpha=1,t}return function(e,t){function n(){this.constructor=e}us(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},t.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.greyscale=function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,t)},t.prototype.contrast=function(e,t){var n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var n=2*e/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,l=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,a,s,e=e||.2,0,l,u,c,t=t||.15,0,o-l,a-u,s-c,0,0];this._loadMatrix(h,i)},t.prototype.night=function(e,t){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.predator=function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Pr);cs.prototype.grayscale=cs.prototype.greyscale;var hs=function(e,t){return(hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var fs=function(e){function t(t,n){var r=this,i=new St;return t.renderable=!1,(r=e.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,r.maskMatrix=i,null==n&&(n=20),r.scale=new Tt(n,n),r}return function(e,t){function n(){this.constructor=e}hs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.apply=function(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),e.applyFilter(this,t,n,r)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(Pr),ds=function(e,t){return(ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var ps=function(e){function t(){return e.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(e,t){function n(){this.constructor=e}ds(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Pr),ms=function(e,t){return(ms=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var vs=function(e){function t(t,n){void 0===t&&(t=.5),void 0===n&&(n=Math.random());var r=e.call(this,ii,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=t,r.seed=n,r}return function(e,t){function n(){this.constructor=e}ms(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(Pr),gs=new St;jt.prototype._cacheAsBitmap=!1,jt.prototype._cacheData=null;var ys=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(jt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new ys),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),jt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},jt.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.alpha;this.alpha=1,e.batch.flush();var n=this.getLocalBounds(null,!0).clone();if(this.filters){var r=this.filters[0].padding;n.pad(r)}n.ceil(z.RESOLUTION);var i=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),a=e.renderTexture.destinationFrame.clone(),s=e.projection.transform,l=Pn.create({width:n.width,height:n.height}),u="cacheAsBitmap_"+et();this._cacheData.textureCacheId=u,hn.addToCache(l.baseTexture,u),An.addToCache(l,u);var c=this.transform.localTransform.copyTo(gs).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,l,!0,c,!1),e.projection.transform=s,e.renderTexture.bind(i,o,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new Do(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-n.x/n.width,h.anchor.y=-n.y/n.height,h.alpha=t,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)}},jt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},jt.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var r=e.context,i=e._projTransform;t.ceil(z.RESOLUTION);var o=Pn.create({width:t.width,height:t.height}),a="cacheAsBitmap_"+et();this._cacheData.textureCacheId=a,hn.addToCache(o.baseTexture,a),An.addToCache(o,a);var s=gs;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,o,!0,s,!1),e.context=r,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new Do(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-t.x/t.width,l.anchor.y=-t.y/t.height,l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},jt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},jt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},jt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,hn.removeFromCache(this._cacheData.textureCacheId),An.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},jt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},jt.prototype.name=null,Ht.prototype.getChildByName=function(e,t){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===e)return this.children[n];if(t)for(n=0,r=this.children.length;n<r;n++){if(this.children[n].getChildByName){var i=this.children[n].getChildByName(e,!0);if(i)return i}}return null},jt.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Tt),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var bs=function(e,t){return(bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function _s(e,t){function n(){this.constructor=e}bs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var xs=function(e){function t(t,n,r,i){void 0===t&&(t=100),void 0===n&&(n=100),void 0===r&&(r=10),void 0===i&&(i=10);var o=e.call(this)||this;return o.segWidth=r,o.segHeight=i,o.width=t,o.height=n,o.build(),o}return _s(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],n=[],r=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,l=0;l<e;l++){var u=l%this.segWidth,c=l/this.segWidth|0;t.push(u*a,c*s),n.push(u/i,c/o)}var h=i*o;for(l=0;l<h;l++){var f=l%i,d=l/i|0,p=d*this.segWidth+f,m=d*this.segWidth+f+1,v=(d+1)*this.segWidth+f,g=(d+1)*this.segWidth+f+1;r.push(p,m,v,m,g,v)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(Sa),Ts=function(e){function t(t,n,r){void 0===t&&(t=200),void 0===r&&(r=0);var i=e.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1)))||this;return i.points=n,i._width=t,i.textureScale=r,i.build(),i}return _s(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),n.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));var i=n.data,o=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var a=0,s=e[0],l=this._width*this.textureScale,u=e.length,c=0;c<u;c++){var h=4*c;if(this.textureScale>0){var f=s.x-e[c].x,d=s.y-e[c].y,p=Math.sqrt(f*f+d*d);s=e[c],a+=p/l}else a=c/(u-1);i[h]=a,i[h+1]=0,i[h+2]=a,i[h+3]=1}var m=0;for(c=0;c<u-1;c++){h=2*c;o[m++]=h,o[m++]=h+1,o[m++]=h+2,o[m++]=h+2,o[m++]=h+1,o[m++]=h+3}n.update(),r.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t,n=e[0],r=0,i=0,o=this.buffers[0].data,a=e.length,s=0;s<a;s++){var l=e[s],u=4*s;i=-((t=s<e.length-1?e[s+1]:l).x-n.x),r=t.y-n.y;var c=Math.sqrt(r*r+i*i),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=c,i/=c,r*=h,i*=h,o[u]=l.x+r,o[u+1]=l.y+i,o[u+2]=l.x-r,o[u+3]=l.y-i,n=l}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(Sa),ws=function(e){function t(t,n,r){void 0===r&&(r=0);var i=this,o=new Ts(t.height,n,r),a=new wa(t);return r>0&&(t.baseTexture.wrapMode=ce.REPEAT),(i=e.call(this,o,a)||this).autoUpdate=!0,i}return _s(t,e),t.prototype._render=function(t){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),e.prototype._render.call(this,t)},t}(Ta),Ss=function(e){function t(t,n,r){var i=this,o=new xs(t.width,t.height,n,r),a=new wa(An.WHITE);return(i=e.call(this,o,a)||this).texture=t,i}return _s(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},t}(Ta),Es=function(e){function t(t,n,r,i,o){void 0===t&&(t=An.EMPTY);var a=this,s=new Sa(n,r,i);s.getBuffer("aVertexPosition").static=!1;var l=new wa(t);return(a=e.call(this,s,l,null,o)||this).autoUpdate=!0,a}return _s(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)},t}(Ta),ks=function(e){function t(t,n,r,i,o){void 0===n&&(n=10),void 0===r&&(r=10),void 0===i&&(i=10),void 0===o&&(o=10);var a=e.call(this,An.WHITE,4,4)||this;return a._origWidth=t.orig.width,a._origHeight=t.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=n,a._rightWidth=i,a._topHeight=r,a._bottomHeight=o,a.texture=t,a}return _s(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,r=this._height>n?1:this._height/n;return Math.min(t,r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var n=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(Ss),Cs=function(e,t){return(Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var As=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t[0]instanceof An?t[0]:t[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=n,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=t,r}return function(e,t){function n(){this.constructor=e}Cs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Yt.shared.add(this.update,this,Ut.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var n=[],r=0;r<e.length;++r)n.push(An.from(e[r]));return new t(n)},t.fromImages=function(e){for(var n=[],r=0;r<e.length;++r)n.push(An.from(e[r]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof An)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Yt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(Do),Os=function(e,t){return(Os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Ps(e,t){function n(){this.constructor=e}Os(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ms="5.0.0";ti.registerPlugin("accessibility",Gt),ti.registerPlugin("extract",yi),ti.registerPlugin("interaction",tn),ti.registerPlugin("particle",Qi),ti.registerPlugin("prepare",aa),ti.registerPlugin("batch",pi),ti.registerPlugin("tilingSprite",va),Gi.registerPlugin(ja),Gi.registerPlugin(ua),mi.registerPlugin(Wt),mi.registerPlugin(Xi);var Is={AlphaFilter:Fa,BlurFilter:ls,BlurFilterPass:ss,ColorMatrixFilter:cs,DisplacementFilter:fs,FXAAFilter:ps,NoiseFilter:vs},Rs=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return fe},AbstractBatchRenderer:li,AbstractRenderer:ei,AccessibilityManager:Gt,AnimatedSprite:As,AppLoaderPlugin:Xi,Application:mi,Attribute:In,get BLEND_MODES(){return ie},get BUFFER_BITS(){return re},BasePrepare:na,BaseRenderTexture:En,BaseTexture:hn,BatchDrawCall:oi,BatchGeometry:ci,BatchPluginFactory:di,BatchRenderer:pi,BatchShaderGenerator:ui,BatchTextureArray:ai,BitmapFont:Ra,BitmapFontData:ka,BitmapFontLoader:ja,BitmapText:Na,Bounds:Lt,Buffer:Ln,get CLEAR_MODES(){return de},Circle:yt,Container:Ht,CountLimiter:qo,DEG_TO_RAD:vt,get DRAW_MODES(){return oe},DisplayObject:jt,get ENV(){return te},Ellipse:bt,Extract:yi,get FORMATS(){return ae},FillStyle:eo,Filter:Pr,FilterState:Xn,Framebuffer:Sn,get GC_MODES(){return pe},GLFramebuffer:Zn,GLProgram:Gr,GLTexture:$r,GRAPHICS_CURVES:Ji,Geometry:Hn,Graphics:Po,GraphicsData:wo,GraphicsGeometry:ko,IGLUniformData:Vr,InteractionData:qt,InteractionEvent:$t,InteractionManager:tn,InteractionTrackingData:Zt,get LINE_CAP(){return Ki},get LINE_JOIN(){return qi},LineStyle:Co,Loader:Gi,LoaderResource:zi,get MASK_TYPES(){return ve},get MIPMAP_MODES(){return he},get MSAA_QUALITY(){return ge},MaskData:rr,Matrix:St,Mesh:Ta,MeshBatchUvs:ba,MeshGeometry:Sa,MeshMaterial:wa,NineSlicePlane:ks,ObjectRenderer:Wn,ObservablePoint:wt,PI_2:pt,get PRECISION(){return me},ParticleContainer:$i,ParticleRenderer:Qi,PlaneGeometry:xs,Point:Tt,Polygon:_t,Prepare:aa,Program:Cr,Quad:zn,QuadUv:Un,RAD_TO_DEG:mt,get RENDERER_TYPE(){return ne},Rectangle:gt,RenderTexture:Pn,RenderTexturePool:Mn,Renderer:ti,RopeGeometry:Ts,RoundedRectangle:xt,Runner:nn,get SCALE_MODES(){return ue},get SHAPES(){return ft},Shader:Ar,SimpleMesh:Es,SimplePlane:Ss,SimpleRope:ws,Sprite:Do,SpriteMaskFilter:Rr,Spritesheet:la,SpritesheetLoader:ua,State:Or,System:Tn,get TARGETS(){return se},get TEXT_GRADIENT(){return Io},get TYPES(){return le},TemporaryDisplayObject:Bt,Text:Yo,TextMetrics:Vo,TextStyle:Fo,Texture:An,TextureLoader:Vi,TextureMatrix:Ir,TextureUvs:kn,Ticker:Yt,TickerPlugin:Wt,TilingSprite:da,TilingSpriteRenderer:va,TimeLimiter:sa,Transform:Rt,get UPDATE_PRIORITY(){return Ut},UniformGroup:Gn,VERSION:"5.3.12",ViewableBuffer:si,get WRAP_MODES(){return ce},accessibleTarget:zt,autoDetectRenderer:ni,checkMaxIfStatementsInShader:Sr,defaultFilterVertex:ii,defaultVertex:ri,filters:Is,graphicsUtils:To,groupD8:It,interactiveTarget:Jt,isMobile:H,resources:xn,settings:z,systems:Qr,uniformParsers:yr,useDeprecated:function(){var e=this;Object.defineProperties(e,{SVG_SIZE:{get:function(){return nt(Ms,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),e.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return nt(Ms,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),e.Transform}},TransformBase:{get:function(){return nt(Ms,"PIXI.TransformBase class has been removed, use PIXI.Transform"),e.Transform}},TRANSFORM_MODE:{get:function(){return nt(Ms,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return nt(Ms,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),e.Renderer}},CanvasRenderTarget:{get:function(){return nt(Ms,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),e.utils.CanvasRenderTarget}},loader:{get:function(){return nt(Ms,"PIXI.loader instance has moved to PIXI.Loader.shared"),e.Loader.shared}},FilterManager:{get:function(){return nt(Ms,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),e.systems.FilterSystem}},CanvasTinter:{get:function(){return nt("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),e.canvasUtils}},GroupD8:{get:function(){return nt("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),e.groupD8}}}),e.accessibility={},Object.defineProperties(e.accessibility,{AccessibilityManager:{get:function(){return nt("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),e.AccessibilityManager}}}),e.interaction={},Object.defineProperties(e.interaction,{InteractionManager:{get:function(){return nt("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),e.InteractionManager}},InteractionData:{get:function(){return nt("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),e.InteractionData}},InteractionEvent:{get:function(){return nt("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),e.InteractionEvent}}}),e.prepare={},Object.defineProperties(e.prepare,{BasePrepare:{get:function(){return nt("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),e.BasePrepare}},Prepare:{get:function(){return nt("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),e.Prepare}},CanvasPrepare:{get:function(){return nt("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),e.CanvasPrepare}}}),e.extract={},Object.defineProperties(e.extract,{Extract:{get:function(){return nt("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),e.Extract}},CanvasExtract:{get:function(){return nt("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),e.CanvasExtract}}}),e.extras={},Object.defineProperties(e.extras,{TilingSprite:{get:function(){return nt(Ms,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),e.TilingSprite}},TilingSpriteRenderer:{get:function(){return nt(Ms,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),e.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return nt(Ms,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),e.AnimatedSprite}},BitmapText:{get:function(){return nt(Ms,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),e.BitmapText}}}),e.TilingSprite.fromFrame=function(t,n,r){return nt("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),e.TilingSprite.from(t,{width:n,height:r})},e.TilingSprite.fromImage=function(t,n,r,i){return void 0===i&&(i={}),nt("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),i&&"object"!=typeof i&&(i={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),i.width=n,i.height=r,e.TilingSprite.from(t,i)},Object.defineProperties(e.utils,{getSvgSize:{get:function(){return nt(Ms,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),e.resources.SVGResource.getSize}}}),e.mesh={},Object.defineProperties(e.mesh,{Mesh:{get:function(){return nt(Ms,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),e.SimpleMesh}},NineSlicePlane:{get:function(){return nt(Ms,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),e.NineSlicePlane}},Plane:{get:function(){return nt(Ms,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),e.SimplePlane}},Rope:{get:function(){return nt(Ms,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),e.SimpleRope}},RawMesh:{get:function(){return nt(Ms,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),e.Mesh}},CanvasMeshRenderer:{get:function(){return nt(Ms,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),e.CanvasMeshRenderer}},MeshRenderer:{get:function(){return nt(Ms,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),e.MeshRenderer}}}),e.particles={},Object.defineProperties(e.particles,{ParticleContainer:{get:function(){return nt(Ms,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),e.ParticleContainer}},ParticleRenderer:{get:function(){return nt(Ms,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),e.ParticleRenderer}}}),e.ticker={},Object.defineProperties(e.ticker,{Ticker:{get:function(){return nt(Ms,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),e.Ticker}},shared:{get:function(){return nt(Ms,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),e.Ticker.shared}}}),e.loaders={},Object.defineProperties(e.loaders,{Loader:{get:function(){return nt(Ms,"PIXI.loaders.Loader class has moved to PIXI.Loader"),e.Loader}},Resource:{get:function(){return nt(Ms,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),e.LoaderResource}},bitmapFontParser:{get:function(){return nt(Ms,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),e.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){nt(Ms,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return nt(Ms,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),e.SpritesheetLoader.use}},getResourcePath:{get:function(){return nt(Ms,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),e.SpritesheetLoader.getResourcePath}}}),e.Loader.addPixiMiddleware=function(t){return nt(Ms,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),e.loaders.Loader.registerPlugin({use:t()})};var t=function(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)};Object.assign(e.Loader.prototype,{on:function(e){var n=t(e);nt(Ms,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+n+".add")},once:function(e){var n=t(e);nt(Ms,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+n+".once")},off:function(e){var n=t(e);nt(Ms,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+n+".detach")}}),Object.defineProperty(e.extract,"WebGLExtract",{get:function(){return nt(Ms,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),e.Extract}}),Object.defineProperty(e.prepare,"WebGLPrepare",{get:function(){return nt(Ms,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),e.Prepare}}),e.Container.prototype._renderWebGL=function(e){nt(Ms,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(e)},e.Container.prototype.renderWebGL=function(e){nt(Ms,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(e)},e.DisplayObject.prototype.renderWebGL=function(e){nt(Ms,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(e)},e.Container.prototype.renderAdvancedWebGL=function(e){nt(Ms,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(e)},Object.defineProperties(e.settings,{TRANSFORM_MODE:{get:function(){return nt(Ms,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){nt(Ms,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var n=e.BaseTexture;n.prototype.loadSource=function(t){nt(Ms,"PIXI.BaseTexture.loadSource method has been deprecated");var n=e.resources.autoDetectResource(t);n.internal=!0,this.setResource(n),this.update()};var r=!1;Object.defineProperties(n.prototype,{hasLoaded:{get:function(){return nt(Ms,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var e;return nt(Ms,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(e=this.resource)||void 0===e?void 0:e.url},set:function(e){nt(Ms,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=e)}},source:{get:function(){return nt(Ms,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(e){nt(Ms,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=e)}},premultiplyAlpha:{get:function(){return nt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){nt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}},_id:{get:function(){return r||(nt("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),r=!0),this._batchLocation},set:function(e){this._batchLocation=e}}}),n.fromImage=function(e,t,r,i){nt(Ms,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:t};return n.from(e,{scaleMode:r,resourceOptions:o})},n.fromCanvas=function(e,t){return nt(Ms,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),n.from(e,{scaleMode:t})},n.fromSVG=function(e,t,r,i){nt(Ms,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:t};return n.from(e,{scaleMode:r,resourceOptions:o})},Object.defineProperties(e.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return nt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){nt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}}}),e.Point.prototype.copy=function(e){return nt(Ms,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(e)},e.ObservablePoint.prototype.copy=function(e){return nt(Ms,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(e)},e.Rectangle.prototype.copy=function(e){return nt(Ms,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(e)},e.Matrix.prototype.copy=function(e){return nt(Ms,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(e)},e.systems.StateSystem.prototype.setState=function(e){return nt("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(e)},Object.assign(e.systems.FilterSystem.prototype,{getRenderTarget:function(e,t){return nt(Ms,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,t)},returnRenderTarget:function(e){nt(Ms,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(e)},calculateScreenSpaceMatrix:function(e){nt(Ms,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var t=e.identity(),n=this.activeState,r=n.sourceFrame,i=n.destinationFrame;return t.translate(r.x/i.width,r.y/i.height),t.scale(i.width,i.height),t},calculateNormalizedScreenSpaceMatrix:function(e){nt(Ms,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var t=this.activeState,n=t.sourceFrame,r=t.destinationFrame,i=e.identity();i.translate(n.x/r.width,n.y/r.height);var o=r.width/n.width,a=r.height/n.height;return i.scale(o,a),i}}),Object.defineProperties(e.RenderTexture.prototype,{sourceFrame:{get:function(){return nt(Ms,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return nt(Ms,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(e){function t(t,n,r,i){return nt(Ms,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!0,t,n,r,i)||this}return Ps(t,e),t}(e.filters.BlurFilterPass),o=function(e){function t(t,n,r,i){return nt(Ms,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!1,t,n,r,i)||this}return Ps(t,e),t}(e.filters.BlurFilterPass);Object.assign(e.filters,{BlurXFilter:i,BlurYFilter:o});var a=e.Sprite,s=e.Texture,l=e.Graphics;function u(e,t,n,r){return nt(Ms,"PIXI.Sprite."+e+" method is deprecated, use PIXI.Sprite.from"),a.from(t,{resourceOptions:{scale:r,crossorigin:n}})}function c(e,t,n,r){return nt(Ms,"PIXI.Texture."+e+" method is deprecated, use PIXI.Texture.from"),s.from(t,{resourceOptions:{scale:r,crossorigin:n}})}l.prototype.generateCanvasTexture||(l.prototype.generateCanvasTexture=function(){nt(Ms,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(l.prototype,"graphicsData",{get:function(){return nt(Ms,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),a.fromImage=u.bind(null,"fromImage"),a.fromSVG=u.bind(null,"fromSVG"),a.fromCanvas=u.bind(null,"fromCanvas"),a.fromVideo=u.bind(null,"fromVideo"),a.fromFrame=u.bind(null,"fromFrame"),s.fromImage=c.bind(null,"fromImage"),s.fromSVG=c.bind(null,"fromSVG"),s.fromCanvas=c.bind(null,"fromCanvas"),s.fromVideo=c.bind(null,"fromVideo"),s.fromFrame=c.bind(null,"fromFrame"),Object.defineProperty(e.AbstractRenderer.prototype,"autoResize",{get:function(){return nt(Ms,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(e){nt(Ms,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=e}}),Object.defineProperty(e.Renderer.prototype,"textureManager",{get:function(){return nt(Ms,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),e.utils.mixins={mixin:function(){nt(Ms,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){nt(Ms,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){nt(Ms,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(e.BitmapText.prototype,"font",{get:function(){return nt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(t){if(nt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),t){var n={font:t};this._upgradeStyle(n),n.fontSize=n.fontSize||e.BitmapFont.available[n.fontName].size,this._fontName=n.fontName,this._fontSize=n.fontSize,this.dirty=!0}}})},utils:dt},Symbol.toStringTag,{value:"Module"})),Ls=(0,u.b)(Rs);!function(e,t){var n,o,a;window,e.exports=(n=s,o=l,a=Ls,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=317)}([function(e,t,n){n.r(t);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),i.hasOwnProperty(t)?{space:i[t],local:e}:e};function a(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r&&t.documentElement.namespaceURI===r?t.createElement(e):t.createElementNS(n,e)}}function s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var l=function(e){var t=o(e);return(t.local?s:a)(t)};function u(){}var c=function(e){return null==e?u:function(){return this.querySelector(e)}},h=function(e){"function"!=typeof e&&(e=c(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,u=r[i]=new Array(l),h=0;h<l;++h)(o=s[h])&&(a=e.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),u[h]=a);return new Ge(r,this._parents)};function f(){return[]}var d=function(e){return null==e?f:function(){return this.querySelectorAll(e)}},p=function(e){"function"!=typeof e&&(e=d(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new Ge(r,i)},m=function(e){return function(){return this.matches(e)}},v=function(e){"function"!=typeof e&&(e=m(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new Ge(r,this._parents)},g=function(e){return new Array(e.length)},y=function(){return new Ge(this._enter||this._groups.map(g),this._parents)};function b(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}b.prototype={constructor:b,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var _=function(e){return function(){return e}},x="$";function T(e,t,n,r,i,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new b(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function w(e,t,n,r,i,o,a){var s,l,u,c={},h=t.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(d[s]=u=x+a.call(l,l.__data__,s,t),u in c?i[s]=l:c[u]=l);for(s=0;s<f;++s)(l=c[u=x+a.call(e,o[s],s,o)])?(r[s]=l,l.__data__=o[s],c[u]=null):n[s]=new b(e,o[s]);for(s=0;s<h;++s)(l=t[s])&&c[d[s]]===l&&(i[s]=l)}var S=function(e,t){if(!e)return d=new Array(this.size()),u=-1,this.each((function(e){d[++u]=e})),d;var n=t?w:T,r=this._parents,i=this._groups;"function"!=typeof e&&(e=_(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,d=e.call(c,c&&c.__data__,u,r),p=d.length,m=s[u]=new Array(p),v=a[u]=new Array(p);n(c,h,m,v,l[u]=new Array(f),d,t);for(var g,y,b=0,x=0;b<p;++b)if(g=m[b]){for(b>=x&&(x=b+1);!(y=v[x])&&++x<p;);g._next=y||null}}return(a=new Ge(a,r))._enter=s,a._exit=l,a},E=function(){return new Ge(this._exit||this._groups.map(g),this._parents)},k=function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},C=function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],h=u.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(f[d]=l);for(;s<r;++s)a[s]=t[s];return new Ge(a,this._parents)},A=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},O=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=P);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new Ge(i,this._parents).order()};function P(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var M=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},I=function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},R=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},L=function(){var e=0;return this.each((function(){++e})),e},D=function(){return!this.node()},N=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this};function j(e){return function(){this.removeAttribute(e)}}function B(e){return function(){this.removeAttributeNS(e.space,e.local)}}function F(e,t){return function(){this.setAttribute(e,t)}}function H(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function z(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function U(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var V=function(e,t){var n=o(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?B:j:"function"==typeof t?n.local?U:z:n.local?H:F)(n,t))},G=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function X(e){return function(){this.style.removeProperty(e)}}function Y(e,t,n){return function(){this.style.setProperty(e,t,n)}}function W(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}var q=function(e,t,n){return arguments.length>1?this.each((null==t?X:"function"==typeof t?W:Y)(e,t,null==n?"":n)):K(this.node(),e)};function K(e,t){return e.style.getPropertyValue(t)||G(e).getComputedStyle(e,null).getPropertyValue(t)}function $(e){return function(){delete this[e]}}function Z(e,t){return function(){this[e]=t}}function Q(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}var J=function(e,t){return arguments.length>1?this.each((null==t?$:"function"==typeof t?Q:Z)(e,t)):this.node()[e]};function ee(e){return e.trim().split(/^|\s+/)}function te(e){return e.classList||new ne(e)}function ne(e){this._node=e,this._names=ee(e.getAttribute("class")||"")}function re(e,t){for(var n=te(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ie(e,t){for(var n=te(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function oe(e){return function(){re(this,e)}}function ae(e){return function(){ie(this,e)}}function se(e,t){return function(){(t.apply(this,arguments)?re:ie)(this,e)}}ne.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var le=function(e,t){var n=ee(e+"");if(arguments.length<2){for(var r=te(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?se:t?oe:ae)(n,t))};function ue(){this.textContent=""}function ce(e){return function(){this.textContent=e}}function he(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}var fe=function(e){return arguments.length?this.each(null==e?ue:("function"==typeof e?he:ce)(e)):this.node().textContent};function de(){this.innerHTML=""}function pe(e){return function(){this.innerHTML=e}}function me(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}var ve=function(e){return arguments.length?this.each(null==e?de:("function"==typeof e?me:pe)(e)):this.node().innerHTML};function ge(){this.nextSibling&&this.parentNode.appendChild(this)}var ye=function(){return this.each(ge)};function be(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var _e=function(){return this.each(be)},xe=function(e){var t="function"==typeof e?e:l(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))};function Te(){return null}var we=function(e,t){var n="function"==typeof e?e:l(e),r=null==t?Te:"function"==typeof t?t:c(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))};function Se(){var e=this.parentNode;e&&e.removeChild(this)}var Ee=function(){return this.each(Se)};function ke(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Ce(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Ae=function(e){return this.select(e?Ce:ke)},Oe=function(e){return arguments.length?this.property("__data__",e):this.node().__data__},Pe={},Me=null;function Ie(e,t,n){return e=Re(e,t,n),function(t){var n=t.relatedTarget;(!n||n!==this&&!(8&n.compareDocumentPosition(this)))&&e.call(this,t)}}function Re(e,t,n){return function(r){var i=Me;Me=r;try{e.call(this,this.__data__,t,n)}finally{Me=i}}}function Le(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function De(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function Ne(e,t,n){var r=Pe.hasOwnProperty(e.type)?Ie:Re;return function(i,o,a){var s,l=this.__on,u=r(t,o,a);if(l)for(var c=0,h=l.length;c<h;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Pe={mouseenter:"mouseover",mouseleave:"mouseout"}));var je=function(e,t,n){var r,i,o=Le(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Ne:De,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value};function Be(e,t,n,r){var i=Me;e.sourceEvent=Me,Me=e;try{return t.apply(n,r)}finally{Me=i}}function Fe(e,t,n){var r=G(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function He(e,t){return function(){return Fe(this,e,t)}}function ze(e,t){return function(){return Fe(this,e,t.apply(this,arguments))}}var Ue=function(e,t){return this.each(("function"==typeof t?ze:He)(e,t))},Ve=[null];function Ge(e,t){this._groups=e,this._parents=t}function Xe(){return new Ge([[document.documentElement]],Ve)}Ge.prototype=Xe.prototype={constructor:Ge,select:h,selectAll:p,filter:v,data:S,enter:y,exit:E,join:k,merge:C,order:A,sort:O,call:M,nodes:I,node:R,size:L,empty:D,each:N,attr:V,style:q,property:J,classed:le,text:fe,html:ve,raise:ye,lower:_e,append:xe,insert:we,remove:Ee,clone:Ae,datum:Oe,on:je,dispatch:Ue};var Ye=Xe,We=function(e){return"string"==typeof e?new Ge([[document.querySelector(e)]],[document.documentElement]):new Ge([[e]],Ve)},qe=function(e){return We(l(e).call(document.documentElement))},Ke=0;function $e(){return new Ze}function Ze(){this._="@"+(++Ke).toString(36)}Ze.prototype=$e.prototype={constructor:Ze,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Qe=function(){for(var e,t=Me;e=t.sourceEvent;)t=e;return t},Je=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},et=function(e){var t=Qe();return t.changedTouches&&(t=t.changedTouches[0]),Je(e,t)},tt=function(e){return"string"==typeof e?new Ge([document.querySelectorAll(e)],[document.documentElement]):new Ge([null==e?[]:e],Ve)},nt=function(e,t,n){arguments.length<3&&(n=t,t=Qe().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return Je(e,r);return null},rt=function(e,t){null==t&&(t=Qe().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=Je(e,t[n]);return i};n.d(t,"create",(function(){return qe})),n.d(t,"creator",(function(){return l})),n.d(t,"local",(function(){return $e})),n.d(t,"matcher",(function(){return m})),n.d(t,"mouse",(function(){return et})),n.d(t,"namespace",(function(){return o})),n.d(t,"namespaces",(function(){return i})),n.d(t,"clientPoint",(function(){return Je})),n.d(t,"select",(function(){return We})),n.d(t,"selectAll",(function(){return tt})),n.d(t,"selection",(function(){return Ye})),n.d(t,"selector",(function(){return c})),n.d(t,"selectorAll",(function(){return d})),n.d(t,"style",(function(){return K})),n.d(t,"touch",(function(){return nt})),n.d(t,"touches",(function(){return rt})),n.d(t,"window",(function(){return G})),n.d(t,"event",(function(){return Me})),n.d(t,"customEvent",(function(){return Be}))},function(e,t){e.exports=n},function(e,t,n){e.exports=n(568)()},function(e,t,n){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){t.__esModule=!0;var r=i(n(131));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){e.exports={default:n(558),__esModule:!0}},function(e,t,n){t.__esModule=!0;var r=i(n(94));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){t.__esModule=!0;var r=a(n(331)),i=a(n(565)),o=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){n.r(t);var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){return 1===e.length&&(e=o(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};function o(e){return function(t,n){return r(e(t),n)}}var a=i(r),s=a.right,l=a.left,u=s,c=function(e,t){null==t&&(t=h);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o};function h(e,t){return[e,t]}var f=function(e,t,n){var r,i,o,a,s=e.length,l=t.length,u=new Array(s*l);for(null==n&&(n=h),r=o=0;r<s;++r)for(a=e[r],i=0;i<l;++i,++o)u[o]=n(a,t[i]);return u},d=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},p=function(e){return null===e?NaN:+e},m=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,l=0;if(null==t)for(;++a<i;)isNaN(n=p(e[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=p(t(e[a],a,e)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)},v=function(e,t){var n=m(e,t);return n&&Math.sqrt(n)},g=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},y=Array.prototype,b=y.slice,_=y.map,x=function(e){return function(){return e}},T=function(e){return e},w=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},S=Math.sqrt(50),E=Math.sqrt(10),k=Math.sqrt(2),C=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=A(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function A(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=S?10:o>=E?5:o>=k?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=S?10:o>=E?5:o>=k?2:1)}function O(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S?i*=10:o>=E?i*=5:o>=k&&(i*=2),t<e?-i:i}var P=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},M=function(){var e=T,t=g,n=P;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(r[i],i,r);var l=t(s),c=l[0],h=l[1],f=n(s,c,h);Array.isArray(f)||(f=O(c,h,f),f=w(Math.ceil(c/f)*f,h,f));for(var d=f.length;f[0]<=c;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var p,m=new Array(d+1);for(i=0;i<=d;++i)(p=m[i]=[]).x0=i>0?f[i-1]:c,p.x1=i<d?f[i]:h;for(i=0;i<a;++i)c<=(o=s[i])&&o<=h&&m[u(f,o,0,d)].push(r[i]);return m}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:x(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:x([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?x(b.call(e)):x(e),r):n},r},I=function(e,t,n){if(null==n&&(n=p),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},R=function(e,t,n){return e=_.call(e,p).sort(r),Math.ceil((n-t)/(2*(I(e,.75)-I(e,.25))*Math.pow(e.length,-1/3)))},L=function(e,t,n){return Math.ceil((n-t)/(3.5*v(e)*Math.pow(e.length,-1/3)))},D=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},N=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=p(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=p(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},j=function(e,t){var n,i=e.length,o=-1,a=[];if(null==t)for(;++o<i;)isNaN(n=p(e[o]))||a.push(n);else for(;++o<i;)isNaN(n=p(t(e[o],o,e)))||a.push(n);return I(a.sort(r),.5)},B=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},F=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},H=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},z=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);if(0===t(s,s))return a}},U=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},V=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},G=function(e){if(!(i=e.length))return[];for(var t=-1,n=F(e,X),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r};function X(e){return e.length}var Y=function(){return G(arguments)};n.d(t,"bisect",(function(){return u})),n.d(t,"bisectRight",(function(){return s})),n.d(t,"bisectLeft",(function(){return l})),n.d(t,"ascending",(function(){return r})),n.d(t,"bisector",(function(){return i})),n.d(t,"cross",(function(){return f})),n.d(t,"descending",(function(){return d})),n.d(t,"deviation",(function(){return v})),n.d(t,"extent",(function(){return g})),n.d(t,"histogram",(function(){return M})),n.d(t,"thresholdFreedmanDiaconis",(function(){return R})),n.d(t,"thresholdScott",(function(){return L})),n.d(t,"thresholdSturges",(function(){return P})),n.d(t,"max",(function(){return D})),n.d(t,"mean",(function(){return N})),n.d(t,"median",(function(){return j})),n.d(t,"merge",(function(){return B})),n.d(t,"min",(function(){return F})),n.d(t,"pairs",(function(){return c})),n.d(t,"permute",(function(){return H})),n.d(t,"quantile",(function(){return I})),n.d(t,"range",(function(){return w})),n.d(t,"scan",(function(){return z})),n.d(t,"shuffle",(function(){return U})),n.d(t,"sum",(function(){return V})),n.d(t,"ticks",(function(){return C})),n.d(t,"tickIncrement",(function(){return A})),n.d(t,"tickStep",(function(){return O})),n.d(t,"transpose",(function(){return G})),n.d(t,"variance",(function(){return m})),n.d(t,"zip",(function(){return Y}))},function(e,t,n){n.r(t);var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}var a=.7,s=1/a,l="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3})$/,f=/^#([0-9a-f]{6})$/,d=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),p=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),m=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),v=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),g=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),y=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _(e){var t;return e=(e+"").trim().toLowerCase(),(t=h.exec(e))?new E((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=f.exec(e))?x(parseInt(t[1],16)):(t=d.exec(e))?new E(t[1],t[2],t[3],1):(t=p.exec(e))?new E(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=m.exec(e))?T(t[1],t[2],t[3],t[4]):(t=v.exec(e))?T(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?C(t[1],t[2]/100,t[3]/100,1):(t=y.exec(e))?C(t[1],t[2]/100,t[3]/100,t[4]):b.hasOwnProperty(e)?x(b[e]):"transparent"===e?new E(NaN,NaN,NaN,0):null}function x(e){return new E(e>>16&255,e>>8&255,255&e,1)}function T(e,t,n,r){return r<=0&&(e=t=n=NaN),new E(e,t,n,r)}function w(e){return e instanceof o||(e=_(e)),e?new E((e=e.rgb()).r,e.g,e.b,e.opacity):new E}function S(e,t,n,r){return 1===arguments.length?w(e):new E(e,t,n,null==r?1:r)}function E(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function k(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function C(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new P(e,t,n,r)}function A(e){if(e instanceof P)return new P(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=_(e)),!e)return new P;if(e instanceof P)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(s=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new P(s,l,u,e.opacity)}function O(e,t,n,r){return 1===arguments.length?A(e):new P(e,t,n,null==r?1:r)}function P(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function M(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(o,_,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(E,S,i(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+k(this.r)+k(this.g)+k(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),r(P,O,i(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new P(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new P(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new E(M(e>=240?e-240:e+120,i,r),M(e,i,r),M(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var I=Math.PI/180,R=180/Math.PI,L=18,D=.96422,N=1,j=.82521,B=4/29,F=6/29,H=3*F*F,z=F*F*F;function U(e){if(e instanceof X)return new X(e.l,e.a,e.b,e.opacity);if(e instanceof J){if(isNaN(e.h))return new X(e.l,0,0,e.opacity);var t=e.h*I;return new X(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof E||(e=w(e));var n,r,i=K(e.r),o=K(e.g),a=K(e.b),s=Y((.2225045*i+.7168786*o+.0606169*a)/N);return i===o&&o===a?n=r=s:(n=Y((.4360747*i+.3850649*o+.1430804*a)/D),r=Y((.0139322*i+.0971045*o+.7141733*a)/j)),new X(116*s-16,500*(n-s),200*(s-r),e.opacity)}function V(e,t){return new X(e,0,0,null==t?1:t)}function G(e,t,n,r){return 1===arguments.length?U(e):new X(e,t,n,null==r?1:r)}function X(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Y(e){return e>z?Math.pow(e,1/3):e/H+B}function W(e){return e>F?e*e*e:H*(e-B)}function q(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function K(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function $(e){if(e instanceof J)return new J(e.h,e.c,e.l,e.opacity);if(e instanceof X||(e=U(e)),0===e.a&&0===e.b)return new J(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*R;return new J(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Z(e,t,n,r){return 1===arguments.length?$(e):new J(n,t,e,null==r?1:r)}function Q(e,t,n,r){return 1===arguments.length?$(e):new J(e,t,n,null==r?1:r)}function J(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}r(X,G,i(o,{brighter:function(e){return new X(this.l+L*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new X(this.l-L*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new E(q(3.1338561*(t=D*W(t))-1.6168667*(e=N*W(e))-.4906146*(n=j*W(n))),q(-.9787684*t+1.9161415*e+.033454*n),q(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),r(J,Q,i(o,{brighter:function(e){return new J(this.h,this.c,this.l+L*(null==e?1:e),this.opacity)},darker:function(e){return new J(this.h,this.c,this.l-L*(null==e?1:e),this.opacity)},rgb:function(){return U(this).rgb()}}));var ee=-.14861,te=1.78277,ne=-.29227,re=-.90649,ie=1.97294,oe=ie*re,ae=ie*te,se=te*ne-re*ee;function le(e){if(e instanceof ce)return new ce(e.h,e.s,e.l,e.opacity);e instanceof E||(e=w(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(se*r+oe*t-ae*n)/(se+oe-ae),o=r-i,a=(ie*(n-i)-ne*o)/re,s=Math.sqrt(a*a+o*o)/(ie*i*(1-i)),l=s?Math.atan2(a,o)*R-120:NaN;return new ce(l<0?l+360:l,s,i,e.opacity)}function ue(e,t,n,r){return 1===arguments.length?le(e):new ce(e,t,n,null==r?1:r)}function ce(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}r(ce,ue,i(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new ce(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new ce(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*I,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new E(255*(t+n*(ee*r+te*i)),255*(t+n*(ne*r+re*i)),255*(t+n*(ie*r)),this.opacity)}})),n.d(t,"color",(function(){return _})),n.d(t,"rgb",(function(){return S})),n.d(t,"hsl",(function(){return O})),n.d(t,"lab",(function(){return G})),n.d(t,"hcl",(function(){return Q})),n.d(t,"lch",(function(){return Z})),n.d(t,"gray",(function(){return V})),n.d(t,"cubehelix",(function(){return ue}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(527);Object.defineProperty(t,"absToChr",{enumerable:!0,get:function(){function e(){return Le(r).default}return e}()});var i=n(528);Object.defineProperty(t,"accessorTransposition",{enumerable:!0,get:function(){function e(){return Le(i).default}return e}()});var o=n(529);Object.defineProperty(t,"addArrays",{enumerable:!0,get:function(){function e(){return Le(o).default}return e}()});var a=n(530);Object.defineProperty(t,"addClass",{enumerable:!0,get:function(){function e(){return Le(a).default}return e}()});var s=n(531);Object.defineProperty(t,"base64ToCanvas",{enumerable:!0,get:function(){function e(){return Le(s).default}return e}()});var l=n(532);Object.defineProperty(t,"chromInfoBisector",{enumerable:!0,get:function(){function e(){return Le(l).default}return e}()});var u=n(533);Object.defineProperty(t,"chrToAbs",{enumerable:!0,get:function(){function e(){return Le(u).default}return e}()});var c=n(323);Object.defineProperty(t,"cloneEvent",{enumerable:!0,get:function(){function e(){return Le(c).default}return e}()});var h=n(534);Object.defineProperty(t,"colorDomainToRgbaArray",{enumerable:!0,get:function(){function e(){return Le(h).default}return e}()});var f=n(535);Object.defineProperty(t,"colorToHex",{enumerable:!0,get:function(){function e(){return Le(f).default}return e}()});var d=n(536);Object.defineProperty(t,"colorToRgba",{enumerable:!0,get:function(){function e(){return Le(d).default}return e}()});var p=n(326);Object.defineProperty(t,"dataToGenomicLoci",{enumerable:!0,get:function(){function e(){return Le(p).default}return e}()});var m=n(537);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){function e(){return Le(m).default}return e}()});var v=n(538);Object.defineProperty(t,"decToHexStr",{enumerable:!0,get:function(){function e(){return Le(v).default}return e}()});var g=n(539);Object.defineProperty(t,"dictFromTuples",{enumerable:!0,get:function(){function e(){return Le(g).default}return e}()});var y=n(540);Object.defineProperty(t,"dictItems",{enumerable:!0,get:function(){function e(){return Le(y).default}return e}()});var b=n(541);Object.defineProperty(t,"dictKeys",{enumerable:!0,get:function(){function e(){return Le(b).default}return e}()});var _=n(542);Object.defineProperty(t,"dictValues",{enumerable:!0,get:function(){function e(){return Le(_).default}return e}()});var x=n(543);Object.defineProperty(t,"download",{enumerable:!0,get:function(){function e(){return Le(x).default}return e}()});var T=n(544);Object.defineProperty(t,"fillInMinWidths",{enumerable:!0,get:function(){function e(){return Le(T).default}return e}()});var w=n(890);Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){function e(){return Le(w).default}return e}()});var S=n(891);Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){function e(){return Le(S).default}return e}()});var E=n(892);Object.defineProperty(t,"forwardEvent",{enumerable:!0,get:function(){function e(){return Le(E).default}return e}()});var k=n(893);Object.defineProperty(t,"genomeLociToPixels",{enumerable:!0,get:function(){function e(){return Le(k).default}return e}()});var C=n(894);Object.defineProperty(t,"genomicRangeToChromosomeChunks",{enumerable:!0,get:function(){function e(){return Le(C).default}return e}()});var A=n(895);Object.defineProperty(t,"getDefaultTrackForDatatype",{enumerable:!0,get:function(){function e(){return Le(A).default}return e}()});var O=n(896);Object.defineProperty(t,"getElementDim",{enumerable:!0,get:function(){function e(){return Le(O).default}return e}()});var P=n(897);Object.defineProperty(t,"getTrackByUid",{enumerable:!0,get:function(){function e(){return Le(P).default}return e}()});var M=n(898);Object.defineProperty(t,"getTrackConfFromHGC",{enumerable:!0,get:function(){function e(){return Le(M).default}return e}()});var I=n(899);Object.defineProperty(t,"getTrackObjById",{enumerable:!0,get:function(){function e(){return Le(I).default}return e}()});var R=n(900);Object.defineProperty(t,"getTrackPositionByUid",{enumerable:!0,get:function(){function e(){return Le(R).default}return e}()});var L=n(441);Object.defineProperty(t,"getXylofon",{enumerable:!0,get:function(){function e(){return Le(L).default}return e}()});var D=n(901);Object.defineProperty(t,"gradient",{enumerable:!0,get:function(){function e(){return Le(D).default}return e}()});var N=n(221);Object.defineProperty(t,"hasClass",{enumerable:!0,get:function(){function e(){return Le(N).default}return e}()});var j=n(902);Object.defineProperty(t,"hasParent",{enumerable:!0,get:function(){function e(){return Le(j).default}return e}()});var B=n(903);Object.defineProperty(t,"hexStrToInt",{enumerable:!0,get:function(){function e(){return Le(B).default}return e}()});var F=n(904);Object.defineProperty(t,"intoTheVoid",{enumerable:!0,get:function(){function e(){return Le(F).default}return e}()});var H=n(905);Object.defineProperty(t,"isTrackOrChildTrack",{enumerable:!0,get:function(){function e(){return Le(H).default}return e}()});var z=n(906);Object.defineProperty(t,"isWithin",{enumerable:!0,get:function(){function e(){return Le(z).default}return e}()});var U=n(907);Object.defineProperty(t,"latToY",{enumerable:!0,get:function(){function e(){return Le(U).default}return e}()});var V=n(908);Object.defineProperty(t,"loadChromInfos",{enumerable:!0,get:function(){function e(){return Le(V).default}return e}()});var G=n(909);Object.defineProperty(t,"lngToX",{enumerable:!0,get:function(){function e(){return Le(G).default}return e}()});var X=n(442);Object.defineProperty(t,"map",{enumerable:!0,get:function(){function e(){return Le(X).default}return e}()});var Y=n(910);Object.defineProperty(t,"max",{enumerable:!0,get:function(){function e(){return Le(Y).default}return e}()});var W=n(911);Object.defineProperty(t,"maxNonZero",{enumerable:!0,get:function(){function e(){return Le(W).default}return e}()});var q=n(912);Object.defineProperty(t,"min",{enumerable:!0,get:function(){function e(){return Le(q).default}return e}()});var K=n(913);Object.defineProperty(t,"minNonZero",{enumerable:!0,get:function(){function e(){return Le(K).default}return e}()});var $=n(914);Object.defineProperty(t,"mod",{enumerable:!0,get:function(){function e(){return Le($).default}return e}()});var Z=n(915);Object.defineProperty(t,"ndarrayAssign",{enumerable:!0,get:function(){function e(){return Le(Z).default}return e}()});var Q=n(916);Object.defineProperty(t,"ndarrayFlatten",{enumerable:!0,get:function(){function e(){return Le(Q).default}return e}()});var J=n(445);Object.defineProperty(t,"ndarrayToList",{enumerable:!0,get:function(){function e(){return Le(J).default}return e}()});var ee=n(917);Object.defineProperty(t,"numericifyVersion",{enumerable:!0,get:function(){function e(){return Le(ee).default}return e}()});var te=n(918);Object.defineProperty(t,"objVals",{enumerable:!0,get:function(){function e(){return Le(te).default}return e}()});var ne=n(919);Object.defineProperty(t,"or",{enumerable:!0,get:function(){function e(){return Le(ne).default}return e}()});var re=n(920);Object.defineProperty(t,"parseChromsizesRows",{enumerable:!0,get:function(){function e(){return Le(re).default}return e}()});var ie=n(921);Object.defineProperty(t,"pixiTextToSvg",{enumerable:!0,get:function(){function e(){return Le(ie).default}return e}()});var oe=n(922);Object.defineProperty(t,"q",{enumerable:!0,get:function(){function e(){return Le(oe).default}return e}()});var ae=n(439);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){function e(){return Le(ae).default}return e}()});var se=n(923);Object.defineProperty(t,"rangeQuery2d",{enumerable:!0,get:function(){function e(){return Le(se).default}return e}()});var le=n(924);Object.defineProperty(t,"relToAbsChromPos",{enumerable:!0,get:function(){function e(){return Le(le).default}return e}()});var ue=n(925);Object.defineProperty(t,"removeClass",{enumerable:!0,get:function(){function e(){return Le(ue).default}return e}()});var ce=n(926);Object.defineProperty(t,"resetD3BrushStyle",{enumerable:!0,get:function(){function e(){return Le(ce).default}return e}()});var he=n(927);Object.defineProperty(t,"rgbToHex",{enumerable:!0,get:function(){function e(){return Le(he).default}return e}()});var fe=n(928);Object.defineProperty(t,"scalesCenterAndK",{enumerable:!0,get:function(){function e(){return Le(fe).default}return e}()});var de=n(929);Object.defineProperty(t,"scalesToGenomeLoci",{enumerable:!0,get:function(){function e(){return Le(de).default}return e}()});var pe=n(930);Object.defineProperty(t,"showMousePosition",{enumerable:!0,get:function(){function e(){return Le(pe).default}return e}()});var me=n(931);Object.defineProperty(t,"some",{enumerable:!0,get:function(){function e(){return Le(me).default}return e}()});var ve=n(932);Object.defineProperty(t,"sum",{enumerable:!0,get:function(){function e(){return Le(ve).default}return e}()});var ge=n(933);Object.defineProperty(t,"svgLine",{enumerable:!0,get:function(){function e(){return Le(ge).default}return e}()});var ye=n(934);Object.defineProperty(t,"throttleAndDebounce",{enumerable:!0,get:function(){function e(){return Le(ye).default}return e}()});var be=n(935);Object.defineProperty(t,"tileToCanvas",{enumerable:!0,get:function(){function e(){return Le(be).default}return e}()});var _e=n(936);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){function e(){return Le(_e).default}return e}()});var xe=n(937);Object.defineProperty(t,"totalTrackPixelHeight",{enumerable:!0,get:function(){function e(){return Le(xe).default}return e}()});var Te=n(171);Object.defineProperty(t,"toVoid",{enumerable:!0,get:function(){function e(){return Le(Te).default}return e}()});var we=n(938);Object.defineProperty(t,"trimTrailingSlash",{enumerable:!0,get:function(){function e(){return Le(we).default}return e}()});var Se=n(939);Object.defineProperty(t,"valueToColor",{enumerable:!0,get:function(){function e(){return Le(Se).default}return e}()});var Ee=n(940);Object.defineProperty(t,"expandCombinedTracks",{enumerable:!0,get:function(){function e(){return Le(Ee).default}return e}()});var ke=n(941);Object.defineProperty(t,"segmentsToRows",{enumerable:!0,get:function(){function e(){return Le(ke).default}return e}()});var Ce=n(443);Object.defineProperty(t,"visitPositionedTracks",{enumerable:!0,get:function(){function e(){return Le(Ce).default}return e}()});var Ae=n(444);Object.defineProperty(t,"visitTracks",{enumerable:!0,get:function(){function e(){return Le(Ae).default}return e}()});var Oe=n(943);Object.defineProperty(t,"trackUtils",{enumerable:!0,get:function(){function e(){return Le(Oe).default}return e}()});var Pe=n(137);Object.defineProperty(t,"DenseDataExtrema1D",{enumerable:!0,get:function(){function e(){return Le(Pe).default}return e}()});var Me=n(138);Object.defineProperty(t,"DenseDataExtrema2D",{enumerable:!0,get:function(){function e(){return Le(Me).default}return e}()});var Ie=n(446);Object.defineProperty(t,"getTrackObjectFromHGC",{enumerable:!0,get:function(){function e(){return Ie.getTrackObjectFromHGC}return e}()}),Object.defineProperty(t,"getTrackRenderer",{enumerable:!0,get:function(){function e(){return Ie.getTrackRenderer}return e}()}),Object.defineProperty(t,"getTiledPlot",{enumerable:!0,get:function(){function e(){return Ie.getTiledPlot}return e}()});var Re=n(944);function Le(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"changeOptions",{enumerable:!0,get:function(){function e(){return Re.changeOptions}return e}()}),Object.defineProperty(t,"waitForJsonComplete",{enumerable:!0,get:function(){function e(){return Re.waitForJsonComplete}return e}()}),Object.defineProperty(t,"waitForTilesLoaded",{enumerable:!0,get:function(){function e(){return Re.waitForTilesLoaded}return e}()}),Object.defineProperty(t,"waitForTransitionsFinished",{enumerable:!0,get:function(){function e(){return Re.waitForTransitionsFinished}return e}()}),Object.defineProperty(t,"mountHGComponent",{enumerable:!0,get:function(){function e(){return Re.mountHGComponent}return e}()}),Object.defineProperty(t,"removeHGComponent",{enumerable:!0,get:function(){function e(){return Re.removeHGComponent}return e}()})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(327);Object.defineProperty(t,"THEME_LIGHT",{enumerable:!0,get:function(){function e(){return r.THEME_LIGHT}return e}()}),Object.defineProperty(t,"THEME_DARK",{enumerable:!0,get:function(){function e(){return r.THEME_DARK}return e}()}),Object.defineProperty(t,"THEME_DEFAULT",{enumerable:!0,get:function(){function e(){return r.THEME_DEFAULT}return e}()});var i=n(324);Object.defineProperty(t,"GLOBALS",{enumerable:!0,get:function(){function e(){return m(i).default}return e}()});var o=n(551);Object.defineProperty(t,"DATATYPE_TO_TRACK_TYPE",{enumerable:!0,get:function(){function e(){return m(o).default}return e}()});var a=n(552);Object.defineProperty(t,"HEATED_OBJECT_MAP",{enumerable:!0,get:function(){function e(){return m(a).default}return e}()});var s=n(553);Object.defineProperty(t,"IS_TRACK_RANGE_SELECTABLE",{enumerable:!0,get:function(){function e(){return m(s).default}return e}()});var l=n(554);Object.defineProperty(t,"OPTIONS_INFO",{enumerable:!0,get:function(){function e(){return m(l).default}return e}()});var u=n(880);Object.defineProperty(t,"TRACKS_INFO",{enumerable:!0,get:function(){function e(){return m(u).default}return e}()});var c=n(882);Object.defineProperty(t,"TRACKS_INFO_BY_TYPE",{enumerable:!0,get:function(){function e(){return m(c).default}return e}()});var h=n(883);Object.defineProperty(t,"POSITIONS_BY_DATATYPE",{enumerable:!0,get:function(){function e(){return m(h).default}return e}()});var f=n(884);Object.defineProperty(t,"DEFAULT_TRACKS_FOR_DATATYPE",{enumerable:!0,get:function(){function e(){return m(f).default}return e}()});var d=n(885);Object.defineProperty(t,"AVAILABLE_FOR_PLUGINS",{enumerable:!0,get:function(){function e(){return m(d).default}return e}()});var p=n(889);function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AVAILABLE_TRACK_TYPES",{enumerable:!0,get:function(){function e(){return m(p).default}return e}()}),t.DEFAULT_VIEW_MARGIN=0,t.DEFAULT_VIEW_PADDING=5,t.DEFAULT_CONTAINER_PADDING_X=10,t.DEFAULT_CONTAINER_PADDING_Y=10,t.MAX_CLICK_DELAY=300,t.MOUSE_TOOL_MOVE="move",t.MOUSE_TOOL_SELECT="select",t.TILE_FETCH_DEBOUNCE=100,t.ZOOM_DEBOUNCE=10,t.SHORT_DRAG_TIMEOUT=110,t.LONG_DRAG_TIMEOUT=3e3,t.LOCATION_LISTENER_PREFIX="locationListenerPrefix",t.ZOOM_TRANSITION_DURATION=1e3,t.DEFAULT_SERVER="http://higlass.io/api/v1",t.VIEW_HEADER_MED_WIDTH_SEARCH_BAR=400,t.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR=300,t.TRACK_LOCATIONS=["top","left","right","bottom","center","whole","gallery"],t.MIN_HORIZONTAL_HEIGHT=20,t.MIN_VERTICAL_WIDTH=20},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=u(n(731)),i=u(n(797)),o=u(n(816)),a=u(n(817)),s=u(n(818)),l=u(n(819));function u(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=l.default;var c=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),l=(0,i.default)(e,s);return(0,o.default)(l)};t.default=c},function(e,t,n){t.__esModule=!0;var r=o(n(5)),i=o(n(612));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,o){null===t&&(t=Function.prototype);var a=(0,i.default)(t,n);if(void 0===a){var s=(0,r.default)(t);return null===s?void 0:e(s,n,o)}if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(o)}},function(e,t,n){var r=n(9),i=function(e){return function(){return e}};function o(e,t){return function(n){return e+n*t}}function a(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function s(e,t){var n=t-e;return n?o(e,n>180||n<-180?n-360*Math.round(n/360):n):i(isNaN(e)?t:e)}function l(e){return 1==(e=+e)?u:function(t,n){return n-t?a(t,n,e):i(isNaN(t)?n:t)}}function u(e,t){var n=t-e;return n?o(e,n):i(isNaN(e)?t:e)}var c=function e(t){var n=l(t);function i(e,t){var i=n((e=Object(r.rgb)(e)).r,(t=Object(r.rgb)(t)).r),o=n(e.g,t.g),a=n(e.b,t.b),s=u(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e.opacity=s(t),e+""}}return i.gamma=e,i}(1),h=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=S(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}},f=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},d=function(e,t){return t-=e=+e,function(n){return e+t*n}},p=function(e,t){var n,r={},i={};for(n in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)n in e?r[n]=S(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v=new RegExp(m.source,"g");function g(e){return function(){return e}}function y(e){return function(t){return e(t)+""}}var b,_,x,T,w=function(e,t){var n,r,i,o=m.lastIndex=v.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=m.exec(e))&&(r=v.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:d(n,r)})),o=v.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?y(l[0].x):g(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},S=function(e,t){var n,o=typeof t;return null==t||"boolean"===o?i(t):("number"===o?d:"string"===o?(n=Object(r.color)(t))?(t=n,c):w:t instanceof r.color?c:t instanceof Date?f:Array.isArray(t)?h:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?p:d)(e,t)},E=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},k=180/Math.PI,C={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},A=function(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*k,skewX:Math.atan(l)*k,scaleX:a,scaleY:s}};function O(e){return"none"===e?C:(b||(b=document.createElement("DIV"),_=document.documentElement,x=document.defaultView),b.style.transform=e,e=x.getComputedStyle(_.appendChild(b),null).getPropertyValue("transform"),_.removeChild(b),e=e.slice(7,-1).split(","),A(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function P(e){return null!=e&&(T||(T=document.createElementNS("http://www.w3.org/2000/svg","g")),T.setAttribute("transform",e),e=T.transform.baseVal.consolidate())?(e=e.matrix,A(e.a,e.b,e.c,e.d,e.e,e.f)):C}function M(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}function o(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:d(e,i)},{i:l-2,x:d(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}function a(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:d(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}function s(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:d(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}function l(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:d(e,n)},{i:s-2,x:d(t,r)})}else(1!==n||1!==r)&&o.push(i(o)+"scale("+n+","+r+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),o(t.translateX,t.translateY,n.translateX,n.translateY,r,i),a(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}var I=M(O,"px, ","px)","deg)"),R=M(P,", ",")",")"),L=Math.SQRT2,D=2,N=4,j=1e-12;function B(e){return((e=Math.exp(e))+1/e)/2}function F(e){return((e=Math.exp(e))-1/e)/2}function H(e){return((e=Math.exp(2*e))-1)/(e+1)}var z=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-i,h=l-o,f=c*c+h*h;if(f<j)r=Math.log(u/a)/L,n=function(e){return[i+e*c,o+e*h,a*Math.exp(L*e*r)]};else{var d=Math.sqrt(f),p=(u*u-a*a+N*f)/(2*a*D*d),m=(u*u-a*a-N*f)/(2*u*D*d),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/L,n=function(e){var t=e*r,n=B(v),s=a/(D*d)*(n*H(L*t+v)-F(v));return[i+s*c,o+s*h,a*n/B(L*t+v)]}}return n.duration=1e3*r,n};function U(e){return function t(n){function i(t,i){var o=e((t=Object(r.cubehelix)(t)).h,(i=Object(r.cubehelix)(i)).h),a=u(t.s,i.s),s=u(t.l,i.l),l=u(t.opacity,i.opacity);return function(e){return t.h=o(e),t.s=a(e),t.l=s(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,i.gamma=t,i}(1)}U(s);var V=U(u);n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return R})),n.d(t,"i",(function(){return z})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return V}))},function(e,t,n){var r=n(23),i=n(12),o=n(49),a=n(43),s=n(47),l="prototype",u=function e(t,n,u){var c,h,f,d=t&e.F,p=t&e.G,m=t&e.S,v=t&e.P,g=t&e.B,y=t&e.W,b=p?i:i[n]||(i[n]={}),_=b[l],x=p?r:m?r[n]:(r[n]||{})[l];for(c in p&&(u=n),u)(!(h=!d&&x&&void 0!==x[c])||!s(b,c))&&(f=h?x[c]:u[c],b[c]=p&&"function"!=typeof x[c]?u[c]:g&&h?o(f,r):y&&x[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[l]=e[l],t}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((b.virtual||(b.virtual={}))[c]=f,t&e.R&&_&&!_[c]&&a(_,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){e.exports={default:n(216),__esModule:!0}},function(e,t,n){e.exports={default:n(208),__esModule:!0}},function(e,t,n){t.__esModule=!0;var r=o(n(516)),i=o(n(17));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,l=(0,i.default)(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,a=u}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){n.r(t);var r=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},i=function(e){return(e=r(Math.abs(e)))?e[1]:NaN},o=function(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}},a=function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}},s=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(e){return new u(e)}function u(e){if(!(t=s.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}l.prototype=u.prototype,u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var c,h,f,d,p=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(i>0){if(!+e[r])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e},m=function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},v={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return m(100*e,t)},r:m,s:function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],o=n[1],a=o-(c=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+r(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},g=function(e){return e},y=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],b=function(e){var t=e.grouping&&e.thousands?o(e.grouping,e.thousands):g,n=e.currency,r=e.decimal,s=e.numerals?a(e.numerals):g,u=e.percent||"%";function h(e){var i=(e=l(e)).fill,o=e.align,a=e.sign,h=e.symbol,f=e.zero,d=e.width,m=e.comma,g=e.precision,b=e.trim,_=e.type;"n"===_?(m=!0,_="g"):v[_]||(null==g&&(g=12),b=!0,_="g"),(f||"0"===i&&"="===o)&&(f=!0,i="0",o="=");var x="$"===h?n[0]:"#"===h&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T="$"===h?n[1]:/[%p]/.test(_)?u:"",w=v[_],S=/[defgprs%]/.test(_);function E(e){var n,l,u,h=x,v=T;if("c"===_)v=w(e)+v,e="";else{var E=(e=+e)<0;if(e=w(Math.abs(e),g),b&&(e=p(e)),E&&0==+e&&(E=!1),h=(E?"("===a?a:"-":"-"===a||"("===a?"":a)+h,v=("s"===_?y[8+c/3]:"")+v+(E&&"("===a?")":""),S)for(n=-1,l=e.length;++n<l;)if(48>(u=e.charCodeAt(n))||u>57){v=(46===u?r+e.slice(n+1):e.slice(n))+v,e=e.slice(0,n);break}}m&&!f&&(e=t(e,1/0));var k=h.length+e.length+v.length,C=k<d?new Array(d-k+1).join(i):"";switch(m&&f&&(e=t(C+e,C.length?d-v.length:1/0),C=""),o){case"<":e=h+e+v+C;break;case"=":e=h+C+e+v;break;case"^":e=C.slice(0,k=C.length>>1)+h+e+v+C.slice(k);break;default:e=C+h+e+v}return s(e)}return g=null==g?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return e+""},E}function f(e,t){var n=h(((e=l(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(i(t)/3))),o=Math.pow(10,-r),a=y[8+r/3];return function(e){return n(o*e)+a}}return{format:h,formatPrefix:f}};function _(e){return h=b(e),f=h.format,d=h.formatPrefix,h}_({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var x=function(e){return Math.max(0,-i(Math.abs(e)))},T=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(t)/3)))-i(Math.abs(e)))},w=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,i(t)-i(e))+1};n.d(t,"formatDefaultLocale",(function(){return _})),n.d(t,"format",(function(){return f})),n.d(t,"formatPrefix",(function(){return d})),n.d(t,"formatLocale",(function(){return b})),n.d(t,"formatSpecifier",(function(){return l})),n.d(t,"precisionFixed",(function(){return x})),n.d(t,"precisionPrefix",(function(){return T})),n.d(t,"precisionRound",(function(){return w}))},function(e,t,n){var r=n(106)("wks"),i=n(91),o=n(23).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(822);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return h(r).default}});var i=n(289);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return h(i).default}});var o=n(825);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return h(o).default}});var a=n(826);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return h(a).default}});var s=n(828);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return h(s).default}});var l=n(835);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return h(l).default}});var u=n(437);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return h(u).default}});var c=n(841);function h(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return h(c).default}})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(519);Object.defineProperty(t,"chromInfo",{enumerable:!0,get:function(){function e(){return s(r).default}return e}()});var i=n(1077);Object.defineProperty(t,"createDomEvent",{enumerable:!0,get:function(){function e(){return s(i).default}return e}()});var o=n(440);Object.defineProperty(t,"ElementResizeListener",{enumerable:!0,get:function(){function e(){return s(o).default}return e}()});var a=n(1078);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"tileProxy",{enumerable:!0,get:function(){function e(){return s(a).default}return e}()}),Object.defineProperty(t,"requestsInFlight",{enumerable:!0,get:function(){function e(){return a.requestsInFlight}return e}()}),Object.defineProperty(t,"setTileProxyAuthHeader",{enumerable:!0,get:function(){function e(){return a.setTileProxyAuthHeader}return e}()}),Object.defineProperty(t,"getTileProxyAuthHeader",{enumerable:!0,get:function(){function e(){return a.getTileProxyAuthHeader}return e}()}),Object.defineProperty(t,"authHeader",{enumerable:!0,get:function(){function e(){return a.authHeader}return e}()})},function(e,t,n){t.__esModule=!0;var r=i(n(95));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}},function(e,t,n){e.exports=n(587)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n.r(t);var r=n(8),i=n(72),o=Array.prototype,a=o.map,s=o.slice,l={name:"implicit"};function u(e){var t=Object(i.a)(),n=[],r=l;function o(i){var o=i+"",a=t.get(o);if(!a){if(r!==l)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:s.call(e),o.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Object(i.a)();for(var r,a,s=-1,l=e.length;++s<l;)t.has(a=(r=e[s])+"")||t.set(a,n.push(r));return o},o.range=function(t){return arguments.length?(e=s.call(t),o):e.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return u().domain(n).range(e).unknown(r)},o}function c(){var e,t,n=u().unknown(void 0),i=n.domain,o=n.range,a=[0,1],s=!1,l=0,h=0,f=.5;function d(){var n=i().length,u=a[1]<a[0],c=a[u-0],d=a[1-u];e=(d-c)/Math.max(1,n-l+2*h),s&&(e=Math.floor(e)),c+=(d-c-e*(n-l))*f,t=e*(1-l),s&&(c=Math.round(c),t=Math.round(t));var p=Object(r.range)(n).map((function(t){return c+e*t}));return o(u?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),d()):i()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],d()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=h=Math.max(0,Math.min(1,e)),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),d()):l},n.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),d()):h},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),d()):f},n.copy=function(){return c().domain(i()).range(a).round(s).paddingInner(l).paddingOuter(h).align(f)},d()}function h(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return h(t())},e}function f(){return h(c().paddingInner(1))}var d=n(15),p=function(e){return function(){return e}},m=function(e){return+e},v=[0,1];function g(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:p(t)}function y(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function b(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function _(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function x(e,t,n,i){var o=Math.min(e.length,t.length)-1,a=new Array(o),s=new Array(o),l=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<o;)a[l]=n(e[l],e[l+1]),s[l]=i(t[l],t[l+1]);return function(t){var n=Object(r.bisect)(e,t,1,o)-1;return s[n](a[n](t))}}function T(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function w(e,t){var n,r,i,o=v,l=v,u=d.a,c=!1;function h(){return n=Math.min(o.length,l.length)>2?x:_,r=i=null,f}function f(t){return(r||(r=n(o,l,c?y(e):e,u)))(+t)}return f.invert=function(e){return(i||(i=n(l,o,g,c?b(t):t)))(+e)},f.domain=function(e){return arguments.length?(o=a.call(e,m),h()):o.slice()},f.range=function(e){return arguments.length?(l=s.call(e),h()):l.slice()},f.rangeRound=function(e){return l=s.call(e),u=d.e,h()},f.clamp=function(e){return arguments.length?(c=!!e,h()):c},f.interpolate=function(e){return arguments.length?(u=e,h()):u},h()}var S=n(20),E=function(e,t,n){var i,o=e[0],a=e[e.length-1],s=Object(r.tickStep)(o,a,null==t?10:t);switch((n=Object(S.formatSpecifier)(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(o),Math.abs(a));return null==n.precision&&!isNaN(i=Object(S.precisionPrefix)(s,l))&&(n.precision=i),Object(S.formatPrefix)(n,l);case"":case"e":case"g":case"p":case"r":null==n.precision&&!isNaN(i=Object(S.precisionRound)(s,Math.max(Math.abs(o),Math.abs(a))))&&(n.precision=i-("e"===n.type));break;case"f":case"%":null==n.precision&&!isNaN(i=Object(S.precisionFixed)(s))&&(n.precision=i-2*("%"===n.type))}return Object(S.format)(n)};function k(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(r.ticks)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return E(t(),e,n)},e.nice=function(n){null==n&&(n=10);var i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s];return u<l&&(i=l,l=u,u=i,i=a,a=s,s=i),(i=Object(r.tickIncrement)(l,u,n))>0?(l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i,i=Object(r.tickIncrement)(l,u,n)):i<0&&(l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i,i=Object(r.tickIncrement)(l,u,n)),i>0?(o[a]=Math.floor(l/i)*i,o[s]=Math.ceil(u/i)*i,t(o)):i<0&&(o[a]=Math.ceil(l*i)/i,o[s]=Math.floor(u*i)/i,t(o)),e},e}function C(){var e=w(g,d.c);return e.copy=function(){return T(e,C())},k(e)}function A(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=a.call(n,m),t):e.slice()},t.copy=function(){return A().domain(e)},k(t)}var O=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function P(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:p(t)}function M(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function I(e){return isFinite(e)?+("1e"+e):e<0?0:e}function R(e){return 10===e?I:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function L(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function D(e){return function(t){return-e(-t)}}function N(){var e=w(P,M).domain([1,10]),t=e.domain,n=10,i=L(10),o=R(10);function a(){return i=L(n),o=R(n),t()[0]<0&&(i=D(i),o=D(o)),e}return e.base=function(e){return arguments.length?(n=+e,a()):n},e.domain=function(e){return arguments.length?(t(e),a()):t()},e.ticks=function(e){var a,s=t(),l=s[0],u=s[s.length-1];(a=u<l)&&(d=l,l=u,u=d);var c,h,f,d=i(l),p=i(u),m=null==e?10:+e,v=[];if(!(n%1)&&p-d<m){if(d=Math.round(d)-1,p=Math.round(p)+1,l>0){for(;d<p;++d)for(h=1,c=o(d);h<n;++h)if(!((f=c*h)<l)){if(f>u)break;v.push(f)}}else for(;d<p;++d)for(h=n-1,c=o(d);h>=1;--h)if(!((f=c*h)<l)){if(f>u)break;v.push(f)}}else v=Object(r.ticks)(d,p,Math.min(p-d,m)).map(o);return a?v.reverse():v},e.tickFormat=function(t,r){if(null==r&&(r=10===n?".0e":","),"function"!=typeof r&&(r=Object(S.format)(r)),t===1/0)return r;null==t&&(t=10);var a=Math.max(1,n*t/e.ticks().length);return function(e){var t=e/o(Math.round(i(e)));return t*n<n-.5&&(t*=n),t<=a?r(e):""}},e.nice=function(){return t(O(t(),{floor:function(e){return o(Math.floor(i(e)))},ceil:function(e){return o(Math.ceil(i(e)))}}))},e.copy=function(){return T(e,N().base(n))},e}function j(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function B(){var e=1,t=w(r,i),n=t.domain;function r(t,n){return(n=j(n,e)-(t=j(t,e)))?function(r){return(j(r,e)-t)/n}:p(n)}function i(t,n){return n=j(n,e)-(t=j(t,e)),function(r){return j(t+n*r,1/e)}}return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return T(t,B().exponent(e))},k(t)}function F(){return B().exponent(.5)}function H(){var e=[],t=[],n=[];function i(){var i=0,a=Math.max(1,t.length);for(n=new Array(a-1);++i<a;)n[i-1]=Object(r.quantile)(e,i/a);return o}function o(e){if(!isNaN(e=+e))return t[Object(r.bisect)(n,e)]}return o.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,o=0,a=t.length;o<a;++o)null!=(n=t[o])&&!isNaN(n=+n)&&e.push(n);return e.sort(r.ascending),i()},o.range=function(e){return arguments.length?(t=s.call(e),i()):t.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return H().domain(e).range(t)},o}function z(){var e=0,t=1,n=1,i=[.5],o=[0,1];function a(e){if(e<=e)return o[Object(r.bisect)(i,e,0,n)]}function l(){var r=-1;for(i=new Array(n);++r<n;)i[r]=((r+1)*t-(r-n)*e)/(n+1);return a}return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],l()):[e,t]},a.range=function(e){return arguments.length?(n=(o=s.call(e)).length-1,l()):o.slice()},a.invertExtent=function(r){var a=o.indexOf(r);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=n?[i[n-1],t]:[i[a-1],i[a]]},a.copy=function(){return z().domain([e,t]).range(o)},k(a)}function U(){var e=[.5],t=[0,1],n=1;function i(i){if(i<=i)return t[Object(r.bisect)(e,i,0,n)]}return i.domain=function(r){return arguments.length?(e=s.call(r),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(r){return arguments.length?(t=s.call(r),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},i.copy=function(){return U().domain(e).range(t)},i}var V=new Date,G=new Date;function X(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return X((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return V.setTime(+t),G.setTime(+r),e(V),e(G),Math.floor(n(V,G))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var Y=X((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));Y.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?X((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Y:null};var W=Y;Y.range;var q=1e3,K=6e4,$=36e5,Z=864e5,Q=6048e5,J=X((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*q)}),(function(e,t){return(t-e)/q}),(function(e){return e.getUTCSeconds()})),ee=J;J.range;var te=X((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*q)}),(function(e,t){e.setTime(+e+t*K)}),(function(e,t){return(t-e)/K}),(function(e){return e.getMinutes()})),ne=te;te.range;var re=X((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*q-e.getMinutes()*K)}),(function(e,t){e.setTime(+e+t*$)}),(function(e,t){return(t-e)/$}),(function(e){return e.getHours()})),ie=re;re.range;var oe=X((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*K)/Z}),(function(e){return e.getDate()-1})),ae=oe;function se(e){return X((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*K)/Q}))}oe.range;var le=se(0),ue=se(1),ce=se(2),he=se(3),fe=se(4),de=se(5),pe=se(6);le.range,ue.range,ce.range,he.range,fe.range,de.range,pe.range;var me=X((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),ve=me;me.range;var ge=X((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));ge.every=function(e){return isFinite(e=Math.floor(e))&&e>0?X((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ye=ge;ge.range;var be=X((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*K)}),(function(e,t){return(t-e)/K}),(function(e){return e.getUTCMinutes()})),_e=be;be.range;var xe=X((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*$)}),(function(e,t){return(t-e)/$}),(function(e){return e.getUTCHours()})),Te=xe;xe.range;var we=X((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/Z}),(function(e){return e.getUTCDate()-1})),Se=we;function Ee(e){return X((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/Q}))}we.range;var ke=Ee(0),Ce=Ee(1),Ae=Ee(2),Oe=Ee(3),Pe=Ee(4),Me=Ee(5),Ie=Ee(6);ke.range,Ce.range,Ae.range,Oe.range,Pe.range,Me.range,Ie.range;var Re=X((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Le=Re;Re.range;var De=X((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));De.every=function(e){return isFinite(e=Math.floor(e))&&e>0?X((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Ne=De;function je(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Be(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fe(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function He(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Ze(i),c=Qe(i),h=Ze(o),f=Qe(o),d=Ze(a),p=Qe(a),m=Ze(s),v=Qe(s),g=Ze(l),y=Qe(l),b={a:R,A:L,b:D,B:N,c:null,d:yt,e:yt,f:wt,H:bt,I:_t,j:xt,L:Tt,m:St,M:Et,p:j,Q:Jt,s:en,S:kt,u:Ct,U:At,V:Ot,w:Pt,W:Mt,x:null,X:null,y:It,Y:Rt,Z:Lt,"%":Qt},_={a:B,A:F,b:H,B:z,c:null,d:Dt,e:Dt,f:Ht,H:Nt,I:jt,j:Bt,L:Ft,m:zt,M:Ut,p:U,Q:Jt,s:en,S:Vt,u:Gt,U:Xt,V:Yt,w:Wt,W:qt,x:null,X:null,y:Kt,Y:$t,Z:Zt,"%":Qt},x={a:k,A:C,b:A,B:O,c:P,d:lt,e:lt,f:pt,H:ct,I:ct,j:ut,L:dt,m:st,M:ht,p:E,Q:vt,s:gt,S:ft,u:et,U:tt,V:nt,w:Je,W:rt,x:M,X:I,y:ot,Y:it,Z:at,"%":mt};function T(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Xe[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function w(e,t){return function(n){var r,i,o=Fe(1900);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Be(Fe(o.y))).getUTCDay(),r=i>4||0===i?Ce.ceil(r):Ce(r),r=Se.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=t(Fe(o.y))).getDay(),r=i>4||0===i?ue.ceil(r):ue(r),r=ae.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Be(Fe(o.y)).getUTCDay():t(Fe(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Be(o)):t(o)}}function S(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in Xe?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function E(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1}function k(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1}function C(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1}function A(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1}function O(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1}function P(e,n,r){return S(e,t,n,r)}function M(e,t,r){return S(e,n,t,r)}function I(e,t,n){return S(e,r,t,n)}function R(e){return a[e.getDay()]}function L(e){return o[e.getDay()]}function D(e){return l[e.getMonth()]}function N(e){return s[e.getMonth()]}function j(e){return i[+(e.getHours()>=12)]}function B(e){return a[e.getUTCDay()]}function F(e){return o[e.getUTCDay()]}function H(e){return l[e.getUTCMonth()]}function z(e){return s[e.getUTCMonth()]}function U(e){return i[+(e.getUTCHours()>=12)]}return b.x=T(n,b),b.X=T(r,b),b.c=T(t,b),_.x=T(n,_),_.X=T(r,_),_.c=T(t,_),{format:function(e){var t=T(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",je);return t.toString=function(){return e},t},utcFormat:function(e){var t=T(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e,Be);return t.toString=function(){return e},t}}}De.range;var ze,Ue,Ve,Ge,Xe={"-":"",_:" ",0:"0"},Ye=/^\s*\d+/,We=/^%/,qe=/[\\^$*+?|[\]().{}]/g;function Ke(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function $e(e){return e.replace(qe,"\\$&")}function Ze(e){return new RegExp("^(?:"+e.map($e).join("|")+")","i")}function Qe(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Je(e,t,n){var r=Ye.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function et(e,t,n){var r=Ye.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function tt(e,t,n){var r=Ye.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function nt(e,t,n){var r=Ye.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function rt(e,t,n){var r=Ye.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function it(e,t,n){var r=Ye.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ot(e,t,n){var r=Ye.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function at(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function st(e,t,n){var r=Ye.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function lt(e,t,n){var r=Ye.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ut(e,t,n){var r=Ye.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ct(e,t,n){var r=Ye.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ht(e,t,n){var r=Ye.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ft(e,t,n){var r=Ye.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function dt(e,t,n){var r=Ye.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pt(e,t,n){var r=Ye.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mt(e,t,n){var r=We.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function vt(e,t,n){var r=Ye.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gt(e,t,n){var r=Ye.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function yt(e,t){return Ke(e.getDate(),t,2)}function bt(e,t){return Ke(e.getHours(),t,2)}function _t(e,t){return Ke(e.getHours()%12||12,t,2)}function xt(e,t){return Ke(1+ae.count(ye(e),e),t,3)}function Tt(e,t){return Ke(e.getMilliseconds(),t,3)}function wt(e,t){return Tt(e,t)+"000"}function St(e,t){return Ke(e.getMonth()+1,t,2)}function Et(e,t){return Ke(e.getMinutes(),t,2)}function kt(e,t){return Ke(e.getSeconds(),t,2)}function Ct(e){var t=e.getDay();return 0===t?7:t}function At(e,t){return Ke(le.count(ye(e),e),t,2)}function Ot(e,t){var n=e.getDay();return e=n>=4||0===n?fe(e):fe.ceil(e),Ke(fe.count(ye(e),e)+(4===ye(e).getDay()),t,2)}function Pt(e){return e.getDay()}function Mt(e,t){return Ke(ue.count(ye(e),e),t,2)}function It(e,t){return Ke(e.getFullYear()%100,t,2)}function Rt(e,t){return Ke(e.getFullYear()%1e4,t,4)}function Lt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ke(t/60|0,"0",2)+Ke(t%60,"0",2)}function Dt(e,t){return Ke(e.getUTCDate(),t,2)}function Nt(e,t){return Ke(e.getUTCHours(),t,2)}function jt(e,t){return Ke(e.getUTCHours()%12||12,t,2)}function Bt(e,t){return Ke(1+Se.count(Ne(e),e),t,3)}function Ft(e,t){return Ke(e.getUTCMilliseconds(),t,3)}function Ht(e,t){return Ft(e,t)+"000"}function zt(e,t){return Ke(e.getUTCMonth()+1,t,2)}function Ut(e,t){return Ke(e.getUTCMinutes(),t,2)}function Vt(e,t){return Ke(e.getUTCSeconds(),t,2)}function Gt(e){var t=e.getUTCDay();return 0===t?7:t}function Xt(e,t){return Ke(ke.count(Ne(e),e),t,2)}function Yt(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Pe(e):Pe.ceil(e),Ke(Pe.count(Ne(e),e)+(4===Ne(e).getUTCDay()),t,2)}function Wt(e){return e.getUTCDay()}function qt(e,t){return Ke(Ce.count(Ne(e),e),t,2)}function Kt(e,t){return Ke(e.getUTCFullYear()%100,t,2)}function $t(e,t){return Ke(e.getUTCFullYear()%1e4,t,4)}function Zt(){return"+0000"}function Qt(){return"%"}function Jt(e){return+e}function en(e){return Math.floor(+e/1e3)}function tn(e){return ze=He(e),Ue=ze.format,ze.parse,Ve=ze.utcFormat,Ge=ze.utcParse,ze}tn({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var nn="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Ve(nn),+new Date("2000-01-01T00:00:00.000Z")||Ge(nn);var rn=1e3,on=60*rn,an=60*on,sn=24*an,ln=7*sn,un=30*sn,cn=365*sn;function hn(e){return new Date(e)}function fn(e){return e instanceof Date?+e:+new Date(+e)}function dn(e,t,n,i,o,s,l,u,c){var h=w(g,d.c),f=h.invert,p=h.domain,m=c(".%L"),v=c(":%S"),y=c("%I:%M"),b=c("%I %p"),_=c("%a %d"),x=c("%b %d"),S=c("%B"),E=c("%Y"),k=[[l,1,rn],[l,5,5*rn],[l,15,15*rn],[l,30,30*rn],[s,1,on],[s,5,5*on],[s,15,15*on],[s,30,30*on],[o,1,an],[o,3,3*an],[o,6,6*an],[o,12,12*an],[i,1,sn],[i,2,2*sn],[n,1,ln],[t,1,un],[t,3,3*un],[e,1,cn]];function C(r){return(l(r)<r?m:s(r)<r?v:o(r)<r?y:i(r)<r?b:t(r)<r?n(r)<r?_:x:e(r)<r?S:E)(r)}function A(t,n,i,o){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(i-n)/t,s=Object(r.bisector)((function(e){return e[2]})).right(k,a);s===k.length?(o=Object(r.tickStep)(n/cn,i/cn,t),t=e):s?(o=(s=k[a/k[s-1][2]<k[s][2]/a?s-1:s])[1],t=s[0]):(o=Math.max(Object(r.tickStep)(n,i,t),1),t=u)}return null==o?t:t.every(o)}return h.invert=function(e){return new Date(f(e))},h.domain=function(e){return arguments.length?p(a.call(e,fn)):p().map(hn)},h.ticks=function(e,t){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=A(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(e,t){return null==t?C:c(t)},h.nice=function(e,t){var n=p();return(e=A(e,n[0],n[n.length-1],t))?p(O(n,e)):h},h.copy=function(){return T(h,dn(e,t,n,i,o,s,l,u,c))},h}var pn=function(){return dn(ye,ve,le,ae,ie,ne,ee,W,Ue).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},mn=function(){return dn(Ne,Le,ke,Se,Te,_e,ee,W,Ve).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},vn=function(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))},gn=vn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),yn=vn("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),bn=vn("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),_n=vn("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),xn=n(9),Tn=Object(d.b)(Object(xn.cubehelix)(300,.5,0),Object(xn.cubehelix)(-240,.5,1)),wn=Object(d.b)(Object(xn.cubehelix)(-100,.75,.35),Object(xn.cubehelix)(80,1.5,.8)),Sn=Object(d.b)(Object(xn.cubehelix)(260,.75,.35),Object(xn.cubehelix)(80,1.5,.8)),En=Object(xn.cubehelix)(),kn=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return En.h=360*e-100,En.s=1.5-1.5*t,En.l=.8-.9*t,En+""};function Cn(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var An=Cn(vn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),On=Cn(vn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Pn=Cn(vn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Mn=Cn(vn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function In(e){var t=0,n=1,r=!1;function i(i){var o=(i-t)/(n-t);return e(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.clamp=function(e){return arguments.length?(r=!!e,i):r},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return In(e).domain([t,n]).clamp(r)},k(i)}n.d(t,"scaleBand",(function(){return c})),n.d(t,"scalePoint",(function(){return f})),n.d(t,"scaleIdentity",(function(){return A})),n.d(t,"scaleLinear",(function(){return C})),n.d(t,"scaleLog",(function(){return N})),n.d(t,"scaleOrdinal",(function(){return u})),n.d(t,"scaleImplicit",(function(){return l})),n.d(t,"scalePow",(function(){return B})),n.d(t,"scaleSqrt",(function(){return F})),n.d(t,"scaleQuantile",(function(){return H})),n.d(t,"scaleQuantize",(function(){return z})),n.d(t,"scaleThreshold",(function(){return U})),n.d(t,"scaleTime",(function(){return pn})),n.d(t,"scaleUtc",(function(){return mn})),n.d(t,"schemeCategory10",(function(){return gn})),n.d(t,"schemeCategory20b",(function(){return yn})),n.d(t,"schemeCategory20c",(function(){return bn})),n.d(t,"schemeCategory20",(function(){return _n})),n.d(t,"interpolateCubehelixDefault",(function(){return Tn})),n.d(t,"interpolateRainbow",(function(){return kn})),n.d(t,"interpolateWarm",(function(){return wn})),n.d(t,"interpolateCool",(function(){return Sn})),n.d(t,"interpolateViridis",(function(){return An})),n.d(t,"interpolateMagma",(function(){return On})),n.d(t,"interpolateInferno",(function(){return Pn})),n.d(t,"interpolatePlasma",(function(){return Mn})),n.d(t,"scaleSequential",(function(){return In}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="throw",i=function(e){return-1!==e.indexOf(".")},o=function(e,t,n){var i=e.split("."),o=i[0],a=i[1],s=n||r;if(!a){if("throw"===s)throw new Error("Invalid style name: "+e);if("warn"!==s)return null;console.warn("Invalid style name: "+e)}if(!t[o]){if("throw"===s)throw new Error("CSS module import does not exist: "+o);if("warn"!==s)return null;console.warn("CSS module import does not exist: "+o)}if(!t[o][a]){if("throw"===s)throw new Error("CSS module does not exist: "+a);if("warn"!==s)return null;console.warn("CSS module does not exist: "+a)}return t[o][a]};t.default=function(e,t,n){var a=Object.keys(t),s=n&&n.handleMissingStyleName||r;return e.split(" ").filter((function(e){return e})).map((function(e){if(i(e))return o(e,t,s);if(0===a.length)throw new Error("Cannot use styleName attribute for style name '"+e+"' without importing at least one stylesheet.");if(a.length>1)throw new Error("Cannot use anonymous style name '"+e+"' with more than one stylesheet import.");var n=t[a[0]];if(!n[e]){if("throw"===s)throw new Error("Could not resolve the styleName '"+e+"'.");"warn"===s&&console.warn("Could not resolve the styleName '"+e+"'.")}return n[e]})).filter((function(e){return e})).join(" ")}},function(e,t,n){e.exports={default:n(233),__esModule:!0}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(39),i=n(159),o=n(127),a=Object.defineProperty;t.f=n(36)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){t.__esModule=!0;var r=i(n(44));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(229),__esModule:!0}},function(e,t,n){e.exports=!n(50)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports={default:n(555),__esModule:!0}},function(e,t,n){e.exports={default:n(578),__esModule:!0}},function(e,t,n){var r=n(33);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(17)),i=g(n(44)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(14)),c=g(n(7)),h=g(n(30)),f=n(20),d=g(n(26)),p=g(n(177)),m=n(10),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n=(0,f.precisionPrefix)(t,e);return(0,f.formatPrefix)("."+String(n),e)(e)}function b(e,t){var n=e.map((function(e){return+e})).sort((function(e,t){return t-e}));return y(n[t],n[n.length-1])}function _(e,t,n,r){var i=t/(Math.pow(2,e)*n);if(!(0,h.default)(i)){var o=t/(Math.pow(2,r)*n),a=(0,f.precisionPrefix)(o,i);return(0,f.formatPrefix)("."+String(a),i)(i)}return console.warn("NaN resolution, screen is probably too small."),""}var x=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),s=e.scene;r.scene=s,r.delayDrawing=!1,r.pBase=new v.GLOBALS.PIXI.Graphics,r.pMasked=new v.GLOBALS.PIXI.Graphics,r.pMask=new v.GLOBALS.PIXI.Graphics,r.pMain=new v.GLOBALS.PIXI.Graphics,r.pBorder=new v.GLOBALS.PIXI.Graphics,r.pBackground=new v.GLOBALS.PIXI.Graphics,r.pForeground=new v.GLOBALS.PIXI.Graphics,r.pLabel=new v.GLOBALS.PIXI.Graphics,r.pMobile=new v.GLOBALS.PIXI.Graphics,r.pAxis=new v.GLOBALS.PIXI.Graphics,r.pMouseOver=new v.GLOBALS.PIXI.Graphics,r.scene.addChild(r.pBase),r.pBase.addChild(r.pMasked),r.pMasked.addChild(r.pBackground),r.pMasked.addChild(r.pMain),r.pMasked.addChild(r.pMask),r.pMasked.addChild(r.pMobile),r.pMasked.addChild(r.pBorder),r.pMasked.addChild(r.pLabel),r.pMasked.addChild(r.pForeground),r.pMasked.addChild(r.pMouseOver),r.pBase.addChild(r.pAxis),r.pMasked.mask=r.pMask,r.prevOptions="",r.options=(0,i.default)(r.options,n);var u=r.getName();return r.labelTextFontFamily="Arial",r.labelTextFontSize=12,r.labelXOffset=0,r.labelText=new v.GLOBALS.PIXI.Text(u,{fontSize:String(r.labelTextFontSize)+"px",fontFamily:r.labelTextFontFamily,fill:"black"}),r.pLabel.addChild(r.labelText),r.errorText=new v.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"red"}),r.errorText.anchor.x=.5,r.errorText.anchor.y=.5,r.pLabel.addChild(r.errorText),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"setLabelText",value:function(){function e(){}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e,this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}return e}()},{key:"setDimensions",value:function(){function e(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setDimensions",this).call(this,e),this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}return e}()},{key:"setMask",value:function(){function e(e,t){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(e[0],e[1],t[0],t[1]),this.pMask.endFill()}return e}()},{key:"setForeground",value:function(){function e(){this.pForeground.position.y=this.position[1],this.pForeground.position.x=this.position[0]}return e}()},{key:"remove",value:function(){function e(){this.pBase.clear(),this.scene.removeChild(this.pBase)}return e}()},{key:"drawBorder",value:function(){function e(){var e=this.pBorder;if(e.clear(),this.options&&this.options.trackBorderWidth){var t=(0,m.colorToHex)(this.options.trackBorderColor?this.options.trackBorderColor:"white");e.lineStyle(this.options.trackBorderWidth,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return e}()},{key:"drawError",value:function(){function e(){if(this.errorText.x=this.position[0]+this.dimensions[0]/2,this.errorText.y=this.position[1]+this.dimensions[1]/2,this.errorText.text=this.errorTextText,this.errorTextText&&this.errorTextText.length){var e=this.pBorder;e.clear(),e.lineStyle(1,(0,m.colorToHex)("red")),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return e}()},{key:"drawBackground",value:function(){function e(){var e=this.pBackground;if(e.clear(),this.options&&this.options.backgroundColor){var t=1,n=this.options.backgroundColor;"transparent"===this.options.backgroundColor&&(t=0,n="white");var r=(0,m.colorToHex)(n);e.beginFill(r,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return e}()},{key:"getLabelColor",value:function(){function e(){return this.options.labelColor&&"[glyph-color]"!==this.options.labelColor?this.options.labelColor:this.options.lineStrokeColor||this.options.barFillColor||"black"}return e}()},{key:"getName",value:function(){function e(){return this.options.name?this.options.name:this.tilesetInfo&&this.tilesetInfo.name||""}return e}()},{key:"drawLabel",value:function(){function e(){if(this.labelText){var e=this.pLabel;if(e.clear(),!this.options||!this.options.labelPosition||"hidden"===this.options.labelPosition)return void(this.labelText.alpha=0);e.beginFill((0,m.colorToHex)(this.options.labelBackgroundColor||"white"),+this.options.labelBackgroundOpacity>=0?+this.options.labelBackgroundOpacity:.5);var t=(0,m.colorToHex)(this.getLabelColor()),n=2;if(!(this.dimensions[0]<0)){var i=this.options.labelShowAssembly&&this.tilesetInfo&&this.tilesetInfo.coordSystem?String(this.tilesetInfo.coordSystem)+" | ":"";if(i+=this.getName(),this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension){var o=_(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom);i+="\n[Current data resolution: "+String(o)+"]"}else if(this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.resolutions){var a=b(this.tilesetInfo.resolutions,this.calculateZoomLevel());i+="\n[Current data resolution: "+String(a)+"]"}if(this.options&&this.options.dataTransform){var s=null;if(this.tilesetInfo&&this.tilesetInfo.transforms){var l=!0,u=!1,c=void 0;try{for(var h,f=(0,r.default)(this.tilesetInfo.transforms);!(l=(h=f.next()).done);l=!0){var d=h.value;d.value===this.options.dataTransform&&(s=d)}}catch(x){u=!0,c=x}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}}s?i+="\n[Transform: "+String(s.name)+"]":"None"===this.options.dataTransform?i+="\n[Transform: None ]":i+="\n[Transform: Default ]"}this.labelText.text=i,this.labelText.style={fontSize:String(this.labelTextFontSize)+"px",fontFamily:this.labelTextFontFamily,fill:t},this.labelText.alpha="undefined"!=typeof this.options.labelTextOpacity?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1);var p=+this.options.labelLeftMargin||0,v=+this.options.labelRightMargin||0,g=+this.options.labelTopMargin||0,y=+this.options.labelBottomMargin||0;"topLeft"===this.options.labelPosition?(this.labelText.x=this.position[0]+p+this.labelXOffset,this.labelText.y=this.position[1]+g,this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,e.drawRect(this.position[0]+p+this.labelXOffset,this.position[1]+g,this.labelText.width+n,this.labelText.height+n)):"bottomLeft"===this.options.labelPosition&&!this.flipText||"topRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+(p||g),this.labelText.y=this.position[1]+this.dimensions[1]-(y||v),this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+(p||g)+this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-n-(y||v),this.labelText.width+n,this.labelText.height+n)):"topRight"===this.options.labelPosition&&!this.flipText||"bottomLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]-(v||y),this.labelText.y=this.position[1]+(g||p),this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-n-(v||y)-this.labelXOffset,this.position[1]+(g||p),this.labelText.width+n,this.labelText.height+n)):"bottomRight"===this.options.labelPosition?(this.labelText.x=this.position[0]+this.dimensions[0]-v,this.labelText.y=this.position[1]+this.dimensions[1]-y,this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-n-v-this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-n-y,this.labelText.width+n,this.labelText.height+n)):"outerLeft"===this.options.labelPosition&&!this.flipText||"outerTop"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):"outerTop"===this.options.labelPosition&&!this.flipText||"outerLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):"outerBottom"===this.options.labelPosition&&!this.flipText||"outerRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):"outerRight"===this.options.labelPosition&&!this.flipText||"outerBottom"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,"outerLeft"===this.options.labelPosition||"outerRight"===this.options.labelPosition||"outerTop"===this.options.labelPosition||"outerBottom"===this.options.labelPosition?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}}}return e}()},{key:"rerender",value:function(){function e(e){this.options=e,this.draw(),this.drawBackground(),this.drawLabel(),this.drawError(),this.drawBorder()}return e}()},{key:"draw",value:function(){function e(){this.drawError()}return e}()},{key:"exportSVG",value:function(){function e(){var e=document.createElement("g"),t=document.createElement("rect");t.setAttribute("x",""+String(this.position[0])),t.setAttribute("y",""+String(this.position[1])),t.setAttribute("width",""+String(this.dimensions[0])),t.setAttribute("height",""+String(this.dimensions[1])),this.options&&this.options.backgroundColor?t.setAttribute("fill",this.options.backgroundColor):t.setAttribute("fill-opacity","0");var n=document.createElement("g");n.setAttribute("class","g-clipped"),e.appendChild(n),n.appendChild(t);var r=document.createElement("g");n.setAttribute("class","g-track"),n.appendChild(r);var i=document.createElement("g");n.setAttribute("class","g-labels"),n.appendChild(i);var o=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.appendChild(a),a.setAttribute("points",String(this.position[0])+","+String(this.position[1])+" "+String(this.position[0]+this.dimensions[0])+","+String(this.position[1])+" "+String(this.position[0]+this.dimensions[0])+","+String(this.position[1]+this.dimensions[1])+" "+String(this.position[0])+","+String(this.position[1]+this.dimensions[1])+" ");var s=d.default.nice();o.setAttribute("id",s),n.setAttribute("style","clip-path:url(#"+String(s)+");");var l=this.labelText.text.split("\n"),u=0,c=3,h=(this.labelTextFontSize+2)*l.length+c;.5===this.labelText.anchor.y?u=h/2:1===this.labelText.anchor.y&&(u=-h);for(var f=0;f<l.length;f++){var p=document.createElement("text");if(p.setAttribute("font-family",this.labelTextFontFamily),p.setAttribute("font-size",String(this.labelTextFontSize)+"px"),p.innerText=l[f],"topLeft"===this.options.labelPosition||"topRight"===this.options.labelPosition){var m=u+(f+1)*(this.labelTextFontSize+2);p.setAttribute("dy",m)}else("bottomLeft"===this.options.labelPosition||"bottomRight"===this.options.labelPosition)&&p.setAttribute("dy",u+f*(this.labelTextFontSize+2));p.setAttribute("fill",this.options.labelColor),.5===this.labelText.anchor.x?p.setAttribute("text-anchor","middle"):1===this.labelText.anchor.x&&p.setAttribute("text-anchor","end"),i.appendChild(p)}return i.setAttribute("transform","translate("+String(this.labelText.x)+","+String(this.labelText.y)+")scale("+String(this.labelText.scale.x)+",1)"),[e,r]}return e}()}]),t}(p.default);t.default=x},function(e,t,n){var r=n(406),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){e.exports=o},function(e,t,n){var r=n(32),i=n(66);e.exports=n(36)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports={default:n(222),__esModule:!0}},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){var r=n(829),i=n(290)((function(e,t,n){r(e,t,n)}));e.exports=i},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(105),i=n(87);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(92);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports={}},function(e,t,n){var r=n(295),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)},u=function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}},c=s&&u(),h=function(e,t,n,r){t in e&&(!l(r)||!r())||(c?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},f=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)h(e,o[s],t[o[s]],n[o[s]])};f.supportsDescriptors=!!c,e.exports=f},function(e,t,n){var r=n(947);e.exports=Function.prototype.bind||r},function(e,t,n){var r=n(87);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports={default:n(241),__esModule:!0}},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var r=o(n(839)),i=o(n(840));function o(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=["r","g","b","a","h","s","l","v"],n=0,i=0;return(0,r.default)(t,(function(t){e[t]&&(n+=1,isNaN(e[t])||(i+=1),"s"===t||"l"===t)&&/^\d+%$/.test(e[t])&&(i+=1)})),n===i&&e},toState:function(e,t){var n=e.hex?(0,i.default)(e.hex):(0,i.default)(e),r=n.toHsl(),o=n.toHsv(),a=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===s&&0===a.a?"transparent":"#"+s,rgb:a,hsv:o,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,i.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(53);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){var r=n(158),i=n(107);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(215)(!0);n(109)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){e.exports={default:n(520),__esModule:!0}},function(e,t,n){e.exports={default:n(239),__esModule:!0}},function(e,t,n){var r=t.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};t.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},t.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};var i=t.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUITEM:"menuitem",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"},o=t.SPECIAL_ELEMENTS=Object.create(null);o[r.HTML]=Object.create(null),o[r.HTML][i.ADDRESS]=!0,o[r.HTML][i.APPLET]=!0,o[r.HTML][i.AREA]=!0,o[r.HTML][i.ARTICLE]=!0,o[r.HTML][i.ASIDE]=!0,o[r.HTML][i.BASE]=!0,o[r.HTML][i.BASEFONT]=!0,o[r.HTML][i.BGSOUND]=!0,o[r.HTML][i.BLOCKQUOTE]=!0,o[r.HTML][i.BODY]=!0,o[r.HTML][i.BR]=!0,o[r.HTML][i.BUTTON]=!0,o[r.HTML][i.CAPTION]=!0,o[r.HTML][i.CENTER]=!0,o[r.HTML][i.COL]=!0,o[r.HTML][i.COLGROUP]=!0,o[r.HTML][i.DD]=!0,o[r.HTML][i.DETAILS]=!0,o[r.HTML][i.DIR]=!0,o[r.HTML][i.DIV]=!0,o[r.HTML][i.DL]=!0,o[r.HTML][i.DT]=!0,o[r.HTML][i.EMBED]=!0,o[r.HTML][i.FIELDSET]=!0,o[r.HTML][i.FIGCAPTION]=!0,o[r.HTML][i.FIGURE]=!0,o[r.HTML][i.FOOTER]=!0,o[r.HTML][i.FORM]=!0,o[r.HTML][i.FRAME]=!0,o[r.HTML][i.FRAMESET]=!0,o[r.HTML][i.H1]=!0,o[r.HTML][i.H2]=!0,o[r.HTML][i.H3]=!0,o[r.HTML][i.H4]=!0,o[r.HTML][i.H5]=!0,o[r.HTML][i.H6]=!0,o[r.HTML][i.HEAD]=!0,o[r.HTML][i.HEADER]=!0,o[r.HTML][i.HGROUP]=!0,o[r.HTML][i.HR]=!0,o[r.HTML][i.HTML]=!0,o[r.HTML][i.IFRAME]=!0,o[r.HTML][i.IMG]=!0,o[r.HTML][i.INPUT]=!0,o[r.HTML][i.LI]=!0,o[r.HTML][i.LINK]=!0,o[r.HTML][i.LISTING]=!0,o[r.HTML][i.MAIN]=!0,o[r.HTML][i.MARQUEE]=!0,o[r.HTML][i.MENU]=!0,o[r.HTML][i.META]=!0,o[r.HTML][i.NAV]=!0,o[r.HTML][i.NOEMBED]=!0,o[r.HTML][i.NOFRAMES]=!0,o[r.HTML][i.NOSCRIPT]=!0,o[r.HTML][i.OBJECT]=!0,o[r.HTML][i.OL]=!0,o[r.HTML][i.P]=!0,o[r.HTML][i.PARAM]=!0,o[r.HTML][i.PLAINTEXT]=!0,o[r.HTML][i.PRE]=!0,o[r.HTML][i.SCRIPT]=!0,o[r.HTML][i.SECTION]=!0,o[r.HTML][i.SELECT]=!0,o[r.HTML][i.SOURCE]=!0,o[r.HTML][i.STYLE]=!0,o[r.HTML][i.SUMMARY]=!0,o[r.HTML][i.TABLE]=!0,o[r.HTML][i.TBODY]=!0,o[r.HTML][i.TD]=!0,o[r.HTML][i.TEMPLATE]=!0,o[r.HTML][i.TEXTAREA]=!0,o[r.HTML][i.TFOOT]=!0,o[r.HTML][i.TH]=!0,o[r.HTML][i.THEAD]=!0,o[r.HTML][i.TITLE]=!0,o[r.HTML][i.TR]=!0,o[r.HTML][i.TRACK]=!0,o[r.HTML][i.UL]=!0,o[r.HTML][i.WBR]=!0,o[r.HTML][i.XMP]=!0,o[r.MATHML]=Object.create(null),o[r.MATHML][i.MI]=!0,o[r.MATHML][i.MO]=!0,o[r.MATHML][i.MN]=!0,o[r.MATHML][i.MS]=!0,o[r.MATHML][i.MTEXT]=!0,o[r.MATHML][i.ANNOTATION_XML]=!0,o[r.SVG]=Object.create(null),o[r.SVG][i.TITLE]=!0,o[r.SVG][i.FOREIGN_OBJECT]=!0,o[r.SVG][i.DESC]=!0},function(e,t,n){var r={value:function(){}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new o(r)}function o(e){this._=e}function a(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function s(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function l(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}o.prototype=i.prototype={constructor:o,on:function(e,t){var n,r=this._,i=a(e+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<u;)if(n=(e=i[o]).type)r[n]=l(r[n],e.name,t);else if(null==t)for(n in r)r[n]=l(r[n],e.name,null);return this}for(;++o<u;)if((n=(e=i[o]).type)&&(n=s(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var u=i;n.d(t,"a",(function(){return u}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}n(68);var a=function(e){return i.default.createElement("div",{"data-menu-item-for":"string"==typeof e.children?e.children:null,onClick:function(){function t(t){return e.onClick(t)}return t}(),onMouseEnter:function(){function t(t){return e.onMouseEnter(t)}return t}(),onMouseLeave:function(){function t(t){return e.onMouseLeave(t)}return t}(),role:"button",className:"ContextMenu-module_context-menu-item-1HeVv",tabIndex:0},i.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},e.children))};a.defaultProps={onMouseEnter:function(){function e(){}return e}(),onMouseLeave:function(){function e(){}return e}()},a.propTypes={children:r.default.node.isRequired,onClick:r.default.func.isRequired,onMouseEnter:r.default.func,onMouseLeave:r.default.func},t.default=a},function(e,t,n){e.exports={"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=t.fake=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}var s={__fake__:!0,publish:o.default,subscribe:o.default,unsubscribe:o.default},l=i.default.createContext(s),u=l.Provider,c=l.Consumer,h=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(c,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{pubSub:o}))}))}))};t.default=h,t.fake=s,t.Provider=u},function(e,t,n){var r=n(413),i=n(144),o=n(795),a=n(31);function s(e,t){return(a(e)?r:o)(e,i(t,3))}e.exports=s},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!T(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),l=r[n];n<o;l=r[++n])b(l)||!k(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,r){if("undefined"!=typeof e&&!0===e.noDeprecation)return n;if("undefined"==typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;function o(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}return o};var o,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),h(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function h(e,n,r){if(e.customInspect&&n&&O(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return T(i)||(i=h(e,i,r)),i}var o=f(e,n);if(o)return o;var a=Object.keys(n),s=c(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),A(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(O(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(A(n))return d(n)}var u,y="",b=!1,_=["{","}"];return g(n)&&(b=!0,_=["[","]"]),O(n)&&(y=" [Function"+(n.name?": "+n.name:"")+"]"),E(n)&&(y=" "+RegExp.prototype.toString.call(n)),C(n)&&(y=" "+Date.prototype.toUTCString.call(n)),A(n)&&(y=" "+d(n)),0!==a.length||b&&0!=n.length?r<0?E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=b?p(e,n,r,s,a):a.map((function(t){return m(e,n,r,s,t,b)})),e.seen.pop(),v(u,y,_)):_[0]+y+_[1]}function f(e,t){if(S(t))return e.stylize("undefined","undefined");if(T(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return x(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)D(t,String(a))?o.push(m(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(m(e,t,n,r,i,!0))})),o}function m(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),D(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=b(n)?h(e,l.value,null):h(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),S(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function v(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function b(e){return null===e}function _(e){return null==e}function x(e){return"number"==typeof e}function T(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function S(e){return void 0===e}function E(e){return k(e)&&"[object RegExp]"===M(e)}function k(e){return"object"==typeof e&&null!==e}function C(e){return k(e)&&"[object Date]"===M(e)}function A(e){return k(e)&&("[object Error]"===M(e)||e instanceof Error)}function O(e){return"function"==typeof e}function P(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function M(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(S(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=g,t.isBoolean=y,t.isNull=b,t.isNullOrUndefined=_,t.isNumber=x,t.isString=T,t.isSymbol=w,t.isUndefined=S,t.isRegExp=E,t.isObject=k,t.isDate=C,t.isError=A,t.isFunction=O,t.isPrimitive=P,t.isBuffer=n(971);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",L(),t.format.apply(t,arguments))},t.inherits=n(58),t._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function B(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(j,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t;if("function"!=typeof(t=e[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=N,t.callbackify=B}).call(this,n(150))},function(e,t,n){var r="$";function i(){}function o(e,t){var n=new i;if(e instanceof i)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(r=e[o],o,e),r)}else if(e)for(var s in e)n.set(s,e[s]);return n}i.prototype=o.prototype={constructor:i,has:function(e){return r+e in this},get:function(e){return this[r+e]},set:function(e,t){return this[r+e]=t,this},remove:function(e){var t=r+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===r&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===r&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===r&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===r&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===r&&++e;return e},empty:function(){for(var e in this)if(e[0]===r)return!1;return!0},each:function(e){for(var t in this)t[0]===r&&e(this[t],t.slice(1),this)}};var a=o;function s(){}var l=a.prototype;s.prototype={constructor:s,has:l.has,add:function(e){return this[r+(e+="")]=e,this},remove:l.remove,clear:l.clear,values:l.keys,size:l.size,empty:l.empty,each:l.each},n.d(t,"a",(function(){return a}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(18)),i=u(n(19)),o=n(104),a=n(24),s=n(10),l=n(69);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.fake,u={absToChr:function(e){return u.chrPositions?(0,s.absToChr)(e,u):null},chrToAbs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,i.default)(e,2),n=t[0],r=t[1];return u.chrPositions?(0,s.chrToAbs)(n,r,u):null}};return a.tileProxy.text(e,(function(e,n){if(e)t&&t(null);else{var i=(0,o.tsvParseRows)(n),a=(0,s.parseChromsizesRows)(i);(0,r.default)(a).forEach((function(e){u[e]=a[e]})),t&&t(u)}}),n).then((function(){return u}))}t.default=c},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){n(212);for(var r=n(23),i=n(43),o=n(51),a=n(21)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],h=c&&c.prototype;h&&!h[a]&&i(h,a,u),o[u]=o.Array}},function(e,t,n){var r=n(32).f,i=n(47),o=n(21)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.createContext({close:o.default,open:o.default}),l=s.Provider,u=s.Consumer,c=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(u,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{theme:o}))}))}))};t.default=c,t.Provider=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=O(n(63)),i=O(n(55)),o=O(n(95)),a=O(n(37)),s=O(n(19)),l=O(n(34)),u=O(n(35)),c=O(n(17)),h=O(n(25)),f=O(n(18)),d=O(n(30)),p=O(n(38)),m=O(n(5)),v=O(n(3)),g=O(n(4)),y=O(n(6)),b=O(n(14)),_=O(n(7));t.getValueScale=P;var x=n(28),T=n(8),w=O(n(26)),S=O(n(245)),E=O(n(40)),k=n(10),C=O(n(617)),A=n(11);function O(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n,r,i){var o=0;return"log"===(e||i)&&t>0?["log",(0,x.scaleLog)().range([254,0]).domain([t+o,r+o])]:["linear",(0,x.scaleLinear)().range([254,0]).domain([t,r])]}var M=function(e){function t(e,n){(0,v.default)(this,t);var r=(0,y.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e,n)),i=e.pubSub,o=e.dataConfig,a=e.handleTilesetInfoReceived,s=e.animate,l=e.onValueScaleChanged;return r.renderVersion=1,r.visibleTiles=new p.default,r.visibleTileIds=new p.default,r.renderingTiles=new p.default,r.fetching=new p.default,r.scale={},r.fetchedTiles={},r.tileGraphics={},r.maxZoom=0,r.medianVisibleValue=null,r.backgroundTaskScheduler=C.default,r.continuousScaling="requestIdleCallback"in window,r.valueScaleMin=null,r.fixedValueScaleMin=null,r.valueScaleMax=null,r.fixedValueScaleMax=null,r.listeners={},r.pubSub=i,r.animate=s,r.onValueScaleChanged=l,r.prevValueScale=null,e.dataFetcher?r.dataFetcher=e.dataFetcher:r.dataFetcher=new S.default(o,r.pubSub),r.tilesetInfo=null,r.uuid=w.default.nice(),r.trackNotFoundText=new A.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),r.pLabel.addChild(r.trackNotFoundText),r.refreshTilesDebounced=(0,k.throttleAndDebounce)(r.refreshTiles.bind(r),A.ZOOM_DEBOUNCE,A.ZOOM_DEBOUNCE),r.dataFetcher.tilesetInfo((function(e,t){if(r.tilesetInfo=e,r.dataFetcher.dataConfig.tilesetUid||(r.dataFetcher.dataConfig.tilesetUid=t),r.tilesetUid=r.dataFetcher.dataConfig.tilesetUid,r.server=r.dataFetcher.dataConfig.server||"unknown",r.tilesetInfo.chromsizes&&(r.chromInfo=(0,k.parseChromsizesRows)(r.tilesetInfo.chromsizes)),"error"in r.tilesetInfo)return console.warn("Error retrieving tilesetInfo:",o,r.tilesetInfo.error),r.tilesetInfo=null,void r.setError(r.tilesetInfo.error);r.tilesetInfo.resolutions?r.maxZoom=r.tilesetInfo.resolutions.length:r.maxZoom=+r.tilesetInfo.max_zoom,r.options&&r.options.maxZoom&&(r.options.maxZoom>=0?r.maxZoom=Math.min(r.options.maxZoom,r.maxZoom):console.error("Invalid maxZoom on track:",r)),r.refreshTiles(),a&&a(e),r.options||(r.options={}),r.options.name=r.options.name||e.name,r.checkValueScaleLimits(),r.draw(),r.drawLabel(),r.animate()})),r}return(0,_.default)(t,e),(0,g.default)(t,[{key:"setError",value:function(){function e(e){this.errorTextText=e,this.draw(),this.animate()}return e}()},{key:"setFixedValueScaleMin",value:function(){function e(e){(0,d.default)(+e)?this.fixedValueScaleMin=null:this.fixedValueScaleMin=+e}return e}()},{key:"setFixedValueScaleMax",value:function(){function e(e){(0,d.default)(+e)?this.fixedValueScaleMax=null:this.fixedValueScaleMax=+e}return e}()},{key:"checkValueScaleLimits",value:function(){function e(){this.valueScaleMin="undefined"!=typeof this.options.valueScaleMin?+this.options.valueScaleMin:null,null!==this.fixedValueScaleMin&&(this.valueScaleMin=this.fixedValueScaleMin),this.valueScaleMax="undefined"!=typeof this.options.valueScaleMax?+this.options.valueScaleMax:null,null!==this.fixedValueScaleMax&&(this.valueScaleMax=this.fixedValueScaleMax)}return e}()},{key:"on",value:function(){function e(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}return e}()},{key:"off",value:function(){function e(e,t){var n=this.listeners[e].indexOf(t);-1===n||n>=this.listeners[e].length||this.listeners[e].splice(n,1)}return e}()},{key:"rerender",value:function(){function e(e){(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"rerender",this).call(this,e),this.renderVersion+=1,this.tilesetInfo&&(this.checkValueScaleLimits(),this.tilesetInfo.resolutions?this.maxZoom=this.tilesetInfo.resolutions.length:this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}return e}()},{key:"visibleAndFetchedIds",value:function(){function e(){var e=this;return(0,f.default)(this.fetchedTiles).filter((function(t){return e.visibleTileIds.has(t)}))}return e}()},{key:"visibleAndFetchedTiles",value:function(){function e(){var e=this;return this.visibleAndFetchedIds().map((function(t){return e.fetchedTiles[t]}))}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}})),this.visibleTileIds=new p.default(this.visibleTiles.map((function(e){return e.tileId})))}return e}()},{key:"removeOldTiles",value:function(){function e(){var e=this;this.calculateVisibleTiles();var t=new p.default((0,f.default)(this.fetchedTiles)),n=[].concat((0,h.default)(t)).filter((function(t){return!e.visibleTileIds.has(t)}));this.removeTiles(n)}return e}()},{key:"refreshTiles",value:function(){function e(){var e=this;if(this.tilesetInfo){this.calculateVisibleTiles();for(var t=new p.default((0,f.default)(this.fetchedTiles)),n=[].concat((0,h.default)(this.visibleTiles)).filter((function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)})),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);this.removeOldTiles(),this.fetchNewTiles(n)}}return e}()},{key:"parentInFetched",value:function(){function e(e){for(var t=e.tileData.tilesetUid,n=e.tileData.zoomLevel,r=e.tileData.tilePos;n>0;)if(n-=1,r=r.map((function(e){return Math.floor(e/2)})),String(t)+"."+String(n)+"."+String(r.join("."))in this.fetchedTiles)return!0;return!1}return e}()},{key:"parentTileId",value:function(){function e(e){var t=e.tileData.zoomLevel-1,n=e.tileData.tilePos.map((function(e){return Math.floor(e/2)})),r=e.tileData.tilesetUid;return String(r)+"."+t+"."+String(n.join("."))}return e}()},{key:"removeTiles",value:function(){function e(e){var t=this;!e.length||!this.areAllVisibleTilesLoaded()||this.renderingTiles.size||(e.forEach((function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]})),this.synchronizeTilesAndGraphics(),this.draw())}return e}()},{key:"zoomed",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.xScale(e),this.yScale(t),this.refreshTilesDebounced(),this.pMobile.position.x=r,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}return e}()},{key:"setPosition",value:function(){function e(e){(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"setPosition",this).call(this,e)}return e}()},{key:"setDimensions",value:function(){function e(e){(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"setDimensions",this).call(this,e)}return e}()},{key:"areAllVisibleTilesLoaded",value:function(){function e(){for(var e=new p.default((0,f.default)(this.fetchedTiles)),t=[].concat((0,h.default)(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}return e}()},{key:"allTilesLoaded",value:function(){function e(){}return e}()},{key:"minValue",value:function(){function e(e){return e?(this.scale.minValue=e,this):null!==this.valueScaleMin?this.valueScaleMin:this.scale.minValue}return e}()},{key:"maxValue",value:function(){function e(e){return e?(this.scale.maxValue=e,this):null!==this.valueScaleMax?this.valueScaleMax:this.scale.maxValue}return e}()},{key:"minRawValue",value:function(){function e(){return this.scale.minRawValue}return e}()},{key:"maxRawValue",value:function(){function e(){return this.scale.maxRawValue}return e}()},{key:"initTile",value:function(){function e(){this.scale.minRawValue=this.continuousScaling?this.minVisibleValue():this.minVisibleValueInTiles(),this.scale.maxRawValue=this.continuousScaling?this.maxVisibleValue():this.maxVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}return e}()},{key:"updateTile",value:function(){function e(){}return e}()},{key:"destroyTile",value:function(){function e(){}return e}()},{key:"addMissingGraphics",value:function(){function e(){var e=(0,f.default)(this.fetchedTiles);this.renderVersion+=1;for(var t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new A.GLOBALS.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}return e}()},{key:"updateExistingGraphics",value:function(){function e(){for(var e=(0,f.default)(this.fetchedTiles),t=0;t<e.length;t++){var n=this.fetchedTiles[e[t]];this.updateTile(n)}}return e}()},{key:"synchronizeTilesAndGraphics",value:function(){function e(){if(this.addMissingGraphics(),this.removeOldTiles(),this.updateExistingGraphics(),this.listeners.dataChanged){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,c.default)(this.listeners.dataChanged);!(e=(r=i.next()).done);e=!0)(0,r.value)(this.visibleAndFetchedTiles().map((function(e){return e.tileData})))}catch(o){t=!0,n=o}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}}return e}()},{key:"loadTileData",value:function(){function e(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}return e}()},{key:"fetchNewTiles",value:function(){function e(e){if(e.length>0){var t=[].concat((0,h.default)(new p.default(e.map((function(e){return e.remoteId})))));this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),t)}}return e}()},{key:"receivedTiles",value:function(){function e(e){for(var t=this,n=function(){function n(n){var r=t.visibleTiles[n].tileId;if(!e[t.visibleTiles[n].remoteId])return"continue";if(t.visibleTiles[n].remoteId in e){if(r in t.fetchedTiles||(t.fetchedTiles[r]=t.visibleTiles[n]),Array.isArray(e[t.visibleTiles[n].remoteId])){var i=e[t.visibleTiles[n].remoteId];t.fetchedTiles[r].tileData=[].concat((0,h.default)(i)),(0,f.default)(i).filter((function(e){return(0,d.default)(+e)})).forEach((function(e){t.fetchedTiles[r].tileData[e]=i[e]}))}else t.fetchedTiles[r].tileData=(0,l.default)({},e[t.visibleTiles[n].remoteId]);t.fetchedTiles[r].tileData.error&&console.warn("Error in loaded tile",r,t.fetchedTiles[r].tileData)}}return n}(),r=0;r<this.visibleTiles.length;r++)n(r);for(var i in e)if(e[i]){var o=e[i].tilePositionId;this.fetching.has(o)&&this.fetching.delete(o)}this.synchronizeTilesAndGraphics(),this.draw(),this.drawLabel(),this.valueScale&&(!this.prevValueScale||(0,u.default)(this.valueScale.domain())!==(0,u.default)(this.prevValueScale.domain()))&&(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged()),this.animate(),this.areAllVisibleTilesLoaded()&&this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesLoaded",{uuid:this.uuid})}return e}()},{key:"draw",value:function(){function e(){var e=this;if(!this.delayDrawing){if(this.tilesetInfo)this.trackNotFoundText.visible=!1;else{this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text="Tileset info not found. Server: ["+String(this.server)+"] tilesetUid: ["+String(this.tilesetUid)+"]";var n=(0,s.default)(this.position,2);this.trackNotFoundText.x=n[0],this.trackNotFoundText.y=n[1],this.flipText&&(this.trackNotFoundText.anchor.x=1,this.trackNotFoundText.scale.x=-1),this.trackNotFoundText.visible=!0}this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnStart",{uuid:this.uuid});var r=(0,a.default)(this.fetchedTiles).map((function(e){return e.tileData&&e.tileData.error&&String(e.tileId)+": "+String(e.tileData.error)})).filter((function(e){return e}));r.length?this.errorTextText=r.join("\n"):this.errorTextText="",(0,b.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"draw",this).call(this),(0,f.default)(this.fetchedTiles).forEach((function(t){e.drawTile(e.fetchedTiles[t])})),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnEnd",{uuid:this.uuid})}}return e}()},{key:"drawTile",value:function(){function e(){}return e}()},{key:"calculateMedianVisibleValue",value:function(){function e(){var e,t=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var n=this.visibleAndFetchedIds();0===n.length&&(n=(0,f.default)(this.fetchedTiles));var r=(e=[]).concat.apply(e,(0,h.default)(n.filter((function(e){return t.fetchedTiles[e].tileData.dense})).map((function(e){return(0,o.default)(t.fetchedTiles[e].tileData.dense)})))).filter((function(e){return e>0}));return this.medianVisibleValue=(0,T.median)(r),this.medianVisibleValue}return e}()},{key:"allVisibleValues",value:function(){function e(){var e,t=this;return(e=[]).concat.apply(e,(0,h.default)(this.visibleAndFetchedIds().map((function(e){return(0,o.default)(t.fetchedTiles[e].tileData.dense)}))))}return e}()},{key:"minVisibleValue",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.minVisibleValueInTiles(e)}return e}()},{key:"minVisibleValueInTiles",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,f.default)(this.fetchedTiles));var r=Math.min.apply(Math,(0,h.default)(n.map((function(t){return e.fetchedTiles[t].tileData.minNonZero}))));return r===i.default&&(r=null),t?r:null!==this.valueScaleMin?this.valueScaleMin:r}return e}()},{key:"maxVisibleValue",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.maxVisibleValueInTiles(e)}return e}()},{key:"maxVisibleValueInTiles",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,f.default)(this.fetchedTiles));var i=Math.max.apply(Math,(0,h.default)(n.map((function(t){return e.fetchedTiles[t].tileData.maxNonZero}))));return i===r.default&&(i=null),t?i:null!==this.valueScaleMax?this.valueScaleMax:i}return e}()},{key:"makeValueScale",value:function(){function e(e,t,n,r){var i=null,o=0,a=r;(null===a||"undefined"==typeof a)&&(a=6);var s=Math.min(this.dimensions[1]-a,a),l=Math.max(this.dimensions[1]-a,a);if(this.dimensions[1]-a<a&&(s=this.dimensions[1]/2,l=this.dimensions[1]/2),"log"===this.options.valueScaling)(o=t)||(o=e),i=(0,x.scaleLog)().domain([o,n+o]).range([s,l]);else{if("quantile"===this.options.valueScaling){var u=this.dimensions[1]-a,c=a,f=(0,x.scaleQuantile)().domain(this.allVisibleValues()).range((0,T.range)(u,c,(c-u)/256));return f.ticks=function(e){return(0,T.ticks)(u,c,e)},[f,0]}if("setquantile"===this.options.valueScaling){var d=this.dimensions[1]-a,m=a,v=new p.default(this.allVisibleValues()),g=(0,x.scaleQuantile)().domain([].concat((0,h.default)(v))).range((0,T.range)(d,m,(m-d)/256));return g.ticks=function(e){return(0,T.ticks)(d,m,e)},[g,0]}i=(0,x.scaleLinear)().domain([e,n]).range([l,s])}return[i,o]}return e}()}]),t}(E.default);t.default=M},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(7)),l=n(0),u=c(n(26));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.svgElement;return o.gMain=(0,l.select)(s).append("g"),o.clipUid=u.default.nice(),o.clipRect=o.gMain.append("clipPath").attr("id","track-bounds-"+String(o.clipUid)).append("rect"),o.gMain.attr("clip-path","url(#track-bounds-"+String(o.clipUid)+")"),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"setPosition",value:function(){function e(e){this.position=e,this.gMain.attr("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.draw()}return e}()},{key:"setDimensions",value:function(){function e(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),e[0]>=0&&e[1]>=0?(this.clipRect.attr("width",e[0]),this.clipRect.attr("height",e[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}return e}()},{key:"remove",value:function(){function e(){this.gMain.remove(),this.gMain=null}return e}()},{key:"draw",value:function(){function e(){return this}return e}()}]),t}(c(n(177)).default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mix=t.Mixin=t.BareMixin=t.HasInstance=t.DeDupe=t.Cached=t.wrap=t.hasMixin=t.isApplicationOf=t.apply=t.unwrap=void 0;var r=h(n(3)),i=h(n(4)),o=h(n(131)),a=h(n(634)),s=h(n(225)),l=h(n(637)),u=h(n(331)),c=h(n(5));function h(e){return e&&e.__esModule?e:{default:e}}var f="__mixwith_appliedMixin",d="__mixwith_wrappedMixin",p=t.unwrap=function(e){return e[d]||e},m=t.apply=function(e,t){var n=t(e);return n.prototype[f]=p(t),n},v=t.isApplicationOf=function(e,t){return e.hasOwnProperty(f)&&e[f]===p(t)},g=t.hasMixin=function(e,t){for(;null!==e;){if(v(e,t))return!0;e=(0,c.default)(e)}return!1},y=t.wrap=function(e,t){return(0,u.default)(t,e),e[d]||(e[d]=e),t},b="__mixwith_cachedApplications",_=t.Cached=function(e){return y(e,(function(t){var n=t[b];n||(t[b]=new l.default,n=t[b]);var r=n.get(e);return r||(r=e(t),n.set(e,r)),r}))},x=t.DeDupe=function(e){return y(e,(function(t){return g(t.prototype,e)?t:e(t)}))};t.HasInstance=function(e){return s.default&&a.default&&!e[a.default]&&(0,o.default)(e,a.default,{value:function(){function t(t){return g(t,e)}return t}()}),e};var T=t.BareMixin=function(e){return y(e,(function(t){return m(t,e)}))};t.Mixin=function(e){return x(_(T(e)))};var w=function(){function e(t){(0,r.default)(this,e),this.superclass=t||function(){function e(){(0,r.default)(this,e)}return e}()}return(0,i.default)(e,[{key:"with",value:function(){function e(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return t(e)}),this.superclass)}return e}()}]),e}();t.mix=function(e){return new w(e)}},function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){n.r(t);var r=n(65),i=n(84),o=n(15),a=n(0),s=n(85),l=function(e){return function(){return e}},u=function(e,t,n){this.target=e,this.type=t,this.selection=n};function c(){a.event.stopImmediatePropagation()}var h=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},f={name:"drag"},d={name:"space"},p={name:"handle"},m={name:"center"},v={name:"x",handles:["e","w"].map(S),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},g={name:"y",handles:["n","s"].map(S),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},y={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(S),input:function(e){return e},output:function(e){return e}},b={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},x={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},T={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},w={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function S(e){return{type:e}}function E(){return!a.event.button}function k(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function C(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function A(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function O(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function P(e,t,n){return R(v,e,t,n)}function M(e,t,n){return R(g,e,t,n)}var I=function(e,t,n){return R(y,e,t,n)};function R(e,t,n,y){var O,P=k,M=E,I=Object(r.a)(L,"start","brush","end"),R=6;function L(t){var r=t.property("__brush",F).selectAll(".overlay").data([S("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events",y?"auto":"all").attr("cursor",n?"default":b.overlay).merge(r).each((function(){var e=C(this).extent;Object(a.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([S("selection")]).enter().append("rect").attr("class","selection").attr("cursor",b.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return b[e.type]})),t.each(D).attr("fill","none").attr("pointer-events",y?"auto":"all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)"),n?t.on("mousedown.brush touchstart.brush",(function(){"overlay"!==a.event.target.__data__.type&&B.apply(this,arguments)})):t.on("mousedown.brush touchstart.brush",B)}function D(){var e=Object(a.select)(this),t=C(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-R/2:t[0][0]-R/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-R/2:t[0][1]-R/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+R:R})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+R:R}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function N(e,t){return e.__brush.emitter||new j(e,t)}function j(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function B(){if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return h()}else if(O)return;if(M.apply(this,arguments)){var n,r,o,l,u,y,S,E,k,P,I,R,L,j=this,B=a.event.target.__data__.type,F="selection"===(a.event.metaKey&&!t?B="overlay":B)?f:a.event.altKey&&!t?m:p,H=e===g?null:T[B],z=e===v?null:w[B],U=C(j),V=U.extent,G=U.selection,X=V[0][0],Y=V[0][1],W=V[1][0],q=V[1][1],K=H&&z&&a.event.shiftKey,$=Object(a.mouse)(j),Z=$,Q=N(j,arguments).beforestart();"overlay"===B?U.selection=G=[[n=e===g?X:$[0],o=e===v?Y:$[1]],[u=e===g?W:n,S=e===v?q:o]]:(n=G[0][0],o=G[0][1],u=G[1][0],S=G[1][1]),r=n,l=o,y=u,E=S;var J=Object(a.select)(j).attr("pointer-events","none"),ee=J.selectAll(".overlay").attr("cursor",b[B]);if(a.event.touches)J.on("touchmove.brush",ne,!0).on("touchend.brush touchcancel.brush",ie,!0);else{var te=Object(a.select)(a.event.view).on("mousemove.brush",ne,!0).on("mouseup.brush",ie,!0);t||te.on("keydown.brush",oe,!0).on("keyup.brush",ae,!0),Object(i.dragDisable)(a.event.view)}c(),Object(s.interrupt)(j),D.call(j),Q.start()}function ne(){var e=Object(a.mouse)(j);K&&!R&&!L&&(Math.abs(e[0]-Z[0])>Math.abs(e[1]-Z[1])?L=!0:R=!0),Z=e,I=!0,h(),re()}function re(){var e;switch(k=Z[0]-$[0],P=Z[1]-$[1],F){case d:case f:H&&(k=Math.max(X-n,Math.min(W-u,k)),r=n+k,y=u+k),z&&(P=Math.max(Y-o,Math.min(q-S,P)),l=o+P,E=S+P);break;case p:H<0?(k=Math.max(X-n,Math.min(W-n,k)),r=n+k,y=u):H>0&&(k=Math.max(X-u,Math.min(W-u,k)),r=n,y=u+k),z<0?(P=Math.max(Y-o,Math.min(q-o,P)),l=o+P,E=S):z>0&&(P=Math.max(Y-S,Math.min(q-S,P)),l=o,E=S+P);break;case m:H&&(r=Math.max(X,Math.min(W,n-k*H)),y=Math.max(X,Math.min(W,u+k*H))),z&&(l=Math.max(Y,Math.min(q,o-P*z)),E=Math.max(Y,Math.min(q,S+P*z)))}y<r&&(H*=-1,e=n,n=u,u=e,e=r,r=y,y=e,B in _&&ee.attr("cursor",b[B=_[B]])),E<l&&(z*=-1,e=o,o=S,S=e,e=l,l=E,E=e,B in x&&ee.attr("cursor",b[B=x[B]])),U.selection&&(G=U.selection),R&&(r=G[0][0],y=G[1][0]),L&&(l=G[0][1],E=G[1][1]),(G[0][0]!==r||G[0][1]!==l||G[1][0]!==y||G[1][1]!==E)&&(U.selection=[[r,l],[y,E]],D.call(j),Q.brush())}function ie(){if(c(),a.event.touches){if(a.event.touches.length)return;O&&clearTimeout(O),O=setTimeout((function(){O=null}),500),J.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(i.dragEnable)(a.event.view,I),te.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),ee.attr("cursor",b.overlay),U.selection&&(G=U.selection),A(G)&&(U.selection=null,D.call(j)),Q.end()}function oe(){switch(a.event.keyCode){case 16:K=H&&z;break;case 18:F===p&&(H&&(u=y-k*H,n=r+k*H),z&&(S=E-P*z,o=l+P*z),F=m,re());break;case 32:(F===p||F===m)&&(H<0?u=y-k:H>0&&(n=r-k),z<0?S=E-P:z>0&&(o=l-P),F=d,ee.attr("cursor",b.selection),re());break;default:return}h()}function ae(){switch(a.event.keyCode){case 16:K&&(R=L=K=!1,re());break;case 18:F===m&&(H<0?u=y:H>0&&(n=r),z<0?S=E:z>0&&(o=l),F=p,re());break;case 32:F===d&&(a.event.altKey?(H&&(u=y-k*H,n=r+k*H),z&&(S=E-P*z,o=l+P*z),F=m):(H<0?u=y:H>0&&(n=r),z<0?S=E:z>0&&(o=l),F=p),ee.attr("cursor",b[B]),re());break;default:return}h()}}function F(){var t=this.__brush||{selection:null};return t.extent=P.apply(this,arguments),t.dim=e,t}return L.move=function(t,n){t.selection?t.on("start.brush",(function(){N(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){N(this,arguments).end()})).tween("brush",(function(){var t=this,r=t.__brush,i=N(t,arguments),a=r.selection,s=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),l=Object(o.a)(a,s);function u(e){r.selection=1===e&&A(s)?null:l(e),D.call(t),i.brush()}return a&&s?u:u(1)})):t.each((function(){var t=this,r=arguments,i=t.__brush,o=e.input("function"==typeof n?n.apply(t,r):n,i.extent),a=N(t,r).beforestart();Object(s.interrupt)(t),i.selection=null==o||A(o)?null:o,D.call(t),a.start().brush().end()}))},j.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Object(a.customEvent)(new u(L,t,e.output(this.state.selection)),I.apply,I,[t,this.that,this.args])}},L.extent=function(e){return arguments.length?(P="function"==typeof e?e:l([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),L):P},L.filter=function(e){return arguments.length?(M="function"==typeof e?e:l(!!e),L):M},L.handleSize=function(e){return arguments.length?(R=+e,L):R},L.on=function(){var e=I.on.apply(I,arguments);return e===I?L:e},L}n.d(t,"brush",(function(){return I})),n.d(t,"brushX",(function(){return P})),n.d(t,"brushY",(function(){return M})),n.d(t,"brushSelection",(function(){return O}))},function(e,t,n){n.r(t);var r=n(65),i=n(0);function o(){i.event.stopImmediatePropagation()}var a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},s=function(e){var t=e.document.documentElement,n=Object(i.select)(e).on("dragstart.drag",a,!0);"onselectstart"in t?n.on("selectstart.drag",a,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function l(e,t){var n=e.document.documentElement,r=Object(i.select)(e).on("dragstart.drag",null);t&&(r.on("click.drag",a,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var u=function(e){return function(){return e}};function c(e,t,n,r,i,o,a,s,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}function h(){return!i.event.button}function f(){return this.parentNode}function d(e){return null==e?{x:i.event.x,y:i.event.y}:e}function p(){return"ontouchstart"in this}c.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var m=function(){var e,t,n,m,v=h,g=f,y=d,b=p,_={},x=Object(r.a)("start","drag","end"),T=0,w=0;function S(e){e.on("mousedown.drag",E).filter(b).on("touchstart.drag",A).on("touchmove.drag",O).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(){if(!m&&v.apply(this,arguments)){var r=M("mouse",g.apply(this,arguments),i.mouse,this,arguments);r&&(Object(i.select)(i.event.view).on("mousemove.drag",k,!0).on("mouseup.drag",C,!0),s(i.event.view),o(),n=!1,e=i.event.clientX,t=i.event.clientY,r("start"))}}function k(){if(a(),!n){var r=i.event.clientX-e,o=i.event.clientY-t;n=r*r+o*o>w}_.mouse("drag")}function C(){Object(i.select)(i.event.view).on("mousemove.drag mouseup.drag",null),l(i.event.view,n),a(),_.mouse("end")}function A(){if(v.apply(this,arguments)){var e,t,n=i.event.changedTouches,r=g.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=M(n[e].identifier,r,i.touch,this,arguments))&&(o(),t("start"))}}function O(){var e,t,n=i.event.changedTouches,r=n.length;for(e=0;e<r;++e)(t=_[n[e].identifier])&&(a(),t("drag"))}function P(){var e,t,n=i.event.changedTouches,r=n.length;for(m&&clearTimeout(m),m=setTimeout((function(){m=null}),500),e=0;e<r;++e)(t=_[n[e].identifier])&&(o(),t("end"))}function M(e,t,n,r,o){var a,s,l,u=n(t,e),h=x.copy();if(Object(i.customEvent)(new c(S,"beforestart",a,e,T,u[0],u[1],0,0,h),(function(){return null!=(i.event.subject=a=y.apply(r,o))&&(s=a.x-u[0]||0,l=a.y-u[1]||0,!0)})))return function f(d){var p,m=u;switch(d){case"start":_[e]=f,p=T++;break;case"end":delete _[e],--T;case"drag":u=n(t,e),p=T}Object(i.customEvent)(new c(S,d,a,e,p,u[0]+s,u[1]+l,u[0]-m[0],u[1]-m[1],h),h.apply,h,[d,r,o])}}return S.filter=function(e){return arguments.length?(v="function"==typeof e?e:u(!!e),S):v},S.container=function(e){return arguments.length?(g="function"==typeof e?e:u(e),S):g},S.subject=function(e){return arguments.length?(y="function"==typeof e?e:u(e),S):y},S.touchable=function(e){return arguments.length?(b="function"==typeof e?e:u(!!e),S):b},S.on=function(){var e=x.on.apply(x,arguments);return e===x?S:e},S.clickDistance=function(e){return arguments.length?(w=(e=+e)*e,S):Math.sqrt(w)},S};n.d(t,"drag",(function(){return m})),n.d(t,"dragDisable",(function(){return s})),n.d(t,"dragEnable",(function(){return l}))},function(e,t,n){n.r(t);var r,i,o=n(0),a=n(65),s=0,l=0,u=0,c=1e3,h=0,f=0,d=0,p="object"==typeof performance&&performance.now?performance:Date,m="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function v(){return f||(m(g),f=p.now()+d)}function g(){f=0}function y(){this._call=this._time=this._next=null}function b(e,t,n){var r=new y;return r.restart(e,t,n),r}function _(){v(),++s;for(var e,t=r;t;)(e=f-t._time)>=0&&t._call.call(null,e),t=t._next;--s}function x(){f=(h=p.now())+d,s=l=0;try{_()}finally{s=0,w(),f=0}}function T(){var e=p.now(),t=e-h;t>c&&(d-=t,h=e)}function w(){for(var e,t,n=r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,S(o)}function S(e){s||(l&&(l=clearTimeout(l)),e-f>24?(e<1/0&&(l=setTimeout(x,e-p.now()-d)),u&&(u=clearInterval(u))):(u||(h=p.now(),u=setInterval(T,c)),s=1,m(x)))}y.prototype=b.prototype={constructor:y,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?v():+n)+(null==t?0:+t),!this._next&&i!==this&&(i?i._next=this:r=this,i=this),this._call=e,this._time=n,S()},stop:function(){this._call&&(this._call=null,this._time=1/0,S())}};var E=function(e,t,n){var r=new y;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},k=Object(a.a)("start","end","cancel","interrupt"),C=[],A=0,O=1,P=2,M=3,I=4,R=5,L=6,D=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};F(e,n,{name:t,index:r,group:i,on:k,tween:C,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:A})};function N(e,t){var n=B(e,t);if(n.state>A)throw new Error("too late; already scheduled");return n}function j(e,t){var n=B(e,t);if(n.state>M)throw new Error("too late; already running");return n}function B(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function F(e,t,n){var r,i=e.__transition;function o(e){n.state=O,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(o){var u,c,h,f;if(n.state!==O)return l();for(u in i)if((f=i[u]).name===n.name){if(f.state===M)return E(a);f.state===I?(f.state=L,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=L,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[u])}if(E((function(){n.state===M&&(n.state=I,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=P,n.on.call("start",e,e.__data__,n.index,n.group),n.state===P){for(n.state=M,r=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=R,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);n.state===R&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=L,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=b(o,0,n.time)}var H=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>P&&n.state<R,n.state=L,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}},z=function(e){return this.each((function(){H(this,e)}))},U=n(15);function V(e,t){var n,r;return function(){var i=j(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function G(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=j(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}var X=function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=B(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?V:G)(n,e,t))};function Y(e,t,n){var r=e._id;return e.each((function(){var e=j(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return B(e,r).value[t]}}var W=n(9),q=function(e,t){var n;return("number"==typeof t?U.c:t instanceof W.color?U.d:(n=Object(W.color)(t))?(t=n,U.d):U.f)(e,t)};function K(e){return function(){this.removeAttribute(e)}}function $(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Z(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function Q(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function J(e,t,n){var r,i,o;return function(){var a,s,l=n(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l))}}function ee(e,t,n){var r,i,o;return function(){var a,s,l=n(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l))}}var te=function(e,t){var n=Object(o.namespace)(e),r="transform"===n?U.h:q;return this.attrTween(e,"function"==typeof t?(n.local?ee:J)(n,r,Y(this,"attr."+e,t)):null==t?(n.local?$:K)(n):(n.local?Q:Z)(n,r,t))};function ne(e,t){return function(n){this.setAttribute(e,t(n))}}function re(e,t){return function(n){this.setAttributeNS(e.space,e.local,t(n))}}function ie(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&re(e,i)),n}return i._value=t,i}function oe(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ne(e,i)),n}return i._value=t,i}var ae=function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Object(o.namespace)(e);return this.tween(n,(r.local?ie:oe)(r,t))};function se(e,t){return function(){N(this,e).delay=+t.apply(this,arguments)}}function le(e,t){return t=+t,function(){N(this,e).delay=t}}var ue=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?se:le)(t,e)):B(this.node(),t).delay};function ce(e,t){return function(){j(this,e).duration=+t.apply(this,arguments)}}function he(e,t){return t=+t,function(){j(this,e).duration=t}}var fe=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ce:he)(t,e)):B(this.node(),t).duration};function de(e,t){if("function"!=typeof t)throw new Error;return function(){j(this,e).ease=t}}var pe=function(e){var t=this._id;return arguments.length?this.each(de(t,e)):B(this.node(),t).ease},me=function(e){"function"!=typeof e&&(e=Object(o.matcher)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s=t[i],l=s.length,u=r[i]=[],c=0;c<l;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&u.push(a);return new ze(r,this._parents,this._name,this._id)},ve=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],h=u.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(f[d]=l);for(;s<r;++s)a[s]=t[s];return new ze(a,this._parents,this._name,this._id)};function ge(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}function ye(e,t,n){var r,i,o=ge(t)?N:j;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}var be=function(e,t){var n=this._id;return arguments.length<2?B(this.node(),n).on.on(e):this.each(ye(n,e,t))};function _e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}var xe=function(){return this.on("end.remove",_e(this._id))},Te=function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(o.selector)(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var l,u,c=r[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=c[d])&&(u=e.call(l,l.__data__,d,c))&&("__data__"in l&&(u.__data__=l.__data__),f[d]=u,D(f[d],t,n,d,f,B(l,n)));return new ze(a,this._parents,t,n)},we=function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(o.selectorAll)(e));for(var r=this._groups,i=r.length,a=[],s=[],l=0;l<i;++l)for(var u,c=r[l],h=c.length,f=0;f<h;++f)if(u=c[f]){for(var d,p=e.call(u,u.__data__,f,c),m=B(u,n),v=0,g=p.length;v<g;++v)(d=p[v])&&D(d,t,n,v,p,m);a.push(p),s.push(u)}return new ze(a,s,t,n)},Se=o.selection.prototype.constructor,Ee=function(){return new Se(this._groups,this._parents)};function ke(e,t){var n,r,i;return function(){var a=Object(o.style)(this,e),s=(this.style.removeProperty(e),Object(o.style)(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function Ce(e){return function(){this.style.removeProperty(e)}}function Ae(e,t,n){var r,i,a=n+"";return function(){var s=Object(o.style)(this,e);return s===a?null:s===r?i:i=t(r=s,n)}}function Oe(e,t,n){var r,i,a;return function(){var s=Object(o.style)(this,e),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=Object(o.style)(this,e)),s===u?null:s===r&&u===i?a:(i=u,a=t(r=s,l))}}function Pe(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=j(this,e),u=l.on,c=null==l.value[a]?o||(o=Ce(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}var Me=function(e,t,n){var r="transform"==(e+="")?U.g:q;return null==t?this.styleTween(e,ke(e,r)).on("end.style."+e,Ce(e)):"function"==typeof t?this.styleTween(e,Oe(e,r,Y(this,"style."+e,t))).each(Pe(this._id,e)):this.styleTween(e,Ae(e,r,t),n).on("end.style."+e,null)};function Ie(e,t,n){return function(r){this.style.setProperty(e,t(r),n)}}function Re(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Ie(e,o,n)),r}return o._value=t,o}var Le=function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,Re(e,t,null==n?"":n))};function De(e){return function(){this.textContent=e}}function Ne(e){return function(){var t=e(this);this.textContent=null==t?"":t}}var je=function(e){return this.tween("text","function"==typeof e?Ne(Y(this,"text",e)):De(null==e?"":e+""))},Be=function(){for(var e=this._name,t=this._id,n=Ve(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=B(a,t);D(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ze(r,this._parents,e,n)},Fe=function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0===--i&&o()}};n.each((function(){var n=j(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}))}))},He=0;function ze(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ue(e){return Object(o.selection)().transition(e)}function Ve(){return++He}var Ge=o.selection.prototype;function Xe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}ze.prototype=Ue.prototype={constructor:ze,select:Te,selectAll:we,filter:me,merge:ve,selection:Ee,transition:Be,call:Ge.call,nodes:Ge.nodes,node:Ge.node,size:Ge.size,empty:Ge.empty,each:Ge.each,on:be,attr:te,attrTween:ae,style:Me,styleTween:Le,text:je,remove:xe,tween:X,delay:ue,duration:fe,ease:pe,end:Fe};var Ye=3;(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(Ye),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(Ye),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(Ye);var We=1.70158;(function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n})(We),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(We),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(We);var qe=2*Math.PI,Ke=1,$e=.3;(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=qe);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*qe)},i.period=function(n){return e(t,n)},i})(Ke,$e),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=qe);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*qe)},i.period=function(n){return e(t,n)},i}(Ke,$e),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=qe);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*qe)},i.period=function(n){return e(t,n)},i}(Ke,$e);var Ze={time:null,delay:0,duration:250,ease:Xe};function Qe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Ze.time=v(),Ze;return n}var Je=function(e){var t,n;e instanceof ze?(t=e._id,e=e._name):(t=Ve(),(n=Ze).time=v(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&D(a,e,t,u,s,n||Qe(a,t));return new ze(r,this._parents,e,t)};o.selection.prototype.interrupt=z,o.selection.prototype.transition=Je;var et=[null],tt=function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>O&&n.name===t)return new ze([[e]],et,t,+r);return null};n.d(t,"transition",(function(){return Ue})),n.d(t,"active",(function(){return tt})),n.d(t,"interrupt",(function(){return H}))},function(e,t,n){var r=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=r},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(89),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(106)("keys"),i=n(91);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){t.__esModule=!0;var r=a(n(560)),i=a(n(225)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return"undefined"==typeof e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":"undefined"==typeof e?"undefined":o(e)}},function(e,t,n){e.exports={default:n(235),__esModule:!0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(44)),i=p(n(5)),o=p(n(3)),a=p(n(4)),s=p(n(6)),l=p(n(7)),u=p(n(29)),c=p(n(2)),h=p(n(1)),f=p(n(42)),d=n(11);function p(e){return e&&e.__esModule?e:{default:e}}n(68);var m={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},v=20,g=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.adjusted=!1,n.state={orientation:n.props.orientation?n.props.orientation:"right",left:n.props.position.left,top:n.props.position.top,submenuShown:null},n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){function e(){this.updateOrientation()}return e}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function e(e){this.adjusted=!1,this.setState({left:e.position.left,top:e.position.top})}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.updateOrientation()}return e}()},{key:"handleItemMouseEnterWithRect",value:function(){function e(e,t){this.setState({submenuShown:t,submenuSourceBbox:e})}return e}()},{key:"handleItemMouseEnter",value:function(){function e(e,t){this.handleItemMouseEnterWithRect(e.currentTarget.getBoundingClientRect(),t)}return e}()},{key:"handleMouseLeave",value:function(){function e(){}return e}()},{key:"handleOtherMouseEnter",value:function(){function e(){this.setState({submenuShown:null})}return e}()},{key:"updateOrientation",value:function(){function e(){if(!this.adjusted){this.adjusted=!0,this.divDom=f.default.findDOMNode(this.div);var e=this.divDom.getBoundingClientRect(),t=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0,height:0},n=this.state.orientation,r=t.top;if(t.top+e.height>window.innerHeight&&(t.top-e.height>0?r=t.top-e.height+v:(r=t.top-e.height+v,r-=r+e.height-window.innerHeight)),"left"===this.state.orientation){var i=t.left-e.width;i<0&&(t.left+t.width+e.width>window.innerWidth?i=0:(i=t.left+t.width,n="right")),this.setState({left:i,top:r,orientation:n})}else{var o=t.left+t.width;t.left+t.width+e.width>window.innerWidth&&(t.left-e.width<0?(o=0,n="right"):(o=t.left-e.width,n="left")),this.setState({left:o,top:r,orientation:n})}}}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.state.left?{left:this.state.left}:{right:this.state.right},n={top:this.state.top},i=(0,r.default)(t,n),o="context-menu";return this.props.theme===d.THEME_DARK&&(o+=" context-menu-dark"),h.default.createElement("div",{ref:function(){function t(t){e.div=t}return t}(),style:i,className:"context-menu-item "+(0,u.default)(o,m)},this.props.children)}return e}()}]),t}(h.default.Component);g.propTypes={children:c.default.node,orientation:c.default.string,parentBbox:c.default.object,position:c.default.object,theme:c.default.symbol.isRequired},t.default=g},function(e,t,n){var r=n(118),i=n(733),o=n(734),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;function u(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}e.exports=u},function(e,t,n){var r=n(277),i=n(274);function o(e){return null!=e&&i(e.length)&&!r(e)}e.exports=o},function(e,t,n){var r=n(754),i=n(757);function o(e,t){var n=i(e,t);return r(n)?n:void 0}e.exports=o},function(e,t,n){var r=n(195),i=n(287);function o(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}e.exports=o},function(e,t,n){var r=e.exports;[n(952),n(956),n(957),n(958),n(959),n(960)].forEach((function(e){Object.keys(e).forEach((function(t){r[t]=e[t].bind(r)}))}))},function(e,t,n){var r=n(203),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=n(151);o.inherits=n(58);var a=n(466),s=n(305);o.inherits(h,a);for(var l=i(s.prototype),u=0;u<l.length;u++){var c=l[u];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=o(n(509)),i=n(315);function o(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.adapter)return(0,r.default)(e.adapter),e.adapter;var t=(0,i.get)().adapter;return(0,r.default)(t),t}},function(e,t,n){n.r(t);var r={},i={},o=34,a=10,s=13;function l(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}function u(e,t){var n=l(e);return function(r,i){return t(n(r),i,e)}}function c(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function h(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function f(e){return e<0?"-"+h(-e,6):e>9999?"+"+h(e,6):h(e,4)}function d(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":f(e.getUTCFullYear())+"-"+h(e.getUTCMonth()+1,2)+"-"+h(e.getUTCDate(),2)+(i?"T"+h(t,2)+":"+h(n,2)+":"+h(r,2)+"."+h(i,3)+"Z":r?"T"+h(t,2)+":"+h(n,2)+":"+h(r,2)+"Z":n||t?"T"+h(t,2)+":"+h(n,2)+"Z":"")}var p=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function h(e,t){var n,r,i=f(e,(function(e,i){if(n)return n(e,i-1);r=e,n=t?u(e,t):l(e)}));return i.columns=r||[],i}function f(e,t){var l,u=[],c=e.length,h=0,f=0,d=c<=0,p=!1;function m(){if(d)return i;if(p)return p=!1,r;var t,l,u=h;if(e.charCodeAt(u)===o){for(;h++<c&&e.charCodeAt(h)!==o||e.charCodeAt(++h)===o;);return(t=h)>=c?d=!0:(l=e.charCodeAt(h++))===a?p=!0:l===s&&(p=!0,e.charCodeAt(h)===a&&++h),e.slice(u+1,t-1).replace(/""/g,'"')}for(;h<c;){if((l=e.charCodeAt(t=h++))===a)p=!0;else if(l===s)p=!0,e.charCodeAt(h)===a&&++h;else if(l!==n)continue;return e.slice(u,t)}return d=!0,e.slice(u,c)}for(e.charCodeAt(c-1)===a&&--c,e.charCodeAt(c-1)===s&&--c;(l=m())!==i;){for(var v=[];l!==r&&l!==i;)v.push(l),l=m();t&&null==(v=t(v,f++))||u.push(v)}return u}function p(t,n){return t.map((function(t){return n.map((function(e){return b(t[e])})).join(e)}))}function m(t,n){return null==n&&(n=c(t)),[n.map(b).join(e)].concat(p(t,n)).join("\n")}function v(e,t){return null==t&&(t=c(e)),p(e,t).join("\n")}function g(e){return e.map(y).join("\n")}function y(t){return t.map(b).join(e)}function b(e){return null==e?"":e instanceof Date?d(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:h,parseRows:f,format:m,formatBody:v,formatRows:g}},m=p(","),v=m.parse,g=m.parseRows,y=m.format,b=m.formatBody,_=m.formatRows,x=p("\t"),T=x.parse,w=x.parseRows,S=x.format,E=x.formatBody,k=x.formatRows;function C(e){for(var t in e){var n,r=e[t].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;e[t]=r}return e}n.d(t,"dsvFormat",(function(){return p})),n.d(t,"csvParse",(function(){return v})),n.d(t,"csvParseRows",(function(){return g})),n.d(t,"csvFormat",(function(){return y})),n.d(t,"csvFormatBody",(function(){return b})),n.d(t,"csvFormatRows",(function(){return _})),n.d(t,"tsvParse",(function(){return T})),n.d(t,"tsvParseRows",(function(){return w})),n.d(t,"tsvFormat",(function(){return S})),n.d(t,"tsvFormatBody",(function(){return E})),n.d(t,"tsvFormatRows",(function(){return k})),n.d(t,"autoType",(function(){return C}))},function(e,t,n){var r=n(74);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(12),i=n(23),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(75)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(33),i=n(23).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(75),i=n(16),o=n(161),a=n(43),s=n(51),l=n(214),u=n(77),c=n(128),h=n(21)("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",m="values",v=function(){return this};e.exports=function(e,t,n,g,y,b,_){l(n,t,g);var x,T,w,S=function(e){if(!f&&e in A)return A[e];switch(e){case p:case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",k=y==m,C=!1,A=e.prototype,O=A[h]||A[d]||y&&A[y],P=O||S(y),M=y?k?S("entries"):P:void 0,I="Array"==t&&A.entries||O;if(I&&(w=c(I.call(new e)))!==Object.prototype&&w.next&&(u(w,E,!0),!r&&"function"!=typeof w[h]&&a(w,h,v)),k&&O&&O.name!==m&&(C=!0,P=function(){return O.call(this)}),(!r||_)&&(f||C||!A[h])&&a(A,h,P),s[t]=P,s[E]=v,y)if(x={values:k?P:S(m),keys:b?P:S(p),entries:M},_)for(T in x)T in A||o(A,T,x[T]);else i(i.P+i.F*(f||C),t,x);return x}},function(e,t,n){var r=n(39),i=n(162),o=n(107),a=n(90)("IE_PROTO"),s=function(){},l="prototype",u=function(){var e,t=n(108)("iframe"),r=o.length,i="<",a=">";for(t.style.display="none",n(163).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(i+"script"+a+"document.F=Object"+i+"/script"+a),e.close(),u=e.F;r--;)delete u[l][o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[l]=r(e),n=new s,s[l]=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(74),i=n(21)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(111),i=n(21)("iterator"),o=n(51);e.exports=n(12).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){(function(e){var r=n(588),i=n(589),o=n(338);function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?v(e,t,n,r):"string"==typeof t?p(e,t,n):g(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t,n,r){return h(t),t<=0?l(e,t):void 0!==n?"string"==typeof r?l(e,t).fill(n,r):l(e,t).fill(n):l(e,t)}function d(e,t){if(h(t),e=l(e,t<0?0:0|y(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|_(t,n),i=(e=l(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function m(e,t){var n=t.length<0?0:0|y(t.length);e=l(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function v(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=m(e,t),e}function g(e,t){if(u.isBuffer(t)){var n=0|y(t.length);return 0===(e=l(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||te(t.length)?l(e,0):m(e,t);if("Buffer"===t.type&&o(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),u.alloc(+e)}function _(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(r)return $(e).length;t=(""+t).toLowerCase(),r=!0}}function x(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function T(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:S(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):S(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function S(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){h=!1;break}if(h)return o}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function k(e,t,n,r){return ee($(t,e.length-n),e,n,r)}function C(e,t,n,r){return ee(Z(t),e,n,r)}function A(e,t,n,r){return C(e,t,n,r)}function O(e,t,n,r){return ee(J(t),e,n,r)}function P(e,t,n,r){return ee(Q(t,e.length-n),e,n,r)}function M(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128===(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return L(r)}t.Buffer=u,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:a(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return f(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=_,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)T(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)T(this,t,t+3),T(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)T(this,t,t+7),T(this,t+1,t+6),T(this,t+2,t+5),T(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):x.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function L(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=K(e[o]);return i}function B(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function F(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function H(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function z(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function V(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(e,t,n,r,o){return o||V(e,t,n,4),i.write(e,t,n,r,23,4),n+4}function X(e,t,n,r,o){return o||V(e,t,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||H(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||H(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);H(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);H(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return G(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return G(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return X(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return X(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),!r&&0!==r&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:$(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function W(e){if((e=q(e).replace(Y,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function $(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Q(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function J(e){return r.toByteArray(W(e))}function ee(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function te(e){return e!==e}}).call(this,n(27))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NUM_PRECOMP_SUBSETS_PER_1D_TTILE=8,t.NUM_PRECOMP_SUBSETS_PER_2D_TTILE=8},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(19)),i=v(n(35)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(14)),c=v(n(7)),h=v(n(255)),f=v(n(179)),d=n(24),p=n(10),m=n(11);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.animate,s=e.isShowGlobalMousePosition;return r.constIndicator=new m.GLOBALS.PIXI.Graphics,r.pMain.addChild(r.constIndicator),r.axis=new f.default(r),r.pBase.addChild(r.axis.pAxis),r.animate=i,r.options=n,r.isShowGlobalMousePosition=s,r.pubSubs=[],r.options.showMousePosition&&!r.hideMousePosition&&(r.hideMousePosition=(0,p.showMousePosition)(r,r.is2d,r.isShowGlobalMousePosition())),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"rerender",value:function(){function e(e,n){var r=(0,i.default)(e);!n&&r===this.prevOptions||((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e,n),this.prevOptions=r,this.options=e,this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,p.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}return e}()},{key:"calculateZoomLevel",value:function(){function e(){if(this.tilesetInfo.resolutions)return d.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]-2);var e=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}return e}()},{key:"relevantScale",value:function(){function e(){return this._xScale}return e}()},{key:"draw",value:function(){function e(){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this),this.drawConstIndicator()}return e}()},{key:"drawAxis",value:function(){function e(e){if(this.options.axisPositionVertical||this.options.axisPositionHorizontal)if(this.options.axisPositionVertical&&"hidden"===this.options.axisPositionVertical)this.axis.clearAxis();else if(this.options.axisPositionHorizontal&&"hidden"===this.options.axisPositionHorizontal)this.axis.clearAxis();else{var t=this.options.axisMargin||0;"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1])):"outsideLeft"===this.options.axisPositionHorizontal||"outsideTop"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):("outsideRight"===this.options.axisPositionHorizontal||"outsideBottom"===this.options.axisPositionVertical)&&(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1]))}else this.axis.clearAxis()}return e}()},{key:"mouseMoveZoomHandler",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mouseX,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mouseY;if("undefined"!=typeof e&&this.areAllVisibleTilesLoaded()&&this.tilesetInfo){var n=0,r=0,i="1d-horizontal";this.isLeftModified?(n=t-this.position[1],r=e-this.position[0],i="1d-vertical"):(n=e-this.position[0],r=t-this.position[1]);var o=e-this.position[0],a=t-this.position[1],s=this._xScale.invert(n),l=this._yScale.invert(r),u=this.getDataAtPos(n);u&&this.onMouseMoveZoom({trackId:this.id,data:u,absX:e,absY:t,relX:o,relY:a,dataX:s,dataY:l,orientation:i})}}return e}()},{key:"drawConstIndicator",value:function(){function e(){var e=this;if(this.constIndicator){for(this.constIndicator.clear();this.constIndicator.children[0];)this.constIndicator.removeChild(this.constIndicator.children[0]);!this.options.constIndicators||!this.valueScale||this.options.constIndicators.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=void 0===n?"black":n,i=t.opacity,o=void 0===i?1:i,a=t.label,s=void 0===a?null:a,l=t.labelColor,u=void 0===l?"black":l,c=t.labelOpacity,h=void 0===c?1:c,f=t.labelPosition,d=void 0===f?"leftTop":f,v=t.labelSize,g=void 0===v?12:v,y=t.value,b=void 0===y?0:y,_=(0,p.colorToHex)(r),x=(0,p.colorToHex)(u);e.constIndicator.beginFill(_,o);var T=e.valueScale(b),w=0,S=0;if(s){var E=new m.GLOBALS.PIXI.Text(s,{fontFamily:"Arial",fontSize:g,fill:x});switch(E.alpha=h,d){case"right":E.anchor.x=1,E.anchor.y=.5,E.x=e.position[0]+e.dimensions[0]-6,E.y=T,S=E.width+8;break;case"rightBottom":E.anchor.x=1,E.anchor.y=0,E.x=e.position[0]+e.dimensions[0]-6,E.y=T;break;case"rightTop":E.anchor.x=1,E.anchor.y=1,E.x=e.position[0]+e.dimensions[0]-6,E.y=T;break;case"left":E.anchor.x=0,E.anchor.y=.5,E.x=e.position[0]+2,E.y=T,w=E.width+4;break;case"leftBottom":E.anchor.x=0,E.anchor.y=0,E.x=e.position[0]+2,E.y=T;break;default:E.anchor.x=0,E.anchor.y=1,E.x=e.position[0]+2,E.y=T}e.constIndicator.addChild(E)}e.constIndicator.drawRect(e.position[0]+w,T,e.dimensions[0]-S,1)}))}}return e}()},{key:"exportSVG",value:function(){function e(){var e=this,n=null,i=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);i=s[0],n=s[1]}else n=i=document.createElement("g");i.setAttribute("class","horizontal-tiled-1d-track");var l=document.createElement("g");return n.appendChild(l),this.options.constIndicators&&this.options.constIndicators.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=void 0===n?"black":n,i=t.opacity,o=void 0===i?1:i,a=t.label,s=void 0===a?null:a,u=t.labelColor,c=void 0===u?"black":u,h=t.labelOpacity,f=void 0===h?1:h,d=t.labelPosition,p=void 0===d?"leftTop":d,m=t.labelSize,v=void 0===m?12:m,g=t.value,y=void 0===g?0:g,b=e.valueScale(y);if(s){var _=document.createElement("text");switch(_.textContent=s,_.setAttribute("x",e.position[0]),_.setAttribute("y",b),_.setAttribute("style","font-family: 'Arial'; font-size: "+String(v)+"px; fill: "+String(c)+"; fill-opacity: "+String(f)+";"),p){case"rightBottom":_.setAttribute("x",e.position[0]+e.dimensions[0]-6),_.setAttribute("y",b+v+2),_.setAttribute("text-anchor","end");break;case"right":case"rightTop":_.setAttribute("x",e.position[0]+e.dimensions[0]-6),_.setAttribute("y",b-2),_.setAttribute("text-anchor","end");break;case"leftBottom":_.setAttribute("x",e.position[0]+2),_.setAttribute("y",b+v+2);break;default:_.setAttribute("x",e.position[0]+2),_.setAttribute("y",b-2)}l.appendChild(_)}var x=document.createElement("line");x.setAttribute("x1",e.position[0]),x.setAttribute("y1",b),x.setAttribute("x2",e.dimensions[0]),x.setAttribute("y2",b),x.setAttribute("stroke",r),x.setAttribute("stroke-opacity",o),l.appendChild(x)})),[i,n]}return e}()}]),t}(h.default);t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(17)),i=v(n(30)),o=v(n(19)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(14)),h=v(n(7)),f=n(20),d=n(28),p=v(n(115)),m=n(10);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,l.default)(t,[{key:"stopHover",value:function(){function e(){this.pMouseOver.clear(),this.animate()}return e}()},{key:"getMouseOverHtml",value:function(){function e(e){if(!this.tilesetInfo||!this.options.showTooltip||!this.valueScale)return"";var t=this.getDataAtPos(e),n="";t&&(n=(0,f.format)(".3f")(t));var r=this.pMouseOver,i=0,o=this.valueScale(t);r.clear(),r.beginFill(i,.5),r.lineStyle(1,i,1);var a=4;return r.drawRect(e-a/2,o-a/2,a,a),this.animate(),""+String(n)}return e}()},{key:"initTile",value:function(){function e(e){if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e),e.tileData&&e.tileData.dense){if(e.xValues=new Array(e.tileData.dense.length),e.yValues=new Array(e.tileData.dense.length),this.isValueScaleLocked()){var n=this.getLockGroupExtrema();null!==n&&(this.minValue(n[0]),this.maxValue(n[1]))}this.drawTile(e)}else console.warn("emptyTile:",e)}return e}()},{key:"rerender",value:function(){function e(e,n){var r=this;(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"rerender",this).call(this,e,n),this.options=e,(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this),this.visibleAndFetchedTiles().forEach((function(e){r.renderTile(e)}))}return e}()},{key:"renderTile",value:function(){function e(e){this.drawTile(e),this.drawAxis(this.valueScale)}return e}()},{key:"drawTile",value:function(){function e(e){if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"drawTile",this).call(this,e),e.graphics&&e.tileData&&e.tileData.dense){var n=e.graphics,s=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),l=s.tileX,u=s.tileWidth,h=e.tileData.dense;if(0!==h.length){var f=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),p=(0,o.default)(f,2),v=p[0],g=p[1];if(this.valueScale=v,n.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var y=(0,m.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue");!this.tilesetInfo.tile_size&&!this.tilesetInfo.bins_per_dimension&&console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension",this.tilesetInfo);var b=this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension,_=(0,d.scaleLinear)().domain([0,b]).range([l,l+u]),x=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;n.lineStyle(x,y,1),e.segments=[];for(var T=[],w=0;w<h.length;w++){var S=this._xScale(_(w)),E=this.valueScale(h[w]+g);if("log"===this.options.valueScaling&&0===h[w]||(0,i.default)(E))T.length>1&&e.segments.push(T),T=[];else{if(_(w)>this.tilesetInfo.max_pos[0])break;T.push([S,E])}}T.length>1&&e.segments.push(T);var k=!0,C=!1,A=void 0;try{for(var O,P=(0,r.default)(e.segments);!(k=(O=P.next()).done);k=!0){var M=O.value,I=M[0],R=M.slice(1);n.moveTo(I[0],I[1]);var L=!0,D=!1,N=void 0;try{for(var j,B=(0,r.default)(R);!(L=(j=B.next()).done);L=!0){var F=j.value;n.lineTo(F[0],F[1])}}catch(H){D=!0,N=H}finally{try{!L&&B.return&&B.return()}finally{if(D)throw N}}}}catch(H){C=!0,A=H}finally{try{!k&&P.return&&P.return()}finally{if(C)throw A}}}}}return e}()},{key:"setPosition",value:function(){function e(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.pMouseOver.position.y=this.position[1],this.pMouseOver.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw();var n=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){if(null===this.valueScaleMin&&null===this.valueScaleMax&&!n){var r=this.minVisibleValue(),i=this.maxVisibleValue(),o=1e-6;null!==r&&null!==i&&(Math.abs(this.minValue()-r)>o||Math.abs(this.maxValue()-i)>o)&&(this.minValue(r),this.maxValue(i),this.scheduleRerender())}n&&this.onValueScaleChanged()}}return e}()},{key:"superSVG",value:function(){function e(){return(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var i=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),s=(0,o.default)(i,2);n=s[0],e=s[1]}else e=n=document.createElement("g");n.setAttribute("class","exported-line-track");var l=document.createElement("g");e.appendChild(l),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var u=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue";this.visibleAndFetchedTiles().forEach((function(e){var t=document.createElement("path");t.setAttribute("fill","transparent"),t.setAttribute("stroke",u);var n="",i=!0,o=!1,a=void 0;try{for(var s,c=(0,r.default)(e.segments);!(i=(s=c.next()).done);i=!0){var h=s.value,f=h[0],d=h.slice(1);n+="M"+String(f[0])+" "+String(f[1]);var p=!0,m=!1,v=void 0;try{for(var g,y=(0,r.default)(d);!(p=(g=y.next()).done);p=!0){var b=g.value;n+="L"+String(b[0])+" "+String(b[1])}}catch(_){m=!0,v=_}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}}catch(_){o=!0,a=_}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}t.setAttribute("d",n),l.appendChild(t)}));var h=document.createElement("g");if(h.setAttribute("id","axis"),n.appendChild(h),h.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var f=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);h.appendChild(f)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var d=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);h.appendChild(d)}return[n,e]}return e}()},{key:"tileToLocalId",value:function(){function e(e){return this.options.aggregationMode&&"mean"!==this.options.aggregationMode?String(e.join("."))+"."+String(this.options.aggregationMode):""+String(e.join("."))}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return this.tileToLocalId(e)}return e}()}]),t}(p.default);t.default=g},function(e,t,n){function r(e,t){for(var n in t=t||{},e)t[n]=e[n];return t}function i(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",o=n?"!":"",a=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+a+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}function o(e,t){if(1===e.length)return i(e[0],t,!0);var n="",r=l(e);for(var o in r.array&&r.object&&(n=r.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer,r)n+=(n?" && ":"")+i(o,t,!0);return n}e.exports={copy:r,checkDataType:i,checkDataTypes:o,coerceToTypes:s,toHash:l,getProperty:h,escapeQuotes:f,equal:n(269),ucs2length:n(692),varOccurences:d,varReplace:p,cleanUpCode:y,finalCleanUpCode:A,schemaHasRules:O,schemaHasRulesExcept:P,schemaUnknownRules:M,toQuotedString:I,getPathExpr:R,getPath:L,getData:j,unescapeFragment:F,unescapeJsonPointer:U,escapeFragment:H,escapeJsonPointer:z};var a=l(["string","number","integer","boolean","null"]);function s(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var i=t[r];(a[i]||"array"===e&&"array"===i)&&(n[n.length]=i)}if(n.length)return n}else{if(a[t])return[t];if("array"===e&&"array"===t)return["array"]}}function l(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var u=/^[a-z$_][a-z$_0-9]*$/i,c=/'|\\/g;function h(e){return"number"==typeof e?"["+e+"]":u.test(e)?"."+e:"['"+f(e)+"']"}function f(e){return e.replace(c,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function d(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function p(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}var m=/else\s*{\s*}/g,v=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,g=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;function y(e){return e.replace(m,"").replace(v,"").replace(g,"if (!($1))")}var b=/[^v.]errors/g,_=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,x=/var errors = 0;|var vErrors = null;/g,T="return errors === 0;",w="validate.errors = null; return true;",S=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,E="return data;",k=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,C=/if \(rootData === undefined\) rootData = data;/;function A(e,t){var n=e.match(b);return n&&2==n.length&&(e=t?e.replace(x,"").replace(S,E):e.replace(_,"").replace(T,w)),(n=e.match(k))&&3===n.length?e.replace(C,""):e}function O(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0}function P(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0}function M(e,t){if("boolean"!=typeof e)for(var n in e)if(!t[n])return n}function I(e){return"'"+f(e)+"'"}function R(e,t,n,r){return B(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")}function L(e,t,n){return B(e,I(n?"/"+z(t):h(t)))}var D=/^\/(?:[^~]|~0|~1)*$/,N=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function j(e,t,n){var r,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!D.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(a=e.match(N)))throw new Error("Invalid JSON-pointer: "+e);if(r=+a[1],"#"==(i=a[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var s=o,l=i.split("/"),u=0;u<l.length;u++){var c=l[u];c&&(s+=" && "+(o+=h(U(c))))}return s}function B(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function F(e){return U(decodeURIComponent(e))}function H(e){return encodeURIComponent(z(e))}function z(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function U(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){var r=n(41).Symbol;e.exports=r},function(e,t,n){var r=n(409),i=n(740),o=n(98);function a(e){return o(e)?r(e):i(e)}e.exports=a},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){var r=n(409),i=n(802),o=n(98);function a(e){return o(e)?r(e,!0):i(e)}e.exports=a},function(e,t,n){var r=n(52),i=n(449),o=n(451),a=n(948),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){var r=n(966),i=n(149),o=n(967),a=i.CODE_POINTS,s=i.CODE_POINT_SEQUENCES,l={0:65533,13:13,128:8364,129:129,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,141:141,142:381,143:143,144:144,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,157:157,158:382,159:376},u=1,c=2,h=4,f=u|c|h,d="DATA_STATE",p="CHARACTER_REFERENCE_IN_DATA_STATE",m="RCDATA_STATE",v="CHARACTER_REFERENCE_IN_RCDATA_STATE",g="RAWTEXT_STATE",y="SCRIPT_DATA_STATE",b="PLAINTEXT_STATE",_="TAG_OPEN_STATE",x="END_TAG_OPEN_STATE",T="TAG_NAME_STATE",w="RCDATA_LESS_THAN_SIGN_STATE",S="RCDATA_END_TAG_OPEN_STATE",E="RCDATA_END_TAG_NAME_STATE",k="RAWTEXT_LESS_THAN_SIGN_STATE",C="RAWTEXT_END_TAG_OPEN_STATE",A="RAWTEXT_END_TAG_NAME_STATE",O="SCRIPT_DATA_LESS_THAN_SIGN_STATE",P="SCRIPT_DATA_END_TAG_OPEN_STATE",M="SCRIPT_DATA_END_TAG_NAME_STATE",I="SCRIPT_DATA_ESCAPE_START_STATE",R="SCRIPT_DATA_ESCAPE_START_DASH_STATE",L="SCRIPT_DATA_ESCAPED_STATE",D="SCRIPT_DATA_ESCAPED_DASH_STATE",N="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",j="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",B="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",F="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",H="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",z="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",U="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",V="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",G="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",X="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",Y="BEFORE_ATTRIBUTE_NAME_STATE",W="ATTRIBUTE_NAME_STATE",q="AFTER_ATTRIBUTE_NAME_STATE",K="BEFORE_ATTRIBUTE_VALUE_STATE",$="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",Z="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",Q="ATTRIBUTE_VALUE_UNQUOTED_STATE",J="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE",ee="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",te="SELF_CLOSING_START_TAG_STATE",ne="BOGUS_COMMENT_STATE",re="BOGUS_COMMENT_STATE_CONTINUATION",ie="MARKUP_DECLARATION_OPEN_STATE",oe="COMMENT_START_STATE",ae="COMMENT_START_DASH_STATE",se="COMMENT_STATE",le="COMMENT_END_DASH_STATE",ue="COMMENT_END_STATE",ce="COMMENT_END_BANG_STATE",he="DOCTYPE_STATE",fe="DOCTYPE_NAME_STATE",de="AFTER_DOCTYPE_NAME_STATE",pe="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",me="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",ve="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",ge="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",ye="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",be="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",_e="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",xe="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Te="BOGUS_DOCTYPE_STATE",we="CDATA_SECTION_STATE";function Se(e){return e===a.SPACE||e===a.LINE_FEED||e===a.TABULATION||e===a.FORM_FEED}function Ee(e){return e>=a.DIGIT_0&&e<=a.DIGIT_9}function ke(e){return e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_Z}function Ce(e){return e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_Z}function Ae(e){return Ce(e)||ke(e)}function Oe(e){return Ae(e)||Ee(e)}function Pe(e,t){return Ee(e)||t&&(e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_F||e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_F)}function Me(e){return e>=55296&&e<=57343||e>1114111}function Ie(e){return e+32}function Re(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(e>>>10&1023|55296)+String.fromCharCode(56320|1023&e))}function Le(e){return String.fromCharCode(Ie(e))}function De(e,t){for(var n=o[++e],r=++e,i=r+n-1;r<=i;){var a=r+i>>>1,s=o[a];if(s<t)r=a+1;else{if(!(s>t))return o[a+n];i=a-1}}return-1}var Ne=e.exports=function(){this.preprocessor=new r,this.tokenQueue=[],this.allowCDATA=!1,this.state=d,this.returnState="",this.tempBuff=[],this.additionalAllowedCp=void 0,this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null};Ne.CHARACTER_TOKEN="CHARACTER_TOKEN",Ne.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Ne.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Ne.START_TAG_TOKEN="START_TAG_TOKEN",Ne.END_TAG_TOKEN="END_TAG_TOKEN",Ne.COMMENT_TOKEN="COMMENT_TOKEN",Ne.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Ne.EOF_TOKEN="EOF_TOKEN",Ne.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Ne.MODE={DATA:d,RCDATA:m,RAWTEXT:g,SCRIPT_DATA:y,PLAINTEXT:b},Ne.getTokenAttr=function(e,t){for(var n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null},Ne.prototype.getNextToken=function(){for(;!this.tokenQueue.length&&this.active;){this._hibernationSnapshot();var e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()},Ne.prototype.write=function(e,t){this.active=!0,this.preprocessor.write(e,t)},Ne.prototype.insertHtmlAtCurrentPos=function(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)},Ne.prototype._hibernationSnapshot=function(){this.consumedAfterSnapshot=0},Ne.prototype._ensureHibernation=function(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Ne.HIBERNATION_TOKEN}),!0}return!1},Ne.prototype._consume=function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()},Ne.prototype._unconsume=function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()},Ne.prototype._unconsumeSeveral=function(e){for(;e--;)this._unconsume()},Ne.prototype._reconsumeInState=function(e){this.state=e,this._unconsume()},Ne.prototype._consumeSubsequentIfMatch=function(e,t,n){for(var r=0,i=!0,o=e.length,s=0,l=t,u=void 0;s<o;s++){if(s>0&&(l=this._consume(),r++),l===a.EOF){i=!1;break}if(l!==(u=e[s])&&(n||l!==Ie(u))){i=!1;break}}return i||this._unconsumeSeveral(r),i},Ne.prototype._lookahead=function(){var e=this._consume();return this._unconsume(),e},Ne.prototype.isTempBufferEqualToScriptString=function(){if(this.tempBuff.length!==s.SCRIPT_STRING.length)return!1;for(var e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==s.SCRIPT_STRING[e])return!1;return!0},Ne.prototype._createStartTagToken=function(){this.currentToken={type:Ne.START_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}},Ne.prototype._createEndTagToken=function(){this.currentToken={type:Ne.END_TAG_TOKEN,tagName:"",attrs:[]}},Ne.prototype._createCommentToken=function(){this.currentToken={type:Ne.COMMENT_TOKEN,data:""}},Ne.prototype._createDoctypeToken=function(e){this.currentToken={type:Ne.DOCTYPE_TOKEN,name:e,forceQuirks:!1,publicId:null,systemId:null}},Ne.prototype._createCharacterToken=function(e,t){this.currentCharacterToken={type:e,chars:t}},Ne.prototype._createAttr=function(e){this.currentAttr={name:e,value:""}},Ne.prototype._isDuplicateAttr=function(){return null!==Ne.getTokenAttr(this.currentToken,this.currentAttr.name)},Ne.prototype._leaveAttrName=function(e){this.state=e,this._isDuplicateAttr()||this.currentToken.attrs.push(this.currentAttr)},Ne.prototype._leaveAttrValue=function(e){this.state=e},Ne.prototype._isAppropriateEndTagToken=function(){return this.lastStartTagName===this.currentToken.tagName},Ne.prototype._emitCurrentToken=function(){this._emitCurrentCharacterToken(),this.currentToken.type===Ne.START_TAG_TOKEN&&(this.lastStartTagName=this.currentToken.tagName),this.tokenQueue.push(this.currentToken),this.currentToken=null},Ne.prototype._emitCurrentCharacterToken=function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)},Ne.prototype._emitEOFToken=function(){this._emitCurrentCharacterToken(),this.tokenQueue.push({type:Ne.EOF_TOKEN})},Ne.prototype._appendCharToCurrentCharacterToken=function(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)},Ne.prototype._emitCodePoint=function(e){var t=Ne.CHARACTER_TOKEN;Se(e)?t=Ne.WHITESPACE_CHARACTER_TOKEN:e===a.NULL&&(t=Ne.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(t,Re(e))},Ne.prototype._emitSeveralCodePoints=function(e){for(var t=0;t<e.length;t++)this._emitCodePoint(e[t])},Ne.prototype._emitChar=function(e){this._appendCharToCurrentCharacterToken(Ne.CHARACTER_TOKEN,e)},Ne.prototype._consumeNumericEntity=function(e){var t="",n=void 0;do{t+=Re(this._consume()),n=this._lookahead()}while(n!==a.EOF&&Pe(n,e));this._lookahead()===a.SEMICOLON&&this._consume();var r=parseInt(t,e?16:10);return l[r]||(Me(r)?a.REPLACEMENT_CHARACTER:r)},Ne.prototype._consumeNamedEntity=function(e){for(var t=null,n=0,r=null,i=0,s=!1,l=0;l>-1;){var d=o[l],p=d<f;if(p&&d&u&&(t=d&c?[o[++l],o[++l]]:[o[++l]],n=i,r===a.SEMICOLON)){s=!0;break}if(i++,(r=this._consume())===a.EOF)break;l=p?d&h?De(l,r):-1:r===d?++l:-1}if(t){if(!s&&(this._unconsumeSeveral(i-n),e)){var m=this._lookahead();if(m===a.EQUALS_SIGN||Oe(m))return this._unconsumeSeveral(n),null}return t}return this._unconsumeSeveral(i),null},Ne.prototype._consumeCharacterReference=function(e,t){if(Se(e)||e===a.GREATER_THAN_SIGN||e===a.AMPERSAND||e===this.additionalAllowedCp||e===a.EOF)return this._unconsume(),null;if(e===a.NUMBER_SIGN){var n=!1,r=this._lookahead();return(r===a.LATIN_SMALL_X||r===a.LATIN_CAPITAL_X)&&(this._consume(),n=!0),(r=this._lookahead())!==a.EOF&&Pe(r,n)?[this._consumeNumericEntity(n)]:(this._unconsumeSeveral(n?2:1),null)}return this._unconsume(),this._consumeNamedEntity(t)};var je=Ne.prototype;je[d]=function(e){this.preprocessor.dropParsedChunk(),e===a.AMPERSAND?this.state=p:e===a.LESS_THAN_SIGN?this.state=_:e===a.NULL?this._emitCodePoint(e):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},je[p]=function(e){this.additionalAllowedCp=void 0;var t=this._consumeCharacterReference(e,!1);this._ensureHibernation()||(t?this._emitSeveralCodePoints(t):this._emitChar("&"),this.state=d)},je[m]=function(e){this.preprocessor.dropParsedChunk(),e===a.AMPERSAND?this.state=v:e===a.LESS_THAN_SIGN?this.state=w:e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},je[v]=function(e){this.additionalAllowedCp=void 0;var t=this._consumeCharacterReference(e,!1);this._ensureHibernation()||(t?this._emitSeveralCodePoints(t):this._emitChar("&"),this.state=m)},je[g]=function(e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state=k:e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},je[y]=function(e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state=O:e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},je[b]=function(e){this.preprocessor.dropParsedChunk(),e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},je[_]=function(e){e===a.EXCLAMATION_MARK?this.state=ie:e===a.SOLIDUS?this.state=x:Ae(e)?(this._createStartTagToken(),this._reconsumeInState(T)):e===a.QUESTION_MARK?this._reconsumeInState(ne):(this._emitChar("<"),this._reconsumeInState(d))},je[x]=function(e){Ae(e)?(this._createEndTagToken(),this._reconsumeInState(T)):e===a.GREATER_THAN_SIGN?this.state=d:e===a.EOF?(this._reconsumeInState(d),this._emitChar("<"),this._emitChar("/")):this._reconsumeInState(ne)},je[T]=function(e){Se(e)?this.state=Y:e===a.SOLIDUS?this.state=te:e===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):ke(e)?this.currentToken.tagName+=Le(e):e===a.NULL?this.currentToken.tagName+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(d):this.currentToken.tagName+=Re(e)},je[w]=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state=S):(this._emitChar("<"),this._reconsumeInState(m))},je[S]=function(e){Ae(e)?(this._createEndTagToken(),this._reconsumeInState(E)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(m))},je[E]=function(e){if(ke(e))this.currentToken.tagName+=Le(e),this.tempBuff.push(e);else if(Ce(e))this.currentToken.tagName+=Re(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(Se(e))return void(this.state=Y);if(e===a.SOLIDUS)return void(this.state=te);if(e===a.GREATER_THAN_SIGN)return this.state=d,void this._emitCurrentToken()}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(m)}},je[k]=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state=C):(this._emitChar("<"),this._reconsumeInState(g))},je[C]=function(e){Ae(e)?(this._createEndTagToken(),this._reconsumeInState(A)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(g))},je[A]=function(e){if(ke(e))this.currentToken.tagName+=Le(e),this.tempBuff.push(e);else if(Ce(e))this.currentToken.tagName+=Re(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(Se(e))return void(this.state=Y);if(e===a.SOLIDUS)return void(this.state=te);if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=d)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(g)}},je[O]=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state=P):e===a.EXCLAMATION_MARK?(this.state=I,this._emitChar("<"),this._emitChar("!")):(this._emitChar("<"),this._reconsumeInState(y))},je[P]=function(e){Ae(e)?(this._createEndTagToken(),this._reconsumeInState(M)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(y))},je[M]=function(e){if(ke(e))this.currentToken.tagName+=Le(e),this.tempBuff.push(e);else if(Ce(e))this.currentToken.tagName+=Re(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(Se(e))return void(this.state=Y);if(e===a.SOLIDUS)return void(this.state=te);if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=d)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(y)}},je[I]=function(e){e===a.HYPHEN_MINUS?(this.state=R,this._emitChar("-")):this._reconsumeInState(y)},je[R]=function(e){e===a.HYPHEN_MINUS?(this.state=N,this._emitChar("-")):this._reconsumeInState(y)},je[L]=function(e){e===a.HYPHEN_MINUS?(this.state=D,this._emitChar("-")):e===a.LESS_THAN_SIGN?this.state=j:e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._reconsumeInState(d):this._emitCodePoint(e)},je[D]=function(e){e===a.HYPHEN_MINUS?(this.state=N,this._emitChar("-")):e===a.LESS_THAN_SIGN?this.state=j:e===a.NULL?(this.state=L,this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(d):(this.state=L,this._emitCodePoint(e))},je[N]=function(e){e===a.HYPHEN_MINUS?this._emitChar("-"):e===a.LESS_THAN_SIGN?this.state=j:e===a.GREATER_THAN_SIGN?(this.state=y,this._emitChar(">")):e===a.NULL?(this.state=L,this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(d):(this.state=L,this._emitCodePoint(e))},je[j]=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state=B):Ae(e)?(this.tempBuff=[],this._emitChar("<"),this._reconsumeInState(H)):(this._emitChar("<"),this._reconsumeInState(L))},je[B]=function(e){Ae(e)?(this._createEndTagToken(),this._reconsumeInState(F)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(L))},je[F]=function(e){if(ke(e))this.currentToken.tagName+=Le(e),this.tempBuff.push(e);else if(Ce(e))this.currentToken.tagName+=Re(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(Se(e))return void(this.state=Y);if(e===a.SOLIDUS)return void(this.state=te);if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=d)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(L)}},je[H]=function(e){Se(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?z:L,this._emitCodePoint(e)):ke(e)?(this.tempBuff.push(Ie(e)),this._emitCodePoint(e)):Ce(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(L)},je[z]=function(e){e===a.HYPHEN_MINUS?(this.state=U,this._emitChar("-")):e===a.LESS_THAN_SIGN?(this.state=G,this._emitChar("<")):e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._reconsumeInState(d):this._emitCodePoint(e)},je[U]=function(e){e===a.HYPHEN_MINUS?(this.state=V,this._emitChar("-")):e===a.LESS_THAN_SIGN?(this.state=G,this._emitChar("<")):e===a.NULL?(this.state=z,this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(d):(this.state=z,this._emitCodePoint(e))},je[V]=function(e){e===a.HYPHEN_MINUS?this._emitChar("-"):e===a.LESS_THAN_SIGN?(this.state=G,this._emitChar("<")):e===a.GREATER_THAN_SIGN?(this.state=y,this._emitChar(">")):e===a.NULL?(this.state=z,this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(d):(this.state=z,this._emitCodePoint(e))},je[G]=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state=X,this._emitChar("/")):this._reconsumeInState(z)},je[X]=function(e){Se(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?L:z,this._emitCodePoint(e)):ke(e)?(this.tempBuff.push(Ie(e)),this._emitCodePoint(e)):Ce(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(z)},je[Y]=function(e){Se(e)||(e===a.SOLIDUS||e===a.GREATER_THAN_SIGN||e===a.EOF?this._reconsumeInState(q):e===a.EQUALS_SIGN?(this._createAttr("="),this.state=W):(this._createAttr(""),this._reconsumeInState(W)))},je[W]=function(e){Se(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN||e===a.EOF?(this._leaveAttrName(q),this._unconsume()):e===a.EQUALS_SIGN?this._leaveAttrName(K):ke(e)?this.currentAttr.name+=Le(e):e===a.QUOTATION_MARK||e===a.APOSTROPHE||e===a.LESS_THAN_SIGN?this.currentAttr.name+=Re(e):e===a.NULL?this.currentAttr.name+=i.REPLACEMENT_CHARACTER:this.currentAttr.name+=Re(e)},je[q]=function(e){Se(e)||(e===a.SOLIDUS?this.state=te:e===a.EQUALS_SIGN?this.state=K:e===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(d):(this._createAttr(""),this._reconsumeInState(W)))},je[K]=function(e){Se(e)||(e===a.QUOTATION_MARK?this.state=$:e===a.APOSTROPHE?this.state=Z:this._reconsumeInState(Q))},je[$]=function(e){e===a.QUOTATION_MARK?this.state=ee:e===a.AMPERSAND?(this.additionalAllowedCp=a.QUOTATION_MARK,this.returnState=this.state,this.state=J):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(d):this.currentAttr.value+=Re(e)},je[Z]=function(e){e===a.APOSTROPHE?this.state=ee:e===a.AMPERSAND?(this.additionalAllowedCp=a.APOSTROPHE,this.returnState=this.state,this.state=J):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(d):this.currentAttr.value+=Re(e)},je[Q]=function(e){Se(e)?this._leaveAttrValue(Y):e===a.AMPERSAND?(this.additionalAllowedCp=a.GREATER_THAN_SIGN,this.returnState=this.state,this.state=J):e===a.GREATER_THAN_SIGN?(this._leaveAttrValue(d),this._emitCurrentToken()):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.QUOTATION_MARK||e===a.APOSTROPHE||e===a.LESS_THAN_SIGN||e===a.EQUALS_SIGN||e===a.GRAVE_ACCENT?this.currentAttr.value+=Re(e):e===a.EOF?this._reconsumeInState(d):this.currentAttr.value+=Re(e)},je[J]=function(e){var t=this._consumeCharacterReference(e,!0);if(!this._ensureHibernation()){if(t)for(var n=0;n<t.length;n++)this.currentAttr.value+=Re(t[n]);else this.currentAttr.value+="&";this.state=this.returnState}},je[ee]=function(e){Se(e)?this._leaveAttrValue(Y):e===a.SOLIDUS?this._leaveAttrValue(te):e===a.GREATER_THAN_SIGN?(this._leaveAttrValue(d),this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(d):this._reconsumeInState(Y)},je[te]=function(e){e===a.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=d,this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(d):this._reconsumeInState(Y)},je[ne]=function(){this._createCommentToken(),this._reconsumeInState(re)},je[re]=function(e){for(;;){if(e===a.GREATER_THAN_SIGN){this.state=d;break}if(e===a.EOF){this._reconsumeInState(d);break}if(this.currentToken.data+=e===a.NULL?i.REPLACEMENT_CHARACTER:Re(e),this._hibernationSnapshot(),e=this._consume(),this._ensureHibernation())return}this._emitCurrentToken()},je[ie]=function(e){var t=this._consumeSubsequentIfMatch(s.DASH_DASH_STRING,e,!0),n=!t&&this._consumeSubsequentIfMatch(s.DOCTYPE_STRING,e,!1),r=!t&&!n&&this.allowCDATA&&this._consumeSubsequentIfMatch(s.CDATA_START_STRING,e,!0);this._ensureHibernation()||(t?(this._createCommentToken(),this.state=oe):n?this.state=he:r?this.state=we:this._reconsumeInState(ne))},je[oe]=function(e){e===a.HYPHEN_MINUS?this.state=ae:e===a.NULL?(this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=se):e===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(d)):(this.currentToken.data+=Re(e),this.state=se)},je[ae]=function(e){e===a.HYPHEN_MINUS?this.state=ue:e===a.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=se):e===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(d)):(this.currentToken.data+="-",this.currentToken.data+=Re(e),this.state=se)},je[se]=function(e){e===a.HYPHEN_MINUS?this.state=le:e===a.NULL?this.currentToken.data+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(d)):this.currentToken.data+=Re(e)},je[le]=function(e){e===a.HYPHEN_MINUS?this.state=ue:e===a.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=se):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(d)):(this.currentToken.data+="-",this.currentToken.data+=Re(e),this.state=se)},je[ue]=function(e){e===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):e===a.EXCLAMATION_MARK?this.state=ce:e===a.HYPHEN_MINUS?this.currentToken.data+="-":e===a.NULL?(this.currentToken.data+="--",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=se):e===a.EOF?(this._reconsumeInState(d),this._emitCurrentToken()):(this.currentToken.data+="--",this.currentToken.data+=Re(e),this.state=se)},je[ce]=function(e){e===a.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=le):e===a.GREATER_THAN_SIGN?(this.state=d,this._emitCurrentToken()):e===a.NULL?(this.currentToken.data+="--!",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=se):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(d)):(this.currentToken.data+="--!",this.currentToken.data+=Re(e),this.state=se)},je[he]=function(e){Se(e)||(e===a.GREATER_THAN_SIGN?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=d):e===a.EOF?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):(this._createDoctypeToken(""),this._reconsumeInState(fe)))},je[fe]=function(e){Se(e)||e===a.GREATER_THAN_SIGN||e===a.EOF?this._reconsumeInState(de):ke(e)?this.currentToken.name+=Le(e):e===a.NULL?this.currentToken.name+=i.REPLACEMENT_CHARACTER:this.currentToken.name+=Re(e)},je[de]=function(e){if(!Se(e))if(e===a.GREATER_THAN_SIGN)this.state=d,this._emitCurrentToken();else{var t=this._consumeSubsequentIfMatch(s.PUBLIC_STRING,e,!1),n=!t&&this._consumeSubsequentIfMatch(s.SYSTEM_STRING,e,!1);this._ensureHibernation()||(t?this.state=pe:n?this.state=ye:(this.currentToken.forceQuirks=!0,this.state=Te))}},je[pe]=function(e){Se(e)||(e===a.QUOTATION_MARK?(this.currentToken.publicId="",this.state=me):e===a.APOSTROPHE?(this.currentToken.publicId="",this.state=ve):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))},je[me]=function(e){e===a.QUOTATION_MARK?this.state=ge:e===a.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=d):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):this.currentToken.publicId+=Re(e)},je[ve]=function(e){e===a.APOSTROPHE?this.state=ge:e===a.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=d):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):this.currentToken.publicId+=Re(e)},je[ge]=function(e){Se(e)||(e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=d):e===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state=be):e===a.APOSTROPHE?(this.currentToken.systemId="",this.state=_e):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))},je[ye]=function(e){Se(e)||(e===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state=be):e===a.APOSTROPHE?(this.currentToken.systemId="",this.state=_e):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))},je[be]=function(e){e===a.QUOTATION_MARK?this.state=xe:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=d):e===a.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):this.currentToken.systemId+=Re(e)},je[_e]=function(e){e===a.APOSTROPHE?this.state=xe:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=d):e===a.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):this.currentToken.systemId+=Re(e)},je[xe]=function(e){Se(e)||(e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=d):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(d)):this.state=Te)},je[Te]=function(e){e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=d):e===a.EOF&&(this._emitCurrentToken(),this._reconsumeInState(d))},je[we]=function(e){for(;;){if(e===a.EOF){this._reconsumeInState(d);break}var t=this._consumeSubsequentIfMatch(s.CDATA_END_STRING,e,!0);if(this._ensureHibernation())break;if(t){this.state=d;break}if(this._emitCodePoint(e),this._hibernationSnapshot(),e=this._consume(),this._ensureHibernation())break}}},function(e,t,n){function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){if(Array.isArray(e))return e}function o(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(e,t){return i(e)||o(e,t)||a()}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?m(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}n.r(t);var _=n(1),x=n(2),T=n.n(x),w=n(42),S=n(86),E=n.n(S);function k(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function C(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function O(e){return k(e)||C(e)||A()}n.d(t,"SortableContainer",(function(){return de})),n.d(t,"sortableContainer",(function(){return de})),n.d(t,"SortableElement",(function(){return ve})),n.d(t,"sortableElement",(function(){return ve})),n.d(t,"SortableHandle",(function(){return ne})),n.d(t,"sortableHandle",(function(){return ne})),n.d(t,"arrayMove",(function(){return I}));var P=function(){function e(){c(this,e),l(this,"refs",{})}return f(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(M)}}]),e}();function M(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function I(e,t,n){return(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e}function R(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var L={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},D=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function N(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function j(e,t){e.style["".concat(D,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function B(e,t){e.style["".concat(D,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function F(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function H(e,t,n){return Math.max(e,Math.min(n,t))}function z(e){return"px"===e.substr(-2)?parseFloat(e):0}function U(e){var t=window.getComputedStyle(e);return{bottom:z(t.marginBottom),left:z(t.marginLeft),right:z(t.marginRight),top:z(t.marginTop)}}function V(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function G(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function X(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function Y(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:W(e.parentNode,t,r)}}function q(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function K(e){var t=e.lockOffset,n=e.width,r=e.height,i=t,o=t,a="px";if("string"==typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);E()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return E()(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),"%"===a&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function $(e){var t=e.height,n=e.width,r=e.lockOffset,i=Array.isArray(r)?r:[r,r];E()(2===i.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=s(i,2),a=o[0],l=o[1];return[K({height:t,lockOffset:a,width:n}),K({height:t,lockOffset:l,width:n})]}function Z(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}function Q(e){return e instanceof HTMLElement?Z(e)?e:Q(e.parentNode):null}var J={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},ee={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function te(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0);return O(r.querySelectorAll(t)).forEach((function(e,t){"file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===ee.Canvas&&n[t].width>0&&n[t].height>0&&e.getContext("2d").drawImage(n[t],0,0)})),r}function ne(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return c(this,n),v(this,g(n).apply(this,arguments))}return b(n,t),f(n,[{key:"componentDidMount",value:function(){Object(w.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return E()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return Object(_.createElement)(e,r({ref:t},this.props))}}]),n}(_.Component),l(t,"displayName",V("sortableHandle",e)),n}function re(e){return null!=e.sortableHandle}var ie=function(){function e(t,n){c(this,e),this.container=t,this.onScrollCallback=n}return f(e,[{key:"clear",value:function(){clearInterval(this.interval),this.interval=null}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,i=e.maxTranslate,o=e.width,a=e.height,s={x:0,y:0},l={x:1,y:1},u={x:10,y:10},c=this.container,h=c.scrollTop,f=c.scrollLeft,d=c.scrollHeight,p=c.scrollWidth,m=0===h,v=d-h-c.clientHeight===0,g=0===f,y=p-f-c.clientWidth===0;n.y>=i.y-a/2&&!v?(s.y=1,l.y=u.y*Math.abs((i.y-a/2-n.y)/a)):n.x>=i.x-o/2&&!y?(s.x=1,l.x=u.x*Math.abs((i.x-o/2-n.x)/o)):n.y<=r.y+a/2&&!m?(s.y=-1,l.y=u.y*Math.abs((n.y-a/2-r.y)/a)):n.x<=r.x+o/2&&!g&&(s.x=-1,l.x=u.x*Math.abs((n.x-o/2-r.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(0!==s.x||0!==s.y)&&(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*s.x,top:l.y*s.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();function oe(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}}function ae(e){return!(-1===[ee.Input,ee.Textarea,ee.Select,ee.Option,ee.Button].indexOf(e.target.tagName)&&!F(e.target,(function(e){return"true"===e.contentEditable})))}var se={axis:T.a.oneOf(["x","y","xy"]),contentWindow:T.a.any,disableAutoscroll:T.a.bool,distance:T.a.number,getContainer:T.a.func,getHelperDimensions:T.a.func,helperClass:T.a.string,helperContainer:T.a.oneOfType([T.a.func,"undefined"==typeof HTMLElement?T.a.any:T.a.instanceOf(HTMLElement)]),hideSortableGhost:T.a.bool,keyboardSortingTransitionDuration:T.a.number,lockAxis:T.a.string,lockOffset:T.a.oneOfType([T.a.number,T.a.string,T.a.arrayOf(T.a.oneOfType([T.a.number,T.a.string]))]),lockToContainerEdges:T.a.bool,onSortEnd:T.a.func,onSortMove:T.a.func,onSortOver:T.a.func,onSortStart:T.a.func,pressDelay:T.a.number,pressThreshold:T.a.number,keyCodes:T.a.shape({lift:T.a.arrayOf(T.a.number),drop:T.a.arrayOf(T.a.number),cancel:T.a.arrayOf(T.a.number),up:T.a.arrayOf(T.a.number),down:T.a.arrayOf(T.a.number)}),shouldCancelStart:T.a.func,transitionDuration:T.a.number,updateBeforeSortStart:T.a.func,useDragHandle:T.a.bool,useWindowAsScrollContainer:T.a.bool},le={lift:[J.SPACE],drop:[J.SPACE],cancel:[J.ESC],up:[J.UP,J.LEFT],down:[J.DOWN,J.RIGHT]},ue={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:oe,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:le,shouldCancelStart:ae,transitionDuration:300,useWindowAsScrollContainer:!1},ce=Object.keys(se);function he(e){E()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function fe(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}function de(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;return c(this,n),l(m(m(t=v(this,g(n).call(this,e)))),"state",{}),l(m(m(t)),"handleStart",(function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2!==e.button&&!i(e)){t.touched=!0,t.position=X(e);var o=F(e.target,(function(e){return null!=e.sortableInfo}));if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,l=s.index,u=s.collection;if(s.disabled||a&&!F(e.target,re))return;t.manager.active={collection:u,index:l},!Y(e)&&e.target.tagName===ee.Anchor&&e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),l(m(m(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),l(m(m(t)),"handleMove",(function(e){var n=t.props,r=n.distance,i=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var o=X(e),a={x:t.position.x-o.x,y:t.position.y-o.y},s=Math.abs(a.x)+Math.abs(a.y);t.delta=a,r||i&&!(s>=i)?r&&s>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),l(m(m(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),l(m(m(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),l(m(m(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=d.sortableInfo.index,r=U(d),i=t.scrollContainer.getBoundingClientRect(),c=a({collection:p,index:n,node:d});if(t.node=d,t.margin=r,t.width=c.width,t.height=c.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=d.getBoundingClientRect(),t.containerBoundingRect=i,t.index=n,t.newIndex=n,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=W(d,t.container),t.initialOffset=X(m?u({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(te(d)),N(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),m&&t.helper.focus(),l&&(t.sortableGhost=d,N(d,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},m){var v=f?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,g=v.top,y=v.left,b=v.width,_=g+v.height,x=y+b;t.axis.x&&(t.minTranslate.x=y-t.boundingClientRect.left,t.maxTranslate.x=x-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=g-t.boundingClientRect.top,t.maxTranslate.y=_-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(f?0:i.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(f?t.contentWindow.innerWidth:i.left+i.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(f?0:i.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(f?t.contentWindow.innerHeight:i.top+i.height)-t.boundingClientRect.top-t.height/2);s&&s.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?d:t.contentWindow,m?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(L.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),L.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),h&&h({node:d,index:n,collection:p,isKeySorting:m},e),m&&t.keyMove(0)},i=t.props,o=i.axis,a=i.getHelperDimensions,s=i.helperClass,l=i.hideSortableGhost,c=i.updateBeforeSortStart,h=i.onSortStart,f=i.useWindowAsScrollContainer,d=n.node,p=n.collection,m=t.manager.isKeySorting,v=function(){if("function"==typeof c){t._awaitingUpdateBeforeSortStart=!0;var n=fe((function(){var t=d.sortableInfo.index;return Promise.resolve(c({collection:p,index:t,node:d,isKeySorting:m},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return v&&v.then?v.then(r):r(v)}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(i){return Promise.reject(i)}})),l(m(m(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),l(m(m(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager,a=o.active.collection,s=o.isKeySorting,l=t.manager.refs[a];t.listenerNode&&(s?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(L.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),L.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&N(t.sortableGhost,{opacity:"",visibility:""});for(var u=0,c=l.length;u<c;u++){var h=l[u],f=h.node;h.edgeOffset=null,h.boundingClientRect=null,j(f,null),B(f,null),h.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof i&&i({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:s},e),t.touched=!1})),l(m(m(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(!e){if(n){var r=u({},t.translate),i=0,o=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),i=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),o=t.translate.y-r.y),t.translate=r,j(t.helper,t.translate),t.scrollContainer.scrollLeft+=i,void(t.scrollContainer.scrollTop+=o)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),l(m(m(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),l(m(m(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,i=r.shouldCancelStart,o=r.keyCodes,a=u({},le,void 0===o?{}:o);t.manager.active&&!t.manager.isKeySorting||!t.manager.active&&(!a.lift.includes(n)||i(e)||!t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),a.lift.includes(n)&&!t.manager.active?t.keyLift(e):a.drop.includes(n)&&t.manager.active?t.keyDrop(e):a.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):a.up.includes(n)?t.keyMove(-1):a.down.includes(n)&&t.keyMove(1))})),l(m(m(t)),"keyLift",(function(e){var n=e.target,r=F(n,(function(e){return null!=e.sortableInfo})).sortableInfo,i=r.index,o=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:o},t.handlePress(e)})),l(m(m(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,i=t.newIndex+e,o=t.newIndex;if(!(i<0||i>r)){t.prevIndex=o,t.newIndex=i;var a=q(t.newIndex,t.prevIndex,t.index),s=n.find((function(e){return e.node.sortableInfo.index===a})),l=s.node,u=t.containerScrollDelta,c=s.boundingClientRect||G(l,u),h=s.translate||{x:0,y:0},f={top:c.top+h.y-u.top,left:c.left+h.x-u.left},d=o<i,p={x:d&&t.axis.x?l.offsetWidth-t.width:0,y:d&&t.axis.y?l.offsetHeight-t.height:0};t.handleSortMove({pageX:f.left+p.x,pageY:f.top+p.y,ignoreTransition:0===e})}})),l(m(m(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),l(m(m(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),l(m(m(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,i=F(r,(function(e){return null!=e.sortableInfo}));return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(n?re(r):r.sortableInfo)})),he(e),t.manager=new P,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return b(n,t),f(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:Q(e.container)||e.container,e.autoScroller=new ie(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return L[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return L[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,i=t.lockToContainerEdges,o=t.transitionDuration,a=t.keyboardSortingTransitionDuration,l=void 0===a?o:a,u=this.manager.isKeySorting,c=e.ignoreTransition,h=X(e),f={x:h.x-this.initialOffset.x,y:h.y-this.initialOffset.y};if(f.y-=window.pageYOffset-this.initialWindowScroll.top,f.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=f,i){var d=s($({height:this.height,lockOffset:r,width:this.width}),2),p=d[0],m=d[1],v={x:this.width/2-p.x,y:this.height/2-p.y},g={x:this.width/2-m.x,y:this.height/2-m.y};f.x=H(this.minTranslate.x+v.x,this.maxTranslate.x-g.x,f.x),f.y=H(this.minTranslate.y+v.y,this.maxTranslate.y-g.y,f.y)}"x"===n?f.y=0:"y"===n&&(f.x=0),u&&l&&!c&&B(this.helper,l),j(this.helper,f)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,i=this.containerScrollDelta,o=this.windowScrollDelta,a=this.manager.getOrderedRefs(),s={left:this.offsetEdge.left+this.translate.x+i.left,top:this.offsetEdge.top+this.translate.y+i.top},l=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var c=0,h=a.length;c<h;c++){var f=a[c].node,d=f.sortableInfo.index,p=f.offsetWidth,m=f.offsetHeight,v={height:this.height>m?m/2:this.height/2,width:this.width>p?p/2:this.width/2},g=l&&d>this.index&&d<=u,y=l&&d<this.index&&d>=u,b={x:0,y:0},_=a[c].edgeOffset;_||(_=W(f,this.container),a[c].edgeOffset=_,l&&(a[c].boundingClientRect=G(f,i)));var x=c<a.length-1&&a[c+1],T=c>0&&a[c-1];x&&!x.edgeOffset&&(x.edgeOffset=W(x.node,this.container),l&&(x.boundingClientRect=G(x.node,i))),d!==this.index?(t&&B(f,t),this.axis.x?this.axis.y?y||d<this.index&&(s.left+o.left-v.width<=_.left&&s.top+o.top<=_.top+v.height||s.top+o.top+v.height<=_.top)?(b.x=this.width+this.marginOffset.x,_.left+b.x>this.containerBoundingRect.width-v.width&&x&&(b.x=x.edgeOffset.left-_.left,b.y=x.edgeOffset.top-_.top),null===this.newIndex&&(this.newIndex=d)):(g||d>this.index&&(s.left+o.left+v.width>=_.left&&s.top+o.top+v.height>=_.top||s.top+o.top+v.height>=_.top+m))&&(b.x=-(this.width+this.marginOffset.x),_.left+b.x<this.containerBoundingRect.left+v.width&&T&&(b.x=T.edgeOffset.left-_.left,b.y=T.edgeOffset.top-_.top),this.newIndex=d):g||d>this.index&&s.left+o.left+v.width>=_.left?(b.x=-(this.width+this.marginOffset.x),this.newIndex=d):(y||d<this.index&&s.left+o.left<=_.left+v.width)&&(b.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=d)):this.axis.y&&(g||d>this.index&&s.top+o.top+v.height>=_.top?(b.y=-(this.height+this.marginOffset.y),this.newIndex=d):(y||d<this.index&&s.top+o.top<=_.top+v.height)&&(b.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=d))),j(f,b),a[c].translate=b):n&&(this.sortableGhost=f,N(f,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),l&&(this.newIndex=u);var w=l?this.prevIndex:u;r&&this.newIndex!==w&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:w,isKeySorting:l})}},{key:"getWrappedInstance",value:function(){return E()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(w.findDOMNode)(this):e(i.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return Object(_.createElement)(e,r({ref:t},R(this.props,ce)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(_.Component),l(t,"displayName",V("sortableList",e)),l(t,"defaultProps",ue),l(t,"propTypes",se),l(t,"childContextTypes",{manager:T.a.object.isRequired}),n}var pe={index:T.a.number.isRequired,collection:T.a.oneOfType([T.a.number,T.a.string]),disabled:T.a.bool},me=Object.keys(pe);function ve(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return c(this,n),v(this,g(n).apply(this,arguments))}return b(n,t),f(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,i=Object(w.findDOMNode)(this);i.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return E()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return Object(_.createElement)(e,r({ref:t},R(this.props,me)))}}]),n}(_.Component),l(t,"displayName",V("sortableElement",e)),l(t,"contextTypes",{manager:T.a.object.isRequired}),l(t,"propTypes",pe),l(t,"defaultProps",{collection:0}),n}},function(e,t,n){var r=n(16),i=n(12),o=n(50);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(33);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e))||"function"==typeof(n=e.valueOf)&&!r(i=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(47),i=n(54),o=n(90)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(49),i=n(165),o=n(166),a=n(39),s=n(88),l=n(112),u={},c={};(t=e.exports=function(e,t,n,h,f){var d,p,m,v,g=f?function(){return e}:l(e),y=r(n,h,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(d=s(e.length);d>b;b++)if((v=t?y(a(p=e[b])[0],p[1]):y(e[b]))===u||v===c)return v}else for(m=g.call(e);!(p=m.next()).done;)if((v=i(m,y,p.value,t))===u||v===c)return v}).BREAK=u,t.RETURN=c},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports={default:n(230),__esModule:!0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0;var r=a(n(34)),i=a(n(1)),o=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.createContext({close:o.default,open:o.default}),l=s.Provider,u=s.Consumer,c=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(u,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{modal:o}))}))}))};t.default=c,t.Provider=l},function(e,t,n){t.__esModule=!0,t.noop=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bottom=s,t.cloneLayout=l,t.cloneLayoutItem=u,t.childrenEqual=c,t.collides=h,t.compact=f,t.compactItem=m,t.correctBounds=v,t.getLayoutItem=g,t.getFirstCollision=y,t.getAllCollisions=b,t.getStatics=_,t.moveElement=x,t.moveElementAwayFromCollision=T,t.perc=w,t.setTransform=S,t.setTopLeft=E,t.sortLayoutItems=k,t.sortLayoutItemsByRowCol=C,t.sortLayoutItemsByColRow=A,t.synchronizeLayoutWithChildren=O,t.validateLayout=P,t.autoBindHandlers=M;var i=a(n(172)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=0,n=void 0,r=0,i=e.length;r<i;r++)(n=e[r].y+e[r].h)>t&&(t=n);return t}function l(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=u(e[n]);return t}function u(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable}}function c(e,t){return(0,i.default)(o.default.Children.map(e,(function(e){return e.key})),o.default.Children.map(t,(function(e){return e.key})))}function h(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function f(e,t,n){for(var r=_(e),i=k(e,t),o=Array(e.length),a=0,s=i.length;a<s;a++){var l=u(i[a]);l.static||(l=m(r,l,t,n,i),r.push(l)),o[e.indexOf(i[a])]=l,l.moved=!1}return o}var d={x:"w",y:"h"};function p(e,t,n,r){var i=d[r];t[r]+=1;for(var o=e.indexOf(t)+1;o<e.length;o++){var a=e[o];if(!a.static){if(a.y>t.y+t.h)break;h(t,a)&&p(e,a,n+t[i],r)}}t[r]=n}function m(e,t,n,r,i){var o="horizontal"===n;if("vertical"===n)for(t.y=Math.min(s(e),t.y);t.y>0&&!y(e,t);)t.y--;else if(o)for(t.y=Math.min(s(e),t.y);t.x>0&&!y(e,t);)t.x--;for(var a=void 0;a=y(e,t);)o?p(i,t,a.x+a.w,"x"):p(i,t,a.y+a.h,"y"),o&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function v(e,t){for(var n=_(e),r=0,i=e.length;r<i;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;y(n,o);)o.y++;else n.push(o)}return e}function g(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function y(e,t){for(var n=0,r=e.length;n<r;n++)if(h(e[n],t))return e[n]}function b(e,t){return e.filter((function(e){return h(e,t)}))}function _(e){return e.filter((function(e){return e.static}))}function x(e,t,n,r,i,o,a,s){if(t.static||t.y===r&&t.x===n)return e;t.i,String(n),String(r),t.x,t.y;var l=t.x,u=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var c=k(e,a);("vertical"===a&&"number"==typeof r?u>=r:"horizontal"===a&&"number"==typeof n&&l>=n)&&(c=c.reverse());var h=b(c,t);if(o&&h.length)return t.i,t.x=l,t.y=u,t.moved=!1,e;for(var f=0,d=h.length;f<d;f++){var p=h[f];t.i,t.x,t.y,p.i,p.x,p.y,!p.moved&&(e=p.static?T(e,p,t,i,a):T(e,t,p,i,a))}return e}function T(e,t,n,r,i,o){var a="horizontal"===i,s="vertical"===i,l=!1;if(r){r=!1;var u={x:a?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!y(e,u))return n.i,u.x,u.y,x(e,n,a?u.x:void 0,s?u.y:void 0,r,l,i)}return x(e,n,a?n.x+1:void 0,s?n.y+1:void 0,r,l,i)}function w(e){return 100*e+"%"}function S(e){var t=e.top,n="translate("+e.left+"px,"+t+"px)";return{transform:n,WebkitTransform:n,MozTransform:n,msTransform:n,OTransform:n,width:e.width+"px",height:e.height+"px",position:"absolute"}}function E(e){return{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",position:"absolute"}}function k(e,t){return"horizontal"===t?A(e):C(e)}function C(e){return[].concat(e).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function A(e){return[].concat(e).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function O(e,t,n,i){e=e||[];var a=[];return o.default.Children.forEach(t,(function(t,n){var i=g(e,String(t.key));if(i)a[n]=u(i);else{var o=t.props["data-grid"]||t.props._grid;a[n]=u(o?r({},o,{i:t.key}):{w:1,h:1,x:0,y:s(a),i:String(t.key)})}})),a=f(a=v(a,{cols:n}),i,n)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,i=e.length;r<i;r++){for(var o=e[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function M(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))}t.noop=function(){}},function(e,t,n){n.r(t),n.d(t,"globalPubSub",(function(){return p})),n.d(t,"createPubSub",(function(){return f}));var r=function(){try{return new window.BroadcastChannel("pub-sub-es")}catch(e){return{postMessage:function(){}}}}(),o=function(e,t){return t?e.toLowerCase():e},a=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).caseInsensitive;return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a=o(n,t);return e[a]||(e[a]=[],e.__times__[a]=[]),e[a].push(r),e.__times__[a].push(+i||1/0),{event:a,handler:r}}},s=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).caseInsensitive;return function(n,r){"object"==typeof n&&(r=n.handler,n=n.event);var i=o(n,t);if(e[i]){var a=e[i].indexOf(r);-1===a||a>=e[i].length||(e[i].splice(a,1),e.__times__[i].splice(a,1))}}},l=function(e,t){return function(){e.forEach((function(e){return e(t)}))}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isGlobal,a=t.caseInsensitive,u=t.async,c=s(e);return function(t,s){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=o(t,a);if(e[f]){var d=(0,i.Z)(e[f]);if(d.forEach((function(t,n){--e.__times__[f][n]<1&&c(f,t)})),u||h.async?setTimeout(l(d,s),0):l(d,s)(),n&&!h.isNoGlobalBroadcast)try{r.postMessage({event:f,news:s})}catch(p){if(!(p instanceof DOMException))throw p;console.warn("Could not broadcast '".concat(f,"' globally. Payload is not clonable."))}}}},c=function(e){return function(){Object.keys(e).filter((function(e){return"_"!==e[0]})).forEach((function(t){e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]}))}},h=function(){return{__times__:{}}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.async,n=void 0!==t&&t,r=e.caseInsensitive,i=void 0!==r&&r,o=e.stack,l=void 0===o?h():o;return l.__times__||(l.__times__={}),{publish:u(l,{async:n,caseInsensitive:i}),subscribe:a(l,{caseInsensitive:i}),unsubscribe:s(l,{caseInsensitive:i}),clear:c(l),stack:l}},d=h(),p={publish:u(d,{isGlobal:!0}),subscribe:a(d),unsubscribe:s(d),stack:d};r.onmessage=function(e){var t=e.data,n=t.event,r=t.news;return p.publish(n,r,!0)},t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=P(n(63)),i=P(n(55)),o=P(n(17)),a=P(n(95)),s=P(n(30)),l=P(n(19)),u=P(n(35)),c=P(n(5)),h=P(n(34)),f=P(n(3)),d=P(n(4)),p=P(n(6)),m=P(n(14)),v=P(n(7)),g=P(n(136)),y=n(83),b=n(20),_=n(28),x=n(0),T=P(n(26)),w=n(10),S=n(79),E=P(S),k=P(n(179)),C=n(24),A=n(11),O=n(114);function P(e){return e&&e.__esModule?e:{default:e}}var M=200,I=10,R=40,L=10,D=L,N=4,j=1,B=4,F=5,H=256,z=I+R+L+j+D+B,U=function(e){function t(e,n){(0,f.default)(this,t);var r=(0,h.default)({},e);r.onValueScaleChanged=function(){e.onValueScaleChanged(),i.drawColorbar()};var i=(0,p.default)(this,(t.__proto__||(0,c.default)(t)).call(this,r,n)),o=e.pubSub,a=e.animate,s=e.svgElement,l=e.onTrackOptionsChanged,d=e.onMouseMoveZoom,m=e.isShowGlobalMousePosition,v=e.isValueScaleLocked;return i.pubSub=o,i.is2d=!0,i.animate=a,i.uid=T.default.nice(),i.scaleBrush=(0,y.brushY)(),i.onTrackOptionsChanged=l,i.isShowGlobalMousePosition=m,i.isValueScaleLocked=v,i.pColorbarArea=new A.GLOBALS.PIXI.Graphics,i.pMasked.addChild(i.pColorbarArea),i.pColorbar=new A.GLOBALS.PIXI.Graphics,i.pColorbarArea.addChild(i.pColorbar),i.axis=new k.default(i),i.pColorbarArea.addChild(i.axis.pAxis),i.colorScale=A.HEATED_OBJECT_MAP,n&&n.colorRange&&(i.colorScale=(0,w.colorDomainToRgbaArray)(n.colorRange)),i.gBase=(0,x.select)(s).append("g"),i.gMain=i.gBase.append("g"),i.gColorscaleBrush=i.gMain.append("g"),i.brushing=!1,i.prevOptions="",i.prevIndUpperLeftTile="",i.onMouseMoveZoom=d,i.setDataLensSize(11),i.dataLens=new Float32Array(Math.pow(i.dataLensSize,2)),i.mouseMoveHandlerBound=i.mouseMoveHandler.bind(i),i.onMouseMoveZoom&&i.pubSubs.push(i.pubSub.subscribe("app.mouseMove",i.mouseMoveHandlerBound)),i.options&&i.options.showMousePosition&&!i.hideMousePosition&&(i.hideMousePosition=(0,w.showMousePosition)(i,i.is2d,i.isShowGlobalMousePosition())),i.prevOptions=(0,u.default)(n),i}return(0,v.default)(t,e),(0,d.default)(t,[{key:"mouseMoveHandler",value:function(){function e(e){this.isWithin(e.x,e.y)&&(this.mouseX=e.x,this.mouseY=e.y,this.mouseMoveZoomHandler())}return e}()},{key:"mouseMoveZoomHandler",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mouseX,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mouseY;if("undefined"!=typeof t&&"undefined"!=typeof n&&this.areAllVisibleTilesLoaded()&&this.tilesetInfo){var r=t-this.position[0],i=n-this.position[1],o=void 0,a=void 0;try{o=(a=this.getVisibleRectangleData(r-this.dataLensPadding,i-this.dataLensPadding,this.dataLensSize,this.dataLensSize)).get(this.dataLensPadding,this.dataLensPadding)}catch(p){return}var s=this.dataLensSize,l=void 0;try{l=(0,w.valueToColor)(this.limitedValueScale,this.colorScale,this.valueScale.domain()[0])}catch(m){return}if(l){var u=Math.round(this._xScale.invert(r)),c=Math.round(this._yScale.invert(i)),h=[u,c],f=[Math.round(this._xScale.invert(r-this.dataLensPadding)),Math.round(this._xScale.invert(r+this.dataLensPadding))],d=[Math.round(this._yScale.invert(i-this.dataLensPadding)),Math.round(this._yScale.invert(i+this.dataLensPadding))];this.chromInfo&&(h=h.map((function(t){return(0,w.absToChr)(t,e.chromInfo).slice(0,2)})),f=f.map((function(t){return(0,w.absToChr)(t,e.chromInfo).slice(0,2)})),d=d.map((function(t){return(0,w.absToChr)(t,e.chromInfo).slice(0,2)}))),this.onMouseMoveZoom({trackId:this.id,data:o,absX:t,absY:n,relX:r,relY:i,dataX:u,dataY:c,orientation:"2d",dataLens:a,dim:s,toRgb:l,center:h,xRange:f,yRange:d,isGenomicCoords:!!this.chromInfo})}}}return e}()},{key:"scheduleRerender",value:function(){function e(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}return e}()},{key:"handleRerender",value:function(){function e(){this.rerender(this.options,!0)}return e}()},{key:"getAbsTileDim",value:function(){function e(e,t,n){var r=this.getTilePosAndDimensions(e,t),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight,l={};return l.width=this._refXScale(i+a)-this._refXScale(i),l.height=this._refYScale(o+s)-this._refYScale(o),n?(l.x=this._refXScale(o),l.y=this._refYScale(i)):(l.x=this._refXScale(i),l.y=this._refYScale(o)),l}return e}()},{key:"updateValueScale",value:function(){function e(){var e=this.minValue(),t=this.maxValue(),n=1e-6;if(null!=e&&void 0!==t&&null!==t&&Math.abs(e-t)<n){var r=.001;e=Math.max(n,e-r),t+=r}var i=(0,S.getValueScale)(this.options&&this.options.heatmapValueScaling||"log",e,this.medianVisibleValue,t,"log"),o=(0,l.default)(i,2),a=o[0],s=o[1];return this.valueScale=s,this.limitedValueScale=this.valueScale.copy(),this.options&&"undefined"!=typeof this.options.scaleStartPercent&&"undefined"!=typeof this.options.scaleEndPercent&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),[a,s]}return e}()},{key:"rerender",value:function(){function e(e,n){var r=this;(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"rerender",this).call(this,e,n),this.updateValueScale();var i=(0,u.default)(e);this.drawColorbar(),(n||i!==this.prevOptions)&&(this.prevOptions=i,this.options=e,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"rerender",this).call(this,e,n),this.calculateVisibleTiles(),e&&e.colorRange&&(this.colorScale=(0,w.colorDomainToRgbaArray)(e.colorRange)),this.visibleAndFetchedTiles().forEach((function(e){return r.renderTile(e)})),this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),this.options&&this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,w.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())))}return e}()},{key:"drawLabel",value:function(){function e(){this.options.labelPosition===this.options.colorbarPosition?this.labelXOffset=z:this.labelXOffset=0,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"drawLabel",this).call(this)}return e}()},{key:"tileDataToCanvas",value:function(){function e(e){var t=document.createElement("canvas");t.width=this.binsPerTile(),t.height=this.binsPerTile();var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}return e}()},{key:"exportData",value:function(){function e(){if(this.tilesetInfo){var e=this.getVisibleRectangleData(0,0,this.dimensions[0],this.dimensions[1]),t={bounds:[this._xScale.domain(),this._yScale.domain()],dimensions:e.shape,data:(0,w.ndarrayFlatten)(e)};(0,w.download)("data.json",(0,u.default)(t))}}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n,r){var i=this.getAbsTileDim(t,n,r);e.width=i.width,e.height=i.height,e.x=i.x,e.y=i.y,r&&n[0]!==n[1]&&(e.rotation=-Math.PI/2,e.scale.x=-1*Math.abs(e.scale.x))}return e}()},{key:"refXScale",value:function(){function e(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refXScale",this).call(this,e),this.draw()}return e}()},{key:"refYScale",value:function(){function e(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refYScale",this).call(this,e),this.draw()}return e}()},{key:"draw",value:function(){function e(){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"draw",this).call(this)}return e}()},{key:"newBrushOptions",value:function(){function e(e){var t=JSON.parse((0,u.default)(this.options)),n=this.valueScale.copy().range([this.colorbarHeight,0]),r=n.invert(e[0]),i=(n.invert(e[1])-n.domain()[0])/(n.domain()[1]-n.domain()[0]),o=(r-n.domain()[0])/(n.domain()[1]-n.domain()[0]);return t.scaleStartPercent=i.toFixed(F),t.scaleEndPercent=o.toFixed(F),t}return e}()},{key:"brushStart",value:function(){function e(){this.brushing=!0}return e}()},{key:"brushMoved",value:function(){function e(){if(x.event.selection){var e=this.newBrushOptions(x.event.selection),t=(0,u.default)(e);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",(function(e){return"n"===e.type?x.event.selection[0]:x.event.selection[1]-N/2})),t!==this.prevOptions&&(this.prevOptions=t,this.rerender(e,!0),this.onTrackOptionsChanged(e),this.isValueScaleLocked()&&this.onValueScaleChanged())}}return e}()},{key:"brushEnd",value:function(){function e(){this.brushing=!1}return e}()},{key:"setPosition",value:function(){function e(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"setPosition",this).call(this,e),this.drawColorbar()}return e}()},{key:"setDimensions",value:function(){function e(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"setDimensions",this).call(this,e),this.drawColorbar()}return e}()},{key:"removeColorbar",value:function(){function e(){this.pColorbarArea.visible=!1,this.scaleBrush.on(".brush")&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.selectAll("rect").remove()}return e}()},{key:"drawColorbar",value:function(){function e(){if(this.pColorbar.clear(),this.options&&this.options.colorbarPosition&&"hidden"!==this.options.colorbarPosition){if(this.pColorbarArea.visible=!0,this.valueScale&&!(0,s.default)(+this.valueScale.domain()[0])&&!(0,s.default)(+this.valueScale.domain()[1])){var e=Math.min(this.dimensions[1]/2,M);if(this.colorbarHeight=e-2*L,this.colorbarHeight<0)return void this.removeColorbar();if(this.valueScale.domain()[1]===this.valueScale.domain()[0])return void this.removeColorbar();var t=this.valueScale.copy().range([this.colorbarHeight,0]);if("topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.scaleBrush.extent([[B,0],[D,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[D-B,this.colorbarHeight]]),"topLeft"===this.options.colorbarPosition){var n=(0,l.default)(this.position,2);this.pColorbarArea.x=n[0],this.pColorbarArea.y=n[1],this.pColorbar.y=L,this.axis.pAxis.y=L,this.axis.pAxis.x=B+D+j+I,this.pColorbar.x=B+D+j,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+B)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")}"topRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-z,this.pColorbarArea.y=this.position[1],this.pColorbar.y=L,this.axis.pAxis.y=L,this.axis.pAxis.x=R+L,this.pColorbar.x=R+L,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+I+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-z,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=L,this.axis.pAxis.y=L,this.axis.pAxis.x=R+L,this.pColorbar.x=R+L,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+I+j)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomLeft"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=L,this.axis.pAxis.y=L,this.axis.pAxis.x=B+D+j+I,this.pColorbar.x=B+D+j,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),this.pColorbarArea.clear(),this.pColorbarArea.beginFill((0,w.colorToHex)(this.options.colorbarBackgroundColor||"white"),+this.options.colorbarBackgroundOpacity>=0?+this.options.colorbarBackgroundOpacity:.6),this.pColorbarArea.drawRect(0,0,z,e),this.options?(this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1)):this.options={scaleStartPercent:0,scaleEndPercent:1};var r=t.domain()[1]-t.domain()[0],i=t(this.options.scaleStartPercent*r+t.domain()[0]),o=t(this.options.scaleEndPercent*r+t.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",D).attr("height",N).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[o,i]));for(var a=(0,_.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),u=0;u<this.colorbarHeight;u++){var c=this.limitedValueScale(t.invert(u)),h=Math.max(0,Math.min(254,Math.floor(c)));this.pColorbar.beginFill((0,w.colorToHex)("rgb("+String(this.colorScale[h][0])+","+String(this.colorScale[h][1])+","+String(this.colorScale[h][2])+")")),this.pColorbar.drawRect(0,u,I,1)}this.pAxis.position.x=I,this.pAxis.position.y=a(0),"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.axis.drawAxisRight(t,this.colorbarHeight):("topRight"===this.options.colorbarPosition||"bottomRight"===this.options.colorbarPosition)&&this.axis.drawAxisLeft(t,this.colorbarHeight)}}else this.removeColorbar()}return e}()},{key:"exportColorBarSVG",value:function(){function e(){var e=document.createElement("g");if(e.setAttribute("class","color-bar"),!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition||!this.valueScale)return e;e.setAttribute("transform","translate("+String(this.pColorbarArea.x)+", "+String(this.pColorbarArea.y)+")");var t=document.createElement("rect");e.appendChild(t);var n=document.createElement("g");e.appendChild(n),n.setAttribute("transform","translate("+String(this.pColorbar.x)+", "+String(this.pColorbar.y)+")");var r=Math.min(this.dimensions[1]/2,M);this.colorbarHeight=r-2*L,t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",z),t.setAttribute("height",r),t.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");for(var i=256,o=(0,_.scaleLinear)().domain([0,i-1]).range([0,this.colorbarHeight]),a=this.colorbarHeight/i,s=0;s<i;s++){var l=document.createElement("rect");n.appendChild(l),l.setAttribute("x",0),l.setAttribute("y",o(s)),l.setAttribute("width",I),l.setAttribute("height",a),l.setAttribute("class","color-rect");var u=Math.min(this.colorScale.length-1,Math.max(0,Math.floor(this.limitedValueScale(this.valueScale.invert(s))))),c=this.colorScale[u];c?l.setAttribute("style","fill: rgb("+String(c[0])+", "+String(c[1])+", "+String(c[2])+")"):l.setAttribute("style","fill: rgb(255,255,255,0)")}var h=document.createElement("g");e.appendChild(h),h.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+","+String(this.axis.pAxis.position.y)+")");var f=null,d=this.valueScale.copy().range([this.colorbarHeight,0]);return"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?f=this.axis.exportAxisRightSVG(d,this.colorbarHeight):("topRight"===this.options.colorbarPosition||"bottomRight"===this.options.colorbarPosition)&&(f=this.axis.exportAxisLeftSVG(d,this.colorbarHeight)),h.appendChild(f),e}return e}()},{key:"setDataLensSize",value:function(){function e(e){this.dataLensPadding=Math.max(0,Math.floor((e-1)/2)),this.dataLensSize=2*this.dataLensPadding+1}return e}()},{key:"binsPerTile",value:function(){function e(){return this.tilesetInfo.bins_per_dimension||H}return e}()},{key:"getVisibleRectangleData",value:function(){function e(e,t,n,r){var i=this,o=this.calculateZoomLevel();o=this.tilesetInfo.max_zoom?Math.min(this.tilesetInfo.max_zoom,o):o;var a=C.tileProxy.calculateTileWidth(this.tilesetInfo,o,this.binsPerTile())/this.binsPerTile(),s=[this._xScale.invert(e),this._xScale.invert(e+n)],l=[this._yScale.invert(t),this._yScale.invert(t+r)],u=[Math.max(s[0],this.tilesetInfo.min_pos[0]),Math.min(s[1],this.tilesetInfo.max_pos[0])],c=[Math.max(l[0],this.tilesetInfo.min_pos[1]),Math.min(l[1],this.tilesetInfo.max_pos[1])],h=Math.floor(u[0]/a),f=Math.floor(c[0]/a),d=Math.max(0,Math.ceil((u[1]-u[0])/a)),p=Math.max(0,Math.ceil((c[1]-c[0])/a)),m=(0,g.default)(new Array(p*d).fill(NaN),[p,d]);return this.visibleAndFetchedTiles().forEach((function(e){var t=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos,n=i.getTilePosAndDimensions(e.tileData.zoomLevel,t,i.binsPerTile()),r=n.tileX,o=n.tileY,s=n.tileWidth,l=n.tileHeight,u=Math.floor(r/a),c=Math.floor((r+s)/a),v=Math.floor(o/a),g=Math.floor((o+l)/a),y=Math.max(h,u)-u,b=Math.max(f,v)-v,_=Math.min(h+d,c)-u,x=Math.min(f+p,g)-v,T=Math.max(u-h,0),S=Math.max(v-f,0),E=_-y,k=x-b;if(!(E<0||k<0)){if(e.mirrored&&y>b){var C=y;y=b,b=C}(0,w.ndarrayAssign)(m.hi(S+k,T+E).lo(S,T),e.dataArray.hi(b+k,y+E).lo(b,y))}})),m}return e}()},{key:"initTile",value:function(){function e(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"initTile",this).call(this,e),e.tileData.dense.length===Math.pow(this.binsPerTile(),2)&&(e.dataArray=(0,g.default)((0,a.default)(e.tileData.dense),[this.binsPerTile(),this.binsPerTile()]),this.continuousScaling&&e.tileData.tilePos[0]===e.tileData.tilePos[1]&&e.mirrored&&(e.tileData.denseDataExtrema.mirrorPrecomputedExtrema(),(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"initTile",this).call(this,e))),null!==this.scale.minValue&&null!==this.scale.maxValue&&this.renderTile(e)}return e}()},{key:"updateTile",value:function(){function e(e){e.scale&&this.scale&&this.scale.minValue===e.scale.minValue&&this.scale.maxValue===e.scale.maxValue||(this.renderTile(e),this.drawColorbar())}return e}()},{key:"destroyTile",value:function(){function e(e){e.sprite.destroy(!0),e.canvas=null,e.sprite=null,e.texture=null}return e}()},{key:"pixDataFunction",value:function(){function e(e,t){if(t){var n=e.graphics,r=this.tileDataToCanvas(t.pixData);e.sprite&&e.sprite.destroy(!0);var i="4"===A.GLOBALS.PIXI.VERSION[0]?A.GLOBALS.PIXI.Texture.fromCanvas(r,A.GLOBALS.PIXI.SCALE_MODES.NEAREST):A.GLOBALS.PIXI.Texture.from(r,{scaleMode:A.GLOBALS.PIXI.SCALE_MODES.NEAREST}),o=new A.GLOBALS.PIXI.Sprite(i);e.sprite=o,e.texture=i,e.canvas=r,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),n.removeChildren(),n.addChild(e.sprite)}this.renderingTiles.delete(e.tileId)}return e}()},{key:"renderTile",value:function(){function e(e){var t=this,n=this.updateValueScale(),r=(0,l.default)(n,1)[0],i=0;if(this.renderingTiles.add(e.tileId),this.tilesetInfo.tile_size&&e.tileData.dense.length<this.tilesetInfo.tile_size){var o=new Float32Array(this.tilesetInfo.tile_size);o.fill(NaN),o.set(e.tileData.dense),e.tileData.dense=o}C.tileProxy.tileDataToPixData(e,r,this.limitedValueScale.domain(),i,this.colorScale,(function(n){return t.pixDataFunction(e,n)}),this.mirrorTiles()&&!e.mirrored&&e.tileData.tilePos[0]===e.tileData.tilePos[1],"upper-right"===this.options.extent&&e.tileData.tilePos[0]===e.tileData.tilePos[1],this.options.zeroValueColor?(0,w.colorToRgba)(this.options.zeroValueColor):void 0,{selectedRows:this.options.selectRows,selectedRowsAggregationMode:this.options.selectRowsAggregationMode,selectedRowsAggregationWithRelativeHeight:this.options.selectRowsAggregationWithRelativeHeight,selectedRowsAggregationMethod:this.options.selectRowsAggregationMethod})}return e}()},{key:"remove",value:function(){function e(){this.gMain.remove(),this.gMain=null,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"remove",this).call(this)}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){var r=this;(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refScalesChanged",this).call(this,e,n),(0,w.objVals)(this.fetchedTiles).filter((function(e){return e.sprite})).forEach((function(e){return r.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored)}))}return e}()},{key:"superSVG",value:function(){function e(){return(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this).call(this)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if((0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this)){var r=(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this).call(this),i=(0,l.default)(r,2);n=i[0],e=i[1]}else e=n=document.createElement("g");var a=document.createElement("g");e.appendChild(a),a.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var s=!0,u=!1,h=void 0;try{for(var f,d=(0,o.default)(this.visibleAndFetchedTiles());!(s=(f=d.next()).done);s=!0){var p=f.value,v=180*p.sprite.rotation/Math.PI,g=document.createElement("g");g.setAttribute("transform","translate("+String(p.sprite.x)+","+String(p.sprite.y)+") rotate("+v+") scale("+String(p.sprite.scale.x)+","+String(p.sprite.scale.y)+")");var y=document.createElement("image");y.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.canvas.toDataURL()),y.setAttribute("width",p.canvas.width),y.setAttribute("height",p.canvas.height),y.setAttribute("style","image-rendering: pixelated"),g.appendChild(y),a.appendChild(g)}}catch(_){u=!0,h=_}finally{try{!s&&d.return&&d.return()}finally{if(u)throw h}}var b=this.exportColorBarSVG();return e.appendChild(b),[n,n]}return e}()},{key:"getVisiblePartOfUppLeftTile",value:function(){function e(){var e=this.visibleAndFetchedTiles().map((function(e){var t=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos;return[t[0],t[1],e.tileId]}));if(0===e.length)return null;for(var t=e[0],n=0;n<e.length;n++){var r=e[n];(r[0]<t[0]||r[1]<t[1])&&(t=r)}var i=Math.min(O.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.binsPerTile()),o=this.binsPerTile()/i,a=this.visibleAndFetchedTiles().filter((function(e){return e.tileId===t[2]}))[0],s=this.getIndicesOfVisibleDataInTile(a),l=s[0],u=s[1],c=l-l%o,h=u-u%o;return[a.tileId,c,h]}return e}()},{key:"getIndicesOfVisibleDataInTile",value:function(){function e(e){var t=this._xScale.range(),n=this._yScale.range(),r=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,r,this.binsPerTile()),o=i.tileX,a=i.tileY,s=i.tileWidth,l=i.tileHeight,u=(0,_.scaleLinear)().domain([0,this.binsPerTile()]).range([o,o+s]),c=Math.max(0,Math.round(u.invert(this._xScale.invert(t[0])))-1),h=Math.min(this.binsPerTile(),Math.round(u.invert(this._xScale.invert(t[1])))),f=(0,_.scaleLinear)().domain([0,this.binsPerTile()]).range([a,a+l]),d=Math.max(0,Math.round(f.invert(this._yScale.invert(n[0])))-1),p=Math.min(this.binsPerTile(),Math.round(f.invert(this._yScale.invert(n[1]))));return e.mirrored&&r[0]!==r[1]?[d,c,p,h]:[c,d,h,p]}return e}()},{key:"minVisibleValue",value:function(){function e(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.visibleAndFetchedTiles().map((function(t){if(void 0===t.tileData.denseDataExtrema)return null;var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMinNonZeroInSubset(n)}));if(0===r.length&&null===this.valueScaleMax)return null;var o=Math.min.apply(null,r);return o===i.default?(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"minVisibleValue",this).call(this,n):n?o:null!==this.valueScaleMin?this.valueScaleMin:o}return e}()},{key:"maxVisibleValue",value:function(){function e(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.visibleAndFetchedTiles().map((function(t){if(void 0===t.tileData.denseDataExtrema)return null;var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMaxNonZeroInSubset(n)}));if(0===i.length&&null===this.valueScaleMax)return null;var o=Math.max.apply(null,i);return o===r.default?(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"maxVisibleValue",this).call(this,n):n?o:null!==this.valueScaleMax?this.valueScaleMax:o}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){if(!this.brushing){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r;var a=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){var s=(0,u.default)(this.getVisiblePartOfUppLeftTile());if(null===this.valueScaleMin&&null===this.valueScaleMax&&!a&&s!==this.prevIndUpperLeftTile){var l=this.minVisibleValue(),h=this.maxVisibleValue(),f=1e-6;null!==l&&null!==h&&(Math.abs(this.minValue()-l)>f||Math.abs(this.maxValue()-h)>f)&&(this.minValue(l),this.maxValue(h),this.scheduleRerender()),this.prevIndUpperLeftTile=s}a&&this.onValueScaleChanged()}this.mouseMoveZoomHandler()}}return e}()},{key:"addTileId",value:function(){function e(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=[t,n,r];a.mirrored=o,a.dataTransform=i,e.push(a)}return e}()},{key:"tilesToId",value:function(){function e(e,t,n){for(var r=e,i=t,o=this.options&&this.options.dataTransform||"default",a=[],s=0;s<r.length;s++)for(var l=0;l<i.length;l++)this.mirrorTiles()?(r[s]>=i[l]?"lower-left"!==this.options.extent&&this.addTileId(a,n,i[l],r[s],o,!0):"upper-right"!==this.options.extent&&this.addTileId(a,n,r[s],i[l],o),r[s]===i[l]&&"lower-left"===this.options.extent&&this.addTileId(a,n,r[s],i[l],o)):this.addTileId(a,n,r[s],i[l],o);return a}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var e=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=C.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=C.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=C.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=C.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],this.options.reverseYAxis?-this.tilesetInfo.min_pos[1]:this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width);this.setVisibleTiles(this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel))}}return e}()},{key:"mirrorTiles",value:function(){function e(){return!(this.tilesetInfo.mirror_tiles&&(!1===this.tilesetInfo.mirror_tiles||"false"===this.tilesetInfo.mirror_tiles))}return e}()},{key:"getMouseOverHtml",value:function(){function e(e,t){if(!this.options||!this.options.showTooltip||!this.tilesetInfo)return"";var n=C.tileProxy.calculateResolution(this.tilesetInfo,this.zoomLevel),r=Math.max(this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0]),i=Math.ceil(Math.log(r/n)/Math.log(10));this.setDataLensSize(1);var o=this._xScale.invert(e),a=this._yScale.invert(t),s="<b>Position:</b> ";if(this.chromInfo){var l=(0,w.absToChr)(o,this.chromInfo),u=(0,w.absToChr)(a,this.chromInfo),c=function(){function e(e){return(0,b.format)("."+String(i)+"s")(e)}return e}();s+=String(l[0])+":"+String(c(l[1]))+" & "+String(u[0])+":"+String(c(u[1])),s+="<br/>"}var h=null;try{h=this.getVisibleRectangleData(e,t,1,1).get(0,0)}catch(f){return""}return this.options&&"log"===this.options.heatmapValueScaling?h>0?s+"<b>Value:</b> 1e"+String((0,b.format)(".3f")(Math.log(h)/Math.log(10))):0===h?s+"<b>Value:</b> 0":s+"<b>Value:</b> N/A":s+"<b>Value:</b> "+String((0,b.format)(".3f")(h))}return e}()},{key:"getTilePosAndDimensions",value:function(){function e(e,t,n){var r=n||this.binsPerTile();if(this.tilesetInfo.resolutions){var i=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[e],o=i*r,a=o;return{tileX:i*r*t[0],tileY:i*r*t[1],tileWidth:o,tileHeight:a}}var s=t[0],l=t[1],u=this.tilesetInfo.min_pos[0],c=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],h=this.tilesetInfo.max_width/Math.pow(2,e),f=this.tilesetInfo.max_width/Math.pow(2,e);return{tileX:u+s*h,tileY:c+l*f,tileWidth:h,tileHeight:f}}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=this.tilesetInfo.min_pos[0],t=this.tilesetInfo.max_pos[0],n=this.tilesetInfo.min_pos[1],r=this.tilesetInfo.max_pos[1],i=null;if(this.tilesetInfo.resolutions){var o=C.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e,t),a=C.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,n,r);i=Math.min(o,a)}else{var s=C.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.binsPerTile()),l=C.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.binsPerTile());i=Math.max(s,l),i=Math.min(i,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?i=Math.min(this.options.maxZoom,i):console.error("Invalid maxZoom on track:",this)),i}return e}()},{key:"tileToLocalId",value:function(){function e(e){return e.dataTransform&&"default"!==e.dataTransform?String(e.join("."))+"."+String(e.mirrored)+"."+String(e.dataTransform):String(e.join("."))+"."+String(e.mirrored)}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return e.dataTransform&&"default"!==e.dataTransform?String(e.join("."))+"."+String(e.dataTransform):""+String(e.join("."))}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()}]),t}(E.default);t.default=U},function(e,t,n){var r=n(243),i=n(244),o="undefined"!=typeof Float64Array;function a(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function l(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var i="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};\tvar proto="+n+".prototype;\tproto.dtype='"+e+"';\tproto.index=function(){return -1};\tproto.size=0;\tproto.dimension=-1;\tproto.shape=proto.stride=proto.order=[];\tproto.lo=proto.hi=proto.transpose=proto.step=\tfunction(){return new "+n+"(this.data);};\tproto.get=proto.set=function(){};\tproto.pick=function(){return null};\treturn function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===t)return o="function "+n+"(a,d) {\tthis.data = a;\tthis.offset = d\t};\tvar proto="+n+".prototype;\tproto.dtype='"+e+"';\tproto.index=function(){return this.offset};\tproto.dimension=0;\tproto.size=1;\tproto.shape=\tproto.stride=\tproto.order=[];\tproto.lo=\tproto.hi=\tproto.transpose=\tproto.step=function "+n+"_copy() {\treturn new "+n+"(this.data,this.offset)\t};\tproto.pick=function "+n+"_pick(){\treturn TrivialArray(this.data);\t};\tproto.valueOf=proto.get=function "+n+"_get(){\treturn "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};\tproto.set=function "+n+"_set(v){\treturn "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"\t};\treturn function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",new Function("TrivialArray",o)(c[e][0]);o=["'use strict'"];var a=r(t),l=a.map((function(e){return"i"+e})),u="this.offset+"+a.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),h=a.map((function(e){return"b"+e})).join(","),f=a.map((function(e){return"c"+e})).join(",");o.push("function "+n+"(a,"+h+","+f+",d){this.data=a","this.shape=["+h+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){\treturn "+a.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\tif(s0>s1){\tif(s1>s2){\treturn [2,1,0];\t}else if(s0>s2){\treturn [1,2,0];\t}else{\treturn [1,0,2];\t}\t}else if(s0>s2){\treturn [2,0,1];\t}else if(s2>s1){\treturn [0,1,2];\t}else{\treturn [0,2,1];\t}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+l.join(",")+",v){"),i?o.push("return this.data.set("+u+",v)}"):o.push("return this.data["+u+"]=v}"),o.push("proto.get=function "+n+"_get("+l.join(",")+"){"),i?o.push("return this.data.get("+u+")}"):o.push("return this.data["+u+"]}"),o.push("proto.index=function "+n+"_index(",l.join(),"){return "+u+"}"),o.push("proto.hi=function "+n+"_hi("+l.join(",")+"){return new "+n+"(this.data,"+a.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+a.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var d=a.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=a.map((function(e){return"c"+e+"=this.stride["+e+"]"}));o.push("proto.lo=function "+n+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){\td=i"+m+"|0;\tb+=c"+m+"*d;\ta"+m+"-=d}");for(o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"c"+e})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+l.join(",")+"){var "+a.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+a.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'){\td=i"+m+"|0;\tif(d<0){\tc+=b"+m+"*(a"+m+"-1);\ta"+m+"=ceil(-a"+m+"/d)\t}else{\ta"+m+"=ceil(a"+m+"/d)\t}\tb"+m+"*=d\t}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"b"+e})).join(",")+",c)}");var v=new Array(t),g=new Array(t);for(m=0;m<t;++m)v[m]="a[i"+m+"]",g[m]="b[i"+m+"]";for(o.push("proto.transpose=function "+n+"_transpose("+l+"){"+l.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+g.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+l+"){var a=[],b=[],c=this.offset"),m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(e){return"shape["+e+"]"})).join(",")+","+a.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(c[e],s)}function u(e){if(i(e))return"buffer";if(o)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};function h(e,t,n,r){if(void 0===e)return(0,c.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var i=t.length;if(void 0===n){n=new Array(i);for(var o=i-1,a=1;o>=0;--o)n[o]=a,a*=t[o]}if(void 0===r)for(r=0,o=0;o<i;++o)n[o]<0&&(r-=(t[o]-1)*n[o]);for(var s=u(e),h=c[s];h.length<=i+1;)h.push(l(s,h.length-1));return(0,h[i+1])(e,t,n,r)}e.exports=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(25)),i=c(n(63)),o=c(n(55)),a=c(n(248)),s=c(n(3)),l=c(n(4)),u=n(114);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){(0,s.default)(this,e),this.epsilon=1e-6,this.data=t,this.tileSize=this.data.length,this.paddedTileSize=Math.pow(2,Math.ceil((0,a.default)(this.tileSize))),this.numSubsets=Math.min(u.NUM_PRECOMP_SUBSETS_PER_1D_TTILE,this.paddedTileSize),this.subsetSize=this.paddedTileSize/this.numSubsets,this.subsetMinimums=this.computeSubsetNonZeroMinimums(),this.subsetMaximums=this.computeSubsetNonZeroMaximums(),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,l.default)(e,[{key:"getMinNonZeroInSubset",value:function(){function e(e){var t=e[0],n=e[1],r=o.default;if(0===t&&n===this.tileSize)return this.minNonZeroInTile;var i=Math.ceil(t/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return i>=a?this.minNonZero(this.data,t,n):(t<i*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,t,i*this.subsetSize))),r=Math.min(r,this.minNonZero(this.subsetMinimums,i,a)),n>a*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,a*this.subsetSize,n))),r)}return e}()},{key:"getMaxNonZeroInSubset",value:function(){function e(e){var t=e[0],n=e[1],r=i.default;if(0===t&&n===this.tileSize)return this.maxNonZeroInTile;var o=Math.ceil(t/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return o>=a?this.maxNonZero(this.data,t,n):(t<o*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,t,o*this.subsetSize))),r=Math.max(r,this.maxNonZero(this.subsetMaximums,o,a)),n>a*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,a*this.subsetSize,n))),r)}return e}()},{key:"computeSubsetNonZeroMinimums",value:function(){function e(){for(var e=[],t=0;t<this.numSubsets;t++){for(var n=o.default,r=0;r<this.subsetSize;r++){var i=this.data[t*this.subsetSize+r];void 0!==i&&(i<this.epsilon&&i>-this.epsilon||i<n&&(n=i))}e.push(n)}return e}return e}()},{key:"computeSubsetNonZeroMaximums",value:function(){function e(){for(var e=[],t=0;t<this.numSubsets;t++){for(var n=i.default,r=0;r<this.subsetSize;r++){var o=this.data[t*this.subsetSize+r];void 0!==o&&(o<this.epsilon&&o>-this.epsilon||o>n&&(n=o))}e.push(n)}return e}return e}()},{key:"getMinNonZeroInTile",value:function(){function e(){return Math.min.apply(Math,(0,r.default)(this.subsetMinimums))}return e}()},{key:"getMaxNonZeroInTile",value:function(){function e(){return Math.max.apply(Math,(0,r.default)(this.subsetMaximums))}return e}()},{key:"minNonZero",value:function(){function e(e,t,n){for(var r=o.default,i=t;i<n;i++){var a=e[i];a<this.epsilon&&a>-this.epsilon||a<r&&(r=a)}return r}return e}()},{key:"maxNonZero",value:function(){function e(e,t,n){for(var r=i.default,o=t;o<n;o++){var a=e[o];a<this.epsilon&&a>-this.epsilon||a>r&&(r=a)}return r}return e}()}]),e}();t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(63)),i=h(n(55)),o=h(n(95)),a=h(n(251)),s=h(n(3)),l=h(n(4)),u=h(n(136)),c=n(114);function h(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,s.default)(this,e),this.epsilon=1e-6,this.tileSize=Math.sqrt(t.length),(0,a.default)(this.tileSize)||console.error("The DenseDataExtrema2D module only works for data of quadratic length."),this.numSubsets=Math.min(c.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.tileSize),this.subsetSize=this.tileSize/this.numSubsets;var n=(0,u.default)((0,o.default)(t),[this.tileSize,this.tileSize]);this.subsetMinimums=this.computeSubsetNonZeroMinimums(n),this.subsetMaximums=this.computeSubsetNonZeroMaximums(n),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,l.default)(e,[{key:"getMinNonZeroInSubset",value:function(){function e(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=Math.floor(n/this.subsetSize),a=Math.floor(t/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,o,a,l,s)}return e}()},{key:"getMaxNonZeroInSubset",value:function(){function e(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=Math.floor(n/this.subsetSize),a=Math.floor(t/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,o,a,l,s)}return e}()},{key:"computeSubsetNonZeroMinimums",value:function(){function e(e){var t=new Array(Math.pow(this.numSubsets,2));t=(0,u.default)(t,[this.numSubsets,this.numSubsets]);for(var n=0;n<this.numSubsets;n++)for(var r=0;r<this.numSubsets;r++){var i=this.getMinNonZeroInNdarraySubset(e,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);t.set(n,r,i)}return t}return e}()},{key:"computeSubsetNonZeroMaximums",value:function(){function e(e){var t=new Array(Math.pow(this.numSubsets,2));t=(0,u.default)(t,[this.numSubsets,this.numSubsets]);for(var n=0;n<this.numSubsets;n++)for(var r=0;r<this.numSubsets;r++){var i=this.getMaxNonZeroInNdarraySubset(e,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);t.set(n,r,i)}return t}return e}()},{key:"getMinNonZeroInNdarraySubset",value:function(){function e(e,t,n,r,o){for(var a=i.default,s=0;s<r;s++)for(var l=0;l<o;l++){var u=e.get(t+l,n+s);u<this.epsilon&&u>-this.epsilon||u<a&&(a=u)}return a}return e}()},{key:"getMaxNonZeroInNdarraySubset",value:function(){function e(e,t,n,i,o){for(var a=r.default,s=0;s<i;s++)for(var l=0;l<o;l++){var u=e.get(t+l,n+s);u<this.epsilon&&u>-this.epsilon||u>a&&(a=u)}return a}return e}()},{key:"mirrorPrecomputedExtrema",value:function(){function e(){for(var e=1;e<this.numSubsets;e++)for(var t=0;t<e;t++)this.subsetMinimums.set(t,e,this.subsetMinimums.get(e,t)),this.subsetMaximums.set(t,e,this.subsetMaximums.get(e,t))}return e}()},{key:"getMinNonZeroInTile",value:function(){function e(){return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,0,0,this.numSubsets,this.numSubsets)}return e}()},{key:"getMaxNonZeroInTile",value:function(){function e(){return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,0,0,this.numSubsets,this.numSubsets)}return e}()}]),e}();t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return e.reduce((function(e,n){return e+(Array.isArray(n)&&t?n.length:1)}),0)};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(19)),i=c(n(30)),o=c(n(3)),a=c(n(4)),s=n(8),l=n(20),u=n(10);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){(0,o.default)(this,e),this.chromInfo=t,this.chromInfoBisector=(0,s.bisector)((function(e){return e.pos})).left}return(0,a.default)(e,[{key:"scalesToPositionText",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===this.chromInfo||!e||!t)return"";var r=(0,u.absToChr)(e.domain()[0],this.chromInfo),i=(0,u.absToChr)(e.domain()[1],this.chromInfo),o=(0,u.absToChr)(t.domain()[0],this.chromInfo),a=(0,u.absToChr)(t.domain()[1],this.chromInfo),s=null,c=(0,l.format)(",d");return s=r[0]!==i[0]?String(r[0])+":"+String(c(Math.floor(r[1])))+"-"+String(i[0])+":"+String(c(Math.ceil(i[1]))):String(r[0])+":"+String(c(Math.floor(r[1])))+"-"+String(c(Math.ceil(i[1]))),n&&(o[0]!==a[0]?s+=" & "+String(o[0])+":"+String(c(Math.floor(o[1])))+"-"+String(a[0])+":"+String(c(Math.ceil(a[1]))):s+=" & "+String(o[0])+":"+String(c(Math.floor(o[1])))+"-"+String(c(Math.ceil(a[1])))),(r[2]<=0||i[2]>0||n&&(o[2]<=0||a[2]>0))&&(s+=" [offset "+String(r[2])+","+String(i[2]),n&&(s+=":"+String(o[2])+","+String(a[2])),s+="]"),s}return e}()},{key:"convertNumberNotation",value:function(){function e(e){var t=e;if(!t.includes("M",t.length-1)&&!t.includes("K",t.length-1))return t;var n=0,r=0;if(t.includes("M",t.length-1)?(n=6,t=t.replace("M","")):(n=3,t=t.replace("K","")),(0,i.default)(+t))return e;(t=(+t).toString()).includes(".")&&(r=t.length-1-t.indexOf("."),t=(+t.replace(".","")).toString());var o=n-r;return o<0?e:t+="0".repeat(o)}return e}()},{key:"parsePosition",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.split(":"),r=null,i=0;n.length>1?(r=n[0],i=+this.convertNumberNotation(n[1].replace(/,/g,""))):n[0]in this.chromInfo.chrPositions?(r=n[0],i=0,null!==t&&(i=+this.chromInfo.chromLengths[r])):(i=+this.convertNumberNotation(n[0].replace(/,/g,"")),r=null,t&&(r=t));var o=null;return null===r?(r=t,o=i):r in this.chromInfo.chrPositions&&(o=this.chromInfo.chrPositions[r].pos+i),[r,i,o]}return e}()},{key:"matchRangesToLarger",value:function(){function e(e,t){if(e[1]-e[0]<t[1]-t[0]){var n=t[1]-t[0]-(e[1]-e[0]);return[[e[0]-n/2,e[1]+n/2],t]}var r=e[1]-e[0]-(t[1]-t[0]);return[e,[t[0]-r/2,t[1]+r/2]]}return e}()},{key:"getSearchRange",value:function(){function e(e){if(0===e.length)return null;var t=e.split("-"),n=null;if(0===(t=t.filter((function(e){return e.length>0})))[0].indexOf("-")&&(t[0]=t[0].slice(3,t[0].length)),t.length>1){var i=this.parsePosition(t[0]),o=(0,r.default)(i,3),a=o[0];o[1];var s=o[2],l=this.parsePosition(t[1],a),u=(0,r.default)(l,3),c=u[0];u[1];var h=u[2],f=[s,h],d=this.parsePosition(t[1]),p=(0,r.default)(d,3);a=p[0],p[1],s=p[2];var m=this.parsePosition(t[0],a),v=(0,r.default)(m,3);if(c=v[0],v[1],h=v[2],null===a&&null!==c){var g=this.parsePosition(t[1],c),y=(0,r.default)(g,3);a=y[0],y[1],s=y[2]}var b=[s,h];return b[1]-b[0]>f[1]-f[0]?b:f}if(t[0]in this.chromInfo.chrPositions){var _=+this.chromInfo.chrPositions[t[0]].pos;n=[_,_+ +this.chromInfo.chromLengths[t[0]]]}else{var x=this.parsePosition(t[0]),T=(0,r.default)(x,3);T[0],T[1];var w=T[2];n=[w-8e6,w+8e6]}return n[0]>n[1]?[n[1],n[0]]:n}return e}()},{key:"parseOffset",value:function(){function e(e){var t=e.split(":");if(0===t.length)return[[0,0],[0,0]];if(1===t.length){var n=t[0].split(",");return[[+n[0],+n[1]],[0,0]]}var r=t[0].split(","),i=t[1].split(",");return[[+r[0],+r[1]],[+i[0],+i[1]]]}return e}()},{key:"searchPosition",value:function(){function e(e){var t=null,n=null;e=e.trim();var i=/\[offset (.+?)\]/.exec(e),o=[[0,0],[0,0]];i&&(e=e.replace(i[0],""),o=this.parseOffset(i[1]));var a=e.split(" & ");if(a.length>1?(t=this.getSearchRange(a[0].split(" ")[0]),n=this.getSearchRange(a[1].split(" ")[0])):t=this.getSearchRange(a[0]),null!==t&&null!==n){var s=this.matchRangesToLarger(t,n),l=(0,r.default)(s,2);t=l[0],n=l[1]}return t&&(t[0]+=o[0][0],t[1]+=o[0][1]),n&&(n[0]+=o[1][0],n[1]+=o[1][1]),[t,n]}return e}()}]),e}();t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(17)),i=b(n(25)),o=b(n(18)),a=b(n(30)),s=b(n(38)),l=b(n(5)),u=b(n(3)),c=b(n(4)),h=b(n(6)),f=b(n(14)),d=b(n(7)),p=b(n(26)),m=b(n(40)),v=n(24),g=n(10),y=n(11);function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n)),i=e.animate;return r.visibleTiles=new s.default,r.visibleTileIds=new s.default,r.fetching=new s.default,r.fetchedTiles={},r.tileGraphics={},r.minX="undefined"==typeof r.options.minPos||(0,a.default)(+r.options.minPos)?-180:+r.options.minPos,r.maxX=+r.options.maxPos||180,r.maxX="undefined"==typeof r.options.maxPos||(0,a.default)(+r.options.maxPos)?180:+r.options.maxPos,r.minY=r.options.minY||r.minX,r.maxY=r.options.maxY||r.maxX,r.maxZoom=19,r.maxWidth=r.maxX-r.minX,r.animate=i,r.uuid=p.default.nice(),r.refreshTilesDebounced=(0,g.debounce)(r.refreshTiles.bind(r),y.ZOOM_DEBOUNCE),r}return(0,d.default)(t,e),(0,c.default)(t,[{key:"visibleAndFetchedIds",value:function(){function e(){var e=this;return(0,o.default)(this.fetchedTiles).filter((function(t){return e.visibleTileIds.has(t)}))}return e}()},{key:"visibleAndFetchedTiles",value:function(){function e(){var e=this;return this.visibleAndFetchedIds().map((function(t){return e.fetchedTiles[t]}))}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}})),this.visibleTileIds=new s.default(this.visibleTiles.map((function(e){return e.tileId})))}return e}()},{key:"removeAllTiles",value:function(){function e(){var e=new s.default((0,o.default)(this.fetchedTiles));this.removeTiles([].concat((0,i.default)(e)))}return e}()},{key:"refreshTiles",value:function(){function e(){var e=this;this.calculateVisibleTiles();for(var t=new s.default((0,o.default)(this.fetchedTiles)),n=[].concat((0,i.default)(this.visibleTiles)).filter((function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)})),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);var a=[].concat((0,i.default)(t)).filter((function(t){return!e.visibleTileIds.has(t)}));this.removeTiles(a),this.fetchNewTiles(n)}return e}()},{key:"removeTiles",value:function(){function e(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&(e.forEach((function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]})),this.synchronizeTilesAndGraphics(),this.draw())}return e}()},{key:"tileToLocalId",value:function(){function e(e){return e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=v.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),t=v.tileProxy.calculateZoomLevel(this._xScale,this.minY,this.maxY),n=Math.min(Math.max(e,t),this.maxZoom);return this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=v.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.maxZoom,this.maxWidth),this.yTiles=v.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.maxZoom,this.maxWidth);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){(0,f.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"zoomed",this).call(this,e,n),this.xScale(e),this.yScale(n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r,this.refreshTilesDebounced(),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){(0,f.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setPosition",this).call(this,e)}return e}()},{key:"setDimensions",value:function(){function e(e){(0,f.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setDimensions",this).call(this,e)}return e}()},{key:"areAllVisibleTilesLoaded",value:function(){function e(){for(var e=new s.default((0,o.default)(this.fetchedTiles)),t=[].concat((0,i.default)(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}return e}()},{key:"allTilesLoaded",value:function(){function e(){}return e}()},{key:"minValue",value:function(){function e(e){return e&&(this.scale.minValue=e),this.scale.minValue}return e}()},{key:"maxValue",value:function(){function e(e){return e&&(this.scale.maxValue=e),this.scale.maxValue}return e}()},{key:"minRawValue",value:function(){function e(){return this.scale.minRawValue}return e}()},{key:"maxRawValue",value:function(){function e(){return this.scale.maxRawValue}return e}()},{key:"getTilePosAndDimensions",value:function(){function e(e,t){var n=this.maxWidth/Math.pow(2,e),r=n;return{tileX:this.minX+t[0]*n,tileY:this.minY+t[1]*r,tileWidth:n,tileHeight:r}}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n){var r=this.getTilePosAndDimensions(t,n),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight;e.x=this._refXScale(i),e.y=this._refYScale(o);var l=i+a,u=o+s;e.width=this._refXScale(l)-this._refXScale(i),e.height=this._refYScale(u)-this._refYScale(o)}return e}()},{key:"initTile",value:function(){function e(e){var t=new y.GLOBALS.PIXI.Texture(new y.GLOBALS.PIXI.BaseTexture(e.tileData.img)),n=new y.GLOBALS.PIXI.Sprite(t),r=e.graphics;e.sprite=n,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos),r.removeChildren(),r.addChild(e.sprite)}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e){}return e}()},{key:"addMissingGraphics",value:function(){function e(){for(var e=(0,o.default)(this.fetchedTiles),t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new y.GLOBALS.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}return e}()},{key:"updateExistingGraphics",value:function(){function e(){for(var e=(0,o.default)(this.fetchedTiles),t=0;t<e.length;t++)this.updateTile(this.fetchedTiles[e[t]])}return e}()},{key:"synchronizeTilesAndGraphics",value:function(){function e(){this.addMissingGraphics(),this.updateExistingGraphics()}return e}()},{key:"loadTileData",value:function(){function e(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}return e}()},{key:"getTileUrl",value:function(){function e(e){var t=["a","b","c"],n=Math.floor(Math.random()*t.length);return"https://"+String(t[n])+".tile.openstreetmap.org/"+String(e[0])+"/"+String(e[1])+"/"+String(e[2])+".png"}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;if(e.length>0){var n=[].concat((0,i.default)(new s.default(e.map((function(e){return e.remoteId}))))),o=function(){function e(e){var n=e.split("."),r=t.getTileUrl(n),i=new Image;i.crossOrigin="Anonymous",i.src=r,i.onload=function(){var o={};o[e]={tileId:e,img:i,zoomLevel:+n[0],tilePos:[+n[1],+n[2]],tileSrc:r},t.receivedTiles(o)}}return e}(),a=!0,l=!1,u=void 0;try{for(var c,h=(0,r.default)(n);!(a=(c=h.next()).done);a=!0)o(c.value)}catch(f){l=!0,u=f}finally{try{!a&&h.return&&h.return()}finally{if(l)throw u}}}}return e}()},{key:"receivedTiles",value:function(){function e(e){for(var t=0;t<this.visibleTiles.length;t++){var n=this.visibleTiles[t].tileId;e[this.visibleTiles[t].remoteId]&&this.visibleTiles[t].remoteId in e&&(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[t]),this.fetchedTiles[n].tileData=e[this.visibleTiles[t].remoteId])}for(var r in e)e[r]&&this.fetching.has(r)&&this.fetching.delete(r);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}return e}()},{key:"draw",value:function(){function e(){this.delayDrawing||(0,f.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(){}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){for(var r in(0,f.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];i.sprite&&this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos)}}return e}()}]),t}(m.default);t.default=_},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){var r=n(742),i=n(783),o=n(143),a=n(31),s=n(792);function l(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}e.exports=l},function(e,t,n){var r=n(194),i=1/0;function o(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}e.exports=o},function(e,t,n){var r=n(407),i=n(796)(r);e.exports=i},function(e,t,n){var r=n(286),i=n(146),o=n(411),a=n(31);function s(e,t){return(a(e)?r:i)(e,o(t))}e.exports=s},function(e,t,n){var r=n(453),i=n(457);function o(t,n){return delete e.exports[t],e.exports[t]=n,n}e.exports={Parser:r,Tokenizer:n(454),ElementType:n(123),DomHandler:i,get FeedHandler(){return o("FeedHandler",n(951))},get Stream(){return o("Stream",n(961))},get WritableStream(){return o("WritableStream",n(459))},get ProxyHandler(){return o("ProxyHandler",n(963))},get DomUtils(){return o("DomUtils",n(101))},get CollectingHandler(){return o("CollectingHandler",n(964))},DefaultHandler:i,get RssHandler(){return o("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new i(t);return new r(n,t).end(e),n.dom},parseFeed:function(t,n){var i=new e.exports.FeedHandler(n);return new r(i,n).end(t),i.dom},createDomStream:function(e,t,n){var o=new i(e,t,n);return new r(o,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t,n){t.REPLACEMENT_CHARACTER="\ufffd",t.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},t.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],CDATA_END_STRING:[93,93,62],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}function l(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],h=!1,f=-1;function d(){!h||!u||(h=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!h){var e=s(d);h=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,h=!1,l(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1===c.length&&!h&&s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function c(e){return"[object RegExp]"===v(e)}function h(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===v(e)}function d(e){return"[object Error]"===v(e)||e instanceof Error}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function v(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=a,t.isString=s,t.isSymbol=l,t.isUndefined=u,t.isRegExp=c,t.isObject=h,t.isDate=f,t.isError=d,t.isFunction=p,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(this,n(113).Buffer)},function(e,t,n){var r=n(198),i=n(299),o=n(470),a={tag:!0,script:!0,style:!0};t.isTag=function(e){return e.type&&(e=e.type),a[e]||!1},t.camelCase=function(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))},t.cssCase=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},t.domEach=function(e,t){for(var n=0,r=e.length;n<r&&!1!==t.call(e,n,e[n]);)++n;return e},t.cloneDom=function(e,t){return t=o({},t,{_useHtmlParser2:!0}),r(i(e,t),t,!1).children};var s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;t.isHtml=function(e){if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3)return!0;var t=s.exec(e);return!(!t||!t[1])}},function(e,t){e.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(e,t,n){var r=n(52),i=n(53),o=n(488),a=n(498),s=a(),l=n(1051),u=i.call(Function.call,s);r(u,{getPolyfill:a,implementation:o,shim:l}),e.exports=u},function(e,t,n){var r=Function.prototype.toString,i=/^\s*class\b/,o=function(e){try{var t=r.call(e);return i.test(t)}catch(n){return!1}},a=function(e){try{return!o(e)&&(r.call(e),!0)}catch(t){return!1}},s=Object.prototype.toString,l="[object Function]",u="[object GeneratorFunction]",c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(c)return a(e);if(o(e))return!1;var t=s.call(e);return t===l||t===u}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.propsOfNode=p,t.childrenOfNode=m,t.hasClassName=v,t.treeForEach=g,t.treeFilter=y,t.findParentNode=b,t.pathToNode=x,t.parentsOfNode=T,t.nodeHasId=w,t.nodeMatchesObjectProps=C,t.getTextFromNode=A;var i=h(n(122)),o=h(n(154)),a=h(n(500)),s=h(n(1056)),l=h(n(314)),u=h(n(497)),c=h(n(103));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e){return e&&e.props||{}}function m(e){if(!e)return[];var t=(0,c.default)(),n=t.isFragment&&"function"==typeof t.isFragment,r=Array.isArray(e.rendered)?(0,o.default)(e.rendered,1):[e.rendered];return n?(0,o.default)(r.map((function(e){return t.isFragment(e)?m(e):e})),1):r}function v(e,t){var n=p(e).className||"";return n=String(n).replace(/\s/g," "),(0,u.default)(t)?t.test(n):(" "+String(n)+" ").indexOf(" "+String(t)+" ")>-1}function g(e,t){e&&t(e),m(e).forEach((function(e){return g(e,t)}))}function y(e,t){var n=[];return g(e,(function(e){t(e)&&n.push(e)})),n}function b(e,t){return y(e,(function(e){return!!e.rendered&&-1!==m(e).indexOf(t)}))[0]||null}function _(e,t){return e.filter((function(e){return 0!==y(e,t).length}))}function x(e,t){for(var n=[t],r=[],i=function(t){return e===t};n.length;){var o=n.pop(),a=m(o);if(o===e)return _(r,i);r.push(o),0===a.length&&r.pop(),n.push.apply(n,d(a))}return null}function T(e,t){return(x(e,t)||[]).reverse()}function w(e,t){return p(e).id===t}var S={};function E(e){return"undefined"!=typeof e?e:S}function k(e){return(0,a.default)(e).reduce((function(e,t){var n=r(t,2),o=n[0],a=n[1];return(0,i.default)({},e,f({},o,E(a)))}),{})}function C(e,t){return(0,s.default)(p(e),k(t))}function A(e){return null==e?"":"string"==typeof e||"number"==typeof e?String(e):e.type&&"function"==typeof e.type?"<"+String(e.type.displayName||(0,l.default)(e.type))+" />":m(e).map(A).join("")}},function(e,t,n){n.r(t);var r=n(65),i=n(84),o=n(15),a=n(0),s=n(85),l=function(e){return function(){return e}};function u(e,t,n){this.target=e,this.type=t,this.transform=n}function c(e,t,n){this.k=e,this.x=t,this.y=n}c.prototype={constructor:c,scale:function(e){return 1===e?this:new c(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new c(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var h=new c(1,0,0);function f(e){return e.__zoom||h}function d(){a.event.stopImmediatePropagation()}f.prototype=c.prototype;var p=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()};function m(){return!a.event.button}function v(){var e,t,n=this;return n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function g(){return this.__zoom||h}function y(){return-a.event.deltaY*(a.event.deltaMode?120:1)/500}function b(){return"ontouchstart"in this}function _(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var x=function(){var e,t,n=m,f=v,x=_,T=y,w=b,S=[0,1/0],E=[[-1/0,-1/0],[1/0,1/0]],k=250,C=o.i,A=[],O=Object(r.a)("start","zoom","end"),P=500,M=150,I=0;function R(e){e.property("__zoom",g).on("wheel.zoom",H).on("mousedown.zoom",z).on("dblclick.zoom",U).filter(w).on("touchstart.zoom",V).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",X).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function L(e,t){return(t=Math.max(S[0],Math.min(S[1],t)))===e.k?e:new c(t,e.x,e.y)}function D(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new c(e.k,r,i)}function N(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function j(e,t,n){e.on("start.zoom",(function(){B(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){B(this,arguments).end()})).tween("zoom",(function(){var e=this,r=arguments,i=B(e,r),o=f.apply(e,r),a=n||N(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=e.__zoom,u="function"==typeof t?t.apply(e,r):t,h=C(l.invert(a).concat(s/l.k),u.invert(a).concat(s/u.k));return function(e){if(1===e)e=u;else{var t=h(e),n=s/t[2];e=new c(n,a[0]-t[0]*n,a[1]-t[1]*n)}i.zoom(null,e)}}))}function B(e,t){for(var n,r=0,i=A.length;r<i;++r)if((n=A[r]).that===e)return n;return new F(e,t)}function F(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=f.apply(e,t)}function H(){if(n.apply(this,arguments)){var e=B(this,arguments),t=this.__zoom,r=Math.max(S[0],Math.min(S[1],t.k*Math.pow(2,T.apply(this,arguments)))),i=Object(a.mouse)(this);if(e.wheel)(e.mouse[0][0]!==i[0]||e.mouse[0][1]!==i[1])&&(e.mouse[1]=t.invert(e.mouse[0]=i)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[i,t.invert(i)],Object(s.interrupt)(this),e.start()}p(),e.wheel=setTimeout(o,M),e.zoom("mouse",x(D(L(t,r),e.mouse[0],e.mouse[1]),e.extent,E))}function o(){e.wheel=null,e.end()}}function z(){if(!t&&n.apply(this,arguments)){var e=B(this,arguments),r=Object(a.select)(a.event.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",h,!0),o=Object(a.mouse)(this),l=a.event.clientX,u=a.event.clientY;Object(i.dragDisable)(a.event.view),d(),e.mouse=[o,this.__zoom.invert(o)],Object(s.interrupt)(this),e.start()}function c(){if(p(),!e.moved){var t=a.event.clientX-l,n=a.event.clientY-u;e.moved=t*t+n*n>I}e.zoom("mouse",x(D(e.that.__zoom,e.mouse[0]=Object(a.mouse)(e.that),e.mouse[1]),e.extent,E))}function h(){r.on("mousemove.zoom mouseup.zoom",null),Object(i.dragEnable)(a.event.view,e.moved),p(),e.end()}}function U(){if(n.apply(this,arguments)){var e=this.__zoom,t=Object(a.mouse)(this),r=e.invert(t),i=e.k*(a.event.shiftKey?.5:2),o=x(D(L(e,i),t,r),f.apply(this,arguments),E);p(),k>0?Object(a.select)(this).transition().duration(k).call(j,o,t):Object(a.select)(this).call(R.transform,o)}}function V(){if(n.apply(this,arguments)){var t,r,i,o,l=B(this,arguments),u=a.event.changedTouches,c=u.length;for(d(),r=0;r<c;++r)i=u[r],o=[o=Object(a.touch)(this,u,i.identifier),this.__zoom.invert(o),i.identifier],l.touch0?l.touch1||(l.touch1=o):(l.touch0=o,t=!0);if(e&&(e=clearTimeout(e),!l.touch1))return l.end(),void((o=Object(a.select)(this).on("dblclick.zoom"))&&o.apply(this,arguments));t&&(e=setTimeout((function(){e=null}),P),Object(s.interrupt)(this),l.start())}}function G(){var t,n,r,i,o=B(this,arguments),s=a.event.changedTouches,l=s.length;for(p(),e&&(e=clearTimeout(e)),t=0;t<l;++t)n=s[t],r=Object(a.touch)(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var u=o.touch0[0],c=o.touch0[1],h=o.touch1[0],f=o.touch1[1],d=(d=h[0]-u[0])*d+(d=h[1]-u[1])*d,m=(m=f[0]-c[0])*m+(m=f[1]-c[1])*m;n=L(n,Math.sqrt(d/m)),r=[(u[0]+h[0])/2,(u[1]+h[1])/2],i=[(c[0]+f[0])/2,(c[1]+f[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",x(D(n,r,i),o.extent,E))}function X(){var e,n,r=B(this,arguments),i=a.event.changedTouches,o=i.length;for(d(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),P),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return R.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",g),e!==n?j(e,t):n.interrupt().each((function(){B(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},R.scaleBy=function(e,t){R.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}))},R.scaleTo=function(e,t){R.transform(e,(function(){var e=f.apply(this,arguments),n=this.__zoom,r=N(e),i=n.invert(r),o="function"==typeof t?t.apply(this,arguments):t;return x(D(L(n,o),r,i),e,E)}))},R.translateBy=function(e,t,n){R.transform(e,(function(){return x(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),f.apply(this,arguments),E)}))},R.translateTo=function(e,t,n){R.transform(e,(function(){var e=f.apply(this,arguments),r=this.__zoom,i=N(e);return x(h.translate(i[0],i[1]).scale(r.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,E)}))},F.prototype={start:function(){return 1===++this.active&&(this.index=A.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(A.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Object(a.customEvent)(new u(R,e,this.that.__zoom),O.apply,O,[e,this.that,this.args])}},R.wheelDelta=function(e){return arguments.length?(T="function"==typeof e?e:l(+e),R):T},R.filter=function(e){return arguments.length?(n="function"==typeof e?e:l(!!e),R):n},R.touchable=function(e){return arguments.length?(w="function"==typeof e?e:l(!!e),R):w},R.extent=function(e){return arguments.length?(f="function"==typeof e?e:l([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),R):f},R.scaleExtent=function(e){return arguments.length?(S[0]=+e[0],S[1]=+e[1],R):[S[0],S[1]]},R.translateExtent=function(e){return arguments.length?(E[0][0]=+e[0][0],E[1][0]=+e[1][0],E[0][1]=+e[0][1],E[1][1]=+e[1][1],R):[[E[0][0],E[0][1]],[E[1][0],E[1][1]]]},R.constrain=function(e){return arguments.length?(x=e,R):x},R.duration=function(e){return arguments.length?(k=+e,R):k},R.interpolate=function(e){return arguments.length?(C=e,R):C},R.on=function(){var e=O.on.apply(O,arguments);return e===O?R:e},R.clickDistance=function(e){return arguments.length?(I=(e=+e)*e,R):Math.sqrt(I)},R};n.d(t,"zoom",(function(){return x})),n.d(t,"zoomTransform",(function(){return f})),n.d(t,"zoomIdentity",(function(){return h}))},function(e,t,n){var r=n(47),i=n(48),o=n(210)(!1),a=n(90)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){e.exports=!n(36)&&!n(50)((function(){return 7!=Object.defineProperty(n(108)("div"),"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports=n(43)},function(e,t,n){var r=n(32),i=n(39),o=n(60);e.exports=n(36)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(23).document;e.exports=r&&r.documentElement},function(e,t){},function(e,t,n){var r=n(39);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e.return;throw void 0!==o&&r(o.call(e)),a}}},function(e,t,n){var r=n(51),i=n(21)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(21)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},function(e,t,n){t.f=n(21)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(29)),i=c(n(1)),o=c(n(2)),a=c(n(170)),s=c(n(332)),l=c(n(572)),u=c(n(132));function c(e){return e&&e.__esModule?e:{default:e}}n(574);var h={"../styles/Dialog.module.scss":{"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},f=function(e){var t=function(){e.modal.close(),e.onCancel&&e.onCancel()},n=function(){e.modal.close(),e.onOkay&&e.onOkay()};return i.default.createElement(l.default,{closeButton:!1,hide:e.hide,maxHeight:e.maxHeight},i.default.createElement("header",{className:"Dialog-module_dialog-header-2mk2M"},i.default.createElement("h3",null,e.title),i.default.createElement(a.default,{onClick:t},i.default.createElement(s.default,null))),e.maxHeight?i.default.createElement("main",{className:(0,r.default)(e.maxHeight?"dialog-main-max-height":"",h)},e.children):i.default.createElement("main",null,e.children),i.default.createElement("footer",{className:(0,r.default)(e.maxHeight?"dialog-footer-max-height":"dialog-footer",h)},e.okayOnly?i.default.createElement("div",null):i.default.createElement(a.default,{onClick:t,shortcut:e.cancelShortcut},e.cancelTitle),i.default.createElement(a.default,{onClick:n,shortcut:e.okayShortcut},e.okayTitle)))};f.defaultProps={cancelTitle:"Cancel",hide:!1,maxHeight:!1,okayOnly:!1,okayTitle:"Ok"},f.propTypes={cancelShortcut:o.default.string,cancelTitle:o.default.string,children:o.default.func.isRequired,hide:o.default.bool,maxHeight:o.default.bool,modal:o.default.object.isRequired,okayShortcut:o.default.string,okayTitle:o.default.string,okayOnly:o.default.bool,onCancel:o.default.func.isRequired,onOkay:o.default.func.isRequired,title:o.default.string.isRequired},t.default=(0,u.default)(f)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}n(570);var a=r.default.forwardRef((function(e,t){return r.default.createElement("button",{ref:t,disable:e.disable,onBlur:e.onBlur,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseOut:e.onMouseOut,onMouseUp:e.onMouseUp,className:"Button-module_button-3YXsQ",type:"button"},e.children,e.shortcut&&r.default.createElement("span",{className:"Button-module_button-shortcut-1zMAn"},e.shortcut))}));a.defaultProps={onClick:function(){function e(){}return e}(),styleName:"",type:"button"},a.propTypes={children:i.default.func.isRequired,disable:i.default.func.isRequired,onBlur:i.default.func,onClick:i.default.func,onMouseDown:i.default.func,onMouseOut:i.default.func,onMouseUp:i.default.func,shortcut:i.default.string,type:i.default.string},t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.default=r},function(e,t,n){(function(e,n){var r=200,i="__lodash_hash_undefined__",o=1,a=2,s=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",h="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",m="[object GeneratorFunction]",v="[object Map]",g="[object Number]",y="[object Null]",b="[object Object]",_="[object Promise]",x="[object Proxy]",T="[object RegExp]",w="[object Set]",S="[object String]",E="[object Symbol]",k="[object Undefined]",C="[object WeakMap]",A="[object ArrayBuffer]",O="[object DataView]",P="[object Float64Array]",M="[object Int8Array]",I="[object Int16Array]",R="[object Int32Array]",L="[object Uint8Array]",D="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,z={};z["[object Float32Array]"]=z[P]=z[M]=z[I]=z[R]=z[L]=z[D]=z[N]=z[j]=!0,z[l]=z[u]=z[A]=z[h]=z[O]=z[f]=z[d]=z[p]=z[v]=z[g]=z[b]=z[T]=z[w]=z[S]=z[C]=!1;var U="object"==typeof e&&e&&e.Object===Object&&e,V="object"==typeof self&&self&&self.Object===Object&&self,G=U||V||Function("return this")(),X=t&&!t.nodeType&&t,Y=X&&"object"==typeof n&&n&&!n.nodeType&&n,W=Y&&Y.exports===X,q=W&&U.process,K=function(){try{return q&&q.binding&&q.binding("util")}catch(e){}}(),$=K&&K.isTypedArray;function Z(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Q(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function J(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ee(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function te(e){return function(t){return e(t)}}function ne(e,t){return e.has(t)}function re(e,t){return null==e?void 0:e[t]}function ie(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function oe(e,t){return function(n){return e(t(n))}}function ae(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var se=Array.prototype,le=Function.prototype,ue=Object.prototype,ce=G["__core-js_shared__"],he=le.toString,fe=ue.hasOwnProperty,de=function(){var e=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pe=ue.toString,me=RegExp("^"+he.call(fe).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=W?G.Buffer:void 0,ge=G.Symbol,ye=G.Uint8Array,be=ue.propertyIsEnumerable,_e=se.splice,xe=ge?ge.toStringTag:void 0,Te=Object.getOwnPropertySymbols,we=ve?ve.isBuffer:void 0,Se=oe(Object.keys,Object),Ee=kt(G,"DataView"),ke=kt(G,"Map"),Ce=kt(G,"Promise"),Ae=kt(G,"Set"),Oe=kt(G,"WeakMap"),Pe=kt(Object,"create"),Me=Dt(Ee),Ie=Dt(ke),Re=Dt(Ce),Le=Dt(Ae),De=Dt(Oe),Ne=ge?ge.prototype:void 0,je=Ne?Ne.valueOf:void 0;function Be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fe(){this.__data__=Pe?Pe(null):{},this.size=0}function He(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function ze(e){var t=this.__data__;if(Pe){var n=t[e];return n===i?void 0:n}return fe.call(t,e)?t[e]:void 0}function Ue(e){var t=this.__data__;return Pe?void 0!==t[e]:fe.call(t,e)}function Ve(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pe&&void 0===t?i:t,this}function Ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xe(){this.__data__=[],this.size=0}function Ye(e){var t=this.__data__,n=ft(t,e);return!(n<0)&&(n==t.length-1?t.pop():_e.call(t,n,1),--this.size,!0)}function We(e){var t=this.__data__,n=ft(t,e);return n<0?void 0:t[n][1]}function qe(e){return ft(this.__data__,e)>-1}function Ke(e,t){var n=this.__data__,r=ft(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function $e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ze(){this.size=0,this.__data__={hash:new Be,map:new(ke||Ge),string:new Be}}function Qe(e){var t=Et(this,e).delete(e);return this.size-=t?1:0,t}function Je(e){return Et(this,e).get(e)}function et(e){return Et(this,e).has(e)}function tt(e,t){var n=Et(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function nt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $e;++t<n;)this.add(e[t])}function rt(e){return this.__data__.set(e,i),this}function it(e){return this.__data__.has(e)}function ot(e){var t=this.__data__=new Ge(e);this.size=t.size}function at(){this.__data__=new Ge,this.size=0}function st(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function lt(e){return this.__data__.get(e)}function ut(e){return this.__data__.has(e)}function ct(e,t){var n=this.__data__;if(n instanceof Ge){var i=n.__data__;if(!ke||i.length<r-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new $e(i)}return n.set(e,t),this.size=n.size,this}function ht(e,t){var n=Bt(e),r=!n&&jt(e),i=!n&&!r&&Ht(e),o=!n&&!r&&!i&&Yt(e),a=n||r||i||o,s=a?ee(e.length,String):[],l=s.length;for(var u in e)(t||fe.call(e,u))&&(!a||!("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pt(u,l)))&&s.push(u);return s}function ft(e,t){for(var n=e.length;n--;)if(Nt(e[n][0],t))return n;return-1}function dt(e,t,n){var r=t(e);return Bt(e)?r:Q(r,n(e))}function pt(e){return null==e?void 0===e?k:y:xe&&xe in Object(e)?Ct(e):Lt(e)}function mt(e){return Xt(e)&&pt(e)==l}function vt(e,t,n,r,i){return e===t||(null==e||null==t||!Xt(e)&&!Xt(t)?e!==e&&t!==t:gt(e,t,n,r,vt,i))}function gt(e,t,n,r,i,a){var s=Bt(e),c=Bt(t),h=s?u:Ot(e),f=c?u:Ot(t),d=(h=h==l?b:h)==b,p=(f=f==l?b:f)==b,m=h==f;if(m&&Ht(e)){if(!Ht(t))return!1;s=!0,d=!1}if(m&&!d)return a||(a=new ot),s||Yt(e)?xt(e,t,n,r,i,a):Tt(e,t,h,n,r,i,a);if(!(n&o)){var v=d&&fe.call(e,"__wrapped__"),g=p&&fe.call(t,"__wrapped__");if(v||g){var y=v?e.value():e,_=g?t.value():t;return a||(a=new ot),i(y,_,n,r,a)}}return!!m&&(a||(a=new ot),wt(e,t,n,r,i,a))}function yt(e){return!(!Gt(e)||It(e))&&(Ut(e)?me:F).test(Dt(e))}function bt(e){return Xt(e)&&Vt(e.length)&&!!z[pt(e)]}function _t(e){if(!Rt(e))return Se(e);var t=[];for(var n in Object(e))fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function xt(e,t,n,r,i,s){var l=n&o,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var h=s.get(e);if(h&&s.get(t))return h==t;var f=-1,d=!0,p=n&a?new nt:void 0;for(s.set(e,t),s.set(t,e);++f<u;){var m=e[f],v=t[f];if(r)var g=l?r(v,m,f,t,e,s):r(m,v,f,e,t,s);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!J(t,(function(e,t){if(!ne(p,t)&&(m===e||i(m,e,n,r,s)))return p.push(t)}))){d=!1;break}}else if(m!==v&&!i(m,v,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Tt(e,t,n,r,i,s,l){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!s(new ye(e),new ye(t)));case h:case f:case g:return Nt(+e,+t);case d:return e.name==t.name&&e.message==t.message;case T:case S:return e==t+"";case v:var u=ie;case w:var c=r&o;if(u||(u=ae),e.size!=t.size&&!c)return!1;var p=l.get(e);if(p)return p==t;r|=a,l.set(e,t);var m=xt(u(e),u(t),r,i,s,l);return l.delete(e),m;case E:if(je)return je.call(e)==je.call(t)}return!1}function wt(e,t,n,r,i,a){var s=n&o,l=St(e),u=l.length;if(u!=St(t).length&&!s)return!1;for(var c=u;c--;){var h=l[c];if(!(s?h in t:fe.call(t,h)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var d=!0;a.set(e,t),a.set(t,e);for(var p=s;++c<u;){var m=e[h=l[c]],v=t[h];if(r)var g=s?r(v,m,h,t,e,a):r(m,v,h,e,t,a);if(!(void 0===g?m===v||i(m,v,n,r,a):g)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return a.delete(e),a.delete(t),d}function St(e){return dt(e,Wt,At)}function Et(e,t){var n=e.__data__;return Mt(t)?n["string"==typeof t?"string":"hash"]:n.map}function kt(e,t){var n=re(e,t);return yt(n)?n:void 0}function Ct(e){var t=fe.call(e,xe),n=e[xe];try{e[xe]=void 0;var r=!0}catch(o){}var i=pe.call(e);return r&&(t?e[xe]=n:delete e[xe]),i}Be.prototype.clear=Fe,Be.prototype.delete=He,Be.prototype.get=ze,Be.prototype.has=Ue,Be.prototype.set=Ve,Ge.prototype.clear=Xe,Ge.prototype.delete=Ye,Ge.prototype.get=We,Ge.prototype.has=qe,Ge.prototype.set=Ke,$e.prototype.clear=Ze,$e.prototype.delete=Qe,$e.prototype.get=Je,$e.prototype.has=et,$e.prototype.set=tt,nt.prototype.add=nt.prototype.push=rt,nt.prototype.has=it,ot.prototype.clear=at,ot.prototype.delete=st,ot.prototype.get=lt,ot.prototype.has=ut,ot.prototype.set=ct;var At=Te?function(e){return null==e?[]:(e=Object(e),Z(Te(e),(function(t){return be.call(e,t)})))}:qt,Ot=pt;function Pt(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||H.test(e))&&e>-1&&e%1==0&&e<t}function Mt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function It(e){return!!de&&de in e}function Rt(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ue)}function Lt(e){return pe.call(e)}function Dt(e){if(null!=e){try{return he.call(e)}catch(t){}try{return e+""}catch(n){}}return""}function Nt(e,t){return e===t||e!==e&&t!==t}(Ee&&Ot(new Ee(new ArrayBuffer(1)))!=O||ke&&Ot(new ke)!=v||Ce&&Ot(Ce.resolve())!=_||Ae&&Ot(new Ae)!=w||Oe&&Ot(new Oe)!=C)&&(Ot=function(e){var t=pt(e),n=t==b?e.constructor:void 0,r=n?Dt(n):"";if(r)switch(r){case Me:return O;case Ie:return v;case Re:return _;case Le:return w;case De:return C}return t});var jt=mt(function(){return arguments}())?mt:function(e){return Xt(e)&&fe.call(e,"callee")&&!be.call(e,"callee")},Bt=Array.isArray;function Ft(e){return null!=e&&Vt(e.length)&&!Ut(e)}var Ht=we||Kt;function zt(e,t){return vt(e,t)}function Ut(e){if(!Gt(e))return!1;var t=pt(e);return t==p||t==m||t==c||t==x}function Vt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Gt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Xt(e){return null!=e&&"object"==typeof e}var Yt=$?te($):bt;function Wt(e){return Ft(e)?ht(e):_t(e)}function qt(){return[]}function Kt(){return!1}n.exports=zt}).call(this,n(27),n(173)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(44)),i=h(n(18)),o=h(n(29)),a=h(n(2)),s=h(n(1)),l=n(125),u=h(n(78)),c=n(11);function h(e){return e&&e.__esModule?e:{default:e}}n(606);var f={"../styles/TrackControl.module.scss":{"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},d=function(e){var t=e.isVisible?"track-control-active":"track-control";return t+=e.isAlignLeft?" track-control-left":"",t+=e.isVertical?" track-control-vertical":"",t+=e.paddingRight?" track-control-padding-right":"",e.theme===c.THEME_DARK&&(t+=" track-control-dark"),t},p=function(e){var t="track-control-button";return t+=e.isVertical?" track-control-button-vertical":""},m=null,v=null,g=function(e){(!e||!m||(0,i.default)(e).some((function(t){return m[t]!==e[t]})))&&(m=e,v=(0,l.SortableHandle)((function(){return s.default.createElement("svg",{style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleMove),className:"no-zoom "+(0,o.default)(p(e),f)},s.default.createElement("title",null,"Move track"),s.default.createElement("use",{xlinkHref:"#move"}))})));var t=void 0,n=void 0;return s.default.createElement("div",{className:(0,o.default)(d(e),f)},e.isMoveable&&s.default.createElement(v,null),s.default.createElement("svg",{ref:function(){function e(e){t=e}return e}(),onClick:function(){function n(){e.onConfigTrackMenuOpened(e.uid,t.getBoundingClientRect())}return n}(),style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleSettings),className:"no-zoom "+(0,o.default)(p(e),f)},s.default.createElement("title",null,"Configure track"),s.default.createElement("use",{xlinkHref:"#cog"})),e.onAddSeries&&s.default.createElement("svg",{onClick:function(){function t(){return e.onAddSeries(e.uid)}return t}(),style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleAdd),className:"no-zoom "+(0,o.default)(p(e),f)},s.default.createElement("title",null,"Add series"),s.default.createElement("use",{xlinkHref:"#plus"})),s.default.createElement("svg",{ref:function(){function e(e){n=e}return e}(),onClick:function(){function t(){e.onCloseTrackMenuOpened(e.uid,n.getBoundingClientRect())}return t}(),style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleClose),className:"no-zoom "+(0,o.default)(p(e),f)},s.default.createElement("title",null,"Close track"),s.default.createElement("use",{xlinkHref:"#cross"})))};g.propTypes={imgStyleAdd:a.default.object,imgStyleClose:a.default.object,imgStyleMove:a.default.object,imgStyleSettings:a.default.object,isAlignLeft:a.default.bool,isMoveable:a.default.bool,isVertical:a.default.bool,isVisible:a.default.bool,onConfigTrackMenuOpened:a.default.func,onCloseTrackMenuOpened:a.default.func,onAddSeries:a.default.func,paddingRight:a.default.bool,theme:a.default.symbol.isRequired,uid:a.default.string},t.default=(0,u.default)(g)},function(e,t,n){e.exports={"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},function(e,t,n){e.exports={"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),i=l(n(4)),o=n(28),a=n(69),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=t.id,i=t.pubSub,s=t.getTheme;(0,r.default)(this,e),this.pubSub=i||a.fake,this.id=n,this._xScale=(0,o.scaleLinear)(),this._yScale=(0,o.scaleLinear)(),this._refXScale=(0,o.scaleLinear)(),this._refYScale=(0,o.scaleLinear)(),this.position=[0,0],this.dimensions=[1,1],this.options={},this.pubSubs=[],this.getTheme=s||function(){},this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.defaultMouseMoveHandler.bind(this)))}return(0,i.default)(e,[{key:"isWithin",value:function(){function e(e,t){var n=e,r=t,i=this.position[0],o=this.position[1];return this.isLeftModified&&(n=t,r=e,i=this.position[1],o=this.position[0]),(0,s.isWithin)(n,r,i,this.dimensions[0]+i,o,this.dimensions[1]+o)}return e}()},{key:"getProp",value:function(){function e(e){var t=this;return function(){return t[e]}}return e}()},{key:"getData",value:function(){function e(){}return e}()},{key:"getDimensions",value:function(){function e(){return this.dimensions}return e}()},{key:"setDimensions",value:function(){function e(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}return e}()},{key:"refXScale",value:function(){function e(e){return arguments.length?(this._refXScale=e,this):this._refXScale}return e}()},{key:"refYScale",value:function(){function e(e){return arguments.length?(this._refYScale=e,this):this._refYScale}return e}()},{key:"xScale",value:function(){function e(e){return arguments.length?(this._xScale=e,this):this._xScale}return e}()},{key:"yScale",value:function(){function e(e){return arguments.length?(this._yScale=e,this):this._yScale}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t)}return e}()},{key:"refScalesChanged",value:function(){function e(e,t){this._refXScale=e,this._refYScale=t}return e}()},{key:"draw",value:function(){function e(){}return e}()},{key:"getPosition",value:function(){function e(){return this.position}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e}return e}()},{key:"defaultMouseMoveHandler",value:function(){function e(e){}return e}()},{key:"remove",value:function(){function e(){var e=this;this.pubSubs.forEach((function(t){return e.pubSub.unsubscribe(t)})),this.pubSubs=[]}return e}()},{key:"rerender",value:function(){function e(){}return e}()},{key:"respondsToPosition",value:function(){function e(e,t){return this.isWithin(e,t)}return e}()},{key:"zoomedY",value:function(){function e(e,t){}return e}()},{key:"movedY",value:function(){function e(e){}return e}()}]),e}();t.default=u},function(e,t,n){var r=n(33),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),i=l(n(4)),o=n(20),a=n(11),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=40,c=0,h=5,f=4,d=function(){function e(t){(0,r.default)(this,e),this.pAxis=new a.GLOBALS.PIXI.Graphics,this.track=t,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10}return(0,i.default)(e,[{key:"startAxis",value:function(){function e(e){var t=this.pAxis;t.clear(),t.lineStyle(1,this.track.getTheme()===a.THEME_DARK?(0,s.colorToHex)("#ffffff"):0,1),t.moveTo(0,0),t.lineTo(0,e)}return e}()},{key:"createAxisTexts",value:function(){function e(e,t){this.tickValues=this.calculateAxisTickValues(e,t);var n=0,r=this.track.getTheme()===a.THEME_DARK?"white":"black";for(this.track.options&&this.track.options.axisLabelFormatting&&"scientific"!==this.track.options.axisLabelFormatting?this.tickFormat=function(e){return e}:this.tickFormat=(0,o.format)(".2");n<this.tickValues.length;){for(var i=this.tickValues[n];this.axisTexts.length<=n;){var s=new a.GLOBALS.PIXI.Text(i,{fontSize:String(this.axisTextFontSize)+"px",fontFamily:this.axisTextFontFamily,fill:r});this.axisTexts.push(s),this.pAxis.addChild(s)}this.axisTexts[n].text=this.tickFormat(i),this.axisTexts[n].anchor.y=.5,this.axisTexts[n].anchor.x=.5,n++}for(;this.axisTexts.length>this.tickValues.length;){var l=this.axisTexts.pop();this.pAxis.removeChild(l),l.destroy(!0)}}return e}()},{key:"calculateAxisTickValues",value:function(){function e(e,t){var n=Math.max(Math.ceil(t/u),1),r=e.ticks(n);return r.length<1&&(r=e.ticks(n+1)).length>1&&(r=[r[0]]),r}return e}()},{key:"drawAxisLeft",value:function(){function e(e,t){this.startAxis(t),this.createAxisTexts(e,t);var n=this.pAxis;this.track.getTheme()===a.THEME_DARK&&n.lineStyle(n.lineWidth||n._lineStyle.width,(0,s.colorToHex)("#ffffff")),n.moveTo(0,0),n.lineTo(-(c+h),0),n.moveTo(0,t),n.lineTo(-(c+h),t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=-(c+h+f+this.axisTexts[r].width/2),this.axisTexts[r].y=e(i),n.moveTo(-c,e(i)),n.lineTo(-(c+h),e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}return e}()},{key:"drawAxisRight",value:function(){function e(e,t){this.startAxis(t),this.createAxisTexts(e,t);var n=this.pAxis;this.track.getTheme()===a.THEME_DARK&&n.lineStyle(n.lineWidth||n._lineStyle.width,(0,s.colorToHex)("#ffffff")),n.moveTo(0,0),n.lineTo(c+h,0),n.moveTo(0,t),n.lineTo(c+h,t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=c+h+f+this.axisTexts[r].width/2,this.axisTexts[r].y=e(i),n.moveTo(c,e(i)),n.lineTo(c+h,e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}return e}()},{key:"hideOverlappingAxisLabels",value:function(){function e(){for(var e=this.axisTexts.length-1;e>=0;e--)this.axisTexts[e].visible=!0;for(var t=this.axisTexts.length-1;t>=0;t--)if(this.axisTexts[t].visible)for(var n=t-1;n>=0&&this.axisTexts[t].y+this.axisTexts[t].height/2>this.axisTexts[n].y-this.axisTexts[n].height/2;)this.axisTexts[n].visible=!1,n-=1}return e}()},{key:"exportVerticalAxis",value:function(){function e(e){var t=document.createElement("g");t.setAttribute("class","axis-vertical");var n="black";this.track&&this.track.options.lineStrokeColor&&(n=this.track.options.lineStrokeColor),this.track.getTheme()===a.THEME_DARK&&(n="#cccccc");var r=document.createElement("path");return r.setAttribute("fill","transparent"),r.setAttribute("stroke",n),r.setAttribute("id","axis-line"),r.setAttribute("d","M0,0 L0,"+String(e)),t.appendChild(r),t}return e}()},{key:"createAxisSVGLine",value:function(){function e(){var e="black";this.track&&this.track.options.lineStrokeColor&&(e=this.track.options.lineStrokeColor),this.track.getTheme()===a.THEME_DARK&&(e="#cccccc");var t=document.createElement("path");return t.setAttribute("id","tick-mark"),t.setAttribute("fill","transparent"),t.setAttribute("stroke",e),t}return e}()},{key:"createAxisSVGText",value:function(){function e(e){var t=document.createElement("text");return t.innerHTML=e,t.setAttribute("id","axis-text"),t.setAttribute("text-anchor","middle"),t.setAttribute("font-family",this.axisTextFontFamily),t.setAttribute("font-size",this.axisTextFontSize),t.setAttribute("dy",this.axisTextFontSize/2-2),t}return e}()},{key:"exportAxisLeftSVG",value:function(){function e(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L"+ +(c+h)+",0");var i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,"+String(t)+" L"+ +(c+h)+","+String(t));for(var o=0;o<this.axisTexts.length;o++){var a=this.tickValues[o],s=this.axisTexts[o],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d","M"+ +c+","+String(e(a))+" L"+ +(c+h)+","+String(e(a)));var u=document.createElement("g");if(n.appendChild(u),s.visible){var f=this.createAxisSVGText(s.text);u.appendChild(f)}u.setAttribute("transform","translate("+String(s.position.x)+","+String(s.position.y)+")\n             scale("+String(s.scale.x)+","+String(s.scale.y)+")")}return n}return e}()},{key:"exportAxisRightSVG",value:function(){function e(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L"+-(c+h)+",0");var i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,"+String(t)+" L"+-(c+h)+","+String(t));for(var o=0;o<this.axisTexts.length;o++){var a=this.tickValues[o],s=this.axisTexts[o],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d","M"+-c+","+String(e(a))+" L"+-(c+h)+","+String(e(a)));var u=document.createElement("g");if(n.appendChild(u),s.visible){var f=this.createAxisSVGText(s.text);u.appendChild(f)}u.setAttribute("transform","translate("+String(s.position.x)+","+String(s.position.y)+")\n             scale("+String(s.scale.x)+","+String(s.scale.y)+")")}return n}return e}()},{key:"clearAxis",value:function(){function e(){for(var e=this.pAxis;this.axisTexts.length;){var t=this.axisTexts.pop();e.removeChild(t)}e.clear()}return e}()}]),e}();t.default=d},function(e,t,n){e.exports=d;var r,i=n(257),o=n(353),a=n(620);function s(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function l(e,t,n,r){for(var i=0,o=0,a=0,l=e.length;a<l;++a){var u=e[a];if(!s(t,u)){for(var c=0;c<2*t;++c)n[i++]=u[c];r[o++]=a}}return o}function u(e,t,n,r){var s=e.length,u=t.length;if(!(s<=0||u<=0)){var c=e[0].length>>>1;if(!(c<=0)){var h,f=i.mallocDouble(2*c*s),d=i.mallocInt32(s);if((s=l(e,c,f,d))>0){if(1===c&&r)o.init(s),h=o.sweepComplete(c,n,0,s,f,d,0,s,f,d);else{var p=i.mallocDouble(2*c*u),m=i.mallocInt32(u);(u=l(t,c,p,m))>0&&(o.init(s+u),h=1===c?o.sweepBipartite(c,n,0,s,f,d,0,u,p,m):a(c,n,r,s,f,d,u,p,m),i.free(p),i.free(m))}i.free(f),i.free(d)}return h}}}function c(e,t){r.push([e,t])}function h(e){return r=[],u(e,e,c,!0),r}function f(e,t){return r=[],u(e,t,c,!1),r}function d(e,t,n){switch(arguments.length){case 1:return h(e);case 2:return"function"==typeof t?u(e,e,t,!0):f(e,t);case 3:return u(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=function(e){var t=void 0;switch(e&&e.toLowerCase()){case"mean":t=r.mean;break;case"sum":t=r.sum;break;case"variance":t=r.variance;break;case"deviation":t=r.deviation;break;default:t=r.mean,console.warn("Encountered an unsupported selectedRowsAggregationMode option.")}return t};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(35)),i=d(n(18)),o=d(n(34)),a=d(n(17)),s=d(n(30));t.workerSetPix=m,t.tileResponseToData=b,t.workerGetTiles=_;var l=n(28),u=d(n(181)),c=d(n(139)),h=d(n(137)),f=d(n(138));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,i,o,a){var s=void 0,l=void 0;i&&(s=(0,u.default)(i),l=function(n,r){return s(r.map((function(r){return e[r*t[1]+n]})))});var c=void 0,h=void 0,f=void 0,d=void 0,p=void 0;for(f=0;f<t[1];f++)for(h=0,d=0;d<r.length;d++)if(c=s&&"server"===a?e[d*t[1]+f]:Array.isArray(r[d])&&s?l(f,r[d]):e[r[d]*t[1]+f],o&&Array.isArray(r[d]))for(p=0;p<r[d].length;p++)n(h*t[1]+f,c),h++;else n(h*t[1]+f,c),h++}function m(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,m=null;"log"===n?m=(0,l.scaleLog)().range([254,0]).domain(r):("linear"!==n&&console.warn("Unknown value scale type:",n," Defaulting to linear"),m=(0,l.scaleLinear)().range([254,0]).domain(r));var v=d||{},g=v.selectedRows,y=void 0===g?null:g,b=v.selectedRowsAggregationMode,_=void 0===b?null:b,x=v.selectedRowsAggregationWithRelativeHeight,T=void 0===x?null:x,w=v.selectedRowsAggregationMethod,S=void 0===w?null:w,E=e;h&&y&&(E=(0,c.default)(y,T)*h[1]);var k=void 0,C=0,A=h?h[1]:Math.sqrt(e),O=new Uint8ClampedArray(4*E),P=function(e,t){C=255,!(a&&Math.floor(e/A)<e%A)&&!(u&&Math.floor(e/A)>e%A)&&!(0,s.default)(+t)&&(C=Math.max(0,Math.min(254,Math.floor(m(t+i))))),(C<0||C>255)&&console.warn("out of bounds rgbIdx:",C," (should be 0 <= rgbIdx <= 255)"),k=f&&!(0,s.default)(+t)&&0==+t?f:o[C],O[4*e]=k[0],O[4*e+1]=k[1],O[4*e+2]=k[2],O[4*e+3]=k[3]},M=void 0;try{if(y)p(t,h,P,y,_,T,S);else for(var I=0;I<t.length;I++)P(I,M=t[I])}catch(R){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",m.domain()),console.warn("valueScale.range():",m.range()),console.warn("value:",m(M+i)),console.warn("pseudocount:",i),console.warn("rgbIdx:",C,"d:",M,"ct:",m(M)),console.error("ERROR:",R),O}return O}function v(e){var t=31744&e,n=void 0,r=(32768&e)<<16;switch(t){case 0:if(0===(n=1023&e))return r;for(n<<=1;!(1024&n);)n<<=1,t++;return r+(112-t<<23)+((1023&n)<<13);case 31744:return r+2139095040+((1023&e)<<13);default:return r+(114688+(32767&e)<<13)}}function g(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}function y(e){for(var t=new Uint32Array(e.length),n=0;n<e.length;n++)t[n]=v(e[n]);return new Float32Array(t.buffer)}function b(e,t,n){e||(e={});var r=!0,i=!1,o=void 0;try{for(var l,u=(0,a.default)(n);!(r=(l=u.next()).done);r=!0){var c=l.value;c in e||(e[c]={});var d=c,p=d.split(".");if(e[d].server=t,e[d].tileId=d,e[d].zoomLevel=+p[1],e[d].tilePos=p.slice(2,p.length).map((function(e){return+e})).filter((function(e){return!(0,s.default)(e)})),e[d].tilesetUid=p[0],"dense"in e[d]){var m=g(e[d].dense),v=void 0;v="float16"===e[d].dtype?y(new Uint16Array(m)):new Float32Array(m);var b=2===e[d].tilePos.length?new f.default(v):new h.default(v);e[d].dense=v,e[d].denseDataExtrema=b,e[d].minNonZero=b.minNonZeroInTile,e[d].maxNonZero=b.maxNonZeroInTile}}}catch(_){i=!0,o=_}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return e}function _(e,t,n,a,s,l){var u={"content-type":"application/json"};a&&(u.Authorization=a),fetch(e,(0,o.default)({credentials:"same-origin",headers:u},l&&(0,i.default)(l).length>0?{method:"POST",body:(0,r.default)(l)}:{})).then((function(e){return e.json()})).then((function(e){s(b(e,t,n))})).catch((function(e){return console.warn("err:",e)}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getSeriesItems=t.getAllTracksAndSubtracks=void 0;var r=l(n(18)),i=l(n(17)),o=l(n(1)),a=l(n(67)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}n(68);var u=t.getAllTracksAndSubtracks=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,s=(0,i.default)(e);!(n=(a=s.next()).done);n=!0){var l=a.value;l.contents?t=t.concat(l.contents):t.push(l)}}catch(u){r=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t};t.getSeriesItems=function(e,t,n,i){return e?(window.higlassTracksByType&&(0,r.default)(window.higlassTracksByType).forEach((function(e){s.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),u(e).map((function(e){var r=s.TRACKS_INFO_BY_TYPE[e.type]?s.TRACKS_INFO_BY_TYPE[e.type].thumbnail:null,l=r?o.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.outerHTML},className:"ContextMenu-module_context-menu-icon-I4kiw"}):o.default.createElement("div",{className:"ContextMenu-module_context-menu-icon-I4kiw"},o.default.createElement("svg",null));return o.default.createElement(a.default,{key:e.uid,onClick:function(){function t(){i&&i(e.uid)}return t}(),onMouseEnter:function(){function n(n){t&&t(n,e)}return n}(),onMouseLeave:function(){function e(e){n&&n(e)}return e}(),className:"ContextMenu-module_context-menu-item-1HeVv"},l,o.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},e.options&&e.options.name&&e.options.name.length?e.options.name:e.type,t&&n?o.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},o.default.createElement("use",{xlinkHref:"#play"})):null))}))):null}},function(e,t,n){var r=n(737),i=n(56),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var r=n(41),i=n(738),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(173)(e))},function(e,t){var n=Object.prototype;function r(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}e.exports=r},function(e,t,n){var r=n(188),i=n(749),o=n(750),a=n(751),s=n(752),l=n(753);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t,n){var r=n(744),i=n(745),o=n(746),a=n(747),s=n(748);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(120);function i(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}e.exports=i},function(e,t,n){var r=n(99)(Object,"create");e.exports=r},function(e,t,n){var r=n(766);function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=i},function(e,t,n){var r=n(779),i=n(279),o=n(780),a=n(781),s=n(422),l=n(97),u=n(414),c="[object Map]",h="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",m="[object DataView]",v=u(r),g=u(i),y=u(o),b=u(a),_=u(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=m||i&&x(new i)!=c||o&&x(o.resolve())!=f||a&&x(new a)!=d||s&&x(new s)!=p)&&(x=function(e){var t=l(e),n=t==h?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case v:return m;case g:return c;case y:return f;case b:return d;case _:return p}return t}),e.exports=x},function(e,t,n){var r=n(31),i=n(285),o=n(785),a=n(788);function s(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}e.exports=s},function(e,t,n){var r=n(97),i=n(56),o="[object Symbol]";function a(e){return"symbol"==typeof e||i(e)&&r(e)==o}e.exports=a},function(e,t,n){var r=n(287),i=n(120),o=Object.prototype.hasOwnProperty;function a(e,t,n){var a=e[t];(!o.call(e,t)||!i(a,n)||void 0===n&&!(t in e))&&r(e,t,n)}e.exports=a},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){var r=n(45),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){(function(r){var i=n(148),o=n(965);function a(e,t){return(t?o.parse:o.parseFragment)(e,{treeAdapter:o.treeAdapters.htmlparser2}).children}(t=e.exports=function(e,n,r){var i=t.evaluate(e,n,r),o=t.evaluate("<root></root>",n,!1)[0];return o.type="root",o.parent=null,t.update(i,o),o}).evaluate=function(e,t,n){return r.isBuffer(e)&&(e=e.toString()),"string"==typeof e?t.xmlMode||t._useHtmlParser2?i.parseDOM(e,t):a(e,n):e},t.update=function(e,t){Array.isArray(e)||(e=[e]),t?t.children=e:t=null;for(var n=0;n<e.length;n++){var r=e[n],i=r.parent||r.root,o=i&&i.children;o&&o!==e&&(o.splice(o.indexOf(r),1),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev)),t?(r.prev=e[n-1]||null,r.next=e[n+1]||null):r.prev=r.next=null,t&&"root"===t.type?(r.root=t,r.parent=null):(r.root=null,r.parent=t)}return t}}).call(this,n(113).Buffer)},function(e,t,n){var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function a(e){console&&console.warn&&console.warn(e)}r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!==e};function l(){l.init.call(this)}e.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function c(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a(l)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?y(i):v(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),l.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return c(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=v(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},l.prototype.addListener=function(e,t){return h(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return h(this,e,t,!0)},l.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():g(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},l.prototype.listeners=function(e){return p(this,e,!0)},l.prototype.rawListeners=function(e){return p(this,e,!1)},l.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},l.prototype.listenerCount=m,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r=n(113),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){(e.exports=function(e){var t={},n=this._getOverriddenMethods(this,t);Object.keys(n).forEach((function(r){"function"==typeof n[r]&&(t[r]=e[r],e[r]=n[r])}))}).prototype._getOverriddenMethods=function(){throw new Error("Not implemented")}},function(e,t,n){e.exports=i;var r=n(199).EventEmitter;function i(){r.call(this)}n(58)(i,r),i.Readable=n(304),i.Writable=n(981),i.Duplex=n(982),i.Transform=n(983),i.PassThrough=n(984),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),!e._isStdio&&(!t||!1!==t.end)&&(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t,n){(function(t){function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:n}:e.exports=t}).call(this,n(150))},function(e,t,n){var r=n(470);t.default={withDomLvl1:!0,normalizeWhitespace:!1,xml:!1,decodeEntities:!0},t.flatten=function(e){return e&&e.xml?r({xmlMode:!0},e.xml):e}},function(e,t,n){var r=n(197),i=n(45);function o(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}e.exports=o},function(e,t){var n="__lodash_placeholder__";function r(e,t){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];(s===t||s===n)&&(e[r]=n,a[o++]=r)}return a}e.exports=r},function(e,t,n){var r,i=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,a=Object.getPrototypeOf||function(e){return e.__proto__},s=r,l=r,u=r,c="undefined"==typeof Uint8Array?r:a(Uint8Array),h={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":o?a([][Symbol.iterator]()):r,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":r,"$ %AsyncFunction%":l,"$ %AsyncFunctionPrototype%":r,"$ %AsyncGenerator%":r,"$ %AsyncGeneratorFunction%":u,"$ %AsyncGeneratorPrototype%":r,"$ %AsyncIteratorPrototype%":r,"$ %Atomics%":"undefined"==typeof Atomics?r:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?r:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?r:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?r:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?r:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":r,"$ %GeneratorFunction%":s,"$ %GeneratorPrototype%":r,"$ %Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?r:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?r:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?r:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":o?a(a([][Symbol.iterator]())):r,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?r:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&o?a((new Map)[Symbol.iterator]()):r,"$ %MapPrototype%":"undefined"==typeof Map?r:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?r:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?r:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?r:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?r:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?r:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?r:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?r:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?r:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?r:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&o?a((new Set)[Symbol.iterator]()):r,"$ %SetPrototype%":"undefined"==typeof Set?r:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":o?a(""[Symbol.iterator]()):r,"$ %StringPrototype%":String.prototype,"$ %Symbol%":o?Symbol:r,"$ %SymbolPrototype%":o?Symbol.prototype:r,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":i,"$ %TypedArray%":c,"$ %TypedArrayPrototype%":c?c.prototype:r,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?r:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?r:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?r:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?r:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?r:WeakSet.prototype};e.exports=function(e,t){if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+e;if(!(n in h))throw new SyntaxError("intrinsic "+e+" does not exist!");if("undefined"==typeof h[n]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return h[n]}},function(e,t,n){n(209),e.exports=n(12).Object.keys},function(e,t,n){var r=n(54),i=n(60);n(126)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(48),i=n(88),o=n(211);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(89),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(213),i=n(160),o=n(51),a=n(48);e.exports=n(109)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(110),i=n(66),o=n(77),a={};n(43)(a,n(21)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(89),i=n(87);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){n(76),n(61),e.exports=n(217)},function(e,t,n){var r=n(39),i=n(112);e.exports=n(12).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(92);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(43);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="http://www.w3.org/2000/svg",i=function(e,t){if(e.namespaceURI===r){var n=e.getAttribute("class");return n&&!!n.match(new RegExp("(\\s|^)"+String(t)+"(\\s|$)"))}return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+String(t)+"(\\s|$)"))};t.default=i},function(e,t,n){n(223),e.exports=n(12).Object.assign},function(e,t,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(224)})},function(e,t,n){var r=n(60),i=n(130),o=n(93),a=n(54),s=n(105),l=Object.assign;e.exports=!l||n(50)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=i.f,h=o.f;l>u;)for(var f,d=s(arguments[u++]),p=c?r(d).concat(c(d)):r(d),m=p.length,v=0;m>v;)h.call(d,f=p[v++])&&(n[f]=d[f]);return n}:l},function(e,t,n){e.exports={default:n(545),__esModule:!0}},function(e,t,n){var r=n(91)("meta"),i=n(33),o=n(47),a=n(32).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(50)((function(){return l(Object.preventExtensions({}))})),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},f=function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},d=function(e){return u&&p.NEED&&l(e)&&!o(e,r)&&c(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},function(e,t,n){var r=n(23),i=n(12),o=n(75),a=n(168),s=n(32).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"!=e.charAt(0)&&!(e in t)&&s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(93),i=n(66),o=n(48),a=n(127),s=n(47),l=n(159),u=Object.getOwnPropertyDescriptor;t.f=n(36)?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(12),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(231);var r=n(12).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(16);r(r.S+r.F*!n(36),"Object",{defineProperty:n(32).f})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=J(n(34)),i=J(n(30)),o=J(n(94)),a=J(n(62)),s=J(n(25)),l=J(n(18)),u=J(n(17)),c=J(n(35)),h=J(n(37)),f=J(n(19)),d=J(n(575)),p=J(n(44)),m=J(n(38)),v=J(n(5)),g=J(n(3)),y=J(n(4)),b=J(n(6)),_=J(n(7)),x=J(n(29)),T=J(n(1)),w=J(n(2)),S=n(0),E=n(28),k=J(n(26)),C=Q(n(325)),A=J(n(42)),O=J(n(592)),P=n(344),M=J(n(600)),I=J(n(601)),R=n(134),L=J(R),D=J(n(604)),N=J(n(674)),j=J(n(680)),B=J(n(682)),F=J(n(73)),H=J(n(686)),z=J(n(723)),U=n(266),V=J(n(724)),G=n(69),X=n(132),Y=n(78),W=n(24),q=n(10),K=n(11),$=J(n(728)),Z=J(n(267));function Q(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function J(e){return e&&e.__esModule?e:{default:e}}J(n(729));var ee={styles:{higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"},stylesMTHeader:{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"},stylesGlobal:{higlass:"HiGlass_higlass-3aU-_","react-resizable-handle":"HiGlass_react-resizable-handle-3kCAE"}},te=12,ne=12,re=20,ie="default",oe="bounded",ae="overflow",se="scroll",le=function(e){function t(e){(0,g.default)(this,t);var n=(0,b.default)(this,(t.__proto__||(0,v.default)(t)).call(this,e));(0,q.numericifyVersion)(T.default.version)<15.6&&console.warn("HiGlass requires React v15.6 or higher. Current version: ",T.default.version),n.pubSub=(0,L.default)(),n.domEvent=(0,W.createDomEvent)(n.pubSub),n.pubSubs=[],n.minHorizontalHeight=20,n.minVerticalWidth=20,n.resizeSensor=null,n.uid=k.default.nice(),n.tiledPlots={},n.genomePositionSearchBoxes={},n.xScales={},n.yScales={},n.projectionXDomains={},n.projectionYDomains={},n.topDiv=null,n.zoomToDataExtentOnInit=new m.default,n.viewTrackUidsToCombinedUid={},n.combinedUidToViewTrack={},n.scalesChangedListeners={},n.draggingChangedListeners={},n.valueScalesChangedListeners={},n.zoomLocks={},n.locationLocks={},n.locationLocksAxisWise={x:{},y:{}},n.valueScaleLocks={},n.prevAuthToken=e.options.authToken,n.setCenters={},n.plusImg={},n.configImg={},K.GLOBALS.PIXI=e.options&&e.options.PIXI||C,n.viewMarginTop=+e.options.viewMarginTop>=0?+e.options.viewMarginTop:K.DEFAULT_VIEW_MARGIN,n.viewMarginBottom=+e.options.viewMarginBottom>=0?+e.options.viewMarginBottom:K.DEFAULT_VIEW_MARGIN,n.viewMarginLeft=+e.options.viewMarginLeft>=0?+e.options.viewMarginLeft:K.DEFAULT_VIEW_MARGIN,n.viewMarginRight=+e.options.viewMarginRight>=0?+e.options.viewMarginRight:K.DEFAULT_VIEW_MARGIN,n.viewPaddingTop=+e.options.viewPaddingTop>=0?+e.options.viewPaddingTop:K.DEFAULT_VIEW_PADDING,n.viewPaddingBottom=+e.options.viewPaddingBottom>=0?+e.options.viewPaddingBottom:K.DEFAULT_VIEW_PADDING,n.viewPaddingLeft=+e.options.viewPaddingLeft>=0?+e.options.viewPaddingLeft:K.DEFAULT_VIEW_PADDING,n.viewPaddingRight=+e.options.viewPaddingRight>=0?+e.options.viewPaddingRight:K.DEFAULT_VIEW_PADDING,n.genomePositionSearchBox=null,n.viewHeaders={},n.boundRefreshView=function(){n.refreshView(K.LONG_DRAG_TIMEOUT)},n.unsetOnLocationChange=[],n.setTheme(e.options.theme,e.options.isDarkTheme),n.viewconfLoaded=!1;var r=n.props.viewConfig,i=n.loadIfRemoteViewConfig(n.props.viewConfig);e.options.authToken&&(0,W.setTileProxyAuthHeader)(e.options.authToken),n.pixiRoot=new K.GLOBALS.PIXI.Container,n.pixiRoot.interactive=!0,n.pixiStage=new K.GLOBALS.PIXI.Container,n.pixiStage.interactive=!0,n.pixiRoot.addChild(n.pixiStage),n.pixiMask=new K.GLOBALS.PIXI.Graphics,n.pixiRoot.addChild(n.pixiMask),n.pixiStage.mask=n.pixiMask,n.element=null,n.scrollTop=0;var o=K.MOUSE_TOOL_MOVE;n.props.options&&n.props.options.mouseTool===K.MOUSE_TOOL_SELECT&&(o=K.MOUSE_TOOL_SELECT),n.props.options.pluginTracks&&(window.higlassTracksByType=(0,p.default)(window.higlassTracksByType||{},n.props.options.pluginTracks));var a={};try{window.higlassTracksByType&&(0,d.default)(window.higlassTracksByType).forEach((function(e){var t=(0,f.default)(e,2),n=t[0],r=t[1];a[n]=r}))}catch(x){console.warn("Broken config of a plugin track")}n.props.options.pluginDataFetchers&&(window.higlassDataFetchersByType=(0,p.default)(window.higlassDataFetchersByType||{},n.props.options.pluginDataFetchers));var s=window.higlassDataFetchersByType,l=n.props.options.pixelPreciseMarginPadding?1:30;n.mounted=!1,n.pluginTracks=a,n.pluginDataFetchers=s,n.state={currentBreakpoint:"lg",width:0,height:0,rowHeight:l,svgElement:null,canvasElement:null,views:i,viewConfig:r,addTrackPositionMenuPosition:null,typedEditable:void 0,mouseOverOverlayUid:null,mouseTool:o,isDarkTheme:!1,rangeSelection1dSize:[0,1/0],rangeSelectionToInt:!1,modal:null},n.attachedToDOM=!1;var u=(0,V.default)(n,n.pubSub),c=u.public,h=u.destroy,y=u.publish,_=u.stack;return n.api=c,n.apiDestroy=h,n.apiPublish=y,n.apiStack=_,n.viewChangeListener=[],n.triggerViewChangeDb=(0,q.debounce)(n.triggerViewChange.bind(n),250),n.pubSubs=[],n.rangeSelection=[null,null],n.prevMouseHoverTrack=null,n.zooming=!1,n.appClickHandlerBound=n.appClickHandler.bind(n),n.keyDownHandlerBound=n.keyDownHandler.bind(n),n.keyUpHandlerBound=n.keyUpHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.animateOnMouseMoveHandlerBound=n.animateOnMouseMoveHandler.bind(n),n.zoomStartHandlerBound=n.zoomStartHandler.bind(n),n.zoomEndHandlerBound=n.zoomEndHandler.bind(n),n.zoomHandlerBound=n.zoomHandler.bind(n),n.trackDroppedHandlerBound=n.trackDroppedHandler.bind(n),n.trackDimensionsModifiedHandlerBound=n.trackDimensionsModifiedHandler.bind(n),n.animateBound=n.animate.bind(n),n.animateOnGlobalEventBound=n.animateOnGlobalEvent.bind(n),n.requestReceivedHandlerBound=n.requestReceivedHandler.bind(n),n.wheelHandlerBound=n.wheelHandler.bind(n),n.mouseMoveHandlerBound=n.mouseMoveHandler.bind(n),n.onMouseLeaveHandlerBound=n.onMouseLeaveHandler.bind(n),n.onBlurHandlerBound=n.onBlurHandler.bind(n),n.openModalBound=n.openModal.bind(n),n.closeModalBound=n.closeModal.bind(n),n.handleEditViewConfigBound=n.handleEditViewConfig.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n.typedText="",n.typedTextTimeout=null,n.modal={open:n.openModalBound,close:n.closeModalBound},n.setBroadcastMousePositionGlobally(n.props.options.broadcastMousePositionGlobally||n.props.options.globalMousePosition),n.setShowGlobalMousePosition(n.props.options.showGlobalMousePosition||n.props.options.globalMousePosition),n}return(0,_.default)(t,e),(0,y.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){function e(){this.domEvent.register("keydown",document),this.domEvent.register("keyup",document),this.domEvent.register("scroll",document),this.domEvent.register("resize",window),this.domEvent.register("orientationchange",window),this.domEvent.register("wheel",window),this.domEvent.register("mousedown",window,!0),this.domEvent.register("mouseup",window,!0),this.domEvent.register("click",window,!0),this.domEvent.register("mousemove",window),this.domEvent.register("touchmove",window),this.domEvent.register("touchstart",window),this.domEvent.register("touchend",window),this.domEvent.register("touchcancel",window),this.domEvent.register("blur",window),this.pubSubs.push(this.pubSub.subscribe("app.click",this.appClickHandlerBound),this.pubSub.subscribe("blur",this.onBlurHandlerBound),this.pubSub.subscribe("keydown",this.keyDownHandlerBound),this.pubSub.subscribe("keyup",this.keyUpHandlerBound),this.pubSub.subscribe("resize",this.resizeHandlerBound),this.pubSub.subscribe("wheel",this.wheelHandlerBound),this.pubSub.subscribe("orientationchange",this.resizeHandlerBound),this.pubSub.subscribe("app.event",this.dispatchEventBound),this.pubSub.subscribe("app.animateOnMouseMove",this.animateOnMouseMoveHandlerBound),this.pubSub.subscribe("trackDropped",this.trackDroppedHandlerBound),this.pubSub.subscribe("trackDimensionsModified",this.trackDimensionsModifiedHandlerBound),this.pubSub.subscribe("app.zoomStart",this.zoomStartHandlerBound),this.pubSub.subscribe("app.zoomEnd",this.zoomEndHandlerBound),this.pubSub.subscribe("app.zoom",this.zoomHandlerBound),this.pubSub.subscribe("requestReceived",this.requestReceivedHandlerBound)),this.props.getApi&&this.props.getApi(this.api)}return e}()},{key:"setBroadcastMousePositionGlobally",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isBroadcastMousePositionGlobally=e}return e}()},{key:"setShowGlobalMousePosition",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isShowGlobalMousePosition=t,this.isShowGlobalMousePosition&&!this.globalMousePositionListener&&(this.globalMousePositionListener=R.globalPubSub.subscribe("higlass.mouseMove",this.animateOnGlobalEventBound),this.pubSubs.push(this.globalMousePositionListener)),this.isShowGlobalMousePosition&&!this.globalMousePositionListener){var n=this.pubSubs.findIndex((function(t){return t===e.globalMousePositionListener}));R.globalPubSub.unsubscribe(this.globalMousePositionListener),n>=0&&this.pubSubs.splice(n,1),this.globalMousePositionListener=void 0}}return e}()},{key:"zoomStartHandler",value:function(){function e(){this.hideHoverMenu(),this.zooming=!0}return e}()},{key:"zoomEndHandler",value:function(){function e(){this.zooming=!1}return e}()},{key:"zoomHandler",value:function(){function e(e){e.sourceEvent&&this.mouseMoveHandler(e.sourceEvent)}return e}()},{key:"waitForDOMAttachment",value:function(){function e(e){var t=this;if(this.mounted){var n=A.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame((function(){return t.waitForDOMAttachment(e)}))}}return e}()},{key:"componentDidMount",value:function(){function e(){var e=this;this.mounted=!0,this.element=A.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),(0,h.default)(this.state.views).forEach((function(t){e.adjustLayoutToTrackSizes(t),t.layout?t.layout.i=t.uid:t.layout=e.generateViewLayout(t)}));var t={width:this.state.width,height:this.state.height,view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0};switch(C.VERSION[0]){case"4":console.warn("Deprecation warning: please update Pixi.js to version 5!"),"canvas"===this.props.options.renderer?this.pixiRenderer=new K.GLOBALS.PIXI.CanvasRenderer(t):this.pixiRenderer=new K.GLOBALS.PIXI.WebGLRenderer(t);break;default:console.warn("Deprecation warning: please update Pixi.js to version 5! This version of Pixi.js is unsupported. Good luck \ud83e\udd1e");case"5":"canvas"===this.props.options.renderer?this.pixiRenderer=new K.GLOBALS.PIXI.CanvasRenderer(t):this.pixiRenderer=new K.GLOBALS.PIXI.Renderer(t)}this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment((function(){P.ElementQueries.listen(),e.resizeSensor=new P.ResizeSensor(e.element.parentNode,e.updateAfterResize.bind(e)),e.updateAfterResize()})),this.handleDragStart(),this.handleDragStop(),this.animate();var n=(0,S.select)(this.element).append("svg").style("display","none");U.all.forEach((function(e){return(0,z.default)(n,e.id,e.paths,e.viewBox)}))}return e}()},{key:"getTrackObject",value:function(){function e(e,t){return this.tiledPlots[e].trackRenderer.getTrackObject(t)}return e}()},{key:"getTrackRenderer",value:function(){function e(e){return this.tiledPlots[e].trackRenderer}return e}()},{key:"loadIfRemoteViewConfig",value:function(){function e(e){var t=this,n={};return"string"==typeof e?W.tileProxy.json(e,(function(n,r){e=r,t.setState({views:t.processViewConfig(JSON.parse((0,c.default)(r))),viewConfig:r}),t.unsetOnLocationChange.forEach((function(e){var n=e.viewId,r=e.callback,i=e.callbackId;t.onLocationChange(n,r,i)}))}),this.pubSub):(n=this.processViewConfig(JSON.parse((0,c.default)(e))),this.mounted&&this.setState({viewConfig:e})),n}return e}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function e(e){var t=this.loadIfRemoteViewConfig(e.viewConfig);if(e.options.authToken!==this.prevAuthToken){(0,W.setTileProxyAuthHeader)(e.options.authToken);var n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)(this.iterateOverViews());!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.getTrackRenderer(s),c=JSON.parse(l.prevTrackDefinitions);l.syncTrackObjects([]),l.syncTrackObjects(c)}}catch(g){r=!0,i=g}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.prevAuthToken=e.options.authToken}var h=!0,f=!1,d=void 0;try{for(var p,m=(0,u.default)((0,q.dictValues)(t));!(h=(p=m.next()).done);h=!0){var v=p.value;this.adjustLayoutToTrackSizes(v)}}catch(g){f=!0,d=g}finally{try{!h&&m.return&&m.return()}finally{if(f)throw d}}this.setState({views:t})}return e}()},{key:"UNSAFE_componentWillUpdate",value:function(){function e(){this.pixiRenderer.render(this.pixiRoot)}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.setTheme(this.props.options.theme,this.props.options.isDarkTheme),this.animate(),this.triggerViewChangeDb()}return e}()},{key:"componentWillUnmount",value:function(){function e(){var e=this;this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),this.domEvent.unregister("keydown",document),this.domEvent.unregister("keyup",document),this.domEvent.unregister("scroll",document),this.domEvent.unregister("wheel",window),this.domEvent.unregister("mousedown",window),this.domEvent.unregister("mouseup",window),this.domEvent.unregister("click",window),this.domEvent.unregister("mousemove",window),this.domEvent.unregister("touchmove",window),this.domEvent.unregister("touchstart",window),this.domEvent.unregister("touchend",window),this.domEvent.unregister("touchcancel",window),this.pubSubs.forEach((function(t){return e.pubSub.unsubscribe(t)})),this.pubSubs=[],this.apiDestroy()}return e}()},{key:"setTheme",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.options.theme,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.options.isDarkTheme;if("undefined"!=typeof t)console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."),this.theme=t?"dark":"light";else switch(e){case"dark":this.theme=K.THEME_DARK;break;case"light":case void 0:this.theme=K.THEME_LIGHT;break;default:console.warn('Unknown theme "'+String(e)+'". Using light theme.'),this.theme=K.THEME_LIGHT}}return e}()},{key:"dispatchEvent",value:function(){function e(e){this.canvasElement&&(0,q.forwardEvent)(e,this.canvasElement)}return e}()},{key:"trackDroppedHandler",value:function(){function e(){this.setState({draggingHappening:null})}return e}()},{key:"requestReceivedHandler",value:function(){function e(){!this.viewconfLoaded&&0===W.requestsInFlight&&(this.viewconfLoaded=!0,this.props.options.onViewConfLoaded&&this.props.options.onViewConfLoaded())}return e}()},{key:"animateOnMouseMoveHandler",value:function(){function e(e){e&&!this.animateOnMouseMove&&this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.animateBound)),this.animateOnMouseMove=e}return e}()},{key:"fitPixiToParentContainer",value:function(){function e(){if(this.element&&this.element.parentNode){var e=this.element.parentNode.clientWidth,t=this.element.parentNode.clientHeight;this.pixiMask.beginFill(16777215).drawRect(0,0,e,t).endFill(),this.pixiRenderer.resize(e,t),this.pixiRenderer.view.style.width=String(e)+"px",this.pixiRenderer.view.style.height=String(t)+"px",this.pixiRenderer.render(this.pixiRoot)}else console.warn("No parentNode:",this.element)}return e}()},{key:"addDefaultTrackOptions",value:function(){function e(e){var t=this.getTrackInfo(e.type);if(t){"undefined"==typeof e.options&&(e.options={});var n=e.options?e.options:{};if(this.props.options.defaultTrackOptions){if(this.props.options.defaultTrackOptions.trackSpecific&&this.props.options.defaultTrackOptions.trackSpecific[e.type]){var r=this.props.options.defaultTrackOptions.trackSpecific[e.type];for(var i in r)e.options[i]="undefined"!=typeof e.options[i]?e.options[i]:JSON.parse((0,c.default)(r[i]))}if(this.props.options.defaultTrackOptions.all){var o=this.props.options.defaultTrackOptions.all;for(var a in o)e.options[a]="undefined"!=typeof e.options[a]?e.options[a]:JSON.parse((0,c.default)(o[a]))}}if(t.defaultOptions){var s=t.defaultOptionsByTheme&&t.defaultOptionsByTheme[this.theme]?t.defaultOptionsByTheme[this.theme]:{},l=(0,p.default)({},t.defaultOptions,s);if(e.options)for(var u in l)e.options[u]="undefined"!=typeof e.options[u]?e.options[u]:JSON.parse((0,c.default)(l[u]));else e.options=JSON.parse((0,c.default)(l))}else e.options=n}}return e}()},{key:"toggleTypedEditable",value:function(){function e(){this.setState({typedEditable:!this.isEditable()})}return e}()},{key:"typedTextHandler",value:function(){function e(e){var t=this;if(this.props.options.cheatCodesEnabled){this.typedText=this.typedText.concat(e.key),this.typedText.endsWith("hgedit")&&(this.toggleTypedEditable(),this.typedText="");var n=750;this.typedTextTimeout&&clearTimeout(this.typedTextTimeout),this.typedTextTimeout=setTimeout((function(){t.typedText=""}),n)}}return e}()},{key:"keyDownHandler",value:function(){function e(e){this.typedTextHandler(e),this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:K.MOUSE_TOOL_SELECT})}return e}()},{key:"keyUpHandler",value:function(){function e(e){this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:K.MOUSE_TOOL_MOVE})}return e}()},{key:"openModal",value:function(){function e(e){var t=this;this.setState({modal:T.default.cloneElement(e,{ref:function(){function e(e){t.modalRef=e}return e}()})})}return e}()},{key:"closeModal",value:function(){function e(){this.modalRef=null,this.setState({modal:null})}return e}()},{key:"handleEditViewConfig",value:function(){function e(){var e=this,t=this.state.viewConfig;this.setState({viewConfigTmp:t}),this.openModal(T.default.createElement(H.default,{onCancel:function(){function t(){var t=e.state.viewConfigTmp,n=e.processViewConfig(t),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,q.dictValues)(n));!(r=(a=s.next()).done);r=!0){var l=a.value;e.adjustLayoutToTrackSizes(l)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}e.setState({views:n,viewConfig:t,viewConfigTmp:null})}return t}(),onChange:function(){function t(t){var n=JSON.parse(t),r=e.processViewConfig(n),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)((0,q.dictValues)(r));!(i=(s=l.next()).done);i=!0){var c=s.value;e.adjustLayoutToTrackSizes(c)}}catch(h){o=!0,a=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}e.setState({views:r,viewConfig:n})}return t}(),onSave:function(){function t(t){var n=JSON.parse(t),r=e.processViewConfig(n),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)((0,q.dictValues)(r));!(i=(s=l.next()).done);i=!0){var c=s.value;e.adjustLayoutToTrackSizes(c)}}catch(h){o=!0,a=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}e.setState({views:r,viewConfig:n,viewConfigTmp:null})}return t}(),viewConfig:this.getViewsAsString()}))}return e}()},{key:"animate",value:function(){function e(){var e=this;this.isRequestingAnimationFrame||(this.isRequestingAnimationFrame=!0,requestAnimationFrame((function(){e.pixiRenderer&&(e.pixiRenderer.render(e.pixiRoot),e.isRequestingAnimationFrame=!1)})))}return e}()},{key:"animateOnGlobalEvent",value:function(){function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sourceUid!==this.uid&&this.animateOnMouseMove&&this.animate()}return e}()},{key:"measureSize",value:function(){function e(){var e=(0,q.getElementDim)(this.element),t=(0,f.default)(e,2),n=t[0],r=t[1];n>0&&r>0&&this.setState({sizeMeasured:!0,width:n,height:r})}return e}()},{key:"updateAfterResize",value:function(){function e(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(K.LONG_DRAG_TIMEOUT),this.resizeHandler()}return e}()},{key:"onBreakpointChange",value:function(){function e(e){this.setState({currentBreakpoint:e})}return e}()},{key:"handleOverlayMouseEnter",value:function(){function e(e){this.setState({mouseOverOverlayUid:e})}return e}()},{key:"handleOverlayMouseLeave",value:function(){function e(){this.setState({mouseOverOverlayUid:null})}return e}()},{key:"handleLockLocation",value:function(){function e(e){var t=this;this.setState({chooseViewHandler:function(){function n(n){return t.handleLocationLockChosen(e,n)}return n}(),mouseOverOverlayUid:e})}return e}()},{key:"isEditable",value:function(){function e(){return void 0!==this.state.typedEditable?this.state.typedEditable:this.props.options&&"editable"in this.props.options?this.props.options.editable&&this.state.viewConfig.editable:this.state.viewConfig.editable}return e}()},{key:"isTrackMenuDisabled",value:function(){function e(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.tracksEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.tracksEditable||!1===this.state.viewConfig.editable)}return e}()},{key:"isViewHeaderDisabled",value:function(){function e(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.viewEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.viewEditable||!1===this.state.viewConfig.editable)}return e}()},{key:"iterateOverViews",value:function(){function e(){var e=[];for(var t in(0,l.default)(this.state.views))e.push(t);return e}return e}()},{key:"iterateOverTracksInView",value:function(){function e(e){var t=[],n=this.state.views[e].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(n[r]);!(i=(s=l.next()).done);i=!0){var c=s.value;if("combined"===c.type&&c.contents){var h=!0,f=!1,d=void 0;try{for(var p,m=(0,u.default)(c.contents);!(h=(p=m.next()).done);h=!0){var v=p.value;t.push({viewId:e,trackId:v.uid,track:v})}}catch(g){f=!0,d=g}finally{try{!h&&m.return&&m.return()}finally{if(f)throw d}}}else t.push({viewId:e,trackId:c.uid,track:c})}}catch(g){o=!0,a=g}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return t}return e}()},{key:"iterateOverTracks",value:function(){function e(){var e=[];for(var t in this.state.views){var n=this.state.views[t].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(n[r]);!(i=(s=l.next()).done);i=!0){var c=s.value;if("combined"===c.type&&c.contents){var h=!0,f=!1,d=void 0;try{for(var p,m=(0,u.default)(c.contents);!(h=(p=m.next()).done);h=!0){var v=p.value;e.push({viewId:t,trackId:v.uid,track:v})}}catch(g){f=!0,d=g}finally{try{!h&&m.return&&m.return()}finally{if(f)throw d}}}else e.push({viewId:t,trackId:c.uid,track:c})}}catch(g){o=!0,a=g}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}return e}return e}()},{key:"setMouseTool",value:function(){function e(e){this.setState({mouseTool:e})}return e}()},{key:"isValueScaleLocked",value:function(){function e(e,t){var n=this.combineViewAndTrackUid(e,t);return!!this.state.views[e]&&!!this.valueScaleLocks[n]}return e}()},{key:"getLockGroupExtrema",value:function(){function e(e,t){var n=this,r=this.combineViewAndTrackUid(e,t);if(!this.state.views[e]||!this.valueScaleLocks[r])return null;var i=this.valueScaleLocks[r],o=(0,h.default)(i).filter((function(e){return n.tiledPlots[e.view]})).map((function(e){return n.tiledPlots[e.view].trackRenderer.getTrackObject(e.track)})).filter((function(e){return e})).map((function(e){return void 0===e.originalTrack?e:e.originalTrack})),a=o.filter((function(e){return e.minRawValue&&e.maxRawValue})).map((function(e){return i.ignoreOffScreenValues?e.minVisibleValue(!0):e.minVisibleValueInTiles(!0)})),l=o.filter((function(e){return e.minRawValue&&e.maxRawValue})).map((function(e){return i.ignoreOffScreenValues?e.maxVisibleValue(!0):e.maxVisibleValueInTiles(!0)}));return 0===a.length||a.filter((function(e){return null===e||e===1/0})).length>0||0===l.length||l.filter((function(e){return null===e||e===-1/0})).length>0?null:[Math.min.apply(Math,(0,s.default)(a)),Math.max.apply(Math,(0,s.default)(l))]}return e}()},{key:"syncValueScales",value:function(){function e(e,t){var n=this,r=this.combineViewAndTrackUid(e,t);if(this.state.views[e]){var i=(0,q.getTrackByUid)(this.state.views[e].tracks,t);if(this.valueScaleLocks[r]){var o=this.valueScaleLocks[r],a=(0,h.default)(o).filter((function(e){return n.tiledPlots[e.view]})).map((function(e){return n.tiledPlots[e.view].trackRenderer.getTrackObject(e.track)})).filter((function(e){return e})).map((function(e){return void 0===e.originalTrack?e:e.originalTrack})),s=this.getLockGroupExtrema(e,t);if(null===s)return;var l=s[0],c=s[1],f=1e-6,d=!0,p=!1,m=void 0;try{for(var v,g=(0,u.default)(a);!(d=(v=g.next()).done);d=!0){var y=v.value;if(y.minValue&&y.minValue(l),y.maxValue&&y.maxValue(c),y.valueScale){var b=Math.abs(y.minValue()-y.valueScale.domain()[0])>f||Math.abs(y.maxValue()-y.valueScale.domain()[1])>f,_=i.options&&y.options&&"undefined"!=typeof i.options.scaleStartPercent&&"undefined"!=typeof i.options.scaleEndPercent&&(Math.abs(y.options.scaleStartPercent-i.options.scaleStartPercent)>f||Math.abs(y.options.scaleEndPercent-i.options.scaleEndPercent)>f);y.continuousScaling&&!b&&!_||(y.valueScale.domain([l,c]),y.prevValueScale=y.valueScale.copy(),_&&(y.options.scaleStartPercent=i.options.scaleStartPercent,y.options.scaleEndPercent=i.options.scaleEndPercent),y.rerender(y.options,!0))}}}catch(x){p=!0,m=x}finally{try{!d&&g.return&&g.return()}finally{if(p)throw m}}}}}return e}()},{key:"handleNewTilesLoaded",value:function(){function e(e,t){this.animate()}return e}()},{key:"notifyDragChangedListeners",value:function(){function e(e){(0,q.dictValues)(this.draggingChangedListeners).forEach((function(t){(0,q.dictValues)(t).forEach((function(t){return t(e)}))}))}return e}()},{key:"addDraggingChangedListener",value:function(){function e(e,t,n){this.draggingChangedListeners.hasOwnProperty(e)||(this.draggingChangedListeners[e]={}),this.draggingChangedListeners[e][t]=n,n(!0),n(!1)}return e}()},{key:"removeDraggingChangedListener",value:function(){function e(e,t){if(this.draggingChangedListeners.hasOwnProperty(e)){var n=this.draggingChangedListeners[e];n.hasOwnProperty(t)&&(n[t](!1),delete n[t])}}return e}()},{key:"addScalesChangedListener",value:function(){function e(e,t,n){this.scalesChangedListeners[e]||(this.scalesChangedListeners[e]={}),this.scalesChangedListeners[e][t]=n,this.xScales[e]&&this.yScales[e]&&n(this.xScales[e],this.yScales[e])}return e}()},{key:"removeScalesChangedListener",value:function(){function e(e,t){if(this.scalesChangedListeners[e]){var n=this.scalesChangedListeners[e];n[t]&&delete n[t]}}return e}()},{key:"createSVG",value:function(){function e(){var e=document.createElement("svg");e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("version","1.1");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,q.dictValues)(this.tiledPlots));!(t=(i=o.next()).done);t=!0){var a=i.value;if(a){var s=!0,l=!1,c=void 0;try{for(var h,f=(0,u.default)((0,q.dictValues)(a.trackRenderer.trackDefObjects));!(s=(h=f.next()).done);s=!0){var d=h.value;if(d.trackObject.exportSVG){var p=d.trackObject.exportSVG();p&&e.appendChild(p[0])}}}catch(m){l=!0,c=m}finally{try{!s&&f.return&&f.return()}finally{if(l)throw c}}}}}catch(m){n=!0,r=m}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e.setAttribute("width",this.canvasElement.style.width),e.setAttribute("height",this.canvasElement.style.height),this.postCreateSVGCallback?this.postCreateSVGCallback(e):e}return e}()},{key:"createSVGString",value:function(){function e(){var e=this.createSVG(),t=M.default.xml((new window.XMLSerializer).serializeToString(e));return t=(t=(t=(t=t.replace(/<a0:/g,"<")).replace(/<\/a0:/g,"</")).replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm,"$1")).replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm,"$1"),'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+String(t)}return e}()},{key:"handleExportSVG",value:function(){function e(){(0,q.download)("export.svg",new Blob([this.createSVGString()],{type:"image/svg+xml"}))}return e}()},{key:"offPostCreateSVG",value:function(){function e(){this.postCreateSVGCallback=null}return e}()},{key:"onPostCreateSVG",value:function(){function e(e){this.postCreateSVGCallback=e}return e}()},{key:"createPNGBlobPromise",value:function(){function e(){var e=this;return new a.default((function(t){var n=e.createSVGString(),r=new Image(e.canvasElement.width,e.canvasElement.height);r.src="data:image/svg+xml;base64,"+String(btoa(n)),r.onload=function(){var n=document.createElement("canvas");n.width=e.canvasElement.width/2,n.height=e.canvasElement.height/2,n.getContext("2d").drawImage(r,0,0),n.toBlob((function(e){t(e)}))}}))}return e}()},{key:"handleExportPNG",value:function(){function e(){this.createPNGBlobPromise().then((function(e){(0,q.download)("export.png",e)}))}return e}()},{key:"handleScalesChanged",value:function(){function e(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.xScales[e]=t,this.yScales[e]=n,i&&e in this.scalesChangedListeners&&(0,q.dictValues)(this.scalesChangedListeners[e]).forEach((function(e){e(t,n)})),this.zoomLocks[e]){var o=this.zoomLocks[e],a=(0,q.dictItems)(o),s=(0,q.scalesCenterAndK)(this.xScales[e],this.yScales[e]),l=(0,f.default)(s,3);l[0],l[1];for(var u=l[2],c=function(){function t(t){var n=a[t][0],i=a[t][1];if(!r.xScales[n]||!r.yScales[n]||n===e)return"continue";var s=(0,q.scalesCenterAndK)(r.xScales[n],r.yScales[n]),l=(0,f.default)(s,3),c=l[0],h=l[1];l[2];var d=i[2]/o[e][2],p=u*d;if(!r.setCenters[n])return"continue";var m=r.setCenters[n](c,h,p,!1),v=(0,f.default)(m,2),g=v[0],y=v[1];r.xScales[n]=g,r.yScales[n]=y,r.scalesChangedListeners.hasOwnProperty(n)&&(0,q.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(g,y)}))}return t}(),h=0;h<a.length;h++)c(h)}if(this.locationLocks[e]){var d=this.locationLocks[e],p=(0,q.dictItems)(d),m=(0,q.scalesCenterAndK)(this.xScales[e],this.yScales[e]),v=(0,f.default)(m,3),g=v[0],y=v[1];v[2];var b=function(){function t(t){var n=p[t][0],i=p[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,q.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,f.default)(o,3);a[0],a[1];var s=a[2];if(n===e)return"continue";var l=i[0]-d[e][0],u=i[1]-d[e][1],c=g+l,h=y+u;if(!r.setCenters[n])return"continue";var m=r.setCenters[n](c,h,s,!1),v=(0,f.default)(m,2),b=v[0],_=v[1];r.xScales[n]=b,r.yScales[n]=_,r.scalesChangedListeners.hasOwnProperty(n)&&(0,q.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(b,_)}))}return t}();for(h=0;h<p.length;h++)b(h)}if(this.locationLocksAxisWise.x[e]){var _=this.locationLocksAxisWise.x[e].lock,x=(0,q.dictItems)(_),T="x"!==this.locationLocksAxisWise.x[e].axis,w=(0,q.scalesCenterAndK)(this.xScales[e],this.yScales[e]),S=(0,f.default)(w,3),E=S[0];S[1],S[2];var k=function(){function t(t){var n=x[t][0],i=x[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,q.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,f.default)(o,3),s=a[0],l=a[1],u=a[2];if(n===e)return"continue";var c=i[0]-_[e][0],h=E+c;if(!r.setCenters[n])return"continue";var d=r.setCenters[n](T?s:h,T?h:l,u,!1),p=(0,f.default)(d,2),m=p[0],v=p[1];r.xScales[n]=m,r.yScales[n]=v,r.scalesChangedListeners.hasOwnProperty(n)&&(0,q.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(m,v)}))}return t}();for(h=0;h<x.length;h++)k(h)}if(this.locationLocksAxisWise.y[e]){var C=this.locationLocksAxisWise.y[e].lock,A=(0,q.dictItems)(C),O="y"!==this.locationLocksAxisWise.y[e].axis,P=(0,q.scalesCenterAndK)(this.xScales[e],this.yScales[e]),M=(0,f.default)(P,3);M[0];var I=M[1];M[2];var R=function(){function t(t){var n=A[t][0],i=A[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,q.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,f.default)(o,3),s=a[0],l=a[1],u=a[2];if(n===e)return"continue";var c=i[1]-C[e][1],h=I+c;if(!r.setCenters[n])return"continue";var d=r.setCenters[n](O?h:s,O?l:h,u,!1),p=(0,f.default)(d,2),m=p[0],v=p[1];r.xScales[n]=m,r.yScales[n]=v,r.scalesChangedListeners.hasOwnProperty(n)&&(0,q.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(m,v)}))}return t}();for(h=0;h<A.length;h++)R(h)}this.animate(),this.triggerViewChangeDb()}return e}()},{key:"handleProjectViewport",value:function(){function e(e){var t=this;this.setState({chooseTrackHandler:function(){function n(n,r){return t.handleViewportProjected(e,n,r)}return n}()})}return e}()},{key:"handleZoomToData",value:function(){function e(e){if(e&&!this.tiledPlots[e])throw new Error("View uid "+String(e)+" does not exist in the current viewConfig");e?this.tiledPlots[e].handleZoomToData():(0,h.default)(this.tiledPlots).forEach((function(e){return e.handleZoomToData()}))}return e}()},{key:"resetViewport",value:function(){function e(e){if(e&&!this.tiledPlots[e])throw new Error("View uid "+String(e)+" does not exist in the current viewConfig");e?this.tiledPlots[e].resetViewport():(0,h.default)(this.tiledPlots).forEach((function(e){return e.resetViewport()}))}return e}()},{key:"handleYankFunction",value:function(){function e(e,t){this.setState({chooseViewHandler:function(){function n(n){return t(e,n)}return n}(),mouseOverOverlayUid:e})}return e}()},{key:"handleUnlock",value:function(){function e(e,t){var n=t[e],r=(0,q.dictKeys)(n);if(2===r.length)return delete t[r[0]],void delete t[r[1]];t[e]&&t[e][e]&&delete t[e][e],t[e]&&delete t[e]}return e}()},{key:"viewScalesLockData",value:function(){function e(e){return this.xScales[e]&&this.yScales[e]?(0,q.scalesCenterAndK)(this.xScales[e],this.yScales[e]):(console.warn("View scale lock doesn't correspond to existing uid: ",e),null)}return e}()},{key:"addLock",value:function(){function e(e,t,n,r){var i=this,o=[],a=[];o=n[e]?(0,q.dictItems)(n[e]).filter((function(e){return r(e[0])})).map((function(e){return[e[0],r(e[0])]})):[[e,r.bind(this)(e)]],a=n[t]?(0,q.dictItems)(n[t]).filter((function(e){return r.bind(i)(e[0])})).map((function(e){return[e[0],r.bind(i)(e[0])]})):[[t,r.bind(this)(t)]];var s=o.concat(a),l=(0,q.dictFromTuples)(s);s.forEach((function(e){n[e[0]]=l}))}return e}()},{key:"handleLocationLockChosen",value:function(){function e(e,t){e!==t?(this.addLock(e,t,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}return e}()},{key:"handleZoomLockChosen",value:function(){function e(e,t){e!==t?(this.addLock(e,t,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}return e}()},{key:"handleViewportProjected",value:function(){function e(e,t,n){var r=null;if(e===t)console.warn("A view can not show its own viewport.");else{var i=(0,q.getTrackByUid)(this.state.views[t].tracks,n),o=(0,q.getTrackPositionByUid)(this.state.views[t].tracks,n),a={uid:r=k.default.nice(),type:"viewport-projection-"+String({top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"}[o]),fromViewUid:e};this.addCallbacks(t,a),this.handleTrackAdded(t,a,o,i)}return this.setState({chooseTrackHandler:null}),r}return e}()},{key:"handleLocationYanked",value:function(){function e(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,q.scalesCenterAndK)(i,o),s=(0,f.default)(a,3);s[0],s[1];var l=s[2],u=(0,q.scalesCenterAndK)(n,r),c=(0,f.default)(u,3),h=c[0],d=c[1];c[2],this.setCenters[e](h,d,l,!0),this.setState({chooseViewHandler:null})}return e}()},{key:"handleZoomYanked",value:function(){function e(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,q.scalesCenterAndK)(i,o),s=(0,f.default)(a,3),l=s[0],u=s[1];s[2];var c=(0,q.scalesCenterAndK)(n,r),h=(0,f.default)(c,3);h[0],h[1];var d=h[2];this.setCenters[e](l,u,d,!0),this.setState({chooseViewHandler:null})}return e}()},{key:"handleTrackPositionChosen",value:function(){function e(e,t){this.setState({addTrackPosition:t,addTrackPositionView:e})}return e}()},{key:"updateRowHeight",value:function(){function e(){if(this.props.options&&this.sizeMode===oe&&!this.props.options.pixelPreciseMarginPadding){var e=this.element.parentNode.clientHeight,t=0,n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)((0,q.dictValues)(this.state.views));!(n=(o=a.next()).done);n=!0){var s=o.value;t=Math.max(t,s.layout.y+s.layout.h)}}catch(h){r=!0,i=h}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.handleDragStart(),this.handleDragStop();var l=(e-((this.isEditable()?10:0)*t-1))/t,c=Math.floor(l);this.setState({rowHeight:c})}}return e}()},{key:"handleLayoutChange",value:function(){function e(e){var t=this;this.element&&(e.forEach((function(e){var n=t.state.views[e.i];n&&(n.layout.x=e.x,n.layout.y=e.y,n.layout.w=e.w,n.layout.h=e.h,n.layout.i=e.i)})),this.updateRowHeight(),this.refreshView(K.LONG_DRAG_TIMEOUT))}return e}()},{key:"clearDragTimeout",value:function(){function e(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}return e}()},{key:"getTrackInfo",value:function(){function e(e){return K.TRACKS_INFO_BY_TYPE[e]?K.TRACKS_INFO_BY_TYPE[e]:this.pluginTracks&&this.pluginTracks[e]?this.pluginTracks[e].config:window.higlassTracksByType&&window.higlassTracksByType[e]?window.higlassTracksByType[e].config:void console.warn("Track type not found:",e,"(check app/scripts/config/ for a list of defined track types)")}return e}()},{key:"forceRefreshView",value:function(){function e(){this.setState(this.state)}return e}()},{key:"refreshView",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K.SHORT_DRAG_TIMEOUT;this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout((function(){e.notifyDragChangedListeners(!1)}),t)}return e}()},{key:"handleDragStart",value:function(){function e(){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}return e}()},{key:"handleDragStop",value:function(){function e(){var e=this;this.clearDragTimeout(),this.dragTimeout=setTimeout((function(){e.notifyDragChangedListeners(!1)}),K.LONG_DRAG_TIMEOUT)}return e}()},{key:"resizeHandler",value:function(){function e(){(0,q.objVals)(this.viewHeaders).filter((function(e){return e})).forEach((function(e){return e.checkWidth()}))}return e}()},{key:"calculateViewDimensions",value:function(){function e(e){var t=20,n=0,r=100,i=100,o=this.viewMarginTop+this.viewMarginBottom+this.viewPaddingTop+this.viewPaddingBottom,a=this.viewMarginLeft+this.viewMarginRight+this.viewPaddingLeft+this.viewPaddingRight,s=0;s+=10;var l=20;if(e.tracks.top)for(var c=0;c<e.tracks.top.length;c++){var h=e.tracks.top[c];o+=h.height?h.height:t,s+=h.height?h.height:t}if(e.tracks.bottom)for(var f=0;f<e.tracks.bottom.length;f++){var d=e.tracks.bottom[f];o+=d.height?d.height:t,s+=d.height?d.height:t}(e.tracks.left&&e.tracks.left.length>0||e.tracks.right&&e.tracks.right.length>0||e.tracks.center&&e.tracks.center.length>0)&&(s+=l);var p=0;if(e.tracks.left)for(var m=0;m<e.tracks.left.length;m++){var v=e.tracks.left[m],g=v.height?v.height:r;a+=v.width?v.width:n,p=Math.max(p,g)}var y=0;if(e.tracks.right)for(var b=0;b<e.tracks.right.length;b++){var _=e.tracks.right[b],x=_.height?_.height:r;a+=_.width?_.width:n,y=Math.max(y,x)}var T=Math.max(p,y),w=0,S=0;if(e.tracks.center&&(0,q.dictValues)(e.tracks.center).length>0){if(!e.tracks.center[0].contents||e.tracks.center[0].contents.length>0){var E=null,k=null;if(e.tracks.center[0].contents){var C=!0,A=!1,O=void 0;try{for(var P,M=(0,u.default)(e.tracks.center[0].contents);!(C=(P=M.next()).done);C=!0){var I=P.value;E=Math.max(E,I.height?I.height:r),k=Math.max(k,I.width?I.width:i)}}catch(j){A=!0,O=j}finally{try{!C&&M.return&&M.return()}finally{if(A)throw O}}}else E=e.tracks.center[0].height?e.tracks.center[0].height:r,k=e.tracks.center[0].width?e.tracks.center[0].width:i;o+=E,a+=k}}else(e.tracks.top&&(0,q.dictValues)(e.tracks.top).length>1||e.tracks.bottom&&(0,q.dictValues)(e.tracks.bottom).length>1)&&(e.tracks.left&&(0,q.dictValues)(e.tracks.left).length||e.tracks.right&&(0,q.dictValues)(e.tracks.right).length)&&(S=i,w=r);o+=T>w?T:w;var R=0,L=0,D=0,N=0;return"top"in e.tracks&&(R=e.tracks.top.map((function(e){return e.height?e.height:t})).reduce((function(e,t){return e+t}),0)),"bottom"in e.tracks&&(L=e.tracks.bottom.map((function(e){return e.height?e.height:t})).reduce((function(e,t){return e+t}),0)),"left"in e.tracks&&(D=e.tracks.left.map((function(e){return e.width?e.width:n})).reduce((function(e,t){return e+t}),0)),"right"in e.tracks&&(N=e.tracks.right.map((function(e){return e.width?e.width:n})).reduce((function(e,t){return e+t}),0)),{totalWidth:a,totalHeight:o,topHeight:R,bottomHeight:L,leftWidth:D,rightWidth:N,centerWidth:S,centerHeight:w,minNecessaryHeight:s}}return e}()},{key:"calculateZoomLimits",value:function(){function e(e,t){var n=[0,1/0],r=e.zoomLimits||[1,null],i=t[1]-t[0];if(2!==r.length)return n;if(null!==r[0]&&r[0]>0){var o=i/r[0];n[1]=Math.max(o,1),o<1&&console.warn("Invalid zoom limits. Lower limit set to "+i)}if(null!==r[1]&&r[1]>r[0]){var a=i/r[1];n[0]=Math.min(a,1),a>1&&console.warn("Invalid zoom limits. Upper limit set to "+i)}return n}return e}()},{key:"generateViewLayout",value:function(){function e(e){return"layout"in e?e.layout.layout:{x:0,y:0,w:te,h:ne}}return e}()},{key:"handleClearView",value:function(){function e(e){var t=this.state.views;t[e].tracks.top=[],t[e].tracks.bottom=[],t[e].tracks.center=[],t[e].tracks.left=[],t[e].tracks.right=[],t[e].tracks.whole=[],this.setState({views:t})}return e}()},{key:"handleCloseView",value:function(){function e(e){var t=this;1!==(0,q.dictValues)(this.state.views).length&&(this.handleUnlock(e,this.zoomLocks),this.setState((function(n){return delete n.views[e],{views:t.removeInvalidTracks(n.views)}})))}return e}()},{key:"handleSeriesAdded",value:function(){function e(e,t,n,r){var i=this.state.views[e].tracks;if("combined"===r.type)r.contents.push(t),"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,r);else for(var o={type:"combined",uid:k.default.nice(),height:r.height,width:r.width,contents:[r,t]},a=i[n],s=0;s<a.length;s++)a[s].uid===r.uid&&(a[s]=o);this.setState((function(e){return{views:e.views}}))}return e}()},{key:"handleNoTrackAdded",value:function(){function e(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}return e}()},{key:"handleTracksAdded",value:function(){function e(e,t,n,r){this.storeTrackSizes(e);var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(t);!(i=(s=l.next()).done);i=!0){var c=s.value;this.handleTrackAdded(e,c,n,r)}}catch(h){o=!0,a=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return e}()},{key:"handleChangeTrackType",value:function(){function e(e,t,n){var r=this.state.views[e],i=(0,q.getTrackByUid)(r.tracks,t),o=i.uid;i.uid=k.default.nice(),i.type=n;var a=i.uid;this.updateTrackLocks(e,o,a),this.setState((function(e){return{views:e.views}}))}return e}()},{key:"handleChangeTrackData",value:function(){function e(e,t,n){var r=this.state.views[e],i=(0,q.getTrackByUid)(r.tracks,t);i.uid=k.default.nice(),i.data=n,this.setState((function(e){return{views:e.views}}))}return e}()},{key:"handleTrackAdded",value:function(){function e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.addDefaultTrackOptions(t),t.uid||(t.uid=k.default.nice()),t.contents){var i=!0,o=!1,a=void 0;try{for(var s,c=(0,u.default)(t.contents);!(i=(s=c.next()).done);i=!0){var h=s.value;this.addDefaultTrackOptions(h)}}catch(g){o=!0,a=g}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}}if(this.state.addTrackPosition&&this.setState({addTrackPosition:null}),r)return this.handleSeriesAdded(e,t,n,r),null;t.position=n;var f=this.getTrackInfo(t.type);t.width=f.defaultWidth||f.defaultOptions&&f.defaultOptions.minWidth||this.minVerticalWidth,t.height=f.defaultHeight||f.defaultOptions&&f.defaultOptions.minHeight||this.minHorizontalHeight;var d=this.state.views[e].tracks,p=0;if((0,q.visitPositionedTracks)(d,(function(){return p++})),"left"===n||"top"===n)d[n].unshift(t);else if("center"===n)if(0===d.center.length){var m={uid:k.default.nice(),type:"combined",contents:[t]};d.center=[m]}else if("combined"===d.center[0].type)d.center[0].contents.push(t),"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,d.center[0]);else{var v={uid:k.default.nice(),type:"combined",contents:[d.center[0],t]};d.center=[v],"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,v)}else d[n]||(d[n]=[]),d[n].push(t);return this.adjustLayoutToTrackSizes(this.state.views[e]),1===(0,l.default)(this.state.views).length&&0===p&&(this.handleZoomToData(e),this.zoomToDataExtentOnInit.add(e)),t}return e}()},{key:"compatibilityfyStackedHeatmaps",value:function(){function e(e,t){var n=void 0;t.contents.some((function(e){return n=e,"heatmap"===e.type}))&&(e.options.backgroundColor="transparent",e.options.showTooltip=n.options.showTooltip,e.options.showMousePosition=n.options.showMousePosition,e.options.mousePositionColor=n.options.mousePositionColor)}return e}()},{key:"storeTrackSizes",value:function(){function e(e){var t=this;(0,q.visitPositionedTracks)(this.state.views[e].tracks,(function(n){var r=t.tiledPlots[e].trackRenderer.getTrackObject(n.uid);if(r){var i=(0,f.default)(r.dimensions,2);n.width=i[0],n.height=i[1]}}))}return e}()},{key:"adjustLayoutToTrackSizes",value:function(){function e(e){if(e.layout){var t=0;this.isEditable()&&(t+=re),t+=this.calculateViewDimensions(e).totalHeight;var n=this.isEditable()?10:0;t+=n;var r=this.state.rowHeight+n;this.sizeMode!==oe&&(e.layout.h=Math.ceil(t/r))}}return e}()},{key:"handleCloseTrack",value:function(){function e(e,t){var n=this.state.views[e].tracks;for(var r in this.handleUnlockValueScale(e,t),n){var i=n[r],o=i.filter((function(e){return e.uid!==t}));o.length===i.length?o.filter((function(e){return"combined"===e.type})).forEach((function(e){e.contents=e.contents.filter((function(e){return e.uid!==t}))})):n[r]=o}return this.storeTrackSizes(e),this.adjustLayoutToTrackSizes(this.state.views[e]),this.setState((function(e){return{views:e.views}})),this.state.views}return e}()},{key:"handleLockValueScale",value:function(){function e(e,t){var n=this;this.setState({chooseTrackHandler:function(){function r(r,i){return n.handleValueScaleLocked(e,t,r,i)}return r}()})}return e}()},{key:"combineViewAndTrackUid",value:function(){function e(e,t){var n=String(e)+"."+String(t);if(this.combinedUidToViewTrack[n]={view:e,track:t},this.viewTrackUidsToCombinedUid[e]){if(this.viewTrackUidsToCombinedUid[t])return this.viewTrackUidsToCombinedUid[e][t];this.viewTrackUidsToCombinedUid[e][t]=n}else this.viewTrackUidsToCombinedUid[e]={},this.viewTrackUidsToCombinedUid[e][t]=n;return n}return e}()},{key:"updateTrackLocks",value:function(){function e(e,t,n){var r=this.combineViewAndTrackUid(e,t),i=this.combineViewAndTrackUid(e,n);if(this.valueScaleLocks[r]){var o=this.valueScaleLocks[r];this.valueScaleLocks[i]=o,delete this.valueScaleLocks[r]}for(var a in this.valueScaleLocks)if(this.valueScaleLocks[a][r]){var s=this.valueScaleLocks[a][r];this.valueScaleLocks[a][i]=s,s.track=n,delete this.valueScaleLocks[a][r]}}return e}()},{key:"handleUnlockValueScale",value:function(){function e(e,t){if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var n=(0,q.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(n);!(r=(a=s.next()).done);r=!0){var l=a.value;this.handleUnlock(this.combineViewAndTrackUid(e,l),this.valueScaleLocks)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}else this.handleUnlock(this.combineViewAndTrackUid(e,t),this.valueScaleLocks)}return e}()},{key:"handleValueScaleLocked",value:function(){function e(e,t,n,r){var i=this;if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var o=(0,q.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),a=!0,s=!1,l=void 0;try{for(var c,h=(0,u.default)(o);!(a=(c=h.next()).done);a=!0){var f=c.value;this.handleValueScaleLocked(e,f,n,r)}}catch(T){s=!0,l=T}finally{try{!a&&h.return&&h.return()}finally{if(s)throw l}}}else if(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks){var d=(0,q.dictKeys)(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks),p=!0,m=!1,v=void 0;try{for(var g,y=(0,u.default)(d);!(p=(g=y.next()).done);p=!0){var b=g.value;this.handleValueScaleLocked(e,t,n,b)}}catch(T){m=!0,v=T}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}else{var _=this.combineViewAndTrackUid(e,t),x=this.combineViewAndTrackUid(n,r);this.addLock(_,x,this.valueScaleLocks,(function(e){return i.combinedUidToViewTrack[e]})),this.syncValueScales(e,t),this.setState({chooseTrackHandler:null})}}return e}()},{key:"addCallbacks",value:function(){function e(e,t){var n=this,r=this.getTrackInfo(t.type);if("viewport-projection-center"===t.type||"viewport-projection-horizontal"===t.type||"viewport-projection-vertical"===t.type||r&&r.projection){var i=t.fromViewUid;t.registerViewportChanged=function(e,t){return n.addScalesChangedListener(i,e,t)},t.removeViewportChanged=function(e){return n.removeScalesChangedListener(i,e)},t.setDomainsCallback=function(r,o){if(!i)return n.projectionXDomains[e]||(n.projectionXDomains[e]={}),n.projectionYDomains[e]||(n.projectionYDomains[e]={}),("viewport-projection-horizontal"===t.type||"viewport-projection-center"===t.type)&&(n.projectionXDomains[e][t.uid]=r),("viewport-projection-vertical"===t.type||"viewport-projection-center"===t.type)&&(n.projectionYDomains[e][t.uid]=o),void n.triggerViewChangeDb();var a=(0,E.scaleLinear)().domain(r).range(n.xScales[i].range()),s=(0,E.scaleLinear)().domain(o).range(n.yScales[i].range()),l=(0,q.scalesCenterAndK)(a,s),u=(0,f.default)(l,3),c=u[0],h=u[1],d=u[2];n.setCenters[i](c,h,d,!1);var p=!1,m=!1;e in n.zoomLocks&&(p=i in n.zoomLocks[e]),p&&n.handleUnlock(e,n.zoomLocks),e in n.locationLocks&&(m=i in n.locationLocks[e]),m&&n.handleUnlock(e,n.locationLocks),n.handleScalesChanged(i,a,s,!0),p&&n.addLock(e,i,n.zoomLocks,n.viewScalesLockData),m&&n.addLock(e,i,n.locationLocks,n.viewScalesLockData)}}}return e}()},{key:"validateLocks",value:function(){function e(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)((0,q.dictKeys)(e));!(n=(o=a.next()).done);n=!0){var s=o.value;(!e[s]||!e[s][s])&&t.push(s)}}catch(m){r=!0,i=m}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}var l=!0,c=!1,h=void 0;try{for(var f,d=(0,u.default)(t);!(l=(f=d.next()).done);l=!0){var p=f.value;e[p]&&(console.warn("View "+String(p)+" not present in lock group. Removing..."),this.handleUnlock(p,e),delete e[p])}}catch(m){c=!0,h=m}finally{try{!l&&d.return&&d.return()}finally{if(c)throw h}}}return e}()},{key:"deserializeLocationLocks",value:function(){function e(e){if(this.locationLocks={},e.locationLocks){var t=!0,n=!1,r=void 0;try{for(var i,a=(0,u.default)((0,q.dictKeys)(e.locationLocks.locksByViewUid));!(t=(i=a.next()).done);t=!0){var s=i.value;if("object"!==(0,o.default)(e.locationLocks.locksByViewUid[s]))this.locationLocks[s]=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[s]];else{if("x"in e.locationLocks.locksByViewUid[s]){var l=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[s].x.lock];this.locationLocksAxisWise.x[s]={lock:l,axis:e.locationLocks.locksByViewUid[s].x.axis}}if("y"in e.locationLocks.locksByViewUid[s]){var c=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[s].y.lock];this.locationLocksAxisWise.y[s]={lock:c,axis:e.locationLocks.locksByViewUid[s].y.axis}}}}}catch(h){n=!0,r=h}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}this.validateLocks(this.locationLocks)}return e}()},{key:"deserializeZoomLocks",value:function(){function e(e){if(this.zoomLocks={},e.zoomLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,q.dictKeys)(e.zoomLocks.locksByViewUid));!(t=(i=o.next()).done);t=!0){var a=i.value;this.zoomLocks[a]=e.zoomLocks.locksDict[e.zoomLocks.locksByViewUid[a]]}}catch(s){n=!0,r=s}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}this.validateLocks(this.zoomLocks)}return e}()},{key:"deserializeValueScaleLocks",value:function(){function e(e){if(this.valueScaleLocks={},e.valueScaleLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,q.dictKeys)(e.valueScaleLocks.locksByViewUid));!(t=(i=o.next()).done);t=!0){var a=i.value;this.valueScaleLocks[a]=e.valueScaleLocks.locksDict[e.valueScaleLocks.locksByViewUid[a]]}}catch(s){n=!0,r=s}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}return e}()},{key:"serializeLocks",value:function(){function e(e){var t={},n={},r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,q.dictKeys)(e));!(r=(a=s.next()).done);r=!0){var l=a.value,c=e[l]&&e[l].uid;c||(c=k.default.nice()),e[l].uid=c,t[c]=e[l],n[l]=e[l].uid}}catch(h){i=!0,o=h}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return{locksByViewUid:n,locksDict:t}}return e}()},{key:"getViewsAsJson",value:function(){function e(){var e=this,t=JSON.parse((0,c.default)(this.state.viewConfig));return t.views=(0,h.default)(this.state.views).map((function(t){var n=JSON.parse((0,c.default)(t));return(0,q.visitPositionedTracks)(n.tracks,(function(n){if(n.server){var r=(0,I.default)(n.server,{});if(!r.hostname.length){var i=window.location.host,o=window.location.protocol,a=String(o)+"//"+String(i)+String(r.pathname);n.server=a}}("viewport-projection-center"===n.type||"viewport-projection-horizontal"===n.type)&&e.projectionXDomains[t.uid]&&e.projectionXDomains[t.uid][n.uid]&&(n.projectionXDomain=e.projectionXDomains[t.uid][n.uid]),("viewport-projection-center"===n.type||"viewport-projection-vertical"===n.type)&&e.projectionYDomains[t.uid]&&e.projectionYDomains[t.uid][n.uid]&&(n.projectionYDomain=e.projectionYDomains[t.uid][n.uid]),delete n.name,delete n.position,delete n.header,delete n.description,delete n.created,delete n.project,delete n.project_name,delete n.serverUidKey,delete n.uuid,delete n.private,delete n.maxZoom,delete n.coordSystem,delete n.coordSystem2,delete n.datatype,delete n.maxWidth,delete n.datafile,delete n.binsPerDimension,delete n.resolutions,delete n.aggregationModes})),n.uid=t.uid,n.initialXDomain=e.xScales[t.uid].domain(),n.initialYDomain=e.yScales[t.uid].domain(),delete n.layout.i,n})),t.zoomLocks=this.serializeLocks(this.zoomLocks),t.locationLocks=this.serializeLocks(this.locationLocks),t.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),t}return e}()},{key:"getViewsAsString",value:function(){function e(){return(0,c.default)(this.getViewsAsJson(),null,2)}return e}()},{key:"handleExportViewAsJSON",value:function(){function e(){var e=this.getViewsAsString();(0,q.download)("viewconf.json",e)}return e}()},{key:"handleExportViewsAsLink",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.viewConfig.exportViewUrl,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new URL(t,window.location.origin),i=fetch(t,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:'{"viewconf":'+String(this.getViewsAsString())+"}",credentials:"same-origin"}).then((function(e){if(!e.ok)throw e;return e.json()})).catch((function(e){console.warn("err:",e)})).then((function(e){return{id:e.uid,url:String(r.origin)+"/l/?d="+String(e.uid)}}));return n||i.then((function(t){e.openModal(T.default.createElement(j.default,{onDone:function(){function t(){e.closeModalBound()}return t}(),url:t.url}))})).catch((function(e){return console.error("Exporting view config as link failed:",e)})),i}return e}()},{key:"handleDataDomainChanged",value:function(){function e(e,t,n){var r=this.state.views;if(r[e].initialXDomain=t,r[e].initialYDomain=n,this.xScales[e]=(0,E.scaleLinear)().domain(t),this.yScales[e]=(0,E.scaleLinear)().domain(n),this.zoomLocks[e])for(var i=this.zoomLocks[e],o=(0,q.dictItems)(i),a=0;a<o.length;a++){var s=o[a][0];s in this.locationLocks&&(r[s].initialXDomain=t,r[s].initialYDomain=n,this.xScales[s]=(0,E.scaleLinear)().domain(t),this.yScales[s]=(0,E.scaleLinear)().domain(n))}this.setState({views:r})}return e}()},{key:"viewPositionAvailable",value:function(){function e(e,t,n,r){var i=e+n,o=t+r;if(e+n>te)return!1;for(var a=(0,q.dictValues)(this.state.views),s=0;s<a.length;s++){var l=a[s].layout.x,u=a[s].layout.y,c=l+a[s].layout.w,h=u+a[s].layout.h;if(e<c&&i>l&&t<h&&o>u)return!1}return!0}return e}()},{key:"handleAddView",value:function(){function e(e){var t=this,n=(0,q.dictValues)(this.state.views),r=e,i=[];12===e.layout.w&&(e.layout.w=6);for(var o=0;o<n.length;o++){var a=n[o].layout.x+n[o].layout.w,s=n[o].layout.y;this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s]),a=n[o].layout.x,s=n[o].layout.y+n[o].layout.h,this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s])}i.sort((function(e,t){var n=e[1]-t[1];return 0===n?e[0]-t[0]:n}));var l=(0,c.default)(r),u=JSON.parse(l);u.initialXDomain=this.xScales[u.uid].domain(),u.initialYDomain=this.yScales[u.uid].domain();var h=(0,f.default)(i[0],2);u.layout.x=h[0],u.layout.y=h[1],u.uid=k.default.nice(),u.layout.i=u.uid,(0,q.visitPositionedTracks)(u.tracks,(function(e){t.addCallbacks(u.uid,e)})),this.setState((function(e){var t=JSON.parse((0,c.default)(e.views));return t[u.uid]=u,{views:t}}))}return e}()},{key:"handleSelectedAssemblyChanged",value:function(){function e(e,t,n,r){var i=this.state.views;i[e].genomePositionSearchBox.chromInfoId=t,i[e].genomePositionSearchBox.autocompleteId=n,i[e].genomePositionSearchBox.autocompleteServer=r}return e}()},{key:"createGenomePostionSearchBoxEntry",value:function(){function e(e,t){var n=e,r={autocompleteServer:K.DEFAULT_SERVER,chromInfoServer:K.DEFAULT_SERVER,visible:!1};return n||(n=JSON.parse((0,c.default)(r))),n.autocompleteServer||(n.autocompleteServer=r.autocompleteServer),n.chromInfoId||(n.chromInfoId=t),n.chromInfoServer||(n.chromInfoServer=r.chromInfoServer),n.visible||(n.visible=!1),n}return e}()},{key:"handleTogglePositionSearchBox",value:function(){function e(e){var t=this.state.views[e];t.genomePositionSearchBoxVisible=!t.genomePositionSearchBoxVisible;var n={};(0,q.visitPositionedTracks)(t.tracks,(function(e){e.coordSystem&&(n[e.coordSystem]||(n[e.coordSystem]=0),n[e.coordSystem]+=1)}));var r=(0,q.dictItems)(n).sort((function(e,t){return t[1]-e[1]})),i="hg19";r.length&&(i=r[0][0]),t.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(t.genomePositionSearchBox,i),t.genomePositionSearchBox.visible=!t.genomePositionSearchBox.visible,this.refreshView(),this.setState({configMenuUid:null})}return e}()},{key:"handleTrackOptionsChanged",value:function(){function e(e,t,n){var r=this.state.views[e],i=(0,q.getTrackByUid)(r.tracks,t);i&&(i.options=(0,p.default)(i.options,n),this.mounted&&(this.setState((function(e){return{views:e.views}})),this.adjustSplitHeatmapTrackOptions(i,n,r.tracks,e)))}return e}()},{key:"adjustSplitHeatmapTrackOptions",value:function(){function e(e,t,n,r){var i=this;"heatmap"===e.type&&("upper-right"===t.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((function(n){if("heatmap"===n.type&&n.uid!==e.uid&&"lower-left"!==n.options.extent){var o=(0,p.default)({},n.options,{extent:"lower-left",labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"}),a=(0,p.default)({},t,{labelPosition:"topRight",colorbarPosition:"topRight"});return i.handleTrackOptionsChanged(r,n.uid,o),i.handleTrackOptionsChanged(r,e.uid,a),!0}return!1})),"lower-left"===t.extent&&"lower-left"===t.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((function(n){if("heatmap"===n.type&&n.uid!==e.uid&&"upper-right"!==n.options.extent){var o=(0,p.default)({},n.options,{extent:"upper-right",labelPosition:"topRight",colorbarPosition:"topRight"}),a=(0,p.default)({},t,{labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"});return i.handleTrackOptionsChanged(r,n.uid,o),i.handleTrackOptionsChanged(r,e.uid,a),!0}return!1})))}return e}()},{key:"handleViewOptionsChanged",value:function(){function e(e,t){var n=this.state.views[e];n&&(n.options=(0,p.default)(n.options||{},t),this.mounted&&this.setState((function(e){return{views:e.views}})))}return e}()},{key:"isTrackValid",value:function(){function e(e,t){return!("viewport-projection-center"===e.type&&!t.has(e.fromViewUid))}return e}()},{key:"removeInvalidTracks",value:function(){function e(e){var t=this,n=new m.default((0,q.dictKeys)(e)),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,q.dictValues)(e));!(r=(a=s.next()).done);r=!0)for(var l=a.value,c=["left","top","center","right","bottom"],h=0;h<c.length;h++){var f=c[h];l.tracks&&l.tracks.hasOwnProperty(f)&&(l.tracks[f]=l.tracks[f].filter((function(e){return t.isTrackValid(e,n)})),l.tracks[f].forEach((function(e){"combined"===e.type&&(e.contents=e.contents.filter((function(e){return t.isTrackValid(e,n)})))})))}}catch(d){i=!0,o=d}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return e}return e}()},{key:"processViewConfig",value:function(){function e(e){var t=this,n=e.views,r={};return(!e.views||0===e.views.length)&&(console.warn("No views provided in viewConfig"),n=[{editable:!0,tracks:{}}]),n.forEach((function(e){e.tracks&&(0,q.fillInMinWidths)(e.tracks),e.uid||(e.uid=k.default.nice()),r[e.uid]=e,t.zoomToDataExtentOnInit.has(e.uid)&&t.zoomToDataExtentOnInit.delete(e.uid),e.initialXDomain?(e.initialXDomain[0]=+e.initialXDomain[0],e.initialXDomain[1]=+e.initialXDomain[1]):(e.initialXDomain=[0,100],t.zoomToDataExtentOnInit.add(e.uid)),e.initialYDomain?(e.initialXDomain[0]=+e.initialXDomain[0],e.initialXDomain[1]=+e.initialXDomain[1]):e.initialYDomain=[e.initialXDomain[0],e.initialXDomain[1]],t.xScales[e.uid]||(t.xScales[e.uid]=(0,E.scaleLinear)().domain(e.initialXDomain)),t.yScales[e.uid]||(t.yScales[e.uid]=(0,E.scaleLinear)().domain(e.initialYDomain)),(0,q.visitPositionedTracks)(e.tracks,(function(n){if(n.uid||(n.uid=k.default.nice()),t.addCallbacks(e.uid,n),t.addDefaultTrackOptions(n),n.contents){var r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(n.contents);!(r=(a=s.next()).done);r=!0){var l=a.value;t.addDefaultTrackOptions(l)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}})),e.layout?e.layout.i=e.uid:e.layout=t.generateViewLayout(e)})),this.deserializeZoomLocks(e),this.deserializeLocationLocks(e),this.deserializeValueScaleLocks(e),r=this.removeInvalidTracks(r)}return e}()},{key:"handleWindowFocused",value:function(){function e(){}return e}()},{key:"rangeSelectionHandler",value:function(){function e(e){this.rangeSelection=e,this.apiPublish("rangeSelection",e)}return e}()},{key:"offViewChange",value:function(){function e(e){this.viewChangeListener.splice(e,1)}return e}()},{key:"onViewChange",value:function(){function e(e){return this.viewChangeListener.push(e)-1}return e}()},{key:"triggerViewChange",value:function(){function e(){var e=this;this.viewChangeListener.forEach((function(t){return t(e.getViewsAsString())}))}return e}()},{key:"getGenomeLocation",value:function(){function e(e){var t=this;return W.chromInfo.get(this.state.views[e].chromInfoPath).then((function(n){return(0,q.scalesToGenomeLoci)(t.xScales[e],t.yScales[e],n)}))}return e}()},{key:"offLocationChange",value:function(){function e(e,t){this.removeScalesChangedListener(e,t)}return e}()},{key:"zoomTo",value:function(){function e(e,t,n,r,o,a){if(!(e in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,l.default)(this.setCenters).join(",")));if((0,i.default)(+t)||(0,i.default)(+n)){var s=[t,n].join(", ");console.warn(["Invalid coordinates ("+String(s)+"). All coordinates need to be numbers\n        and should represent absolute coordinates (not chromosome\n        coordinates)."].join(" "))}else{((0,i.default)(+r)||(0,i.default)(+o)||null===r||null===o)&&(r=t,o=n);var u=(0,q.scalesCenterAndK)(this.xScales[e].copy().domain([t,n]),this.yScales[e].copy().domain([r,o])),c=(0,f.default)(u,3),h=c[0],d=c[1],p=c[2];this.setCenters[e](h,d,p,!1,a)}}return e}()},{key:"zoomToGene",value:function(){function e(e,t,n,r){var i=this;if(!(e in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,l.default)(this.setCenters).join(",")));this.state.views[e].genomePositionSearchBox&&this.state.views[e].genomePositionSearchBox.autocompleteServer&&this.state.views[e].genomePositionSearchBox.autocompleteId&&this.state.views[e].chromInfoPath?this.suggestGene(e,t,(function(o){if(o){var a=o.find((function(e){return e.geneName.toLowerCase()===t.toLowerCase()}));if(a){var s=a.chr,l=a.txStart,u=a.txEnd;(0,F.default)(i.state.views[e].chromInfoPath,(function(t){var o=t.chrToAbs([s,l])-n,a=t.chrToAbs([s,u])+n,c=(0,q.scalesCenterAndK)(i.xScales[e].copy().domain([o,a]),i.yScales[e].copy().domain([o,a])),h=(0,f.default)(c,3),d=h[0],p=h[1],m=h[2];i.setCenters[e](d,p,m,!1,r)}),i.pubSub)}else console.warn("Couldn't find the gene symbol: "+String(t))}})):console.warn("Please set chromInfoPath, autocompleteServer, and autocompleteId to use the zoomToGene API")}return e}()},{key:"suggestGene",value:function(){function e(e,t,n){if(!(e in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,l.default)(this.setCenters).join(",")));if(this.state.views[e].genomePositionSearchBox&&this.state.views[e].genomePositionSearchBox.autocompleteServer&&this.state.views[e].genomePositionSearchBox.autocompleteId){var r=this.state.views[e].genomePositionSearchBox.autocompleteServer,i=this.state.views[e].genomePositionSearchBox.autocompleteId,o=String(r)+"/suggest/?d="+String(i)+"&ac="+String(t.toLowerCase());W.tileProxy.json(o,q.toVoid,this.pubSub).then((function(e){n(e)})).catch((function(e){return console.error(e)}))}else console.warn("Please set autocompleteServer and autocompleteId to use the suggestGene API")}return e}()},{key:"onLocationChange",value:function(){function e(e,t,n){var r=(0,l.default)(this.state.views);if(!r.length)return this.unsetOnLocationChange.push({viewId:e,callback:t,callbackId:n}),null;if("undefined"==typeof(e="undefined"==typeof e&&1===r.length?r[0]:e)||-1===r.indexOf(e))return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ",e),null;var i=this.state.views[e],o=function(){function e(e,n){t({xDomain:e.domain(),yDomain:n.domain(),xRange:e.range(),yRange:n.range()})}return e}(),a=1;return this.scalesChangedListeners[i.uid]&&(a=(0,l.default)(this.scalesChangedListeners[i.uid]).filter((function(e){return 0===e.indexOf(K.LOCATION_LISTENER_PREFIX)})).map((function(e){return parseInt(e.slice(K.LOCATION_LISTENER_PREFIX.length+1),10)})).reduce((function(e,t){return Math.max(e,t)}),0)+1),this.addScalesChangedListener(i.uid,String(K.LOCATION_LISTENER_PREFIX)+"."+String(a),o),n&&n(String(K.LOCATION_LISTENER_PREFIX)+"."+String(a)),a}return e}()},{key:"getTiledPlotAtPosition",value:function(){function e(e,t){for(var n=void 0,r=(0,q.dictValues)(this.state.views),i=0;i<r.length;i++){var o=this.tiledPlots[r[i].uid],a=this.tiledAreasDivs[r[i].uid].getBoundingClientRect(),s=a.top,l=a.left,u=s+a.height,c=l+a.width;if(e>=l&&e<=c&&t>=s&&t<=u){n=o;break}}return n}return e}()},{key:"mouseMoveHandler",value:function(){function e(e){if(this.topDiv&&!this.state.modal){var t=e.clientX,n=e.clientY,i=(0,S.clientPoint)(this.topDiv,e);i[1]+=this.scrollTop;var o=this.getTiledPlotAtPosition(t,n),a=o?o.listTracksAtPosition(i[0],i[1],!0).map((function(e){return e.originalTrack||e})):[],s=a.find((function(e){return!e.isAugmentationTrack})),l=s?[i[0]-s.position[0],i[1]-s.position[1]]:i,u=-1,c=-1;s&&(u=s.flipText?s._xScale.invert(l[1]):s._xScale.invert(l[0]),c=s.is2d?s._yScale.invert(l[1]):u);var h={x:i[0],y:i[1],relTrackX:s&&s.flipText?l[1]:l[0],relTrackY:s&&s.flipText?l[0]:l[1],dataX:u,dataY:c,isFrom2dTrack:!(!s||!s.is2d),isFromVerticalTrack:!(!s||!s.flipText),track:s,origEvt:e,sourceUid:this.uid,hoveredTracks:a,noHoveredTracks:0===a.length};if(this.pubSub.publish("app.mouseMove",h),this.isBroadcastMousePositionGlobally){var f=(0,r.default)({},h);f.origEvt=void 0,f.track=void 0,f.hoveredTracks=void 0,delete f.origEvt,delete f.track,delete f.hoveredTracks,R.globalPubSub.publish("higlass.mouseMove",f)}this.apiPublish("cursorLocation",{absX:t,absY:n,relX:h.x,relY:h.y,relTrackX:h.relTrackX,relTrackY:h.relTrackY,dataX:h.dataX,dataY:h.dataY,isFrom2dTrack:h.isFrom2dTrack,isFromVerticalTrack:h.isFromVerticalTrack}),this.showHoverMenu(h)}}return e}()},{key:"getMinMaxValue",value:function(){function e(e,t,n,r){var i=(0,q.getTrackObjById)(this.tiledPlots,e,t);if(i){if(i.minVisibleValueInTiles&&i.maxVisibleValueInTiles)return n&&i.getAggregatedVisibleValue?[i.getAggregatedVisibleValue("min"),i.getAggregatedVisibleValue("max")]:[i.minVisibleValueInTiles(r),i.maxVisibleValueInTiles(r)];console.warn("Track "+String(t)+" doesn't support the retrieval of min or max values.")}else console.warn("Track with ID: "+String(t)+" not found!")}return e}()},{key:"showHoverMenu",value:function(){function e(e){var t=e.track&&e.track.getMouseOverHtml?e.track.getMouseOverHtml(e.relTrackX,e.relTrackY):"";if(e.track!==this.prevMouseHoverTrack&&this.prevMouseHoverTrack&&this.prevMouseHoverTrack.stopHover&&this.prevMouseHoverTrack.stopHover(),this.prevMouseHoverTrack=e.track,!this.zooming){var n=t&&t.length?[1]:[],r=(0,S.select)("body").selectAll(".track-mouseover-menu").data(n);r.exit().remove(),r.enter().append("div").classed("track-mouseover-menu",!0).classed($.default["track-mouseover-menu"],!0),r=(0,S.select)("body").selectAll(".track-mouseover-menu");var i=(0,S.clientPoint)((0,S.select)("body").node(),e.origEvt),o=[i[0]-window.scrollX,i[1]-window.scrollY];if(r.style("left",String(o[0])+"px").style("top",String(o[1])+"px"),r.node()){var a=r.node().getBoundingClientRect();a.x+a.width>window.innerWidth&&r.style("left",o[0]-a.width+"px"),a.y+a.height>window.innerHeight&&r.style("top",o[1]-a.height+"px"),r.html(t)}}}return e}()},{key:"hideHoverMenu",value:function(){function e(){(0,S.select)("body").selectAll(".track-mouseover-menu").remove()}return e}()},{key:"appClickHandler",value:function(){function e(e){this.apiPublish("click",e)}return e}()},{key:"mouseMoveZoomHandler",value:function(){function e(e){this.apiPublish("mouseMoveZoom",e)}return e}()},{key:"geneSearchHandler",value:function(){function e(e){this.apiPublish("geneSearch",e)}return e}()},{key:"mouseDownHandler",value:function(){function e(e){}return e}()},{key:"onScrollHandler",value:function(){function e(){this.props.options.sizeMode===se&&(this.scrollTop=this.scrollContainer.scrollTop,this.pixiStage.y=-this.scrollTop,this.pubSub.publish("app.scroll",this.scrollTop),this.animate())}return e}()},{key:"setTrackValueScaleLimits",value:function(){function e(e,t,n,r){var i=(0,q.getTrackObjById)(this.tiledPlots,e,t);i?i.setFixedValueScaleMin&&i.setFixedValueScaleMax?(i.setFixedValueScaleMin(n),i.setFixedValueScaleMax(r),i.rerender(i.options,!0),i.animate()):console.warn("Track doesn't support fixed value scales."):console.warn("Could't find track: "+String(t))}return e}()},{key:"setChromInfo",value:function(){function e(e,t){var n=this;(0,F.default)(e,(function(e){n.chromInfo=e,t()}),this.pubSub)}return e}()},{key:"onMouseLeaveHandler",value:function(){function e(){this.pubSub.publish("app.mouseLeave"),this.hideHoverMenu(),this.animate()}return e}()},{key:"onBlurHandler",value:function(){function e(){this.animate()}return e}()},{key:"isZoomFixed",value:function(){function e(e){return this.props.zoomFixed||this.props.options.zoomFixed||this.state.viewConfig.zoomFixed||this.props.options.sizeMode===se||e&&e.zoomFixed}return e}()},{key:"trackDimensionsModifiedHandler",value:function(){function e(e){var t=this.state.views[e.viewId];if(t){var n=(0,q.getTrackByUid)(t.tracks,e.trackId);n&&(void 0!==e.height&&(n.height=e.height),void 0!==e.width&&(n.width=e.width),this.adjustLayoutToTrackSizes(t),this.setState((function(e){return{views:e.views}})))}}return e}()},{key:"wheelHandler",value:function(){function e(e){if(!this.state.modal&&this.props.options.sizeMode!==se){var t=e.nativeEvent||e,n=e.target===this.canvasElement;if((0,q.hasParent)(t.target,this.topDiv)&&!this.isZoomFixed()){var r=t.clientX,i=t.clientY,o=this.getTiledPlotAtPosition(r,i);if(this.apiStack.wheel&&this.apiStack.wheel.length>0){var a=(0,S.clientPoint)(this.topDiv,t);a[1]+=this.scrollTop;var s=o?o.listTracksAtPosition(a[0],a[1],!0).map((function(e){return e.originalTrack||e})):[],l=s.find((function(e){return!e.isAugmentationTrack})),u=l?[a[0]-l.position[0],a[1]-l.position[1]]:a,c={x:a[0],y:a[1],relTrackX:l&&l.flipText?u[1]:u[0],relTrackY:l&&l.flipText?u[0]:u[1],track:l,origEvt:t,sourceUid:this.uid,hoveredTracks:s,noHoveredTracks:0===s.length};this.apiPublish("wheel",c)}if(t.forwarded||n)return e.stopPropagation(),void e.preventDefault();if(e.preventDefault(),o){var h=o.trackRenderer;t.forwarded=!0,t&&((0,q.forwardEvent)(t,h.eventTracker),t.preventDefault())}}}}return e}()},{key:"render",value:function(){function e(){var e=this;this.tiledAreasDivs={},this.tiledAreas=T.default.createElement("div",{className:"HiGlass-module_tiled-area-22H1L"}),this.mounted&&(this.tiledAreas=(0,q.dictValues)(this.state.views).map((function(t){var n=t.uid===e.state.addTrackPositionMenuUid?e.state.addTrackPositionMenuPosition:null,r=null;if(e.state.chooseViewHandler){var i="transparent";e.state.mouseOverOverlayUid===t.uid&&(i="green"),r=T.default.createElement("div",{className:"tiled-plot-overlay",onClick:function(){function n(){return e.state.chooseViewHandler(t.uid)}return n}(),onMouseEnter:function(){function n(){return e.handleOverlayMouseEnter(t.uid)}return n}(),onMouseLeave:function(){function n(){return e.handleOverlayMouseLeave(t.uid)}return n}(),onMouseMove:function(){function n(){return e.handleOverlayMouseEnter(t.uid)}return n}(),style:{position:"absolute",width:"100%",height:"100%",background:i,opacity:.3,zIndex:1}})}var o=T.default.createElement(D.default,{key:"tp"+String(t.uid),ref:function(){function n(n){e.tiledPlots[t.uid]=n}return n}(),addTrackPosition:e.state.addTrackPositionView===t.uid?e.state.addTrackPosition:null,addTrackPositionMenuPosition:n,canvasElement:e.state.canvasElement,chooseTrackHandler:e.state.chooseTrackHandler?function(n){return e.state.chooseTrackHandler(t.uid,n)}:null,chromInfoPath:t.chromInfoPath,disableTrackMenu:e.isTrackMenuDisabled(),draggingHappening:e.state.draggingHappening,editable:e.isEditable(),getLockGroupExtrema:function(){function n(n){return e.getLockGroupExtrema(t.uid,n)}return n}(),initialXDomain:t.initialXDomain,initialYDomain:t.initialYDomain,isShowGlobalMousePosition:e.isShowGlobalMousePosition,isValueScaleLocked:function(){function n(n){return e.isValueScaleLocked(t.uid,n)}return n}(),marginBottom:e.viewMarginBottom,marginLeft:e.viewMarginLeft,marginRight:e.viewMarginRight,marginTop:e.viewMarginTop,metaTracks:t.metaTracks,mouseTool:e.state.mouseTool,onChangeTrackData:function(){function n(n,r){return e.handleChangeTrackData(t.uid,n,r)}return n}(),onChangeTrackType:function(){function n(n,r){return e.handleChangeTrackType(t.uid,n,r)}return n}(),onCloseTrack:function(){function n(n){return e.handleCloseTrack(t.uid,n)}return n}(),onDataDomainChanged:function(){function n(n,r){return e.handleDataDomainChanged(t.uid,n,r)}return n}(),onLockValueScale:function(){function n(n){return e.handleLockValueScale(t.uid,n)}return n}(),onMouseMoveZoom:e.mouseMoveZoomHandler.bind(e),onNewTilesLoaded:function(){function n(n){return e.handleNewTilesLoaded(t.uid,n)}return n}(),onNoTrackAdded:e.handleNoTrackAdded.bind(e),onRangeSelection:e.rangeSelectionHandler.bind(e),onResizeTrack:e.triggerViewChangeDb,onScalesChanged:function(){function n(n,r){return e.handleScalesChanged(t.uid,n,r)}return n}(),onTrackOptionsChanged:function(){function n(n,r){return e.handleTrackOptionsChanged(t.uid,n,r)}return n}(),onTrackPositionChosen:e.handleTrackPositionChosen.bind(e),onTracksAdded:function(){function n(n,r,i){return e.handleTracksAdded(t.uid,n,r,i)}return n}(),onUnlockValueScale:function(){function n(n){return e.handleUnlockValueScale(t.uid,n)}return n}(),onValueScaleChanged:function(){function n(n){return e.syncValueScales(t.uid,n)}return n}(),overlays:t.overlays,paddingBottom:e.viewPaddingBottom,paddingLeft:e.viewPaddingLeft,paddingRight:e.viewPaddingRight,paddingTop:e.viewPaddingTop,pixiRenderer:e.pixiRenderer,pixiStage:e.pixiStage,pluginDataFetchers:e.pluginDataFetchers,pluginTracks:e.pluginTracks,rangeSelection1dSize:e.state.rangeSelection1dSize,rangeSelectionToInt:e.state.rangeSelectionToInt,registerDraggingChangedListener:function(){function n(n){return e.addDraggingChangedListener(t.uid,t.uid,n)}return n}(),removeDraggingChangedListener:function(){function n(n){return e.removeDraggingChangedListener(t.uid,t.uid,n)}return n}(),setCentersFunction:function(){function n(n){e.setCenters[t.uid]=n}return n}(),svgElement:e.state.svgElement,tracks:t.tracks,trackSourceServers:e.state.viewConfig.trackSourceServers,uid:t.uid,verticalMargin:e.verticalMargin,viewOptions:t.options,xDomainLimits:t.xDomainLimits,yDomainLimits:t.yDomainLimits,zoomable:!e.isZoomFixed(t),zoomLimits:e.calculateZoomLimits(t,t.initialXDomain),zoomToDataExtentOnInit:function(){function n(){return e.zoomToDataExtentOnInit.has(t.uid)}return n}()}),a=function(){function n(n,r){return t.genomePositionSearchBox?T.default.createElement(N.default,{key:"gpsb"+String(t.uid),ref:function(){function n(n){e.genomePositionSearchBoxes[t.uid]=n}return n}(),autocompleteId:t.genomePositionSearchBox.autocompleteId,autocompleteServer:t.genomePositionSearchBox.autocompleteServer,chromInfoId:t.genomePositionSearchBox.chromInfoId,chromInfoPath:t.genomePositionSearchBox.chromInfoPath,chromInfoServer:t.genomePositionSearchBox.chromInfoServer,hideAvailableAssemblies:t.genomePositionSearchBox.hideAvailableAssemblies,isFocused:n,onFocus:r,onGeneSearch:e.geneSearchHandler.bind(e),onSelectedAssemblyChanged:function(){function n(n,r,i){return e.handleSelectedAssemblyChanged(t.uid,n,r,i)}return n}(),registerViewportChangedListener:function(){function n(n){return e.addScalesChangedListener(t.uid,t.uid,n)}return n}(),removeViewportChangedListener:function(){function n(){return e.removeScalesChangedListener(t.uid,t.uid)}return n}(),setCenters:function(){function n(n,r,i,o){return e.setCenters[t.uid](n,r,i,!1,o)}return n}(),trackSourceServers:e.state.viewConfig.trackSourceServers,twoD:!0}):null}return n}(),s=!e.isEditable()||e.isViewHeaderDisabled()||e.state.viewConfig.hideHeader?null:T.default.createElement(B.default,{ref:function(){function n(n){e.viewHeaders[t.uid]=n}return n}(),getGenomePositionSearchBox:a,isGenomePositionSearchBoxVisible:t.genomePositionSearchBox&&t.genomePositionSearchBox.visible,mouseTool:e.state.mouseTool,onAddView:function(){function n(){return e.handleAddView(t)}return n}(),onClearView:function(){function n(){return e.handleClearView(t.uid)}return n}(),onCloseView:function(){function n(){return e.handleCloseView(t.uid)}return n}(),onEditViewConfig:e.handleEditViewConfigBound,onExportPNG:e.handleExportPNG.bind(e),onExportSVG:e.handleExportSVG.bind(e),onExportViewsAsJSON:e.handleExportViewAsJSON.bind(e),onExportViewsAsLink:e.handleExportViewsAsLink.bind(e),onLockLocation:function(){function t(t){return e.handleYankFunction(t,e.handleLocationLockChosen.bind(e))}return t}(),onLockZoom:function(){function t(t){return e.handleYankFunction(t,e.handleZoomLockChosen.bind(e))}return t}(),onLockZoomAndLocation:function(){function t(t){return e.handleYankFunction(t,(function(t,n){e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)}))}return t}(),onProjectViewport:e.handleProjectViewport.bind(e),onTakeAndLockZoomAndLocation:function(){function t(t){e.handleYankFunction(t,(function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n),e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)}))}return t}(),onTogglePositionSearchBox:e.handleTogglePositionSearchBox.bind(e),onTrackPositionChosen:function(){function n(n){return e.handleTrackPositionChosen(t.uid,n)}return n}(),onUnlockLocation:function(){function t(t){return e.handleUnlock(t,e.locationLocks)}return t}(),onUnlockZoom:function(){function t(t){return e.handleUnlock(t,e.zoomLocks)}return t}(),onUnlockZoomAndLocation:function(){function t(t){e.handleUnlock(t,e.zoomLocks),e.handleUnlock(t,e.locationLocks)}return t}(),onViewOptionsChanged:function(){function n(n){return e.handleViewOptionsChanged(t.uid,n)}return n}(),onYankLocation:function(){function t(t){return e.handleYankFunction(t,e.handleLocationYanked.bind(e))}return t}(),onYankZoom:function(){function t(t){return e.handleYankFunction(t,e.handleZoomYanked.bind(e))}return t}(),onYankZoomAndLocation:function(){function t(t){return e.handleYankFunction(t,(function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n)}))}return t}(),onZoomToData:function(){function t(t){return e.handleZoomToData(t)}return t}(),viewUid:t.uid});return T.default.createElement("div",{key:t.uid,ref:function(){function n(n){e.tiledAreasDivs[t.uid]=n}return n}(),className:"HiGlass-module_tiled-area-22H1L"},s,o,r)})));var t=this.mounted?(0,h.default)(this.state.views).filter((function(e){return e.layout})).map((function(e){return e.layout})):[];t=JSON.parse((0,c.default)(t));var n=this.isEditable()?K.DEFAULT_CONTAINER_PADDING_X:0,r=this.isEditable()?K.DEFAULT_CONTAINER_PADDING_Y:0,i=+this.props.options.containerPaddingX>=0?+this.props.options.containerPaddingX:n,o=+this.props.options.containerPaddingY>=0?+this.props.options.containerPaddingY:r,a=T.default.createElement(O.default,{ref:function(){function t(t){e.gridLayout=t}return t}(),cols:12,containerPadding:[i,o],draggableHandle:"."+String(Z.default["multitrack-header-grabber"]),isDraggable:this.isEditable(),isResizable:this.isEditable(),layout:t,margin:this.isEditable()?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted,verticalCompact:this.state.viewConfig.compactLayout,width:this.state.width},this.tiledAreas),s="styles.higlass";this.theme===K.THEME_DARK&&(s+=" styles.higlass-dark-theme"),(this.props.options.sizeMode===ae||this.props.options.sizeMode===se)&&(s+=" styles.higlass-container-overflow");var l="";return this.props.options.sizeMode===ae?l="styles.higlass-scroll-container-overflow":this.props.options.sizeMode===se&&(l="styles.higlass-scroll-container-scroll"),T.default.createElement("div",{key:this.uid,ref:function(){function t(t){e.topDiv=t}return t}(),onMouseLeave:this.onMouseLeaveHandlerBound,onMouseMove:this.mouseMoveHandlerBound,className:"higlass "+(0,x.default)(s,ee)},T.default.createElement(G.Provider,{value:this.pubSub},T.default.createElement(X.Provider,{value:this.modal},T.default.createElement(Y.Provider,{value:this.theme},this.state.modal,T.default.createElement("canvas",{key:this.uid,ref:function(){function t(t){e.canvasElement=t}return t}(),className:"HiGlass-module_higlass-canvas-_mP9r"}),T.default.createElement("div",{ref:function(){function t(t){e.scrollContainer=t}return t}(),onScroll:this.onScrollHandlerBound,className:"higlass-scroll-container "+(0,x.default)(l,ee)},T.default.createElement("div",{ref:function(){function t(t){e.divDrawingSurface=t}return t}(),className:"higlass-drawing-surface HiGlass-module_higlass-drawing-surface-3aQQo"},a),T.default.createElement("svg",{ref:function(){function t(t){e.svgElement=t}return t}(),style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none"},className:"HiGlass-module_higlass-svg-JJZbf"}))))))}return e}()},{key:"sizeMode",get:function(){function e(){return"undefined"==typeof this.props.options.sizeMode?this.props.options.bounded?"bounded":ie:this.props.options.sizeMode}return e}()}]),t}(T.default.Component);le.defaultProps={options:{},zoomFixed:!1,compactLayout:!0},le.propTypes={getApi:w.default.func,options:w.default.object,viewConfig:w.default.oneOfType([w.default.string,w.default.object]).isRequired,zoomFixed:w.default.bool,compactLayout:w.default.bool},t.default=le},function(e,t,n){n(234),e.exports=n(12).Number.isNaN},function(e,t,n){var r=n(16);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){n(61),n(236),e.exports=n(12).Array.from},function(e,t,n){var r=n(49),i=n(16),o=n(54),a=n(165),s=n(166),l=n(88),u=n(237),c=n(112);i(i.S+i.F*!n(167)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,h,f=o(e),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,y=c(f);if(v&&(m=r(m,p>2?arguments[2]:void 0,2)),null==y||d==Array&&s(y))for(n=new d(t=l(f.length));t>g;g++)u(n,g,v?m(f[g],g):f[g]);else for(h=y.call(f),n=new d;!(i=h.next()).done;g++)u(n,g,v?a(h,m,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){var r=n(32),i=n(66);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(33);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){n(240),e.exports=-9007199254740991},function(e,t,n){var r=n(16);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){n(242),e.exports=9007199254740991},function(e,t,n){var r=n(16);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){function r(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}e.exports=function(e){return null!=e&&(n(e)||r(e)||!!e._isBuffer)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(17)),i=v(n(62)),o=v(n(246)),a=v(n(247)),s=v(n(35)),l=v(n(3)),u=v(n(4)),c=v(n(26)),h=n(28),f=n(10),d=v(n(137)),p=v(n(138)),m=n(24);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(t,n){(0,l.default)(this,e),this.tilesetInfoLoading=!0,t?(this.dataConfig=JSON.parse((0,s.default)(t)),this.uuid=c.default.nice(),this.pubSub=n,this.dataConfig.children&&(this.dataConfig.children=t.children.map((function(t){return new e(t,n)})))):console.error("No dataconfig provided")}return(0,u.default)(e,[{key:"registerFileUrl",value:function(){var e=(0,a.default)(o.default.mark(function(){function e(t){var n,r,i=t.server,a=t.url,l=t.filetype,u=t.coordSystem;return o.default.wrap(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return n=String((0,f.trimTrailingSlash)(i))+"/register_url/",r={fileurl:a,filetype:l,coordSystem:u},e.abrupt("return",fetch(n,{method:"POST",body:(0,s.default)(r),headers:{"Content-Type":"application/json; charset=utf-8"}}));case 3:case"end":return e.stop()}}return e}(),e,this)}return e}()));function t(t){return e.apply(this,arguments)}return t}()},{key:"tilesetInfo",value:function(){function e(e){var t=this;return this.dataConfig.server&&this.dataConfig.url&&this.dataConfig.filetype?this.registerFileUrl(this.dataConfig).then((function(e){return e.json()})).then((function(n){t.dataConfig.tilesetUid=n.uid,t.tilesetInfoAfterRegister(e)})).catch((function(e){console.error("Error registering url",e)})):new i.default((function(){t.tilesetInfoAfterRegister(e)}))}return e}()},{key:"tilesetInfoAfterRegister",value:function(){function e(e){var t=this;if(this.dataConfig.children){var n=this.dataConfig.children.map((function(e){return new i.default((function(t){e.tilesetInfo(t)}))}));i.default.all(n).then((function(t){e(t[0])}))}else this.dataConfig.server&&this.dataConfig.tilesetUid?m.tileProxy.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,(function(n){t.dataConfig.tilesetInfo=n[t.dataConfig.tilesetUid],e(n[t.dataConfig.tilesetUid],t.dataConfig.tilesetUid)}),(function(n){t.tilesetInfoLoading=!1,e({error:n})}),this.pubSub):(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),e(null))}return e}()},{key:"fullTileId",value:function(){function e(e,t){return String(e)+"."+String(t)}return e}()},{key:"fetchTilesDebounced",value:function(){function e(e,t){var n=this;if("horizontal-section"===this.dataConfig.type)this.fetchHorizontalSection(e,t);else if("vertical-section"===this.dataConfig.type)this.fetchHorizontalSection(e,t,!0);else if(!this.dataConfig.children&&this.dataConfig.tilesetUid)new i.default((function(e){return m.tileProxy.fetchTilesDebounced({id:c.default.nice(),server:n.dataConfig.server,done:e,ids:t.map((function(e){return String(n.dataConfig.tilesetUid)+"."+String(e)})),options:n.dataConfig.options},n.pubSub,!0)})).then((function(r){for(var i=(0,f.dictValues)(r)[0].tilesetUid,o={},a=0;a<t.length;a++){var s=n.fullTileId(i,t[a]);r[s].tilePositionId=t[a],o[t[a]]=r[s]}e(o)}));else{var r=this.dataConfig.children.map((function(e){return new i.default((function(n){e.fetchTilesDebounced(n,t)}),n.pubSub,!0)}));i.default.all(r).then((function(r){if("divided"===n.dataConfig.type){var i=n.makeDivided(r,t);e(i)}else console.warn("Unimplemented dataConfig type. Returning first data source.",n.dataConfig),e(r[0])}))}}return e}()},{key:"divideData",value:function(){function e(e,t){for(var n=new Float32Array(e.length),r=0;r<n.length;r++)0===t[r]?n[r]=NaN:n[r]=e[r]/t[r];return n}return e}()},{key:"horizontalSlice",value:function(){function e(){return null}return e}()},{key:"extractDataSlice",value:function(){function e(e,t,n,r){if(!r)return e.slice(t[1]*n,t[1]*(n+1));for(var i=new Array(t[1]),o=n;o<e.length;o+=t[0])i[Math.floor(o/t[0])]=e[o];return i}return e}()},{key:"fetchHorizontalSection",value:function(){function e(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[],s=[],l=!0,u=!1,p=void 0;try{for(var v,g=(0,r.default)(t);!(l=(v=g.next()).done);l=!0){var y=v.value.split("."),b=+y[0],_=+y[1],x=(0,h.scaleLinear)().domain([this.dataConfig.slicePos,this.dataConfig.slicePos]),T=[];if(this.dataConfig.tilesetInfo&&this.dataConfig.tilesetInfo.resolutions){var w=this.dataConfig.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));T=m.tileProxy.calculateTilesFromResolution(w[b],x,this.dataConfig.tilesetInfo.min_pos[o?1:0],this.dataConfig.tilesetInfo.max_pos[o?1:0])}else T=m.tileProxy.calculateTiles(b,x,this.dataConfig.tilesetInfo.min_pos[o?1:0],this.dataConfig.tilesetInfo.max_pos[o?1:0],this.dataConfig.tilesetInfo.max_zoom,this.dataConfig.tilesetInfo.max_width);var S=[_,T[0]].sort((function(e,t){return e-t}));S[0]===_?s.push(!1):s.push(!0);var E=b+"."+String(S[0])+"."+String(S[1]);a.push(E)}}catch(k){u=!0,p=k}finally{try{!l&&g.return&&g.return()}finally{if(u)throw p}}new i.default((function(e){return m.tileProxy.fetchTilesDebounced({id:c.default.nice(),server:n.dataConfig.server,done:e,ids:a.map((function(e){return String(n.dataConfig.tilesetUid)+"."+String(e)}))},n.pubSub,!0)})).then((function(r){for(var i=(0,f.dictValues)(r)[0].tilesetUid,o={},l=0;l<a.length;l++){var u=a[l].split("."),c=+u[0],h=+u[1],p=+u[2],v=m.tileProxy.calculateTileAndPosInTile(n.dataConfig.tilesetInfo,n.dataConfig.tilesetInfo.max_width,n.dataConfig.tilesetInfo.min_pos[1],c,+n.dataConfig.slicePos)[1],g=r[n.fullTileId(i,a[l])],y=null;if(h===p){y=n.extractDataSlice(g.dense,[256,256],v);for(var b=n.extractDataSlice(g.dense,[256,256],v,1),_=0;_<y.length;_++)y[_]+=b[_]}else y=s[l]?n.extractDataSlice(g.dense,[256,256],v,1):n.extractDataSlice(g.dense,[256,256],v);var x={min_value:Math.min.apply(null,y),max_value:Math.max.apply(null,y),denseDataExtrema:new d.default(y),minNonZero:(0,f.minNonZero)(y),maxNonZero:(0,f.maxNonZero)(y),dense:y,dtype:g.dtype,server:g.server,tilePos:s[l]?[p]:[h],tilePositionId:t[l],tilesetUid:i,zoomLevel:g.zoomLevel};o[t[l]]=x}e(o)}))}return e}()},{key:"makeDivided",value:function(){function e(e,t){e.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",this.dataConfig);for(var n={},r=0;r<t.length;r++){var i=e[0][t[r]].zoomLevel,o=e[0][t[r]].tilePos,a={zoomLevel:i,tilePos:o,tilePositionId:t[r]};if(e[0][t[r]].dense&&e[1][t[r]].dense){var s=this.divideData(e[0][t[r]].dense,e[1][t[r]].dense);a={dense:s,denseDataExtrema:2===o.length?new p.default(s):new d.default(s),minNonZero:(0,f.minNonZero)(s),maxNonZero:(0,f.maxNonZero)(s),zoomLevel:i,tilePos:o,tilePositionId:t[r]}}n[t[r]]=a}return n}return e}()}]),e}();t.default=g},function(e,t,n){e.exports=n(615)},function(e,t,n){t.__esModule=!0;var r=i(n(62));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default((function(e,n){function i(o,a){try{var s=t[o](a),l=s.value}catch(u){return void n(u)}if(!s.done)return r.default.resolve(l).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(l)}return i("next")}))}}},function(e,t,n){e.exports={default:n(249),__esModule:!0}},function(e,t,n){n(250),e.exports=n(12).Math.log2},function(e,t,n){var r=n(16);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){e.exports={default:n(252),__esModule:!0}},function(e,t,n){n(253),e.exports=n(12).Number.isSafeInteger},function(e,t,n){var r=n(16),i=n(178),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initTile=t.drawTile=void 0;var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(7)),l=c(n(135)),u=n(11);function c(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileY,o=n.tileWidth;e.drawnAtScale=this._xScale.copy();var a=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))),s=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=a,e.text.scale.y=s;var l=this._xScale(o)-this._xScale(0);if(e.textGraphics.scale.x=l/256,e.textGraphics.scale.y=l/256,t.clear(),t.lineStyle(4*a,255,1),t.beginFill(16740363,.4),t.alpha=.5,e.mirrored){var u=this._refXScale(i+o)-this._refXScale(i),c=this._refYScale(r+o)-this._refYScale(r);e.textGraphics.position.x=this._refXScale(i)+u/2,e.textGraphics.position.y=this._refYScale(r)+c/2,t.drawRect(this._refXScale(i),this._refYScale(r),u,c)}else{var h=this._refXScale(r+o)-this._refXScale(r),f=this._refYScale(i+o)-this._refYScale(i);e.textGraphics.position.x=this._refXScale(r)+h/2,e.textGraphics.position.y=this._refYScale(i)+f/2,t.drawRect(this._refXScale(r),this._refYScale(i),h,f)}}}function f(e){var t=e.graphics;e.textGraphics=new u.GLOBALS.PIXI.Graphics,e.mirrored?e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String([e.tileData.tilePos[1],e.tileData.tilePos[0]].join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}):e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics)}t.drawTile=h,t.initTile=f;var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){function e(){return!0}return e}()},{key:"initTile",value:function(){function e(e){f.bind(this)(e),this.drawTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"drawTile",value:function(){function e(e){h.bind(this)(e)}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[0],tilePos:n.slice(1,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics()}return e}()}]),t}(l.default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(25)),i=m(n(18)),o=m(n(38)),a=m(n(5)),s=m(n(3)),l=m(n(4)),u=m(n(6)),c=m(n(14)),h=m(n(7)),f=n(28),d=m(n(79)),p=n(24);function m(e){return e&&e.__esModule?e:{default:e}}var v=1024,g=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n)),i=e.onMouseMoveZoom,o=e.isValueScaleLocked,l=e.getLockGroupExtrema;return r.onMouseMoveZoom=i,r.isValueScaleLocked=o,r.getLockGroupExtrema=l,r.onMouseMoveZoom&&r.pubSubs.push(r.pubSub.subscribe("app.mouseMove",r.mouseMoveHandler.bind(r))),r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"initTile",value:function(){function e(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e)}return e}()},{key:"tileToLocalId",value:function(){function e(e){return""+String(e.join("."))}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+String(e.join("."))}return e}()},{key:"relevantScale",value:function(){function e(){return null}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new o.default(this.visibleTiles.map((function(e){return e.tileId})))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){var e=this;if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e})),n=p.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]).map((function(t){return[e.zoomLevel,t]}));return void this.setVisibleTiles(n)}var r=p.tileProxy.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width).map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(r)}}return e}()},{key:"getTilePosAndDimensions",value:function(){function e(e,t,n){var r=t[0],i=t[0];if(this.tilesetInfo.resolutions){var o=n||v,a=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[e],s=a*o,l=s;return{tileX:a*o*t[0],tileY:a*o*t[1],tileWidth:s,tileHeight:l}}var u=this.tilesetInfo.max_width,c=this.tilesetInfo.max_width,h=this.tilesetInfo.min_pos[0],f=this.tilesetInfo.min_pos[1],d=u/Math.pow(2,e),p=c/Math.pow(2,e);return{tileX:h+r*d,tileY:f+i*p,tileWidth:d,tileHeight:p}}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()},{key:"scheduleRerender",value:function(){function e(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}return e}()},{key:"handleRerender",value:function(){function e(){this.rerender(this.options,!1)}return e}()},{key:"getIndicesOfVisibleDataInTile",value:function(){function e(e){var t=this._xScale.range();if(!this.tilesetInfo)return[null,null];var n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),r=n.tileX,i=n.tileWidth,o=(0,f.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([r,r+i]);return[Math.max(0,Math.round(o.invert(this._xScale.invert(t[0])))),Math.min(e.tileData.dense.length,Math.round(o.invert(this._xScale.invert(t[1]))))]}return e}()},{key:"minVisibleValue",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,i.default)(this.fetchedTiles));var o=n.map((function(t){return e.fetchedTiles[t]})).map((function(t){var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMinNonZeroInSubset(n)})),a=Math.min.apply(Math,(0,r.default)(o));return t?a:null!==this.valueScaleMin?this.valueScaleMin:a}return e}()},{key:"maxVisibleValue",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,i.default)(this.fetchedTiles));var o=n.map((function(t){return e.fetchedTiles[t]})).map((function(t){var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMaxNonZeroInSubset(n)})),a=Math.max.apply(Math,(0,r.default)(o));return t?a:null!==this.valueScaleMax?this.valueScaleMax:a}return e}()},{key:"getAggregatedVisibleValue",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"max",n="min"===t?Math.min:Math.max,o="min"===t?1/0:-1/0,a=this.visibleAndFetchedIds();0===a.length&&(a=(0,i.default)(this.fetchedTiles));var s=this._xScale.range();return a.map((function(t){return e.fetchedTiles[t]})).map((function(n){if(!n.tileData.tilePos)return"min"===t?e.minVisibleValue():e.maxVisibleValue();var r=e.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos,e.tilesetInfo.bins_per_dimension||e.tilesetInfo.tile_size),i=r.tileX,o=r.tileWidth,a=(0,f.scaleLinear)().domain([0,e.tilesetInfo.tile_size||e.tilesetInfo.bins_per_dimension]).range([i,i+o]),l=Math.max(0,Math.round(a.invert(e._xScale.invert(s[0])))),u=Math.min(n.tileData.dense.length,Math.round(a.invert(e._xScale.invert(s[1]))));return n.tileData.dense.slice(l,u)})).reduce((function(e,t){return n.apply(void 0,[e].concat((0,r.default)(t)))}),o)}return e}()},{key:"getDataAtPos",value:function(){function e(e){var t=void 0;if(!this.tilesetInfo)return t;var n=this.calculateZoomLevel(),r=p.tileProxy.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(e)/r,o=this.tileToLocalId([n,Math.floor(i)]),a=this.fetchedTiles[o];if(!a)return t;var s=this.tilesetInfo.tile_size*(i-Math.floor(i));return a.tileData.dense?a.tileData.dense[Math.floor(s)]:null}return e}()},{key:"mouseMoveHandler",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y;this.isWithin(t,n)&&(this.mouseX=t,this.mouseY=n,this.mouseMoveZoomHandler())}return e}()},{key:"mouseMoveZoomHandler",value:function(){function e(){}return e}()},{key:"zoomed",value:function(){function e(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(e=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"zoomed",this)).call.apply(e,[this].concat(r)),this.mouseMoveZoomHandler()}return e}()}]),t}(d.default);t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(17)),i=c(n(25)),o=c(n(18)),a=c(n(38)),s=c(n(3)),l=c(n(4)),u=c(n(26));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){var n=this,r=t.tracks,i=t.createTrackObject;(0,s.default)(this,e),this.childTracks=r.map(i),this.createdTracks={},this.uid=u.default.nice(),this.childTracks.forEach((function(e,t){n.createdTracks[r[t].uid]=e}));for(var o=0;o<this.childTracks.length;o++)this.childTracks[o]||console.error("Empty child track in CombinedTrack:",this)}return(0,l.default)(e,[{key:"updateContents",value:function(){function e(e,t){var n=this,r=[],s=new a.default;e.forEach((function(e){if(s.add(e.uid),e.uid in n.createdTracks)r.push(n.createdTracks[e.uid]);else{var i=t(e);i.setPosition(n.position),i.setDimensions(n.dimensions),r.push(i),i.zoomed(n._xScale,n._yScale),n.createdTracks[e.uid]=i}})),this.childTracks=r;var l=new a.default((0,o.default)(this.createdTracks)),u=new a.default([].concat((0,i.default)(l)).filter((function(e){return!s.has(e)})));return[].concat((0,i.default)(u)).forEach((function(e){n.createdTracks[e].remove(),delete n.createdTracks[e]})),this}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setPosition(e)}return e}()},{key:"setDimensions",value:function(){function e(e){this.dimensions=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setDimensions(e)}return e}()},{key:"zoomed",value:function(){function e(e,t,n,r,i,o,a){this._xScale=e,this._yScale=t;for(var s=0;s<this.childTracks.length;s++)this.childTracks[s].zoomed(e,t,n,r,i,o,a)}return e}()},{key:"draw",value:function(){function e(){}return e}()},{key:"refScalesChanged",value:function(){function e(e,t){for(var n=0;n<this.childTracks.length;n++)this.childTracks[n].refScalesChanged(e,t)}return e}()},{key:"remove",value:function(){function e(){for(var e=0;e<this.childTracks.length;e++)this.childTracks[e].remove()}return e}()},{key:"exportSVG",value:function(){function e(){var e=document.createElement("g"),t=!0,n=!1,i=void 0;try{for(var o,a=(0,r.default)(this.childTracks);!(t=(o=a.next()).done);t=!0){var s=o.value;s.exportSVG&&e.appendChild(s.exportSVG()[0])}}catch(l){n=!0,i=l}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}return[e,e]}return e}()},{key:"rerender",value:function(){function e(e){}return e}()},{key:"minValue",value:function(){function e(e){if(0===arguments.length){var t=this.childTracks.filter((function(e){return e.minValue})).map((function(e){return e.minValue()})).filter((function(e){return e}));return Math.min.apply(Math,(0,i.default)(t))}var n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(n=(s=l.next()).done);n=!0){var u=s.value;u.minValue&&u.minValue(e)}}catch(c){o=!0,a=c}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}return e}()},{key:"maxValue",value:function(){function e(e){if(0===arguments.length){var t=this.childTracks.filter((function(e){return e.maxValue})).map((function(e){return e.maxValue()})).filter((function(e){return e}));return Math.max.apply(Math,(0,i.default)(t))}var n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(n=(s=l.next()).done);n=!0){var u=s.value;u.maxValue&&u.maxValue(e)}}catch(c){o=!0,a=c}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}return e}()},{key:"respondsToPosition",value:function(){function e(e,t){return e>=this.position[0]&&e<=this.dimensions[0]+this.position[0]&&t>=this.position[1]&&t<=this.dimensions[1]+this.position[1]}return e}()},{key:"stopHover",value:function(){function e(){var e=!0,t=!1,n=void 0;try{for(var i,o=(0,r.default)(this.childTracks);!(e=(i=o.next()).done);e=!0){var a=i.value;a.stopHover&&a.stopHover()}}catch(s){t=!0,n=s}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}return e}()},{key:"getMouseOverHtml",value:function(){function e(e,t){var n="",i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.getMouseOverHtml){var c=u.getMouseOverHtml(e,t);c&&c.length&&(n+=c,n+="<br/>")}}}catch(h){o=!0,a=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n}return e}()}]),e}();t.default=h},function(e,t,n){(function(e,r){var i=n(258),o=n(618);e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s=e.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=o([32,0])),s.BUFFER||(s.BUFFER=o([32,0]));var l=s.DATA,u=s.BUFFER;function c(e){if(e){var t=e.length||e.byteLength,n=i.log2(t);l[n].push(e)}}function h(e){c(e.buffer)}function f(e){e=i.nextPow2(e);var t=i.log2(e),n=l[t];return n.length>0?n.pop():new ArrayBuffer(e)}function d(e){return new Uint8Array(f(e),0,e)}function p(e){return new Uint16Array(f(2*e),0,e)}function m(e){return new Uint32Array(f(4*e),0,e)}function v(e){return new Int8Array(f(e),0,e)}function g(e){return new Int16Array(f(2*e),0,e)}function y(e){return new Int32Array(f(4*e),0,e)}function b(e){return new Float32Array(f(4*e),0,e)}function _(e){return new Float64Array(f(8*e),0,e)}function x(e){return a?new Uint8ClampedArray(f(e),0,e):d(e)}function T(e){return new DataView(f(e),0,e)}function w(e){e=i.nextPow2(e);var t=i.log2(e),n=u[t];return n.length>0?n.pop():new r(e)}t.free=function(e){if(r.isBuffer(e))u[i.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|i.log2(t);l[n].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=h,t.freeArrayBuffer=c,t.freeBuffer=function(e){u[i.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return f(e);switch(t){case"uint8":return d(e);case"uint16":return p(e);case"uint32":return m(e);case"int8":return v(e);case"int16":return g(e);case"int32":return y(e);case"float":case"float32":return b(e);case"double":case"float64":return _(e);case"uint8_clamped":return x(e);case"buffer":return w(e);case"data":case"dataview":return T(e);default:return null}return null},t.mallocArrayBuffer=f,t.mallocUint8=d,t.mallocUint16=p,t.mallocUint32=m,t.mallocInt8=v,t.mallocInt16=g,t.mallocInt32=y,t.mallocFloat32=t.mallocFloat=b,t.mallocFloat64=t.mallocDouble=_,t.mallocUint8Clamped=x,t.mallocDataView=T,t.mallocBuffer=w,t.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,l[e].length=0,u[e].length=0}}).call(this,n(27),n(113).Buffer)},function(e,t,n){var r=32;function i(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=r,t.INT_MAX=2147483647,t.INT_MIN=-1<<r-1,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>r-1;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=i,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var o=new Array(256);(function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}})(o),t.reverse=function(e){return o[255&e]<<24|o[e>>>8&255]<<16|o[e>>>16&255]<<8|o[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>i(e)+1}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(37)),i=g(n(30)),o=g(n(19)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(14)),h=g(n(7)),f=n(28),d=n(157),p=g(n(116)),m=n(11),v=n(10);function g(e){return e&&e.__esModule?e:{default:e}}var y=(0,v.colorToHex)("#FFFFFF"),b=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,u.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r)));return o.zeroLine=new m.GLOBALS.PIXI.Graphics,o.pMain.addChild(o.zeroLine),o.valueScaleTransform=d.zoomIdentity,o.options&&o.options.colorRange&&(o.options.colorRangeGradient?o.setColorGradient(o.options.colorRange):o.setColorScale(o.options.colorRange)),o.initialized=!0,o}return(0,h.default)(t,e),(0,l.default)(t,[{key:"setColorScale",value:function(){function e(e){e&&(this.colorScale=(0,v.colorDomainToRgbaArray)(e),this.colorScale=this.colorScale.map((function(e){return e.map((function(e){return e/255}))})))}return e}()},{key:"setColorGradient",value:function(){function e(e){if(e){var t=e.length-1;this.colorGradientColors="bottom"===this.options.align?e.slice().reverse().map((function(e,n){return{from:n/t,color:e}})):e.map((function(e,n){return{from:n/t,color:e}}))}}return e}()},{key:"initTile",value:function(){function e(e){this.initialized&&(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e)}return e}()},{key:"updateTile",value:function(){function e(e){(!e.valueScale||!this.scale||this.scale.minValue!==e.scale.minValue||this.scale.maxValue!==e.scale.maxValue)&&this.renderTile(e)}return e}()},{key:"renderTile",value:function(){function e(e){this.initialized&&(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"renderTile",this).call(this,e)}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics;e.svgData=void 0;var n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),r=n.tileX,a=n.tileWidth,s=e.tileData.dense;if(0!==s.length){var l=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue(),0),u=(0,o.default)(l,2),c=u[0],h=u[1];c.clamp(!0),this.valueScale=c;var d=c.copy();if(d.range([254,0]).clamp(!0),t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var p=(0,v.colorToHex)(this.options.lineStrokeColor||"blue"),g=(0,f.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([r,r+a]),b=0;t.lineStyle(b,p,1);var _=this.options.barFillColor||"grey",x=(0,v.colorToHex)(_),T="barOpacity"in this.options?this.options.barOpacity:1;t.beginFill(x,T),e.drawnAtScale=this._xScale.copy();var w="top"===this.options.align,S=void 0,E=void 0,k=void 0,C=void 0,A=void 0,O=void 0;if(this.colorGradientColors){(A=new m.GLOBALS.PIXI.Graphics).beginFill(y,1);var P=(0,v.gradient)(this.colorGradientColors,1,this.dimensions[1],0,0,0,this.dimensions[1]);(O=new m.GLOBALS.PIXI.Sprite(m.GLOBALS.PIXI.Texture.fromCanvas(P,m.GLOBALS.PIXI.SCALE_MODES.NEAREST))).x=this._xScale(r),O.width=this._xScale(r+a)-O.x}for(var M=0;M<s.length;M++)if(S=this._xScale(g(M)),k=this.valueScale(s[M]+h),E=this._xScale(g(M+1))-S,C=this.dimensions[1]-k,w&&(k=0),!((0,i.default)(C)||C<0||k<0)){if(this.addSVGInfo(e,S,k,E,C,_),g(M)>this.tilesetInfo.max_pos[0])break;if(this.colorScale&&!this.options.colorRangeGradient){var I=Math.round(d(s[M]+h)),R=this.colorScale[I],L=m.GLOBALS.PIXI.utils.rgb2hex(R);t.beginFill(L,T)}(A||t).drawRect(S,k,E,C)}this.colorGradientColors&&(O.mask=A,t.removeChildren(),t.addChild(O,A))}}}return e}()},{key:"rerender",value:function(){function e(e,n){e&&e.colorRange&&(e.colorRangeGradient?this.setColorGradient(e.colorRange):this.setColorScale(e.colorRange)),(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"rerender",this).call(this,e,n)}return e}()},{key:"drawZeroLine",value:function(){function e(){this.zeroLine.clear();var e=(0,v.colorToHex)(this.options.barFillColor||"grey"),t=+this.options.barOpacity||1,n=this.options.zeroLineColor?(0,v.colorToHex)(this.options.zeroLineColor):e,r=(0,i.default)(+this.options.zeroLineOpacity)?t:+this.options.zeroLineOpacity;this.zeroLine.beginFill(n,r),this.zeroLine.drawRect(0,this.dimensions[1]-1,this.dimensions[0],1)}return e}()},{key:"drawZeroLineSvg",value:function(){function e(e){var t=document.createElement("rect");t.setAttribute("id","zero-line"),t.setAttribute("x",0),t.setAttribute("y",this.dimensions[1]-1),t.setAttribute("height",1),t.setAttribute("width",this.dimensions[0]),t.setAttribute("fill",this.options.zeroLineColor||this.options.barFillColor),t.setAttribute("fill-opacity",this.options.zeroLineOpacity||this.options.barOpacity),e.appendChild(t)}return e}()},{key:"getXScaleAndOffset",value:function(){function e(e){var t=e.domain(),n=this._xScale.domain(),r=(t[1]-t[0])/(n[1]-n[0]);return[r,-this._xScale.domain().map(e)[0]*r]}return e}()},{key:"draw",value:function(){function e(){var e=this;this.initialized&&((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this),this.options.zeroLineVisible?this.drawZeroLine():this.zeroLine.clear(),(0,r.default)(this.fetchedTiles).forEach((function(t){var n=e.getXScaleAndOffset(t.drawnAtScale),r=(0,o.default)(n,2),i=r[0],a=r[1];t.graphics.scale.x=i,t.graphics.position.x=a})))}return e}()},{key:"zoomed",value:function(){function e(e,n){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"zoomed",this).call(this,e,n)}return e}()},{key:"movedY",value:function(){function e(e){}return e}()},{key:"zoomedY",value:function(){function e(e,t){}return e}()},{key:"addSVGInfo",value:function(){function e(e,t,n,r,i,o){e.svgData?(e.svgData.barXValues.push(t),e.svgData.barYValues.push(n),e.svgData.barWidths.push(r),e.svgData.barHeights.push(i),e.svgData.barColors.push(o)):e.svgData={barXValues:[t],barYValues:[n],barWidths:[r],barHeights:[i],barColors:[o]}}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null,r=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"superSVG",this).call(this),i=(0,o.default)(r,2);n=i[0],e=i[1],n.setAttribute("class","exported-line-track");var s=document.createElement("g");e.appendChild(s),s.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.options.zeroLine&&this.drawZeroLineSvg(s),this.visibleAndFetchedTiles().filter((function(e){return e.svgData&&e.svgData.barXValues})).forEach((function(e){for(var t=e.svgData,n=0;n<t.barXValues.length;n++){var r=document.createElement("rect");r.setAttribute("fill",t.barColors[n]),r.setAttribute("stroke",t.barColors[n]),r.setAttribute("x",t.barXValues[n]),r.setAttribute("y",t.barYValues[n]),r.setAttribute("height",t.barHeights[n]),r.setAttribute("width",t.barWidths[n]),e.barBorders&&(r.setAttribute("stroke-width","0.1"),r.setAttribute("stroke","black")),s.appendChild(r)}}));var l=document.createElement("g");if(l.setAttribute("id","axis"),n.appendChild(l),l.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var u=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);l.appendChild(u)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var h=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);l.appendChild(h)}return[n,e]}return e}()}]),t}(p.default);t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(19)),i=b(n(37)),o=b(n(17)),a=b(n(35)),s=b(n(5)),l=b(n(3)),u=b(n(4)),c=b(n(6)),h=b(n(14)),f=b(n(7)),d=b(n(180)),p=b(n(355)),m=n(11),v=b(n(115)),g=n(24),y=n(10);function b(e){return e&&e.__esModule?e:{default:e}}var _=11,x="Arial",T="outside",w=10,S=4,E=20,k=(0,y.colorToHex)("#ffffff"),C=2,A=2*w/3*2/3,O=50,P=5e3,M="blue",I="red",R=function(e,t,n){"filler"!==n.type&&t.pubSub.publish("app.click",{type:"gene-annotation",event:e,payload:n})},L=function(e,t){var n=e.concat(t),r=n.map((function(e){return[e.xStart,1,e.xEnd,1]}));(0,d.default)(r,(function(e,t){var r=null,i=null;if("filler"===n[e].type?r=n[e]:i=n[e],"filler"===n[t].type){if(r)return;r=n[t]}else{if(!r)return;i=n[t]}r.xStart>=i.xStart&&r.xEnd<=i.xEnd&&(r.hide=!0)}))};function D(e,t,n){var r=n.flipText,i=n.fontSize,o=n.fontFamily,a=n.plusStrandColor,s=n.minusStrandColor,l=n.maxGeneEntries,u=n.maxFillerEntries,c=n.maxTexts;if(t.texts={},t.rectGraphics=new m.GLOBALS.PIXI.Graphics,t.textBgGraphics=new m.GLOBALS.PIXI.Graphics,t.textGraphics=new m.GLOBALS.PIXI.Graphics,t.rectMaskGraphics=new m.GLOBALS.PIXI.Graphics,t.graphics.addChild(t.rectGraphics),t.graphics.addChild(t.textBgGraphics),t.graphics.addChild(t.textGraphics),t.graphics.addChild(t.rectMaskGraphics),t.rectGraphics.mask=t.rectMaskGraphics,t.tileData.sort){t.tileData.sort((function(e,t){return t.importance-e.importance}));var h=t.tileData.filter((function(e){return"filler"!==e.type})).slice(0,l),f=t.tileData.filter((function(e){return"filler"===e.type})).slice(0,u);t.tileData=h.concat(f),t.tileData.forEach((function(n,l){if("filler"!==n.type){var u=n.fields,h=u[3],f=e.geneId(u,n.type),d=n.strand||u[5];n.strand=n.strand||d;var p=a||M;if("-"===d&&(p=s||I),t.textWidths={},t.textHeights={},!(l>=c)){var v=new m.GLOBALS.PIXI.Text(h,{fontSize:String(i)+"px",fontFamily:o,fill:(0,y.colorToHex)(p)});v.interactive=!0,r&&(v.scale.x=-1),v.anchor.x=.5,v.anchor.y=1,t.texts[f]=v,t.texts[f].strand=d,t.textGraphics.addChild(v)}}})),t.initialized=!0}}function N(e,t,n,r,i,o,a,s,l){var u=s-l/2,c=0;e.forEach((function(e){var r=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(r),r.beginFill(o,.1),r.lineStyle(0,o);var a=[i(e.xStart)-c,u,i(e.xEnd)+c,u,i(e.xEnd)+c,u+l,i(e.xStart)-c,u+l,i(e.xStart)-c,u];r.interactive=!0,r.buttonMode=!0,r.mouseup=function(n){return R(n,t,e)},r.drawPolygon(a),n.allRects.push([a,e.strand,e])}))}function j(e,t,n,r,i,o,a,s,l,u){var c=s-l/2,h=i.split(",").map((function(e){return+e+a})),f=o.split(",").map((function(e){return+e+a})),d=e._xScale(n),p=e._xScale(r),m=p-d,v=s,g=[],y=[d,v-C/2,d+m,v-C/2,d+m,v+C/2,d,v+C/2];t.drawPolygon(y),g.push(y);for(var b=2*l,_=Math.max(e.position[0],d)+b;_<Math.min(e.position[0]+e.dimensions[0],d+m);_+=b)y="+"===u?[_,v-A/2,_+A/2,v,_,v+A/2]:[_,v-A/2,_-A/2,v,_,v+A/2],g.push(y),t.drawPolygon(y);for(var x=0;x<h.length;x++){var T=h[x],w=f[x],S=e._xScale(T),E=Math.max(1,e._xScale(w)-e._xScale(T)),k=d,O=p,P=e.geneRectHeight/2,M=null;"+"===u?(O=p-P,M=[Math.min(S,O),c,Math.min(S+E,O),c,Math.min(S+E,O),c+l,Math.min(S,O),c+l,Math.min(S,O),c]):(k=d+P,M=[Math.max(S,k),c,Math.max(S+E,k),c,Math.max(S+E,k),c+l,Math.max(S,k),c+l,Math.max(S,k),c]),g.push(M),t.drawPolygon(M)}return g}function B(e,t,n,r,i,o,a,s,l){var u=s-l/2;e.forEach((function(e){var r=t._xScale(e.xStart),i=t._xScale(e.xEnd),s=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(s),s.beginFill(o,a),s.interactive=!0,s.buttonMode=!0,s.mouseup=function(n){return R(n,t,e)};var l=t.geneRectHeight/2,c=[];if("+"===e.strand||"+"===e.fields[5]){var h=Math.max(r,i-l);c=[h,u,h+l,u+t.geneRectHeight/2,h,u+t.geneRectHeight]}else{var f=Math.min(i,r+l);c=[f,u,f-l,u+t.geneRectHeight/2,f,u+t.geneRectHeight]}s.drawPolygon(c),n.allRects.push([c,e.strand,e])}))}function F(e,t,n,r,i,o,a,s,l){e.forEach((function(e){var r=e.fields,i=+e.chrOffset,u=r[12],c=r[13],h=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(h),h.beginFill(o,a),h.interactive=!0,h.buttonMode=!0,h.mouseup=function(n){return R(n,t,e)},n.allRects=n.allRects.concat(j(t,h,e.xStart,e.xEnd,u,c,i,s,l,e.strand||e.fields[5]).map((function(t){return[t,e.strand,e]})))}))}function H(e,t,n,r,i,o,a,s,l){B(e,t,n,r,i,o,a,s,l),F(e,t,n,r,i,o,a,s,l)}function z(e,t){var n=y.trackUtils.getTilePosAndDimensions(e.tilesetInfo,t.tileId),r=n.tileX,i=n.tileWidth;t.rectMaskGraphics.clear();var o=Math.floor(Math.random()*Math.pow(16,6));t.rectMaskGraphics.beginFill(o,.3);var a=e._xScale(r),s=0,l=e._xScale(r+i)-e._xScale(r),u=e.dimensions[1];t.rectMaskGraphics.drawRect(a,s,l,u)}var U=function(e){function t(e,n){(0,l.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n)),i=e.animate;return r.animate=i,r.options=n,r.fontSize=+r.options.fontSize||_,r.geneLabelPos=r.options.geneLabelPosition||T,r.geneRectHeight=+r.options.geneAnnotationHeight||w,r.geneRectHeight-=2,r.geneStrandSpacing=+r.options.geneStrandSpacing||S,r.geneStrandHSpacing=r.geneStrandSpacing/2,r.geneRectHHeight=r.geneRectHeight/2,r}return(0,f.default)(t,e),(0,u.default)(t,[{key:"initTile",value:function(){function e(e){D(this,e,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:x,plusStrandColor:this.options.plusStrandColor,minusStrandColor:this.options.minusStrandColor,maxGeneEntries:O,maxFillerEntries:P,maxTexts:E}),this.renderTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e){e.rectGraphics.destroy(),e.rectMaskGraphics.destroy(),e.textGraphics.destroy(),e.textBgGraphics.destroy(),e.graphics.destroy()}return e}()},{key:"rerender",value:function(){function e(e,n){var r=this,i=(0,a.default)(e);!n&&i===this.prevOptions||((0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"rerender",this).call(this,e,n),this.fontSize=+this.options.fontSize||_,this.geneLabelPos=this.options.geneLabelPosition||T,this.geneRectHeight=+this.options.geneAnnotationHeight||w,this.geneStrandHSpacing=this.geneStrandSpacing/2,this.geneRectHHeight=this.geneRectHeight/2,this.prevOptions=i,this.visibleAndFetchedTiles().forEach((function(e){r.renderTile(e)})))}return e}()},{key:"drawTile",value:function(){function e(){}return e}()},{key:"geneId",value:function(){function e(e,t){return String(t)+"_"+String(e[0])+"_"+String(e[1])+"_"+String(e[2])+"_"+String(e[3])}return e}()},{key:"renderTile",value:function(){function e(e){if(e.initialized){e.allRects=[],e.drawnAtScale=this._xScale.copy(),e.rectGraphics.removeChildren(),e.rectGraphics.clear(),e.textBgGraphics.clear();var t={},n=.3,r=.3;t["+"]=(0,y.colorToHex)(this.options.plusStrandColor||M),t["-"]=(0,y.colorToHex)(this.options.minusStrandColor||I);var a=e.tileData.filter((function(e){return"filler"===e.type&&"+"===e.strand})),s=e.tileData.filter((function(e){return"filler"===e.type&&"-"===e.strand})),l=e.tileData.filter((function(e){return"filler"!==e.type&&("+"===e.strand||"+"===e.fields[5])})),u=e.tileData.filter((function(e){return"filler"!==e.type&&("-"===e.strand||"-"===e.fields[5])}));L(l,a),L(u,s),a=a.filter((function(e){return!e.hide})),s=s.filter((function(e){return!e.hide}));var c=this.dimensions[1]/2,h=c-this.geneRectHeight/2-this.geneStrandSpacing/2,f=c+this.geneRectHeight/2+this.geneStrandSpacing/2,d=[this,e,e.rectGraphics,this._xScale,t["+"],n,h,this.geneRectHeight],p=[this,e,e.rectGraphics,this._xScale,t["-"],n,f,this.geneRectHeight];N.apply(void 0,[a].concat(d)),N.apply(void 0,[s].concat(p)),d[5]=r,p[5]=r,H.apply(void 0,[l].concat(d)),H.apply(void 0,[u].concat(p)),z(this,e),y.trackUtils.stretchRects(this,[function(e){return e.rectGraphics},function(e){return e.rectMaskGraphics}]);var m=!0,v=!1,g=void 0;try{for(var b,_=(0,o.default)((0,i.default)(e.texts));!(m=(b=_.next()).done);m=!0){var T=b.value;T.style={fontSize:String(this.fontSize)+"px",FONT_FAMILY:x,fill:(0,y.colorToHex)("-"===T.strand?this.options.minusStrandColor||I:this.options.plusStrandColor||M)}}}catch(w){v=!0,g=w}finally{try{!m&&_.return&&_.return()}finally{if(v)throw g}}}}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=g.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}return e}()},{key:"draw",value:function(){function e(){var e=this;(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=[];this.geneAreaHeight=this.geneRectHeight;var r=this.fontSize/2;y.trackUtils.stretchRects(this,[function(e){return e.rectGraphics},function(e){return e.rectMaskGraphics}]),(0,i.default)(this.fetchedTiles).filter((function(e){return e.drawnAtScale})).forEach((function(t){t.textBgGraphics.clear(),t.textBgGraphics.beginFill("undefined"!=typeof e.options.labelBackgroundColor?(0,y.colorToHex)(e.options.labelBackgroundColor):k);var i=e.parentInFetched(t);t.initialized&&t.tileData.forEach((function(o){if(t.texts&&"filler"!==o.type){var a=o.fields,s=a[3],l=e.geneId(a,o.type),u=t.texts[l];if(u){var c=+o.chrOffset,h=(+a[1]+c+(+a[2]+c))/2,f=e.dimensions[1]/2,d=(e.geneAreaHeight-e.fontSize)/2;if("+"===a[5]?f-="inside"===e.geneLabelPos?d+e.geneStrandSpacing-2:e.fontSize/2+e.geneAreaHeight-2:f+="inside"===e.geneLabelPos?e.fontSize+e.geneStrandSpacing/2+d+1:1.5*e.fontSize+e.geneAreaHeight+2,u.position.x=e._xScale(h),u.position.y=f,!t.textWidths[l]){var p=u.getBounds().width,m=u.getBounds().height;t.textHeights[l]=m,t.textWidths[l]=p}if(i)u.visible=!1;else{u.visible=!0;var v=2;e.flipText?e.allBoxes.push([u.position.x-t.textHeights[l]/2-v,f-r-1,u.position.x+t.textHeights[l]/2+v,f+r-1,s]):e.allBoxes.push([u.position.x-t.textWidths[l]/2-v,f-r-1,u.position.x+t.textWidths[l]/2+v,f+r-1,s]),e.allTexts.push({importance:+a[4],text:u,caption:s,strand:a[5]}),n.push(t.textBgGraphics)}}}}))})),this.hideOverlaps(this.allBoxes,this.allTexts),this.renderTextBg(this.allBoxes,this.allTexts,n)}return e}()},{key:"renderTextBg",value:function(){function e(e,t,n){t.forEach((function(t,i){if(t.text.visible&&e[i]&&n[i]){var o=(0,r.default)(e[i],4),a=o[0],s=o[1],l=o[2]-a,u=o[3]-s;n[i].drawRect(a-l/2,s-u/2,l,u)}}))}return e}()},{key:"hideOverlaps",value:function(){function e(e,t){(0,d.default)(e,(function(e,n){t[e].importance>t[n].importance?t[n].text.visible=!1:t[e].text.visible=!1}))}return e}()},{key:"setPosition",value:function(){function e(e){(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,r.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}return e}()},{key:"setDimensions",value:function(){function e(e){var n=this;(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"setDimensions",this).call(this,e),this.halfRectHHeight=this.dimensions[1]/2,this.visibleAndFetchedTiles().forEach((function(e){n.renderTile(e)}))}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()},{key:"getMouseOverHtml",value:function(){function e(e,t){if(!this.tilesetInfo)return"";var n=[e,t],r=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(this.visibleAndFetchedTiles());!(r=(s=l.next()).done);r=!0)for(var u=s.value,c=0;c<u.allRects.length;c++)if("filler"!==u.allRects[c][2].type){for(var h=u.allRects[c][0].slice(0),f=[];h.length;){var d=h.splice(0,2);d[0]=d[0]*u.rectGraphics.scale.x+u.rectGraphics.position.x,d[1]=d[1]*u.rectGraphics.scale.y+u.rectGraphics.position.y,f.push(d)}if(-1===(0,p.default)(f,n)){var m=u.allRects[c][2];return"\n            <div>\n              <b>"+String(m.fields[3])+"</b><br>\n              <b>Position:</b> "+String(m.fields[0])+":"+String(m.fields[1])+"-"+String(m.fields[2])+"<br>\n              <b>Strand:</b> "+String(m.fields[5])+"\n            </div>\n          "}}}catch(v){i=!0,a=v}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return""}return e}()},{key:"exportSVG",value:function(){function e(){var e=this,n=null,i=null;if((0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"exportSVG",this)){var o=(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(o,2);i=a[0],n=a[1]}else n=i=document.createElement("g");var l=document.createElement("g");return l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(l),this.visibleAndFetchedTiles().filter((function(e){return e.allRects})).forEach((function(t){var n=document.createElement("g");n.setAttribute("transform","translate("+String(t.rectGraphics.position.x)+",\n          "+String(t.rectGraphics.position.y)+")\n          scale("+String(t.rectGraphics.scale.x)+",\n          "+String(t.rectGraphics.scale.y)+")"),t.allRects.forEach((function(t){for(var r=document.createElement("path"),i=t[0],o="M "+String(i[0])+" "+String(i[1]),a=2;a<i.length;a+=2)o+=" L "+String(i[a])+" "+String(i[a+1]);r.setAttribute("d",o),"+"===t[1]?r.setAttribute("fill",e.options.plusStrandColor):r.setAttribute("fill",e.options.minusStrandColor),r.setAttribute("opacity","0.3"),n.appendChild(r)})),l.appendChild(n)})),this.allTexts.filter((function(e){return e.text.visible})).forEach((function(t){var n=document.createElement("g"),r=document.createElement("text");r.setAttribute("text-anchor","middle"),r.setAttribute("font-family",x),r.setAttribute("font-size",String(e.fontSize)+"px"),r.setAttribute("dy","-.2em"),n.setAttribute("transform","scale("+String(t.text.scale.x)+",1)"),"+"===t.strand?r.setAttribute("fill",e.options.plusStrandColor):r.setAttribute("fill",e.options.minusStrandColor),r.innerHTML=t.text.text,n.appendChild(r),n.setAttribute("transform","translate("+String(t.text.x)+","+String(t.text.y)+")scale("+String(t.text.scale.x)+",1)"),l.appendChild(n)})),[i,i]}return e}()}]),t}(v.default);t.default=U},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(5)),i=u(n(3)),o=u(n(4)),a=u(n(6)),s=u(n(14)),l=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,n(81).Mixin)((function(e){return function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.animate;return o.highlighted=!1,o.animate=s,o.MOUSEOVER_RADIUS=4,o.pubSub=e.pubSub,o.pubSubs.push(o.pubSub.subscribe("app.mouseMove",o.mouseMoveHandler.bind(o))),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setPosition",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.x=this.position[0],this.pMain.position.y=this.position[1]}return e}()},{key:"zoomed",value:function(){function e(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}return e}()},{key:"respondsToPosition",value:function(){function e(){return this.highlighted}return e}()}]),t}(e)}));t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalRuleMixin=void 0;var r=p(n(19)),i=p(n(14)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=n(81),h=p(n(40)),f=p(n(261)),d=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=t.VerticalRuleMixin=(0,c.Mixin)((function(e){return function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"drawVerticalRule",value:function(){function e(e){var t=(0,d.colorToHex)(this.options.color||"black");this.highlighted&&(t=(0,d.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[1];)e.moveTo(this._xScale(this.xPosition),n),e.lineTo(this._xScale(this.xPosition),n+this.dashLength),n+=this.dashLength+this.dashGap}return e}()},{key:"isMouseOverVerticalLine",value:function(){function e(e){return Math.abs(e.x-this.position[0]-this._xScale(this.xPosition))<this.MOUSEOVER_RADIUS}return e}()}]),t}(e)})),v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.xPosition=e.xPosition,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(){function e(){var e=this.pMain;e.clear(),this.drawVerticalRule(e),this.animate()}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if((0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");l.setAttribute("class","vertical-rule"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(l);var u=this.options.color||"black",c=document.createElement("line");return c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",this._xScale(this.xPosition)),c.setAttribute("y1",0),c.setAttribute("x2",this._xScale(this.xPosition)),c.setAttribute("y2",this.dimensions[1]),l.appendChild(c),[n,e]}return e}()},{key:"mouseMoveHandler",value:function(){function e(e){this.highlighted=this.isWithin(e.x,e.y)&&this.isMouseOverVerticalLine(e),this.draw()}return e}()}]),t}((0,c.mix)(h.default).with(f.default,m));t.default=v},function(e,t,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(2)),u=f(n(1)),c=f(n(42)),h=f(n(10));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.clickHandlerBound=n.clickHandler.bind(n),n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){function e(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",document.addEventListener("click",this.clickHandlerBound,!0),document.addEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.addEventListener("resize",this.resizeHandlerBound,!0),this._renderLayer()}return e}()},{key:"componentDidUpdate",value:function(){function e(){this._renderLayer()}return e}()},{key:"componentWillUnmount",value:function(){function e(){document.removeEventListener("click",this.clickHandlerBound,!0),document.removeEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.removeEventListener("resize",this.resizeHandlerBound,!0),c.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}return e}()},{key:"_renderLayer",value:function(){function e(){c.default.render(this.props.children,this.popup)}return e}()},{key:"clickHandler",value:function(){function e(e){this.popup.contains(e.target)||this.props.onMenuClosed&&this.props.onMenuClosed(e)}return e}()},{key:"contextMenuHandler",value:function(){function e(e){e.altKey||(e.preventDefault(),this.clickHandler(e))}return e}()},{key:"resizeHandler",value:function(){function e(){this.props.onMenuClosed(null)}return e}()},{key:"render",value:function(){function e(){return u.default.createElement("div",null)}return e}()}]),t}(u.default.Component);d.defaultProps={onMenuClosed:h.default},d.propTypes={children:l.default.node.isRequired,onMenuClosed:l.default.func},t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(38)),i=f(n(5)),o=f(n(3)),a=f(n(4)),s=f(n(6)),l=f(n(7)),u=f(n(2)),c=f(n(1)),h=f(n(666));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.moveable=!0,n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){function e(){var e=this;return c.default.createElement("div",{ref:function(){function t(t){e.el=t}return t}(),className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:function(){function t(){e.handleMouseLeave()}return t}(),style:{height:this.props.height,width:this.props.width}},c.default.createElement(h.default,{key:this.props.uid,height:this.props.height,resizeHandles:this.props.editable?this.props.resizeHandles:new r.default,sizeChanged:function(){function t(t){return e.props.handleResizeTrack(e.props.uid,t.width,t.height)}return t}(),style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible))}return e}()}]),t}(f(n(668)).default);d.propTypes={className:u.default.string,uid:u.default.string,item:u.default.object,height:u.default.number,width:u.default.number},t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.svgArrowheadDomainsIcon=t.svgVertical1DTilesIcon=t.svg1DTilesIcon=t.svgGeneAnnotationsIcon=t.svgVertical1DAxisIcon=t.svg1DAxisIcon=t.svg2DHeatmapIcon=t.svg2DTilesIcon=t.svgHorizontalLineIcon=t.svgHorizontal1dHeatmap=t.svgGeoMapIcon=t.all=t.FOLDER_OPEN_O=t.FOLDER_O=t.CHEVRON_DOWN=t.CHEVRON_RIGHT=t.FILE_O=t.SQUARE_O=t.CHECK_SQUARE_O=t.SELECT=t.TRACK_LINE=t.CONTENT_COPY=t.PLUS=t.PLAY=t.MOVE=t.MINUS=t.ENLARGE=t.CROSS=t.COG=void 0,t.SearchIcon=L;var r=a(n(29)),i=a(n(1)),o=n(0);function a(e){return e&&e.__esModule?e:{default:e}}n(267);var s={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},l=t.COG={id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},u=t.CROSS={id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},c=t.ENLARGE={id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},h=t.MINUS={id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},f=t.MOVE={id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},d=t.PLAY={id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},p=t.PLUS={id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},m=t.CONTENT_COPY={id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"};t.TRACK_LINE={id:"trackLine",paths:["M60 20 L50 52 L40 26 L34 46 L24 30 L14 50 L4 12"],viewBox:"0 0 60 60"};var v=t.SELECT={id:"select",viewBox:"0 0 16 16",paths:["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]},g=t.CHECK_SQUARE_O={id:"check_square_o",viewBox:"0 0 1792 1792",paths:["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]},y=t.SQUARE_O={id:"square_o",viewBox:"0 0 1792 1792",paths:["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]},b=t.FILE_O={id:"file_o",viewBox:"0 0 1792 1792",paths:["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]},_=t.CHEVRON_RIGHT={id:"chevron_right",viewBox:"0 0 1792 1792",paths:["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]},x=t.CHEVRON_DOWN={id:"chevron_down",viewBox:"0 0 1792 1792",paths:["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]},T=t.FOLDER_O={id:"folder_o",viewBox:"0 0 1792 1792",paths:["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]},w=t.FOLDER_OPEN_O={id:"folder_open_o",viewBox:"0 0 1792 1792",paths:["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]};t.all=[l,u,c,h,f,d,p,m,v,g,y,b,T,w,_,x];var S=new DOMParser,E='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>';t.svgGeoMapIcon=S.parseFromString(E,"text/xml").documentElement;var k='\n<svg width="20px" height="20px" viewBox="0 0 20 20">\n  <rect x="0" y="3" width="4" height="14" fill="#637993"/>\n  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>\n  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>\n  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>\n  <rect x="14" y="3" width="2" height="14" fill="#000000"/>\n  <rect x="16" y="3" width="4" height="14" fill="#637993"/>\n</svg>\n';t.svgHorizontal1dHeatmap=S.parseFromString(k,"text/xml").documentElement;var C='\n<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>line</title>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>\n    </g>\n</svg>\n';t.svgHorizontalLineIcon=S.parseFromString(C,"text/xml").documentElement;var A='\n<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-3"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-5"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-7"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>\n    </g>\n</svg>\n';t.svg2DTilesIcon=S.parseFromString(A,"text/xml").documentElement;var O='\n<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-heatmap</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>\n        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>\n        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>\n        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>\n    </g>\n</svg>\n';t.svg2DHeatmapIcon=S.parseFromString(O,"text/xml").documentElement;var P='\n<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>axis-1d</title>\n    <desc>Created with Sketch.</desc>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>\n        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>\n    </g>\n</svg>\n';t.svg1DAxisIcon=S.parseFromString(P,"text/xml").documentElement,t.svgVertical1DAxisIcon=(0,o.select)(S.parseFromString(P,"text/xml").documentElement).style("transform","rotate(90deg)").node();var M='\n<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>gene-annotations</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>\n        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-1"></use>\n        </mask>\n        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>\n        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-3"></use>\n        </mask>\n        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>\n        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">\n            <use xlink:href="#geneAnnotations-path-5"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>\n        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>\n    </g>\n</svg>\n';t.svgGeneAnnotationsIcon=S.parseFromString(M,"text/xml").documentElement;var I='\n<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>1d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>\n    </g>\n</svg>\n';t.svg1DTilesIcon=S.parseFromString(I,"text/xml").documentElement,t.svgVertical1DTilesIcon=(0,o.select)(S.parseFromString(I,"text/xml").documentElement).style("transform","rotate(90deg)").node();var R='\n<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>arrowhead-domains</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        </mask>\n        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>\n        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>\n    </g>\n</svg>\n';function L(e){var t=e.theStyle;return i.default.createElement("svg",{viewBox:"0 0 12 13",xmlns:"http://www.w3.org/2000/svg",className:(0,r.default)(t,s)},i.default.createElement("g",{fill:"none",stroke:"#6c6c6c",strokeWidth:"2"},i.default.createElement("path",{d:"M11.29 11.71l-4-4"}),i.default.createElement("circle",{cx:"5",cy:"5",r:"4"})))}t.svgArrowheadDomainsIcon=S.parseFromString(R,"text/xml").documentElement},function(e,t,n){e.exports={"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},function(e,t,n){var r=n(691),i=n(269),o=n(117),a=n(398),s=n(693);function l(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return l.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof a)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,s,c=u.call(this,t,n);return c&&(i=c.schema,t=c.root,s=c.baseId),i instanceof a?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function u(e,t){var n=r.parse(t),i=y(n),o=g(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=_(i),l=this._refs[s];if("string"==typeof l)return c.call(this,e,l,n);if(l instanceof a)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[s])instanceof a))return;if(l.validate||this._compile(l),s==_(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=g(this._getId(e.schema))}return f.call(this,n,o,e.schema,e)}function c(e,t,n){var r=u.call(this,e,t);if(r){var i=r.schema,o=r.baseId;e=r.root;var a=this._getId(i);return a&&(o=x(o,a)),f.call(this,n,o,i,e)}}e.exports=l,l.normalizeId=_,l.fullPath=g,l.url=x,l.ids=T,l.inlineRef=p,l.schema=u;var h=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function f(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(void 0===(n=n[s=o.unescapeFragment(s)]))break;var l;if(!h[s]&&((l=this._getId(n))&&(t=x(t,l)),n.$ref)){var c=x(t,n.$ref),f=u.call(this,r,c);f&&(n=f.schema,r=f.root,t=f.baseId)}}}if(void 0!==n&&n!==r.schema)return{schema:n,root:r,baseId:t}}}var d=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?m(e):t?v(e)<=t:void 0)}function m(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&!m(t))return!1}else for(var r in e)if("$ref"==r||"object"==typeof(t=e[r])&&!m(t))return!1;return!0}function v(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&(n+=v(t)),n==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(d[i])n++;else if("object"==typeof(t=e[i])&&(n+=v(t)+1),n==1/0)return 1/0}return n}function g(e,t){return!1!==t&&(e=_(e)),y(r.parse(e))}function y(e){return r.serialize(e).split("#")[0]+"#"}var b=/#\/?$/;function _(e){return e?e.replace(b,""):""}function x(e,t){return t=_(t),r.resolve(e,t)}function T(e){var t=_(this._getId(e)),n={"":t},a={"":g(t,!1)},l={},u=this;return s(e,{allKeys:!0},(function(e,t,s,c,h,f,d){if(""!==t){var p=u._getId(e),m=n[c],v=a[c]+"/"+h;if(void 0!==d&&(v+="/"+("number"==typeof d?d:o.escapeFragment(d))),"string"==typeof p){p=m=_(m?r.resolve(m,p):p);var g=u._refs[p];if("string"==typeof g&&(g=u._refs[g]),g&&g.schema){if(!i(e,g.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=_(v))if("#"==p[0]){if(l[p]&&!i(e,l[p]))throw new Error('id "'+p+'" resolves to more than one schema');l[p]=e}else u._refs[p]=v}n[t]=m,a[t]=v}})),l}},function(e,t,n){var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a,s,l,u=r(t),c=r(n);if(u&&c){if((s=t.length)!=n.length)return!1;for(a=s;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(u!=c)return!1;var h=t instanceof Date,f=n instanceof Date;if(h!=f)return!1;if(h&&f)return t.getTime()==n.getTime();var d=t instanceof RegExp,p=n instanceof RegExp;if(d!=p)return!1;if(d&&p)return t.toString()==n.toString();var m=i(t);if((s=m.length)!==i(n).length)return!1;for(a=s;0!==a--;)if(!o.call(n,m[a]))return!1;for(a=s;0!==a--;)if(!e(t[l=m[a]],n[l]))return!1;return!0}return t!==t&&n!==n}},function(e,t,n){var r=n(268);function i(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}function o(e,t,n){this.message=n||o.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function a(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:a(i),MissingRef:a(o)},o.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://higlass.io/#viewconf",title:"HiGlass viewconf",type:"object",additionalProperties:!1,required:[],properties:{editable:{type:"boolean",default:!0},viewEditable:{type:"boolean",default:!0},tracksEditable:{type:"boolean",default:!0},zoomFixed:{type:"boolean"},compactLayout:{type:"boolean"},exportViewUrl:{type:"string"},trackSourceServers:{type:"array",items:{type:"string"},minLength:1},zoomLocks:{$ref:"#/definitions/locks/zoomLocks"},locationLocks:{$ref:"#/definitions/locks/locationLocks"},valueScaleLocks:{$ref:"#/definitions/locks/valueScaleLocks"},views:{type:"array",items:{$ref:"#/definitions/view"},minLength:1},chromInfoPath:{type:"string"}},definitions:{data:{type:"object",properties:{url:{type:"string"},server:{type:"string"},filetype:{type:"string"},type:{type:"string"},tilesetInfo:{type:"object"},children:{type:"array"},tiles:{type:"object"}}},locks:{slug:{type:"string"},locksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{$ref:"#/definitions/locks/slug"}}},axisSpecificLocks:{additionalProperties:!1,properties:{axis:{enum:["x","y"],type:"string"},lock:{type:"string"}},required:["lock","axis"],type:"object"},locationLocksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{anyOf:[{type:"string"},{additionalProperties:!1,properties:{x:{$ref:"#/definitions/locks/axisSpecificLocks"},y:{$ref:"#/definitions/locks/axisSpecificLocks"}},type:"object"}]}}},zoomLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},locationLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locationLocksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},valueScaleLocks:{type:"object",additionalProperties:!1,required:["locksByViewUid","locksDict"],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"},ignoreOffScreenValues:{type:"boolean"}},patternProperties:{"^(?!(uid|ignoreOffScreenValues)).":{type:"object",additionalProperties:!1,required:["view","track"],properties:{view:{type:"string"},track:{$ref:"#/definitions/locks/slug"}}}}}}}}}},view:{type:"object",additionalProperties:!1,required:["tracks","layout"],properties:{autocompleteSource:{type:"string"},chromInfoPath:{type:"string"},genomePositionSearchBox:{$ref:"#/definitions/viewProperties/genomePositionSearchBox"},genomePositionSearchBoxVisible:{type:"boolean"},initialXDomain:{$ref:"#/definitions/viewProperties/domain"},initialYDomain:{$ref:"#/definitions/viewProperties/domain"},layout:{$ref:"#/definitions/viewProperties/layout"},overlays:{type:"array",items:{$ref:"#/definitions/viewProperties/overlay"}},selectionView:{type:"boolean"},tracks:{$ref:"#/definitions/viewProperties/tracks_object"},uid:{type:"string"},zoomFixed:{type:"boolean"},zoomLimits:{type:"array",minLength:2,maxLength:2,default:[1,null]}}},viewProperties:{genomePositionSearchBox:{type:"object",title:"The Genome Position Search Box Schema",required:["chromInfoServer","chromInfoId"],properties:{autocompleteServer:{type:"string",title:"The Autocomplete Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},autocompleteId:{type:"string",title:"The Autocomplete ID",default:"",examples:["OHJakQICQD6gTD7skx4EWA"],pattern:"^(.*)$"},chromInfoServer:{type:"string",title:"The Chrominfo Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},chromInfoId:{type:"string",title:"The Chromosome Info ID",default:"",examples:["hg19"],pattern:"^(.*)$"},visible:{type:"boolean",title:"The Visible Schema",default:!1}}},overlay:{type:"object",additionalProperties:!1,properties:{chromInfoPath:{type:"string"},includes:{type:"array"},options:{type:"object",properties:{extent:{type:"array"},minWidth:{type:"number"},fill:{type:"string"},fillOpacity:{type:"number"},stroke:{type:"string"},strokeOpacity:{type:"number"},strokeWidth:{type:"number"},strokePos:{type:["string","array"]},outline:{type:"string"},outlineOpacity:{type:"number"},outlineWidth:{type:"number"},outlinePos:{type:["string","array"]}}},type:{type:"string"},uid:{type:"string"}}},layout:{type:"object",additionalProperties:!1,required:["w","h","x","y"],properties:{x:{type:"integer",title:"The X Position",default:0},y:{type:"integer",title:"The Y Position",default:0},w:{type:"integer",title:"Width",default:12},h:{type:"integer",title:"Height",default:12},moved:{type:"boolean"},static:{type:"boolean"}}},tracks_object:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/viewProperties/tracks_array"},right:{$ref:"#/definitions/viewProperties/tracks_array"},top:{$ref:"#/definitions/viewProperties/tracks_array"},bottom:{$ref:"#/definitions/viewProperties/tracks_array"},center:{$ref:"#/definitions/viewProperties/tracks_array"},whole:{$ref:"#/definitions/viewProperties/tracks_array"},gallery:{$ref:"#/definitions/viewProperties/tracks_array"}}},tracks_array:{type:"array",items:{oneOf:[{$ref:"#/definitions/tracks/enum_track"},{$ref:"#/definitions/tracks/combined_track"},{$ref:"#/definitions/tracks/heatmap_track"},{$ref:"#/definitions/tracks/independent_viewport_projection_track"}]}},domain:{type:"array",items:{type:"number"},maxItems:2,minItems:2}},tracks:{heatmap_track:{type:"object",additionalProperties:!1,required:[],properties:{uid:{type:"string"},type:{const:"heatmap"},data:{$ref:"#/definitions/data"},height:{type:"number"},options:{type:"object"},position:{type:"string"},server:{type:"string"},tilesetUid:{type:"string"},width:{type:"number"},transforms:{type:"array"}}},combined_track:{type:"object",additionalProperties:!1,required:["contents"],properties:{contents:{$ref:"#/definitions/viewProperties/tracks_array"},height:{type:"number"},options:{},position:{type:"string"},type:{const:"combined"},uid:{type:"string"},width:{type:"number"}}},enum_track:{type:"object",additionalProperties:!1,required:["type"],properties:{server:{type:"string"},tilesetUid:{type:"string"},data:{$ref:"#/definitions/data"},uid:{type:"string"},type:{enum:["multivec","1d-heatmap","line","point","bar","divergent-bar","stacked-interval","gene-annotations","linear-2d-rectangle-domains","chromosome-labels","linear-heatmap","1d-value-interval","2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},chromInfoPath:{type:"string"},fromViewUid:{type:"string"},height:{type:"number"},options:{type:"object"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}},independent_viewport_projection_track:{type:"object",additionalProperties:!1,properties:{uid:{type:"string"},type:{enum:["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},fromViewUid:{type:"null"},projectionXDomain:{$ref:"#/definitions/viewProperties/domain"},projectionYDomain:{$ref:"#/definitions/viewProperties/domain"},options:{type:"object"},transforms:{type:"array"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}}}}}},function(e,t,n){var r=n(407),i=n(411);function o(e,t){return e&&r(e,i(t))}e.exports=o},function(e,t,n){var r=n(739),i=n(275),o=n(276),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var r=n(406),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(173)(e))},function(e,t,n){var r=n(97),i=n(45),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function u(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==l}e.exports=u},function(e,t,n){var r=n(410)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(99)(n(41),"Map");e.exports=r},function(e,t,n){var r=n(758),i=n(765),o=n(767),a=n(768),s=n(769);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){var r=n(283),i=n(421),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},function(e,t,n){var r=n(193),i=n(145);function o(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}e.exports=o},function(e,t,n){var r=n(31),i=n(194),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}e.exports=s},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){var r=n(426);function i(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=i},function(e,t,n){var r=n(418);function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}e.exports=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=s(n(1)),i=s(n(13)),o=a(n(824));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Checkboard=function(e){var t=e.white,n=e.grey,a=e.size,s=e.renderers,l=e.borderRadius,u=e.boxShadow,c=(0,i.default)({default:{grid:{borderRadius:l,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+o.get(t,n,a,s.canvas)+") center left"}}});return r.default.createElement("div",{style:c.grid})};l.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=l},function(e,t,n){var r=n(291),i=n(294);function o(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}e.exports=o},function(e,t,n){var r=n(143),i=n(433),o=n(293);function a(e,t){return o(i(e,t,r),e+"")}e.exports=a},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var r=n(833),i=n(434)(r);e.exports=i},function(e,t,n){var r=n(120),i=n(98),o=n(142),a=n(45);function s(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}e.exports=s},function(e,t,n){var r=Array.prototype.slice,i=n(448),o=Object.keys,a=o?function(e){return o(e)}:n(946),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){(e.exports=n(452)).version=n(1040).version},function(e){e.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},function(e){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,n){var r=n(123),i=n(953),o={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};function a(e,t){if(e){var n,r="";for(var o in e)r&&(r+=" "),r+=o,(null!==(n=e[o])&&""!==n||t.xmlMode)&&(r+='="'+(t.decodeEntities?i.encodeXML(n):n)+'"');return r}}var s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},l=e.exports=function(e,t){!Array.isArray(e)&&!e.cheerio&&(e=[e]),t=t||{};for(var n="",i=0;i<e.length;i++){var o=e[i];"root"===o.type?n+=l(o.children,t):r.isTag(o)?n+=u(o,t):o.type===r.Directive?n+=c(o):o.type===r.Comment?n+=d(o):o.type===r.CDATA?n+=f(o):n+=h(o,t)}return n};function u(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=a(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=l(e.children,t)),(!s[e.name]||t.xmlMode)&&(n+="</"+e.name+">")):n+="/>",n}function c(e){return"<"+e.data+">"}function h(e,t){var n=e.data||"";return t.decodeEntities&&!(e.parent&&e.parent.name in o)&&(n=i.encodeXML(n)),n}function f(e){return"<![CDATA["+e.children[0].data+"]]>"}function d(e){return"\x3c!--"+e.data+"--\x3e"}},function(e,t,n){var r=n(200).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=p,this.end=m,t=4;break;case"utf8":this.fillLast=h,t=4;break;case"base64":this.text=v,this.end=g,t=3;break;default:return this.write=y,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function l(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function u(e,t,n){var r=t.length-1;if(r<n)return 0;var i=l(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=l(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=l(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function c(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}function h(e){var t=this.lastTotal-this.lastNeed,n=c(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function f(e,t){var n=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t}function p(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function v(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=d,s.prototype.text=f,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){var r=n(64).DOCUMENT_MODE;t.createDocument=function(){return{nodeName:"#document",mode:r.NO_QUIRKS,childNodes:[]}},t.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},t.createElement=function(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},t.createCommentNode=function(e){return{nodeName:"#comment",data:e,parentNode:null}};var i=function(e){return{nodeName:"#text",value:e,parentNode:null}},o=t.appendChild=function(e,t){e.childNodes.push(t),t.parentNode=e},a=t.insertBefore=function(e,t,n){var r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e};t.setTemplateContent=function(e,t){e.content=t},t.getTemplateContent=function(e){return e.content},t.setDocumentType=function(e,t,n,r){for(var i=null,a=0;a<e.childNodes.length;a++)if("#documentType"===e.childNodes[a].nodeName){i=e.childNodes[a];break}i?(i.name=t,i.publicId=n,i.systemId=r):o(e,{nodeName:"#documentType",name:t,publicId:n,systemId:r})},t.setDocumentMode=function(e,t){e.mode=t},t.getDocumentMode=function(e){return e.mode},t.detachNode=function(e){if(e.parentNode){var t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},t.insertText=function(e,t){if(e.childNodes.length){var n=e.childNodes[e.childNodes.length-1];if("#text"===n.nodeName)return void(n.value+=t)}o(e,i(t))},t.insertTextBefore=function(e,t,n){var r=e.childNodes[e.childNodes.indexOf(n)-1];r&&"#text"===r.nodeName?r.value+=t:a(e,i(t),n)},t.adoptAttributes=function(e,t){for(var n=[],r=0;r<e.attrs.length;r++)n.push(e.attrs[r].name);for(var i=0;i<t.length;i++)-1===n.indexOf(t[i].name)&&e.attrs.push(t[i])},t.getFirstChild=function(e){return e.childNodes[0]},t.getChildNodes=function(e){return e.childNodes},t.getParentNode=function(e){return e.parentNode},t.getAttrList=function(e){return e.attrs},t.getTagName=function(e){return e.tagName},t.getNamespaceURI=function(e){return e.namespaceURI},t.getTextNodeContent=function(e){return e.value},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e.name},t.getDocumentTypeNodePublicId=function(e){return e.publicId},t.getDocumentTypeNodeSystemId=function(e){return e.systemId},t.isTextNode=function(e){return"#text"===e.nodeName},t.isCommentNode=function(e){return"#comment"===e.nodeName},t.isDocumentTypeNode=function(e){return"#documentType"===e.nodeName},t.isElementNode=function(e){return!!e.tagName}},function(e,t,n){e.exports=function(e,t){return[e,t=t||Object.create(null)].reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),Object.create(null))}},function(e,t,n){var r=n(64).DOCUMENT_MODE,i="html",o="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",a=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],s=a.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),l=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],u=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],c=u.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function h(e){var t=-1!==e.indexOf('"')?"'":'"';return t+e+t}function f(e,t){for(var n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return!0;return!1}t.getDocumentMode=function(e,t,n){if(e!==i||n&&n.toLowerCase()===o)return r.QUIRKS;if(null!==t){if(t=t.toLowerCase(),l.indexOf(t)>-1)return r.QUIRKS;var h=null===n?s:a;if(f(t,h))return r.QUIRKS;if(f(t,h=null===n?u:c))return r.LIMITED_QUIRKS}return r.NO_QUIRKS},t.serializeContent=function(e,t,n){var r="!DOCTYPE ";return e&&(r+=e),null!==t?r+=" PUBLIC "+h(t):null!==n&&(r+=" SYSTEM"),null!==n&&(r+=" "+h(n)),r}},function(e,t,n){(t=e.exports=n(466)).Stream=t,t.Readable=t,t.Writable=n(305),t.Duplex=n(102),t.Transform=n(469),t.PassThrough=n(980)},function(e,t,n){(function(t,r,i){var o=n(203);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){j(t,e)}}e.exports=_;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;_.WritableState=b;var u=n(151);u.inherits=n(58);var c={deprecate:n(979)},h=n(467),f=n(200).Buffer,d=i.Uint8Array||function(){};function p(e){return f.from(e)}function m(e){return f.isBuffer(e)||e instanceof d}var v,g=n(468);function y(){}function b(e,t){s=s||n(102),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,o=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){A(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function _(e){if(s=s||n(102),!v.call(_,this)&&!(this instanceof s))return new _(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function x(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}function T(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"!=typeof n&&void 0!==n&&!t.objectMode&&(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}function w(e,t,n){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=f.from(t,n)),t}function S(e,t,n,r,i,o){if(!n){var a=w(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,s,r,i,o);return l}function E(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(D,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),D(e,t))}function C(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function A(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(C(n),t)k(e,n,r,t,i);else{var o=I(n);!o&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&M(e,n),r?l(O,e,n,o,i):O(e,n,o,i)}}function O(e,t,n,r){n||P(e,t),t.pendingcb--,r(),D(e,t)}function P(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function M(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,E(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,h=n.callback;if(E(e,t,!1,t.objectMode?1:u.length,u,c,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),D(e,t)}))}function L(e,t){!t.prefinished&&!t.finalCalled&&("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(R,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function D(e,t){var n=I(t);return n&&(L(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function N(e,t,n){t.ending=!0,D(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function j(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}u.inherits(_,h),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!v.call(this,e)||this===_&&e&&e._writableState instanceof b}})):v=function(e){return e instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&m(e);return o&&!f.isBuffer(e)&&(e=p(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=y),r.ended?x(this,n):(o||T(this,r,e,n))&&(r.pendingcb++,i=S(this,r,o,e,t,n)),i},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&M(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&N(this,r,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(150),n(977).setImmediate,n(27))},function(e,t,n){var r=n(291),i=n(990),o=n(309),a=n(206),s=1,l=32,u=r((function(e,t,n){var r=s;if(n.length){var c=a(n,o(u));r|=l}return i(e,r,t,n,c)}));u.placeholder={},e.exports=u},function(e,t,n){var r=n(197),i=n(308),o=4294967295;function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=r(i.prototype),a.prototype.constructor=a,e.exports=a},function(e,t){function n(){}e.exports=n},function(e,t){function n(e){return e.placeholder}e.exports=n},function(e,t,n){var r=n(299),i=n(204).default,o=n(204).flatten,a=n(483),s=n(198),l={merge:n(46),defaults:n(482)};function u(e,t,n){if(t)"string"==typeof t&&(t=a(t,e._root,n));else{if(!e._root||!e._root.children)return"";t=e._root.children}return r(t,n)}function c(e){if(Array.isArray(e))return!0;if("object"!=typeof e||!e.hasOwnProperty("length")||"number"!=typeof e.length||e.length<0)return!1;for(var t=0;t<e.length;){if(!(t in e))return!1;t++}return!0}t.load=function(e,r,a){var u=n(452);r=l.defaults(o(r||{}),i),void 0===a&&(a=!0);var c=s(e,r,a),h=function e(t,n,i,o){return this instanceof e?(o=l.defaults(o||{},r),u.call(this,t,n,i||c,o)):new e(t,n,i,o)};return h.prototype=Object.create(u.prototype),h.prototype.constructor=h,h.fn=h.prototype,h.prototype._originalRoot=c,l.merge(h,t),h._root=c,h._options=r,h},t.html=function(e,t){return"[object Object]"===Object.prototype.toString.call(e)&&!t&&!("length"in e)&&!("type"in e)&&(t=e,e=void 0),u(this,e,t=l.defaults(o(t||{}),this._options,i))},t.xml=function(e){return u(this,e,l.defaults({xml:!0},this._options))},t.text=function(e){e||(e=this.root());for(var n,r="",i=e.length,o=0;o<i;o++)"text"===(n=e[o]).type?r+=n.data:n.children&&"comment"!==n.type&&"script"!==n.tagName&&"style"!==n.tagName&&(r+=t.text(n.children));return r},t.parseHTML=function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t),r=this.load(e,i,!1),n||r("script").remove(),r.root()[0].children.slice()):null},t.root=function(){return this(this._root)},t.contains=function(e,t){if(t===e)return!1;for(;t&&t!==t.parent;)if((t=t.parent)===e)return!0;return!1},t.merge=function(e,t){if(c(e)&&c(t)){for(var n=e.length+t.length,r=0;r<t.length;)e[r+e.length]=t[r],r++;return e.length=n,e}}},function(e,t,n){var r=n(101),i=r.isTag,o=r.getText,a=r.getParent,s=r.getChildren,l=r.getSiblings,u=r.hasAttrib,c=r.getName,h=r.getAttributeValue,f=n(1014),d=n(484).rules.equals,p=n(153),m=p.trueFunc,v=p.falseFunc;function g(e){for(var t=0;e&&t<e.length;t++)if(i(e[t]))return e[t]}function y(e,t){var n={name:e,value:t};return function(e){return d(e,n)}}function b(e){return function(t){return!!a(t)&&e(t)}}var _={contains:function(e,t){return function(n){return e(n)&&o(n).indexOf(t)>=0}},icontains:function(e,t){var n=t.toLowerCase();return function(t){return e(t)&&o(t).toLowerCase().indexOf(n)>=0}},"nth-child":function(e,t){var n=f(t);return n===v?n:n===m?b(e):function(t){for(var r=l(t),o=0,a=0;o<r.length;o++)if(i(r[o])){if(r[o]===t)break;a++}return n(a)&&e(t)}},"nth-last-child":function(e,t){var n=f(t);return n===v?n:n===m?b(e):function(t){for(var r=l(t),o=0,a=r.length-1;a>=0;a--)if(i(r[a])){if(r[a]===t)break;o++}return n(o)&&e(t)}},"nth-of-type":function(e,t){var n=f(t);return n===v?n:n===m?b(e):function(t){for(var r=l(t),o=0,a=0;a<r.length;a++)if(i(r[a])){if(r[a]===t)break;c(r[a])===c(t)&&o++}return n(o)&&e(t)}},"nth-last-of-type":function(e,t){var n=f(t);return n===v?n:n===m?b(e):function(t){for(var r=l(t),o=0,a=r.length-1;a>=0;a--)if(i(r[a])){if(r[a]===t)break;c(r[a])===c(t)&&o++}return n(o)&&e(t)}},root:function(e){return function(t){return!a(t)&&e(t)}},scope:function(e,t,n,r){return r&&0!==r.length?1===r.length?function(t){return r[0]===t&&e(t)}:function(t){return r.indexOf(t)>=0&&e(t)}:_.root(e)},checkbox:y("type","checkbox"),file:y("type","file"),password:y("type","password"),radio:y("type","radio"),reset:y("type","reset"),image:y("type","image"),submit:y("type","submit")},x={empty:function(e){return!s(e).some((function(e){return i(e)||"text"===e.type}))},"first-child":function(e){return g(l(e))===e},"last-child":function(e){for(var t=l(e),n=t.length-1;n>=0;n--){if(t[n]===e)return!0;if(i(t[n]))break}return!1},"first-of-type":function(e){for(var t=l(e),n=0;n<t.length;n++)if(i(t[n])){if(t[n]===e)return!0;if(c(t[n])===c(e))break}return!1},"last-of-type":function(e){for(var t=l(e),n=t.length-1;n>=0;n--)if(i(t[n])){if(t[n]===e)return!0;if(c(t[n])===c(e))break}return!1},"only-of-type":function(e){for(var t=l(e),n=0,r=t.length;n<r;n++)if(i(t[n])){if(t[n]===e)continue;if(c(t[n])===c(e))return!1}return!0},"only-child":function(e){for(var t=l(e),n=0;n<t.length;n++)if(i(t[n])&&t[n]!==e)return!1;return!0},link:function(e){return u(e,"href")},visited:v,selected:function(e){if(u(e,"selected"))return!0;if("option"!==c(e))return!1;var t=a(e);if(!t||"select"!==c(t)||u(t,"multiple"))return!1;for(var n=s(t),r=!1,o=0;o<n.length;o++)if(i(n[o]))if(n[o]===e)r=!0;else{if(!r)return!1;if(u(n[o],"selected"))return!1}return r},disabled:function(e){return u(e,"disabled")},enabled:function(e){return!u(e,"disabled")},checked:function(e){return u(e,"checked")||x.selected(e)},required:function(e){return u(e,"required")},optional:function(e){return!u(e,"required")},parent:function(e){return!x.empty(e)},header:function(e){var t=c(e);return"h1"===t||"h2"===t||"h3"===t||"h4"===t||"h5"===t||"h6"===t},button:function(e){var t=c(e);return"button"===t||"input"===t&&"button"===h(e,"type")},input:function(e){var t=c(e);return"input"===t||"textarea"===t||"select"===t||"button"===t},text:function(e){var t;return"input"===c(e)&&(!(t=h(e,"type"))||"text"===t.toLowerCase())}};function T(e,t,n){if(null===n){if(e.length>1&&"scope"!==t)throw new SyntaxError("pseudo-selector :"+t+" requires an argument")}else if(1===e.length)throw new SyntaxError("pseudo-selector :"+t+" doesn't have any arguments")}var w=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;e.exports={compile:function(e,t,n,r){var i=t.name,o=t.data;if(n&&n.strict&&!w.test(i))throw SyntaxError(":"+i+" isn't part of CSS3");if("function"==typeof _[i])return T(_[i],i,o),_[i](e,o,n,r);if("function"==typeof x[i]){var a=x[i];return T(a,i,o),e===m?a:function(t){return a(t,o)&&e(t)}}throw new SyntaxError("unmatched pseudo-class :"+i)},filters:_,pseudos:x}},function(e,t,n){var r=n(53).call(Function.call,Object.prototype.hasOwnProperty),i=Object.assign;e.exports=function(e,t){if(i)return i(e,t);for(var n in t)r(t,n)&&(e[n]=t[n]);return e}},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ITERATOR_SYMBOL=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getAdapter=b,t.makeOptions=x,t.isCustomComponentElement=T,t.propsOfNode=w,t.typeOfNode=S,t.nodeHasType=E,t.nodeMatches=M,t.nodeEqual=I,t.containsChildrenSubArray=R,t.childrenToSimplifiedArray=N,t.isReactElementAlike=B,t.withSetStateAllowed=F,t.AND=H,t.displayNameOfNode=z,t.sym=U,t.privateSet=V,t.cloneElement=G,t.spyMethod=X,t.shallowEqual=Y,t.isEmptyValue=W,t.renderedDive=q;var o=v(n(122)),a=v(n(172)),s=v(n(499)),l=v(n(500)),u=v(n(314)),c=v(n(59)),h=v(n(154)),f=v(n(1054)),d=n(315),p=n(156),m=v(n(103));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"),(0,m.default)(e)}function _(e,t){if(e&&t&&e!==t)throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)")}function x(e){var t=(0,d.get)(),n=t.attachTo,r=t.hydrateIn,i=y(t,["attachTo","hydrateIn"]);_(n,r);var a=e.attachTo,s=e.hydrateIn;_(a,s);var l=s||r||n||a||void 0,u=s||r||void 0,c=(0,o.default)({},l&&{attachTo:l},u&&{hydrateIn:u});return(0,o.default)({},i,e,c)}function T(e,t){return t.isCustomComponentElement?!!t.isCustomComponentElement(e):!!e&&t.isValidElement(e)&&"function"==typeof e.type}function w(e){return(0,l.default)(e&&e.props||{}).filter((function(e){return"undefined"!=typeof i(e,2)[1]})).reduce((function(e,t){var n=i(t,2),r=n[0],a=n[1];return(0,o.default)(e,g({},r,a))}),{})}function S(e){return e?e.type:null}function E(e,t){if(!t||!e)return!1;var n=(0,m.default)();return n.displayNameOfNode?n.displayNameOfNode(e)===t:!!e.type&&("string"==typeof e.type?e.type===t:("function"==typeof e.type?(0,u.default)(e.type)===t:e.type.name===t)||e.type.displayName===t)}function k(e,t,n,r){var i=r?M:I;if(e===t)return!0;if(!Array.isArray(e)&&!Array.isArray(t))return i(e,t,n);var o=(0,h.default)(e,1/0),a=(0,h.default)(t,1/0);if(o.length!==a.length)return!1;if(0===o.length&&0===a.length)return!0;for(var s=0;s<o.length;s+=1)if(!i(o[s],a[s],n))return!1;return!0}function C(e,t,n){return k(e,t,n,!0)}function A(e,t,n){return k(e,t,n,!1)}function O(e,t){var n=i(t,2),r=n[0],a=n[1],s=null==a?{}:g({},r,a);return(0,o.default)({},e,s)}function P(e,t,n,i){if(e===t)return!0;if(!e||!t||e.type!==t.type)return!1;var o=w(e),s=w(t);i&&(o=(0,l.default)(o).reduce(O,{}),s=(0,l.default)(s).reduce(O,{}));for(var u=Object.keys(o),c=0;c<u.length;c+=1){var h=u[c];if("children"!==h){if(!(h in s))return!1;if(s[h]!==o[h]){if(r(s[h])!==r(o[h])||"object"!==r(o[h]))return!1;if(!(0,a.default)(o[h],s[h]))return!1}}}var f="children"in o,d="children"in s;if((f||d)&&!(i?C:A)(N(o.children,i),N(s.children,i),n))return!1;if(!j(e)){var p=Object.keys(s);return n(u.length-f,p.length-d)}return!1}function M(e,t){return P(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default,!0)}function I(e,t){return P(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default,!1)}function R(e,t,n){var r=(0,p.childrenOfNode)(t),i=function(t,i){return L(e,r.slice(i,i+n.length),n)};return r.some(i)}function L(e,t,n){return t.length===n.length&&t.every((function(t,r){return e(t,n[r])}))}function D(e){var t=[],n=function(e){null===e||!1===e||"undefined"==typeof e||t.push(e)};return Array.isArray(e)?e.forEach(n):n(e),t}function N(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=D(e),r=[],i=0;i<n.length;i+=1){var o=n[i],a=r.pop();"undefined"==typeof a?r.push(o):j(o)&&j(a)?r.push(a+o):(r.push(a),r.push(o))}return t?r.map((function(e){return"string"==typeof e?(0,f.default)(e):e})):r}function j(e){return"string"==typeof e||"number"==typeof e}function B(e,t){return t.isValidElement(e)||j(e)||Array.isArray(e)}function F(t){var n=!1;"undefined"==typeof e.document&&(n=!0,e.document={}),t(),n&&(e.document=void 0,delete e.document)}function H(e){var t=e.slice().reverse();return function(e){return t.every((function(t){return t(e)}))}}function z(e){if(!e)return null;var t=e.type;return t?t.displayName||("function"==typeof t?(0,u.default)(t):t.name||t):null}function U(e){return"function"==typeof Symbol?Symbol.for("enzyme."+String(e)):e}function V(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0})}function G(e,t,n){return e.createElement(t.type,(0,o.default)({},t.props,n))}function X(e,t){var n=void 0,r=e[t],i=(0,c.default)(e,t),o=void 0;return i&&(o=Object.getOwnPropertyDescriptor(e,t)),Object.defineProperty(e,t,{configurable:!0,enumerable:!o||!!o.enumerable,value:function(){function e(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=r.apply(this,t);return n=o,o}return e}()}),{restore:function(){function n(){i?o?Object.defineProperty(e,t,o):e[t]=r:delete e[t]}return n}(),getLastReturnValue:function(){function e(){return n}return e}()}}function Y(e,t){if((0,s.default)(e,t))return!0;if(!e||!t||"object"!==("undefined"==typeof e?"undefined":r(e))||"object"!==("undefined"==typeof t?"undefined":r(t)))return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;n.sort(),i.sort();for(var o=0;o<n.length;o+=1)if(!(0,c.default)(t,n[o])||!(0,s.default)(e[n[o]],t[n[o]]))return!1;return!0}function W(e){return null===e||!1===e}function q(e){return!!W(e)||[].concat(e).every((function(e){if(e){var t=e.rendered;return W(t)||q(t)}return W(e)}))}t.ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator}).call(this,n(27))},function(e,t,n){var r=n(52),i=n(53),o=n(504),a=n(506),s=n(1053),l=i.call(Function.call,o);r(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.get=s,t.merge=l,t.reset=u;var r=o(n(122)),i=o(n(509));function o(e){return e&&e.__esModule?e:{default:e}}var a={};function s(){return(0,r.default)({},a)}function l(e){e.adapter&&(0,i.default)(e.adapter),(0,r.default)(a,e)}function u(){a={},l(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},function(e,t,n){n.r(t);var r=Array.prototype.slice,i=function(e){return e},o=1,a=2,s=3,l=4,u=1e-6;function c(e){return"translate("+(e+.5)+",0)"}function h(e){return"translate(0,"+(e+.5)+")"}function f(e){return function(t){return+e(t)}}function d(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function p(){return!this.__axis}function m(e,t){var n=[],m=null,v=null,g=6,y=6,b=3,_=e===o||e===l?-1:1,x=e===l||e===a?"x":"y",T=e===o||e===s?c:h;function w(r){var c=null==m?t.ticks?t.ticks.apply(t,n):t.domain():m,h=null==v?t.tickFormat?t.tickFormat.apply(t,n):i:v,w=Math.max(g,0)+b,S=t.range(),E=+S[0]+.5,k=+S[S.length-1]+.5,C=(t.bandwidth?d:f)(t.copy()),A=r.selection?r.selection():r,O=A.selectAll(".domain").data([null]),P=A.selectAll(".tick").data(c,t).order(),M=P.exit(),I=P.enter().append("g").attr("class","tick"),R=P.select("line"),L=P.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(I),R=R.merge(I.append("line").attr("stroke","currentColor").attr(x+"2",_*g)),L=L.merge(I.append("text").attr("fill","currentColor").attr(x,_*w).attr("dy",e===o?"0em":e===s?"0.71em":"0.32em")),r!==A&&(O=O.transition(r),P=P.transition(r),R=R.transition(r),L=L.transition(r),M=M.transition(r).attr("opacity",u).attr("transform",(function(e){return isFinite(e=C(e))?T(e):this.getAttribute("transform")})),I.attr("opacity",u).attr("transform",(function(e){var t=this.parentNode.__axis;return T(t&&isFinite(t=t(e))?t:C(e))}))),M.remove(),O.attr("d",e===l||e==a?y?"M"+_*y+","+E+"H0.5V"+k+"H"+_*y:"M0.5,"+E+"V"+k:y?"M"+E+","+_*y+"V0.5H"+k+"V"+_*y:"M"+E+",0.5H"+k),P.attr("opacity",1).attr("transform",(function(e){return T(C(e))})),R.attr(x+"2",_*g),L.attr(x,_*w).text(h),A.filter(p).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===a?"start":e===l?"end":"middle"),A.each((function(){this.__axis=C}))}return w.scale=function(e){return arguments.length?(t=e,w):t},w.ticks=function(){return n=r.call(arguments),w},w.tickArguments=function(e){return arguments.length?(n=null==e?[]:r.call(e),w):n.slice()},w.tickValues=function(e){return arguments.length?(m=null==e?null:r.call(e),w):m&&m.slice()},w.tickFormat=function(e){return arguments.length?(v=e,w):v},w.tickSize=function(e){return arguments.length?(g=y=+e,w):g},w.tickSizeInner=function(e){return arguments.length?(g=+e,w):g},w.tickSizeOuter=function(e){return arguments.length?(y=+e,w):y},w.tickPadding=function(e){return arguments.length?(b=+e,w):b},w}function v(e){return m(o,e)}function g(e){return m(a,e)}function y(e){return m(s,e)}function b(e){return m(l,e)}n.d(t,"axisTop",(function(){return v})),n.d(t,"axisRight",(function(){return g})),n.d(t,"axisBottom",(function(){return y})),n.d(t,"axisLeft",(function(){return b}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.viewer=t.version=t.getTrackObjectFromHGC=t.mountHGComponent=t.waitForTransitionsFinished=t.waitForTilesLoaded=t.waitForJsonComplete=t.schema=t.tracks=t.trackViewer=t.HiGlassTrackComponent=t.HiGlassComponent=t.ChromosomeInfo=void 0;var r=n(73);Object.defineProperty(t,"ChromosomeInfo",{enumerable:!0,get:function(){function e(){return p(r).default}return e}()});var i=n(232);Object.defineProperty(t,"HiGlassComponent",{enumerable:!0,get:function(){function e(){return p(i).default}return e}()});var o=n(1079);Object.defineProperty(t,"HiGlassTrackComponent",{enumerable:!0,get:function(){function e(){return p(o).default}return e}()}),Object.defineProperty(t,"trackViewer",{enumerable:!0,get:function(){function e(){return o.trackViewer}return e}()});var a=n(271);Object.defineProperty(t,"schema",{enumerable:!0,get:function(){function e(){return p(a).default}return e}()});var s=n(10);Object.defineProperty(t,"waitForJsonComplete",{enumerable:!0,get:function(){function e(){return s.waitForJsonComplete}return e}()}),Object.defineProperty(t,"waitForTilesLoaded",{enumerable:!0,get:function(){function e(){return s.waitForTilesLoaded}return e}()}),Object.defineProperty(t,"waitForTransitionsFinished",{enumerable:!0,get:function(){function e(){return s.waitForTransitionsFinished}return e}()}),Object.defineProperty(t,"mountHGComponent",{enumerable:!0,get:function(){function e(){return s.mountHGComponent}return e}()}),Object.defineProperty(t,"getTrackObjectFromHGC",{enumerable:!0,get:function(){function e(){return s.getTrackObjectFromHGC}return e}()});var l=p(n(1)),u=p(n(42)),c=p(i),h=p(n(80)),f=p(n(79)),d=p(n(260));function p(e){return e&&e.__esModule?e:{default:e}}t.tracks={SVGTrack:h.default,TiledPixiTrack:f.default,HorizontalGeneAnnotationsTrack:d.default},t.version="1.11.11";var m=function(e,t,n){var r=l.default.createRef();return u.default.render(l.default.createElement(c.default,{ref:r,options:n||{},viewConfig:t}),e),r.current};t.viewer=function(e,t,n){return m(e,t,n).api}},function(e,t,n){var r=n(39),i=n(92),o=n(21)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(49),s=n(522),l=n(163),u=n(108),c=n(23),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,v=0,g={},y="onreadystatechange",b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},_=function(e){b.call(e.data)};(!f||!d)&&(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},d=function(e){delete g[e]},"process"==n(74)(h)?r=function(e){h.nextTick(a(b,e,1))}:m&&m.now?r=function(e){m.now(a(b,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):r=y in u("script")?function(e){l.appendChild(u("script"))[y]=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(39),i=n(33),o=n(219);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(23),i=n(12),o=n(32),a=n(36),s=n(21)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=new e.constructor(e.type,e);return t.sourceUid=e.sourceUid,t.forwarded=e.forwarded,t};t.default=r},function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i={PIXI:r(n(325))};t.default=i},function(e,t){e.exports=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=function(e,t,n){var i=(0,r.absToChr)(e,n),o=(0,r.absToChr)(t,n);return[i[0],Math.round(i[1]),o[0],Math.round(o[1])]};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.THEME_DEFAULT=t.THEME_DARK=t.THEME_LIGHT=void 0;var r=i(n(225));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.THEME_LIGHT=(0,r.default)("Light theme");t.THEME_DARK=(0,r.default)("Dark theme"),t.THEME_DEFAULT=o},function(e,t,n){var r=n(74);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(158),i=n(107).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(60),i=n(48),o=n(93).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){e.exports={default:n(562),__esModule:!0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}n(571);var o=function(){return r.default.createElement("div",{className:"Cross-module_cross-3WYME"})};t.default=o},function(e,t,n){var r=n(32).f,i=n(110),o=n(220),a=n(49),s=n(218),l=n(129),u=n(109),c=n(160),h=n(322),f=n(36),d=n(226).fastKey,p=n(238),m=f?"_s":"size",v=function(e,t){var n,r=d(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&l(r,n,e[u],e)}));return o(c.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(p(this,t),e)}}),f&&r(c.prototype,"size",{get:function(){return p(this,t)[m]}}),c},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=d(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){u(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?c(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,c(1))}),n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){var r=n(23),i=n(16),o=n(226),a=n(50),s=n(43),l=n(220),u=n(129),c=n(218),h=n(33),f=n(77),d=n(32).f,p=n(580)(0),m=n(36);e.exports=function(e,t,n,v,g,y){var b=r[e],_=b,x=g?"set":"add",T=_&&_.prototype,w={};return m&&"function"==typeof _&&(y||T.forEach&&!a((function(){(new _).entries().next()})))?(_=t((function(t,n){c(t,_,e,"_c"),t._c=new b,null!=n&&u(n,g,t[x],t)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;e in T&&(!y||"clear"!=e)&&s(_.prototype,e,(function(n,r){if(c(this,_,e),!t&&y&&!h(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i}))})),y||d(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(t,e,g,x),l(_.prototype,n),o.NEED=!0),f(_,e),w[e]=_,i(i.G+i.W+i.F,w),y||v.setStrong(_,e,g),_}},function(e,t,n){var r=n(111),i=n(584);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(16);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){var r=n(16),i=n(92),o=n(49),a=n(129);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,l=arguments[1];return i(this),(t=void 0!==l)&&i(l),null==e?new this:(n=[],t?(r=0,s=o(l,arguments[2],2),a(e,!1,(function(e){n.push(s(e,r++))}))):a(e,!1,n.push,n),new this(n))}})}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(172)),s=c(n(340)),l=n(133),u=c(n(593));function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(n,r){h(this,t);var i=f(this,e.call(this,n,r));return m.call(i),(0,l.autoBindHandlers)(i,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),i}return d(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(e){var t=void 0;if((0,a.default)(e.layout,this.props.layout)&&e.compactType===this.props.compactType?(0,l.childrenEqual)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=(0,l.synchronizeLayoutWithChildren)(t,e.children,e.cols,this.compactType(e)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var e=(0,l.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}},t.prototype.compactType=function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType},t.prototype.onDragStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,l.getLayoutItem)(a,e);if(s)return this.setState({oldDragItem:(0,l.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onDragStart(a,s,s,null,i,o)},t.prototype.onDrag=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props.cols,c=(0,l.getLayoutItem)(s,e);if(c){var h={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:e},f=!0;s=(0,l.moveElement)(s,c,t,n,f,this.props.preventCollision,this.compactType(),u),this.props.onDrag(s,a,c,h,i,o),this.setState({layout:(0,l.compact)(s,this.compactType(),u),activeDrag:h})}},t.prototype.onDragStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props,c=u.cols,h=u.preventCollision,f=(0,l.getLayoutItem)(s,e);if(f){var d=!0;s=(0,l.moveElement)(s,f,t,n,d,h,this.compactType(),c),this.props.onDragStop(s,a,f,null,i,o);var p=(0,l.compact)(s,this.compactType(),c),m=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,m)}},t.prototype.onLayoutMaybeChanged=function(e,t){t||(t=this.state.layout),(0,a.default)(t,e)||this.props.onLayoutChange(e)},t.prototype.onResizeStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,l.getLayoutItem)(a,e);s&&(this.setState({oldResizeItem:(0,l.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onResizeStart(a,s,s,null,i,o))},t.prototype.onResize=function(e,t,n,i){var o=i.e,a=i.node,s=this.state,u=s.layout,c=s.oldResizeItem,h=this.props,f=h.cols,d=h.preventCollision,p=(0,l.getLayoutItem)(u,e);if(p){var m=void 0;if(d){var v=(0,l.getAllCollisions)(u,r({},p,{w:t,h:n})).filter((function(e){return e.i!==p.i}));if(m=v.length>0){var g=1/0,y=1/0;v.forEach((function(e){e.x>p.x&&(g=Math.min(g,e.x)),e.y>p.y&&(y=Math.min(y,e.y))})),Number.isFinite(g)&&(p.w=g-p.x),Number.isFinite(y)&&(p.h=y-p.y)}}m||(p.w=t,p.h=n);var b={w:p.w,h:p.h,x:p.x,y:p.y,static:!0,i:e};this.props.onResize(u,c,p,b,o,a),this.setState({layout:(0,l.compact)(u,this.compactType(),f),activeDrag:b})}},t.prototype.onResizeStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,s=a.layout,u=a.oldResizeItem,c=this.props.cols,h=(0,l.getLayoutItem)(s,e);this.props.onResizeStop(s,u,h,null,i,o);var f=(0,l.compact)(s,this.compactType(),c),d=this.state.oldLayout;this.setState({activeDrag:null,layout:f,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,d)},t.prototype.placeholder=function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,o=t.margin,a=t.containerPadding,s=t.rowHeight,l=t.maxRows,c=t.useCSSTransforms;return i.default.createElement(u.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,useCSSTransforms:c},i.default.createElement("div",null))},t.prototype.processGridItem=function(e){if(e&&e.key){var t=(0,l.getLayoutItem)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,r=n.width,o=n.cols,a=n.margin,s=n.containerPadding,c=n.rowHeight,h=n.maxRows,f=n.isDraggable,d=n.isResizable,p=n.useCSSTransforms,m=n.draggableCancel,v=n.draggableHandle,g=this.state.mounted,y=!(t.static||!f||!t.isDraggable&&null!=t.isDraggable),b=!(t.static||!d||!t.isResizable&&null!=t.isResizable);return i.default.createElement(u.default,{containerWidth:r,cols:o,margin:a,containerPadding:s||a,maxRows:h,rowHeight:c,cancel:m,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:y,isResizable:b,useCSSTransforms:p&&g,usePercentages:!g,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.style,a=(0,s.default)("react-grid-layout",n),l=r({height:this.containerHeight()},o);return i.default.createElement("div",{className:a,style:l},i.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),this.placeholder())},t}(i.default.Component);p.displayName="ReactGridLayout",p.propTypes={className:o.default.string,style:o.default.object,width:o.default.number,autoSize:o.default.bool,cols:o.default.number,draggableCancel:o.default.string,draggableHandle:o.default.string,verticalCompact:function(e){e.verticalCompact},compactType:o.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,l.validateLayout)(t,"layout")},margin:o.default.arrayOf(o.default.number),containerPadding:o.default.arrayOf(o.default.number),rowHeight:o.default.number,maxRows:o.default.number,isDraggable:o.default.bool,isResizable:o.default.bool,preventCollision:o.default.bool,useCSSTransforms:o.default.bool,onLayoutChange:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onDragStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,onResizeStop:o.default.func,children:function(e,t){var n=e[t],r={};i.default.Children.forEach(n,(function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}))}},p.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:l.noop,onDragStart:l.noop,onDrag:l.noop,onDragStop:l.noop,onResizeStart:l.noop,onResize:l.noop,onResizeStop:l.noop};var m=function(){this.state={activeDrag:null,layout:(0,l.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};t.default=p},function(e,t,n){var r;!function(){var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0!==(r=function(){return i}.apply(t,[]))&&(e.exports=r)}()},function(e,t,n){var r;r=function(e,t){function n(e,t){return e(t={exports:{}},t.exports),t.exports}function r(e){return function(){return e}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var o=i,a=function(e){};function s(e,t,n,r,i,o,s,l){if(a(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,l],h=0;(u=new Error(t.replace(/%s/g,(function(){return c[h++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}a=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var l=s,u=o,c=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(a){}};u=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];c.apply(void 0,[t].concat(r))}};var h=u,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function m(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function v(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}var g=v()?Object.assign:function(e,t){for(var n,r,i=m(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))d.call(n,a)&&(i[a]=n[a]);if(f){r=f(n);for(var s=0;s<r.length;s++)p.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",b=l,_=h,x=y,T={};function w(e,t,n,r,i){for(var o in e)if(e.hasOwnProperty(o)){var a;try{b("function"==typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof e[o]),a=e[o](t,o,r,n,null,x)}catch(l){a=l}if(_(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in T)){T[a.message]=!0;var s=i?i():"";_(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}}var S=w,E=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";function i(e){var t=e&&(n&&e[n]||e[r]);if("function"==typeof t)return t}var a="<<anonymous>>",s={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:p(),arrayOf:m,element:v(),instanceOf:b,node:w(),objectOf:x,oneOf:_,oneOfType:T,shape:E,exact:k};function u(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function f(e){var n={},r=0;function i(i,o,s,u,f,d,p){if(u=u||a,d=d||s,p!==y)if(t)l(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var m=u+":"+s;!n[m]&&r<3&&(h(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,u),n[m]=!0,r++)}return null==o[s]?i?null===o[s]?new c("The "+f+" `"+d+"` is marked as required in `"+u+"`, but its value is `null`."):new c("The "+f+" `"+d+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(o,s,u,f,d)}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}function d(e){function t(t,n,r,i,o,a){var s=t[n];return O(s)!==e?new c("Invalid "+i+" `"+o+"` of type `"+P(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return f(t)}function p(){return f(o.thatReturnsNull)}function m(e){function t(t,n,r,i,o){if("function"!=typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new c("Invalid "+i+" `"+o+"` of type `"+O(a)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<a.length;s++){var l=e(a,s,r,i,o+"["+s+"]",y);if(l instanceof Error)return l}return null}return f(t)}function v(){function t(t,n,r,i,o){var a=t[n];return e(a)?null:new c("Invalid "+i+" `"+o+"` of type `"+O(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return f(t)}function b(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var s=e.name||a;return new c("Invalid "+i+" `"+o+"` of type `"+I(t[n])+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}return null}return f(t)}function _(e){if(!Array.isArray(e))return h(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull;function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new c("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return f(t)}function x(e){function t(t,n,r,i,o){if("function"!=typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],s=O(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var u=e(a,l,r,i,o+"."+l,y);if(u instanceof Error)return u}return null}return f(t)}function T(e){if(!Array.isArray(e))return h(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return h(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",M(n),t),o.thatReturnsNull}function r(t,n,r,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,o,y))return null;return new c("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}return f(r)}function w(){function e(e,t,n,r,i){return C(e[t])?null:new c("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return f(e)}function E(e){function t(t,n,r,i,o){var a=t[n],s=O(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var u=e[l];if(u){var h=u(a,l,r,i,o+"."+l,y);if(h)return h}}return null}return f(t)}function k(e){function t(t,n,r,i,o){var a=t[n],s=O(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");var l=g({},t[n],e);for(var u in l){var h=e[u];if(!h)return new c("Invalid "+i+" `"+o+"` key `"+u+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=h(a,u,r,i,o+"."+u,y);if(f)return f}return null}return f(t)}function C(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(C);if(null===t||e(t))return!0;var n=i(t);if(!n)return!1;var r,o=n.call(t);if(n!==t.entries){for(;!(r=o.next()).done;)if(!C(r.value))return!1}else for(;!(r=o.next()).done;){var a=r.value;if(a&&!C(a[1]))return!1}return!0;default:return!1}}function A(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function O(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":A(t,e)?"symbol":t}function P(e){if("undefined"==typeof e||null===e)return""+e;var t=O(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function M(e){var t=P(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function I(e){return e.constructor&&e.constructor.name?e.constructor.name:a}return c.prototype=Error.prototype,s.checkPropTypes=S,s.PropTypes=s,s},k=n((function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,n=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},r=!0;e.exports=E(n,r)})),C=n((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===o)for(var a in i)t.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()}));function A(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function O(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function P(e){return"number"==typeof e&&!isNaN(e)}function M(e){return parseInt(e,10)}function I(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var R=["Moz","Webkit","O","ms"];function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||"undefined"==typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<R.length;n++)if(D(e,R[n])in t)return R[n];return""}function D(e,t){return t?""+t+N(e):e}function N(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}var j=L(),B=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),H=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},V=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},G=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),X="";function Y(e,t){return X||(X=A(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return O(e[t])}))),!!O(e[X])&&e[X](t)}function W(e,t,n){var r=e;do{if(Y(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function q(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function K(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function $(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=M(n.borderTopWidth),t+=M(n.borderBottomWidth)}function Z(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=M(n.borderLeftWidth),t+=M(n.borderRightWidth)}function Q(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=M(n.paddingTop),t-=M(n.paddingBottom)}function J(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=M(n.paddingLeft),t-=M(n.paddingRight)}function ee(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function te(e){var t=e.x,n=e.y;return H({},D("transform",j),"translate("+t+"px,"+n+"px)")}function ne(e){return"translate("+e.x+","+e.y+")"}function re(e,t){return e.targetTouches&&A(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&A(e.changedTouches,(function(e){return t===e.identifier}))}function ie(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function oe(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&le(e.body,"react-draggable-transparent-selection")}}function ae(e){try{e&&e.body&&ue(e.body,"react-draggable-transparent-selection"),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(t){}}function se(){return z({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function le(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}function ue(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}function ce(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:ge(r);var i=ye(e);if("string"==typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if(!((s="parent"===r?i.parentNode:o.querySelector(r))instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=a.getComputedStyle(i),u=a.getComputedStyle(s);r={left:-i.offsetLeft+M(u.paddingLeft)+M(l.marginLeft),top:-i.offsetTop+M(u.paddingTop)+M(l.marginTop),right:J(s)-Z(i)-i.offsetLeft+M(u.paddingRight)-M(l.marginRight),bottom:Q(s)-$(i)-i.offsetTop+M(u.paddingBottom)-M(l.marginBottom)}}return P(r.right)&&(t=Math.min(t,r.right)),P(r.bottom)&&(n=Math.min(n,r.bottom)),P(r.left)&&(t=Math.max(t,r.left)),P(r.top)&&(n=Math.max(n,r.top)),[t,n]}function he(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function fe(e){return"both"===e.props.axis||"x"===e.props.axis}function de(e){return"both"===e.props.axis||"y"===e.props.axis}function pe(e,t,n){var r="number"==typeof t?re(e,t):null;if("number"==typeof t&&!r)return null;var i=ye(n);return ee(r||e,n.props.offsetParent||i.offsetParent||i.ownerDocument.body)}function me(e,t,n){var r=e.state,i=!P(r.lastX),o=ye(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function ve(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function ge(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function ye(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var be={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},_e=be.mouse,xe=function(n){function r(){var t,n,i;B(this,r);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=V(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(a))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(t){if(i.props.onMouseDown(t),!i.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(i.props.disabled||!(t.target instanceof r.defaultView.Node)||i.props.handle&&!W(t.target,i.props.handle,n)||i.props.cancel&&W(t.target,i.props.cancel,n))){var o=ie(t);i.setState({touchIdentifier:o});var a=pe(t,o,i);if(null!=a){var s=a.x,l=a.y,u=me(i,s,l);i.props.onStart,!1!==i.props.onStart(t,u)&&(i.props.enableUserSelectHack&&oe(r),i.setState({dragging:!0,lastX:s,lastY:l}),q(r,_e.move,i.handleDrag),q(r,_e.stop,i.handleDragStop))}}},i.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=pe(e,i.state.touchIdentifier,i);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(i.props.grid)){var o=n-i.state.lastX,a=r-i.state.lastY,s=he(i.props.grid,o,a),l=G(s,2);if(o=l[0],a=l[1],!o&&!a)return;n=i.state.lastX+o,r=i.state.lastY+a}var u=me(i,n,r);if(!1===i.props.onDrag(e,u)){try{i.handleDragStop(new MouseEvent("mouseup"))}catch(h){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(c)}return}i.setState({lastX:n,lastY:r})}},i.handleDragStop=function(t){if(i.state.dragging){var n=pe(t,i.state.touchIdentifier,i);if(null!=n){var r=n.x,o=n.y,a=me(i,r,o),s=e.findDOMNode(i);s&&i.props.enableUserSelectHack&&ae(s.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(t,a),s&&(K(s.ownerDocument,_e.move,i.handleDrag),K(s.ownerDocument,_e.stop,i.handleDragStop))}}},i.onMouseDown=function(e){return _e=be.mouse,i.handleDragStart(e)},i.onMouseUp=function(e){return _e=be.mouse,i.handleDragStop(e)},i.onTouchStart=function(e){return _e=be.touch,i.handleDragStart(e)},i.onTouchEnd=function(e){return _e=be.touch,i.handleDragStop(e)},V(i,n)}return U(r,n),F(r,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;K(n,be.mouse.move,this.handleDrag),K(n,be.touch.move,this.handleDrag),K(n,be.mouse.stop,this.handleDragStop),K(n,be.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&ae(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:se(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(t.Component);xe.displayName="DraggableCore",xe.propTypes={allowAnyClick:k.bool,disabled:k.bool,enableUserSelectHack:k.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:k.arrayOf(k.number),scale:k.number,handle:k.string,cancel:k.string,onStart:k.func,onDrag:k.func,onStop:k.func,onMouseDown:k.func,className:I,style:I,transform:I},xe.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var Te=function(n){function r(e){B(this,r);var t=V(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.onDragStart=function(e,n){if(!1===t.props.onStart(e,ve(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var r=ve(t,n),i={x:r.x,y:r.y};if(t.props.bounds){var o=i.x,a=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var s=ce(t,i.x,i.y),l=G(s,2),u=l[0],c=l[1];i.x=u,i.y=c,i.slackX=t.state.slackX+(o-i.x),i.slackY=t.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,ve(t,n)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(t.props.position){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},t}return U(r,n),F(r,[{key:"componentWillMount",value:function(){this.props.position&&!this.props.onDrag&&!this.props.onStop&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!=typeof window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){e.position&&(!this.props.position||e.position.x!==this.props.position.x||e.position.y!==this.props.position.y)&&this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n={},r=null,i=!this.props.position||this.state.dragging,o=this.props.position||this.props.defaultPosition,a={x:fe(this)&&i?this.state.x:o.x,y:de(this)&&i?this.state.y:o.y};this.state.isElementSVG?r=ne(a):n=te(a);var s=this.props,l=s.defaultClassName,u=s.defaultClassNameDragging,c=s.defaultClassNameDragged,h=t.Children.only(this.props.children),f=C(h.props.className||"",l,(H(e={},u,this.state.dragging),H(e,c,this.state.dragged),e));return t.createElement(xe,z({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(h,{className:f,style:z({},h.props.style,n),transform:r}))}}]),r}(t.Component);return Te.displayName="Draggable",Te.propTypes=z({},xe.propTypes,{axis:k.oneOf(["both","x","y","none"]),bounds:k.oneOfType([k.shape({left:k.number,right:k.number,top:k.number,bottom:k.number}),k.string,k.oneOf([!1])]),defaultClassName:k.string,defaultClassNameDragging:k.string,defaultClassNameDragged:k.string,defaultPosition:k.shape({x:k.number,y:k.number}),position:k.shape({x:k.number,y:k.number}),className:I,style:I,transform:I}),Te.defaultProps=z({},xe.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),Te.default=Te,Te.DraggableCore=xe,Te},e.exports=r(n(42),n(1))},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(2)),a=n(341),s=l(n(595));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){var n,r;c(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,e.call.apply(e,[this].concat(o))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},h(r,n)}return f(t,e),t.prototype.componentWillReceiveProps=function(e){!this.state.resizing&&(e.width!==this.props.width||e.height!==this.props.height)&&this.setState({width:e.width,height:e.height})},t.prototype.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},t.prototype.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],i=n[1];if(this.props.lockAspectRatio){var o=this.state.width/this.state.height;e=(t=e/o)*o}if(!r&&!i)return[e,t];var a=e,s=t,l=this.state,u=l.slackW,c=l.slackH;return e+=u,t+=c,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),i&&(e=Math.min(i[0],e),t=Math.min(i[1],t)),c+=s-t,((u+=a-e)!==this.state.slackW||c!==this.state.slackH)&&this.setState({slackW:u,slackH:c}),[e,t]},t.prototype.resizeHandler=function(e,t){var n=this;return function(r,i){var o=i.node,a=i.deltaX,s=i.deltaY,l=("both"===n.props.axis||"x"===n.props.axis)&&-1===["n","s"].indexOf(t),u=("both"===n.props.axis||"y"===n.props.axis)&&-1===["e","w"].indexOf(t);l&&"w"===t[t.length-1]&&(a=-a),u&&"n"===t[0]&&(s=-s);var c=n.state.width+(l?a:0),h=n.state.height+(u?s:0),f=c!==n.state.width,d=h!==n.state.height;if("onResize"!==e||f||d){var p=n.runConstraints(c,h);c=p[0],h=p[1];var m={};if("onResizeStart"===e)m.resizing=!0;else if("onResizeStop"===e)m.resizing=!1,m.slackW=m.slackH=0;else{if(c===n.state.width&&h===n.state.height)return;m.width=c,m.height=h}"function"==typeof n.props[e]?("function"==typeof r.persist&&r.persist(),n.setState(m,(function(){return n.props[e](r,{node:o,size:{width:c,height:h},handle:t})}))):n.setState(m)}}},t.prototype.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"==typeof t?t(e):t:i.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},t.prototype.render=function(){var e=this,t=this.props,n=t.children,o=t.draggableOpts;t.width,t.height,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart;var l=t.resizeHandles,c=u(t,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles"]),h=c.className?c.className+" react-resizable":"react-resizable";return(0,s.default)(n,r({},c,{className:h,children:[n.props.children,l.map((function(t){return i.default.createElement(a.DraggableCore,r({},o,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))}))]}))},t}(i.default.Component);d.propTypes={children:o.default.element.isRequired,width:o.default.number.isRequired,height:o.default.number.isRequired,handle:o.default.element,handleSize:o.default.array,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),lockAspectRatio:o.default.bool,axis:o.default.oneOf(["both","x","y","none"]),minConstraints:o.default.arrayOf(o.default.number),maxConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,draggableOpts:o.default.object},d.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"]},t.default=d},function(e,t,n){t.__esModule=!0,t.getBreakpointFromWidth=i,t.getColsFromBreakpoint=o,t.findOrGenerateResponsiveLayout=a,t.sortBreakpoints=s;var r=n(133);function i(e,t){for(var n=s(e),r=n[0],i=1,o=n.length;i<o;i++){var a=n[i];t>e[a]&&(r=a)}return r}function o(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function a(e,t,n,i,o,a){if(e[n])return(0,r.cloneLayout)(e[n]);for(var l=e[i],u=s(t),c=u.slice(u.indexOf(n)),h=0,f=c.length;h<f;h++){var d=c[h];if(e[d]){l=e[d];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:o}),a,o)}function s(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},function(e,t,n){e.exports={ResizeSensor:n(345),ElementQueries:n(599)}},function(e,t,n){var r,i;"undefined"!=typeof window&&window,void 0!==(i="function"==typeof(r=function(){if("undefined"==typeof window)return null;var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function t(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function n(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}var r=function r(i,o){function a(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(r){for(e=0,t=n.length;e<t;e++)n[e].call(this,r)},this.remove=function(r){var i=[];for(e=0,t=n.length;e<t;e++)n[e]!==r&&i.push(n[e]);n=i},this.length=function(){return n.length}}function s(t,r){if(t){if(t.resizedAttached)return void t.resizedAttached.add(r);t.resizedAttached=new a,t.resizedAttached.add(r),t.resizeSensor=document.createElement("div"),t.resizeSensor.dir="ltr",t.resizeSensor.className="resize-sensor";var i="pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;",o="position: absolute; left: 0; top: 0; transition: 0s;";t.resizeSensor.style.cssText=i,t.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',t.appendChild(t.resizeSensor);var s=window.getComputedStyle(t),l=s?s.getPropertyValue("position"):null;"absolute"!==l&&"relative"!==l&&"fixed"!==l&&(t.style.position="relative");var u,c,h=t.resizeSensor.childNodes[0],f=h.childNodes[0],d=t.resizeSensor.childNodes[1],p=n(t),m=p.width,v=p.height,g=!0,y=0,b=function(){var e=t.offsetWidth,n=t.offsetHeight;f.style.width=e+10+"px",f.style.height=n+10+"px",h.scrollLeft=e+10,h.scrollTop=n+10,d.scrollLeft=e+10,d.scrollTop=n+10},_=function n(){if(g){if(0===t.offsetWidth&&0===t.offsetHeight)return void(y||(y=e((function(){y=0,n()}))));g=!1}b()};t.resizeSensor.resetSensor=_;var x=function(){c=0,u&&(m=p.width,v=p.height,t.resizedAttached&&t.resizedAttached.call(p))},T=function(){p=n(t),(u=p.width!==m||p.height!==v)&&!c&&(c=e(x)),_()},w=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};w(h,"scroll",T),w(d,"scroll",T),e(_)}}t(i,(function(e){s(e,o)})),this.detach=function(e){r.detach(i,e)},this.reset=function(){i.resizeSensor.resetSensor()}};if(r.reset=function(e){t(e,(function(e){e.resizeSensor.resetSensor()}))},r.detach=function(e,n){t(e,(function(e){e&&(e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!=typeof MutationObserver){var i=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,i=0;i<n.length;i++)n[i].resizeSensor&&r.reset(n[i])}));document.addEventListener("DOMContentLoaded",(function(e){i.observe(document.body,{childList:!0,subtree:!0})}))}return r})?r.call(t,n,t,e):r)&&(e.exports=i)},function(e,t,n){e.exports={"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(14)),l=h(n(7)),u=h(n(115)),c=n(11);function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.pMain=o.pMobile,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){function e(){return!0}return e}()},{key:"initTile",value:function(){function e(e){var t=e.graphics;e.textGraphics=new c.GLOBALS.PIXI.Graphics,e.text=new c.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics),this.drawTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e){}return e}()},{key:"drawTile",value:function(){function e(e){if((0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=i.tileX,a=i.tileWidth,l=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)));e.text.scale.x=l,n.clear();var u=this.dimensions[1],c=this._refXScale(o+a)-this._refXScale(o);e.textGraphics.position.x=this._refXScale(o)+c/2,e.textGraphics.position.y=u/2;var h=this._refXScale(o);n.lineStyle(4*l,255,1),n.beginFill(16740363,.4),n.alpha=.5,n.moveTo(h,0),n.lineTo(h,u),n.moveTo(h+c,0),n.lineTo(h+c,u),n.lineStyle(0,255,1),n.drawRect(h,0,c,u)}}return e}()}]),t}(u.default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(11);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){function e(){return!0}return e}()},{key:"initTile",value:function(){function e(e){var t=e.graphics;e.textGraphics=new u.GLOBALS.PIXI.Graphics,e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,e.text.rotation=-Math.PI/2,t.addChild(e.textGraphics),this.drawTile(e,t)}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"drawTile",value:function(){function e(e){if((0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=i.tileY,a=i.tileHeight,l=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=l,n.clear(),n.lineStyle(4*l,255,1),n.beginFill(16740363,.4),n.alpha=.5;var u=this.dimensions[0],c=this._refYScale(o+a)-this._refYScale(o);e.textGraphics.position.x=u/2,e.textGraphics.position.y=this._refYScale(o)+c/2,n.drawRect(0,this._refYScale(o),u,c)}}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[1],tilePos:n.slice(2,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics()}return e}()}]),t}(c(n(349)).default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(14)),l=h(n(7)),u=h(n(255)),c=n(24);function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"calculateZoomLevel",value:function(){function e(){var e=c.tileProxy.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(e,this.maxZoom)}return e}()},{key:"relevantScale",value:function(){function e(){return this._yScale}return e}()},{key:"zoomed",value:function(){function e(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n);var i=1,o=(n(1)-n(0))/(this._refYScale(1)-this._refYScale(0)),a=this.position[0],l=n(0)+this.position[1]-this._refYScale(1)*o;this.pMain.position.x=a,this.pMain.position.y=l,this.pMain.scale.x=i,this.pMain.scale.y=o}return e}()}]),t}(u.default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(316);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.axis=(0,u.axisTop)(o._xScale),o.gAxis=o.gMain.append("g"),o.tilesetInfo=!0,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setDimensions",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform","translate(0,"+String(e[1])+")")}return e}()},{key:"draw",value:function(){function e(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}return e}()},{key:"zoomed",value:function(){function e(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}return e}()}]),t}(c(n(80)).default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(316);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.axis=(0,u.axisLeft)(o._yScale),o.gAxis=o.gMain.append("g"),o.tilesetInfo=!0,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setDimensions",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform","translate("+String(e[0])+",0)")}return e}()},{key:"draw",value:function(){function e(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}return e}()},{key:"zoomed",value:function(){function e(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}return e}()}]),t}(c(n(80)).default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=A(n(94)),i=A(n(25)),o=A(n(55)),a=A(n(30)),s=A(n(18)),l=A(n(63)),u=A(n(19)),c=A(n(37)),h=A(n(17)),f=A(n(34)),d=A(n(5)),p=A(n(3)),m=A(n(4)),v=A(n(6)),g=A(n(14)),y=A(n(7)),b=A(n(180)),_=n(8),x=n(28),T=A(n(355)),w=n(157),S=A(n(115)),E=n(24),k=n(10),C=n(11);function A(e){return e&&e.__esModule?e:{default:e}}var O=16,P=50,M=5e3,I=5,R={fontSize:"14px",fontFamily:"Arial",stroke:"white",strokeThickness:2,fontWeight:400,dropShadow:!0,dropShadowColor:"white",dropShadowDistance:0,dropShadowBlur:2},L=function(e){function t(e,n){(0,p.default)(this,t);var r=(0,v.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e,n));return r.valueScaleTransform=w.zoomIdentity,r}return(0,y.default)(t,e),(0,m.default)(t,[{key:"initialize",value:function(){function e(){if(!this.initialized){var e=[1,1,0];this.prevK=e[0],this.vertK=e[1],this.vertY=e[2],this.drawnRects||(this.drawnRects={}),this.colorScale||(this.options.colorRange?this.colorScale=(0,k.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=C.HEATED_OBJECT_MAP),this.initialized=!0}}return e}()},{key:"initTile",value:function(){function e(e){var t=this;e.texts={},e.rectGraphics=new C.GLOBALS.PIXI.Graphics,e.textGraphics=new C.GLOBALS.PIXI.Graphics,e.graphics.addChild(e.rectGraphics),e.graphics.addChild(e.textGraphics);var n=[],r=[];if(e.tileData&&e.tileData.length){if(e.tileData.sort((function(e,t){return t.importance-e.importance})),this.options&&this.options.valueColumn)n=[e.tileData.map((function(e){return{value:e}}))];else{var i=e.tileData.map((function(e){var t=+e.chrOffset;return{from:+e.fields[1]+t,to:+e.fields[2]+t,value:e,text:e.fields[3],strand:e.fields.length>=6&&"-"===e.fields[5]?"-":"+"}}));n=(0,k.segmentsToRows)(i.filter((function(e){return"+"===e.strand}))),r=(0,k.segmentsToRows)(i.filter((function(e){return"-"===e.strand})))}e.plusStrandRows=n,e.minusStrandRows=r,this.options.showTexts&&e.tileData.forEach((function(n,r){var i=n.fields;if(n.importance||(n.importance=Math.random()),e.textWidths={},e.textHeights={},!(r>=(+t.options.maxTexts||P))){var o=new C.GLOBALS.PIXI.Text(i[3],(0,f.default)({},R,{fontSize:+t.options.fontSize||R.fontSize}));t.flipText&&(o.scale.x=-1),o.anchor.x=.5,o.anchor.y=.5,e.texts[n.uid]=o,e.textGraphics.addChild(o)}}))}e.initialized=!0}return e}()},{key:"removeTileRects",value:function(){function e(e){var t=this,n=+e.tileId.split(".")[0];e.rectGraphics.clear(),e.rendered=!1,e.tileData&&e.tileData.length&&e.tileData.forEach((function(r,i){t.drawnRects[n]&&t.drawnRects[n][r.uid]&&t.drawnRects[n][r.uid][2]===e.tileId&&delete t.drawnRects[n][r.uid]}))}return e}()},{key:"destroyTile",value:function(){function e(e){this.removeTileRects(e),e.graphics.removeChild(e.textGraphics),e.graphics.removeChild(e.rectGraphics)}return e}()},{key:"removeTiles",value:function(){function e(e){(0,g.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"removeTiles",this).call(this,e)}return e}()},{key:"drawTile",value:function(){function e(e){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}return e}()},{key:"rerender",value:function(){function e(e,n){(0,g.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"rerender",this).call(this,e,n),this.valueScale=null,this.drawnRects={},this.options.colorRange?this.colorScale=(0,k.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=C.HEATED_OBJECT_MAP;var r=!0,i=!1,o=void 0;try{for(var a,s=(0,h.default)(this.visibleAndFetchedTiles());!(r=(a=s.next()).done);r=!0){var l=a.value;this.destroyTile(l),this.initTile(l),this.renderTile(l)}}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}return e}()},{key:"updateTile",value:function(){function e(e){this.areAllVisibleTilesLoaded()&&this.renderTile(e)}return e}()},{key:"allVisibleRects",value:function(){function e(){var e={};(0,c.default)(this.fetchedTiles).forEach((function(t){if(t.plusStrandRows){var n=!0,r=!1,i=void 0;try{for(var o,a=(0,h.default)(t.plusStrandRows[0]);!(n=(o=a.next()).done);n=!0){var s=o.value;e[s.value.uid]||(e[s.value.uid]=s)}}catch(l){r=!0,i=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}));for(var t=(0,c.default)(e).sort((function(e,t){return e.from-t.from})),n=0,r=0,i=0;i<t.length;i++)if(void 0!==t[i].staggeredStartPosition){n=i,r=t[i].staggeredStartPosition;break}for(var o=n;o<t.length;o++)t[o].staggeredStartPosition=(r+o-n)%2;for(var a=n;a>=0&&t.length;a--)t[a].staggeredStartPosition=(r+n-a)%2;return e}return e}()},{key:"drawSegmentStyle",value:function(){function e(e,t,n,r,i,o){var a=.1,s=r+i/2,l=[t,r,t+2*a,r,t+2*a,s-a,n-2*a,s-a,n-2*a,r,n,r,n,r+i,n-2*a,r+i,n-2*a,s+a,t+2*a,s+a,t+2*a,r+i,t,r+i];return e.rectGraphics.drawPolygon(l),l}return e}()},{key:"drawPoly",value:function(){function e(e,t,n,r,i,o){var a=null;return"segment"===this.options.annotationStyle?this.drawSegmentStyle(e,t,n,r,i,o):(("+"===o||"-"===o)&&n-t<O/2?(a=[t,r,t+i/2,r+i/2,t,r+i],"+"===o||(a=[n,r,n-i/2,r+i/2,n,r+i]),e.rectGraphics.drawPolygon(a)):(a="+"===o?[t,r,n-i/2,r,n,r+i/2,n-i/2,r+i,t,r+i]:"-"===o?[t+i/2,r,n,r,n,r+i,t+i/2,r+i,t,r+i/2]:[t,r,n,r,n,r+i,t,r+i],e.rectGraphics.drawPolygon(a)),a)}return e}()},{key:"setValueScale",value:function(){function e(){if(this.valueScale=null,this.options&&this.options.valueColumn){var e=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.valueColumn),t=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.valueColumn);if(this.options.valueColumn){var n=this.makeValueScale(e,this.calculateMedianVisibleValue(+this.options.valueColumn),t),r=(0,u.default)(n,1);this.valueScale=r[0]}}}return e}()},{key:"setColorValueScale",value:function(){function e(){if(this.colorValueScale=null,this.options&&this.options.colorEncoding&&"itemRgb"!==this.options.colorEncoding){var e=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.colorEncoding),t=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.colorEncoding);this.colorValueScale=(0,x.scaleLinear)().domain([e,t]).range([0,255])}}return e}()},{key:"renderRows",value:function(){function e(e,t,n,r,i,o){var a=+e.tileId.split(".")[0];l.default,this.initialize();var s=(0,x.scaleBand)().domain((0,_.range)(n)).range([r,i]).paddingInner(.3);this.allVisibleRects();var u=null;this.options.staggered&&(u=this.allVisibleRects());for(var c=0;c<t.length;c++)for(var h=0;h<t[c].length;h++){var d=t[c][h].value,p=d.fields,m=+d.chrOffset,v=+p[1]+m,g=+p[2]+m,y=(v+g)/2,b=s(c)+s.step()/2,T=this.options.annotationHeight||O;if("scaled"===T&&(T=s.bandwidth(),this.options.maxAnnotationHeight&&(T=Math.min(T,+this.options.maxAnnotationHeight))),this.options&&"itemRgb"===this.options.colorEncoding&&d.fields[8])3===d.fields[8].split(",").length&&(o="rgb("+String(d.fields[8])+")");else if(this.colorValueScale){var w=(0,k.valueToColor)(this.colorValueScale,this.colorScale,0,-Number.MIN_VALUE)(+p[+this.options.colorEncoding-1]);o="rgba("+String(w.join(","))+")"}if(this.valueScale){var S=+p[+this.options.valueColumn-1];b=this.valueScale(S)}var E=this.options.fillOpacity||.3;e.rectGraphics.lineStyle(1,(0,k.colorToHex)(o),E),e.rectGraphics.beginFill((0,k.colorToHex)(o),E);var C=b-T/2,A=this._xScale(v),M=this._xScale(g);this.options.staggered&&(u[d.uid].staggeredStartPosition?C-=I/2:C+=I/2);var L=!0;if(!(a in this.drawnRects)||!(d.uid in this.drawnRects[a])){L=!1,this.drawnRects[a]||(this.drawnRects[a]={});var D=this.drawPoly(e,A,M,C*this.prevK,T*this.prevK,p[5]);this.drawnRects[a][d.uid]=[D,{start:v,end:g,value:d,tile:e,fill:o},e.tileId]}if(this.options.showTexts){if(!e.texts)return;if(!(h>=(+this.options.maxTexts||P))&&e.texts[d.uid]){var N=e.texts[d.uid];N.position.x=this._xScale(y),N.position.y=C+T/2,N.nominalY=C+T/2,L&&(N.alreadyDrawn=!0);var j=void 0!==this.options.fontColor?(0,k.colorToHex)(this.options.fontColor):o;if(N.style=(0,f.default)({},R,{fill:j,fontSize:+this.options.fontSize||R.fontSize}),!(p[3]in e.textWidths)){N.updateTransform();var B=N.getBounds().width,F=N.getBounds().height,H=5;e.textWidths[p[3]]=B,e.textHeights[p[3]]=F-H}}}}}return e}()},{key:"renderTile",value:function(){function e(e){var t=e.plusStrandRows?e.plusStrandRows.length:1,n=e.minusStrandRows?e.minusStrandRows.length:1,r=!0,i=!1,o=void 0;try{for(var a,s=(0,h.default)(this.visibleAndFetchedTiles());!(r=(a=s.next()).done);r=!0){var l=a.value;if(!l.initialized)return;!l.plusStrandRows&&!l.minusStrandRows||(t=Math.max(l.plusStrandRows.length,t),n=Math.max(l.minusStrandRows.length,n))}}catch(p){i=!0,o=p}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}if(e.rendered&&this.removeTileRects(e),e.drawnAtScale=this._xScale.copy(),e.rendered=!0,this.setValueScale(),this.setColorValueScale(),e.tileData&&e.tileData.length){var u=this.options.plusStrandColor||this.options.fillColor||"blue",c=this.options.minusStrandColor||this.options.fillColor||"purple",f=0,d=0;d=this.options.separatePlusMinusStrands?t*this.dimensions[1]/(t+n)-f/2:this.dimensions[1],this.renderRows(e,e.plusStrandRows,t,0,d,u),this.renderRows(e,e.minusStrandRows,n,this.options.separatePlusMinusStrands?d+f/2:0,this.dimensions[1],c)}k.trackUtils.stretchRects(this,[function(e){return e.rectGraphics}])}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=E.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}return e}()},{key:"minVisibleValueInTiles",value:function(){function e(e){var t=this,n=this.visibleAndFetchedIds();0===n.length&&(n=(0,s.default)(this.fetchedTiles));var r=Math.min.apply(null,n.map((function(e){return t.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return Math.min.apply(null,t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,M).map((function(t){return+t.fields[e-1]})).filter((function(e){return!(0,a.default)(e)})))})));return r===o.default&&(r=null),r}return e}()},{key:"maxVisibleValueInTiles",value:function(){function e(e){var t=this,n=this.visibleAndFetchedIds();0===n.length&&(n=(0,s.default)(this.fetchedTiles));var r=Math.max.apply(null,n.map((function(e){return t.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return Math.max.apply(null,t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,M).map((function(t){return+t.fields[e-1]})).filter((function(e){return!(0,a.default)(e)})))})));return r===l.default&&(r=null),r}return e}()},{key:"calculateMedianVisibleValue",value:function(){function e(e){var t,n=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var r=this.visibleAndFetchedIds();0===r.length&&(r=(0,s.default)(this.fetchedTiles));var o=(t=[]).concat.apply(t,(0,i.default)(r.map((function(e){return n.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,M).map((function(t){return+t.fields[e-1]}))})))).filter((function(e){return e>0}));this.medianVisibleValue=(0,_.median)(o)}return e}()},{key:"draw",value:function(){function e(){var e=this;(0,g.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=function(){function t(t){var n=e.fetchedTiles[t];if(n.rectGraphics.scale.y=e.vertK,n.rectGraphics.position.y=e.vertY,!n.drawnAtScale)return{v:void 0};k.trackUtils.stretchRects(e,[function(e){return e.rectGraphics}]);var r=e.parentInFetched(n);if(!n.initialized)return"continue";n.tileData&&n.tileData.length&&n.tileData.forEach((function(t){if(n.texts){var i=t.fields,o=i[3],a=n.texts[t.uid];if(a){var s=+t.chrOffset,l=(+i[1]+s+(+i[2]+s))/2;if(a.position.x=e._xScale(l),a.position.y=a.nominalY*(e.vertK*e.prevK)+e.vertY,r||a.alreadyDrawn)a.visible=!1;else{a.visible=!0;var u=3;e.allBoxes.push([a.position.x-u,a.position.y-n.textHeights[i[3]]/2,a.position.x+n.textWidths[i[3]]+u,a.position.y+n.textHeights[i[3]]/2]),e.allTexts.push({importance:t.importance,text:a,caption:o,strand:i[5]})}}}}))}return t}();for(var i in this.fetchedTiles){var o=n(i);if("continue"!==o&&"object"===("undefined"==typeof o?"undefined":(0,r.default)(o)))return o.v}this.hideOverlaps(this.allBoxes,this.allTexts)}return e}()},{key:"hideOverlaps",value:function(){function e(e,t){(0,b.default)(e,(function(e,n){t[e].importance>t[n].importance?t[e].text.visible&&(t[n].text.visible=!1):t[n].text.visible&&(t[e].text.visible=!1)}))}return e}()},{key:"setPosition",value:function(){function e(e){(0,g.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,u.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}return e}()},{key:"setDimensions",value:function(){function e(e){(0,g.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"setDimensions",this).call(this,e)}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()},{key:"exportSVG",value:function(){function e(){var e=this,n=null,r=null;if((0,g.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"exportSVG",this)){var i=(0,g.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"exportSVG",this).call(this),o=(0,u.default)(i,2);r=o[0],n=o[1]}else n=r=document.createElement("g");var a=document.createElement("g");a.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(a);var s=document.createElement("g"),l=document.createElement("g");a.appendChild(s),a.appendChild(l);var c=function(){function t(t){if(!t.tileData.length)return"continue";t.tileData.forEach((function(n){var r=+t.tileId.split(".")[0],i=document.createElement("g");if(i.setAttribute("transform","translate("+String(t.rectGraphics.position.x)+","+String(t.rectGraphics.position.y)+")scale("+String(t.rectGraphics.scale.x)+","+String(t.rectGraphics.scale.y)+")"),s.appendChild(i),e.drawnRects[r]&&n.uid in e.drawnRects[r]){for(var o=e.drawnRects[r][n.uid][0],a=document.createElement("path"),u="M "+String(o[0])+" "+String(o[1]),c=2;c<o.length;c+=2)u+=" L "+String(o[c])+" "+String(o[c+1]);var h=e.drawnRects[r][n.uid][1].fill,f=void 0!==e.options.fontColor?(0,k.colorToHex)(e.options.fontColor):h;if(a.setAttribute("d",u),a.setAttribute("fill",h),a.setAttribute("opacity",.3),a.style.stroke=h,a.style.strokeWidth="1px",i.appendChild(a),t.texts[n.uid]){var d=t.texts[n.uid];if(!d.visible)return;var p=document.createElement("g"),m=document.createElement("text");l.appendChild(p),p.appendChild(m),p.setAttribute("transform","translate("+String(d.x)+","+String(d.y)+")scale("+String(d.scale.x)+",1)"),m.setAttribute("text-anchor","middle"),m.setAttribute("font-family",R.fontFamily),m.setAttribute("font-size",+e.options.fontSize||R.fontSize),m.setAttribute("font-weight","bold"),m.setAttribute("dy","5px"),m.setAttribute("fill",f),m.setAttribute("stroke",R.stroke),m.setAttribute("stroke-width","0.4"),m.setAttribute("text-shadow","0px 0px 2px grey"),m.innerHTML=d.text}}}))}return t}(),f=!0,p=!1,m=void 0;try{for(var v,y=(0,h.default)(this.visibleAndFetchedTiles());!(f=(v=y.next()).done);f=!0)c(v.value)}catch(b){p=!0,m=b}finally{try{!f&&y.return&&y.return()}finally{if(p)throw m}}return[r,r]}return e}()},{key:"movedY",value:function(){function e(e){var t=this;(0,c.default)(this.fetchedTiles).forEach((function(n){var r=t.valueScaleTransform,i=r.y,o=r.k,a=t.dimensions[1];i+e/o>-(o-1)*a&&i+e/o<0&&(t.valueScaleTransform=r.translate(0,e/o)),n.rectGraphics.position.y=t.valueScaleTransform.y,t.vertY=t.valueScaleTransform.y})),this.animate()}return e}()},{key:"zoomedY",value:function(){function e(e,t){var n=this,r=k.trackUtils.zoomedY(e,t,this.valueScaleTransform,this.dimensions[1]);this.valueScaleTransform=r;var i=r.k,o=r.y,a=!1;((i/=this.prevK)>1.5||i<1/1.5)&&(this.prevK*=i,i=1,a=!0),this.vertK=i,this.vertY=o,(0,c.default)(this.fetchedTiles).forEach((function(e){a&&n.renderTile(e),e.rectGraphics.scale.y=i,e.rectGraphics.position.y=o})),this.draw(),this.animate()}return e}()},{key:"getMouseOverHtml",value:function(){function e(e,t){if(!this.tilesetInfo)return"";var n=this.calculateZoomLevel(),r=[e,t];if(this.drawnRects[n])for(var i=(0,c.default)(this.drawnRects[n]),o=0;o<i.length;o++){for(var a=i[o][0].slice(0),s=i[o][1].tile.rectGraphics.scale.x,l=i[o][1].tile.rectGraphics.position.x,h=i[o][1].tile.rectGraphics.scale.y,f=i[o][1].tile.rectGraphics.position.y,d=[];a.length;){var p=a.splice(0,2),m=(0,u.default)(p,2),v=m[0],g=m[1];d.push([v*s+l,g*h+f])}if(-1===(0,T.default)(d,r))return i[o][1].value.fields.join(" ")}return""}return e}()}]),t}(S.default);t.default=L},function(e,t,n){e.exports={init:m,sweepBipartite:y,sweepComplete:b,scanBipartite:_,scanComplete:x};var r=n(257),i=n(258),o=n(619),a=1<<28,s=1024,l=r.mallocInt32(s),u=r.mallocInt32(s),c=r.mallocInt32(s),h=r.mallocInt32(s),f=r.mallocInt32(s),d=r.mallocInt32(s),p=r.mallocDouble(8*s);function m(e){var t=i.nextPow2(e);l.length<t&&(r.free(l),l=r.mallocInt32(t)),u.length<t&&(r.free(u),u=r.mallocInt32(t)),c.length<t&&(r.free(c),c=r.mallocInt32(t)),h.length<t&&(r.free(h),h=r.mallocInt32(t)),f.length<t&&(r.free(f),f=r.mallocInt32(t)),d.length<t&&(r.free(d),d=r.mallocInt32(t));var n=8*t;p.length<n&&(r.free(p),p=r.mallocDouble(n))}function v(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function g(e,t,n,r){e[n]=r,t[r]=n}function y(e,t,n,r,i,s,f,d,m,y){for(var b=0,_=2*e,x=e-1,T=_-1,w=n;w<r;++w){var S=s[w],E=_*w;p[b++]=i[E+x],p[b++]=-(S+1),p[b++]=i[E+T],p[b++]=S}for(w=f;w<d;++w){S=y[w]+a;var k=_*w;p[b++]=m[k+x],p[b++]=-S,p[b++]=m[k+T],p[b++]=S}var C=b>>>1;o(p,C);var A=0,O=0;for(w=0;w<C;++w){var P=0|p[2*w+1];if(P>=a)v(c,h,O--,P=P-a|0);else if(P>=0)v(l,u,A--,P);else if(P<=-a){P=-P-a|0;for(var M=0;M<A;++M)if(void 0!==(I=t(l[M],P)))return I;g(c,h,O++,P)}else{for(P=-P-1|0,M=0;M<O;++M){var I;if(void 0!==(I=t(P,c[M])))return I}g(l,u,A++,P)}}}function b(e,t,n,r,i,a,s,m,y,b){for(var _=0,x=2*e,T=e-1,w=x-1,S=n;S<r;++S){var E=a[S]+1<<1,k=x*S;p[_++]=i[k+T],p[_++]=-E,p[_++]=i[k+w],p[_++]=E}for(S=s;S<m;++S){E=b[S]+1<<1;var C=x*S;p[_++]=y[C+T],p[_++]=1|-E,p[_++]=y[C+w],p[_++]=1|E}var A=_>>>1;o(p,A);var O=0,P=0,M=0;for(S=0;S<A;++S){var I=0|p[2*S+1],R=1&I;if(S<A-1&&I>>1===p[2*S+3]>>1&&(R=2,S+=1),I<0){for(var L=-(I>>1)-1,D=0;D<M;++D)if(void 0!==(N=t(f[D],L)))return N;if(0!==R)for(D=0;D<O;++D)if(void 0!==(N=t(l[D],L)))return N;if(1!==R)for(D=0;D<P;++D){var N;if(void 0!==(N=t(c[D],L)))return N}0===R?g(l,u,O++,L):1===R?g(c,h,P++,L):2===R&&g(f,d,M++,L)}else L=(I>>1)-1,0===R?v(l,u,O--,L):1===R?v(c,h,P--,L):2===R&&v(f,d,M--,L)}}function _(e,t,n,r,i,s,c,h,f,d,m,y){var b=0,_=2*e,x=t,T=t+e,w=1,S=1;r?S=a:w=a;for(var E=i;E<s;++E){var k=E+w,C=_*E;p[b++]=c[C+x],p[b++]=-k,p[b++]=c[C+T],p[b++]=k}for(E=f;E<d;++E){k=E+S;var A=_*E;p[b++]=m[A+x],p[b++]=-k}var O=b>>>1;o(p,O);var P=0;for(E=0;E<O;++E){var M=0|p[2*E+1];if(M<0){var I=!1;if((k=-M)>=a?(I=!r,k-=a):(I=!!r,k-=1),I)g(l,u,P++,k);else{var R=y[k],L=_*k,D=m[L+t+1],N=m[L+t+1+e];e:for(var j=0;j<P;++j){var B=l[j],F=_*B;if(!(N<c[F+t+1]||c[F+t+1+e]<D)){for(var H=t+2;H<e;++H)if(m[L+H+e]<c[F+H]||c[F+H+e]<m[L+H])continue e;var z,U=h[B];if(void 0!==(z=r?n(R,U):n(U,R)))return z}}}}else v(l,u,P--,M-w)}}function x(e,t,n,r,i,s,u,c,h,f,d){for(var m=0,v=2*e,g=t,y=t+e,b=r;b<i;++b){var _=b+a,x=v*b;p[m++]=s[x+g],p[m++]=-_,p[m++]=s[x+y],p[m++]=_}for(b=c;b<h;++b){_=b+1;var T=v*b;p[m++]=f[T+g],p[m++]=-_}var w=m>>>1;o(p,w);var S=0;for(b=0;b<w;++b){var E=0|p[2*b+1];if(E<0)if((_=-E)>=a)l[S++]=_-a;else{var k=d[_-=1],C=v*_,A=f[C+t+1],O=f[C+t+1+e];e:for(var P=0;P<S;++P){var M=l[P],I=u[M];if(I===k)break;var R=v*M;if(!(O<s[R+t+1]||s[R+t+1+e]<A)){for(var L=t+2;L<e;++L)if(f[C+L+e]<s[R+L]||s[R+L+e]<f[C+L])continue e;var D=n(I,k);if(void 0!==D)return D}}}else{for(_=E-a,P=S-1;P>=0;--P)if(l[P]===_){for(L=P+1;L<S;++L)l[L-1]=l[L];break}--S}}}},function(e,t,n){e.exports=i;var r="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m";function i(e,t){var n="abcdef".split("").concat(t),i=[];return e.indexOf("lo")>=0&&i.push("lo=e[k+n]"),e.indexOf("hi")>=0&&i.push("hi=e[k+o]"),n.push(r.replace("_",i.join()).replace("$",e)),Function.apply(void 0,n)}},function(e,t,n){e.exports=i;var r=n(623);function i(e,t){for(var n=t[0],i=t[1],o=e.length,a=1,s=o,l=0,u=o-1;l<s;u=l++){var c=e[l],h=e[u],f=c[1],d=h[1];if(d<f){if(d<i&&i<f){if(0===(p=r(c,h,t)))return 0;a^=0<p|0}else if(i===f&&f<e[(l+1)%o][1]){if(0===(p=r(c,h,t)))return 0;a^=0<p|0}}else if(f<d){if(f<i&&i<d){if(0===(p=r(c,h,t)))return 0;a^=p<0|0}else if(i===f&&e[(l+1)%o][1]<f){var p;if(0===(p=r(c,h,t)))return 0;a^=p<0|0}}else if(i===f){var m=Math.min(c[0],h[0]),v=Math.max(c[0],h[0]);if(0===l){for(;u>0;){var g=(u+o-1)%o;if((_=e[g])[1]!==i)break;var y=_[0];m=Math.min(m,y),v=Math.max(v,y),u=g}if(0===u)return m<=n&&n<=v?0:1;s=u+1}for(var b=e[(u+o-1)%o][1];l+1<s;){var _;if((_=e[l+1])[1]!==i)break;y=_[0],m=Math.min(m,y),v=Math.max(v,y),l+=1}if(m<=n&&n<=v)return 0;var x=e[(l+1)%o][1];n<m&&b<i!=x<i&&(a^=1)}}return 2*a-1}},function(e,t,n){e.exports=i;var r=+(Math.pow(2,27)+1);function i(e,t,n){var i=e*t,o=r*e,a=o-(o-e),s=e-a,l=r*t,u=l-(l-t),c=t-u,h=s*c-(i-a*u-s*u-a*c);return n?(n[0]=h,n[1]=i,n):[h,i]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(19)),i=d(n(30)),o=d(n(5)),a=d(n(3)),s=d(n(4)),l=d(n(6)),u=d(n(14)),c=d(n(7)),h=d(n(40)),f=n(10);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t,n,r,i){i.drawRect(e,t,n,r)},m=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=o.fill,s=void 0===a?0:a,l=o.fillOpacity,u=void 0===l?0:l,c=o.stroke,h=void 0===c?0:c,d=o.strokeWidth,p=void 0===d?0:d,m=o.strokeOpacity,v=void 0===m?0:m,g=document.createElement("rect");g.setAttribute("x",e),g.setAttribute("y",t),g.setAttribute("width",n),g.setAttribute("height",r),g.setAttribute("fill","#"+String((0,f.decToHexStr)(s))),g.setAttribute("fill-opacity",u),g.setAttribute("stroke","#"+String((0,f.decToHexStr)(h))),g.setAttribute("stroke-opacity",v),g.setAttribute("stroke-width",p),i.appendChild(g)},v=function(e,t,n,r,i,o){i instanceof HTMLElement?m(e,t,n,r,i,o):p(e,t,n,r,i)},g=function(e,t,n,r,i,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=l.isVertical,c=void 0!==u&&u,h=l.svg,f=void 0===h?null:h,d=t,p=n,m=r,g=i,y=2*s.width>r?r/2:s.width,b=2*s.width>i?i/2:s.width,_=f||e,x={fill:0,fillOpacity:0,stroke:0,strokeOpacity:0,strokeWidth:1};if(s.positions&&s.positions.length?(e.lineStyle(1,0,0),e.beginFill(s.color,s.opacity),x.fill=s.color,x.fillOpacity=s.opacity,x.stroke=0,x.strokeOpacity=0,x.strokeWidth=1,s.positions.forEach((function(e){"top"===e&&!c||"left"===e&&c?v(t-y,n-b,r+2*y,b,_,x):"bottom"===e&&!c||"right"===e&&c?v(t-y,n+i,r+2*y,b,_,x):"left"===e&&!c||"top"===e&&c?v(t-y,n-b,y,i+2*b,_,x):("right"===e&&!c||"bottom"===e&&c)&&v(t+r,n-b,y,i+2*b,_,x)}))):s.width>0&&s.opacity>0&&(e.lineStyle(s.width,s.color,s.opacity),e.beginFill(0,0),x.fill=0,x.fillOpacity=0,x.stroke=s.color,x.strokeOpacity=s.opacity,x.strokeWidth=s.width,v(t-y,n-b,r+2*y,i+2*b,_,x)),a.positions&&a.positions.length){e.lineStyle(1,0,0),e.beginFill(a.color,a.opacity);var T=2*a.width>r?r/2:a.width,w=2*a.width>i?i/2:a.width;x.fill=a.color,x.fillOpacity=a.opacity,x.stroke=0,x.strokeOpacity=0,x.strokeWidth=1,a.positions.forEach((function(e){"top"===e&&!c||"left"===e&&c?(v(t,n,r,w,_,x),p+=w,g-=w):"bottom"===e&&!c||"right"===e&&c?(v(t,n+i-w,r,w,_,x),g-=w):"left"===e&&!c||"top"===e&&c?(v(t,n,T,i,_,x),d+=T,m-=T):("right"===e&&!c||"bottom"===e&&c)&&(v(t+r-T,n,T,i,_,x),m-=T)}))}else e.lineStyle(a.width,a.color,a.opacity),x.stroke=a.color,x.strokeOpacity=a.opacity,x.strokeWidth=a.width;e.beginFill(o.color,o.opacity),x.fill=o.color,x.fillOpacity=o.opacity,v(d,p,m,g,_,x)},y=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.options=n||{},r.drawnRects={},r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"drawHorizontalOverlay",value:function(){function e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments[4],o=arguments[5],a=arguments[6],s=arguments[7];if(n&&!(n.length<2)){var l=this.position[0]+t.left+this._xScale(n[0]),u=this.position[1]+t.top,c=t.height,h=this._xScale(n[1])-this._xScale(n[0]);h<r&&(l-=(r-h)/2,h=r),g(e,l,u,h,c,i,o,a,s)}}return e}()},{key:"drawVerticalOverlay",value:function(){function e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments[4],o=arguments[5],a=arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(n&&!(n.length<2)){var l=this.position[0]+t.left,u=this.position[1]+t.top+this._yScale(n.length>=4?n[2]:n[0]),c=this.position[1]+t.top,h=this.position[1]+t.top+t.height;if(!(u>h)){u<c&&(u=c);var f=t.width,d=this._yScale(n.length>=4?n[3]:n[1])-u+t.top+this.position[1];d<0||(u+d>h&&(d+=h-(u+d)),d<r&&(u-=(r-d)/2,d=r),s.isVertical=!0,g(e,l,u,f,d,i,o,a,s))}}}return e}()},{key:"draw",value:function(){function e(e){var n=this;(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this);var r=this.pMain,a={color:(0,f.colorToHex)(this.options.fill||this.options.fillColor||"blue"),opacity:(0,i.default)(+this.options.fillOpacity)?.3:+this.options.fillOpacity},s={color:(0,f.colorToHex)(this.options.stroke||"blue"),opacity:+this.options.strokeOpacity||1,width:+this.options.strokeWidth||0,positions:!this.options.strokePos||Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]},l={color:(0,f.colorToHex)(this.options.outline||"white"),opacity:+this.options.outlineOpacity||1,width:+this.options.outlineWidth||0,positions:!this.options.outlinePos||Array.isArray(this.options.outlinePos)?this.options.outlinePos:[this.options.outlinePos]};(!e||!e.svg)&&r.clear(),r.lineStyle(s.width,s,+!s.positions*s.opacity),r.beginFill(a.color,a.opacity);var c=Math.max(0,+this.options.minWidth||0),h=Math.max(0,+this.options.minHeight||0);Array.isArray(this.options.extent)&&this.options.orientationsAndPositions.forEach((function(t){("1d-horizontal"===t.orientation||"2d"===t.orientation)&&n.options.extent.forEach((function(i){return n.drawHorizontalOverlay(r,t.position,i,c,a,s,l,e)})),("1d-vertical"===t.orientation||"2d"===t.orientation)&&n.options.extent.forEach((function(i){return n.drawVerticalOverlay(r,t.position,i,h,a,s,l,e)}))}))}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}return e}()},{key:"setDimensions",value:function(){function e(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setDimensions",this).call(this,e),this.draw()}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var i=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(i,2);n=a[0],e=a[1]}else e=n=document.createElement("g");var s=document.createElement("g");return e.appendChild(s),this.draw({svg:s}),[n,e]}return e}()}]),t}(h.default);t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(19)),i=p(n(17)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),h=n(28),f=p(n(116)),d=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"initTile",value:function(){function e(e){e.barXValues=new Array(e.tileData.dense.length),e.barYValues=new Array(e.tileData.dense.length),e.barWidths=new Array(e.tileData.dense.length),e.barHeights=new Array(e.tileData.dense.length),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"initTile",this).call(this,e)}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!==o.length){var a=0;if(this.valueScale=null,"log"===this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minValue()),this.valueScale=(0,h.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,h.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var l=(0,d.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),u=(0,h.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]),c=0;t.lineStyle(c,l,1);var f=this.options.pointSize?this.options.pointSize:3,p=(0,d.colorToHex)(this.options.pointColor?this.options.pointColor:"red");t.beginFill(p,1),e.drawnAtScale=this._xScale.copy();for(var m=0;m<o.length;m++){var v=this._xScale(u(m)),g=this.valueScale(o[m]+a);if(e.barXValues[m]=v-f/2/this.pMain.scale.x,e.barYValues[m]=g-f/2/this.pMain.scale.y,e.barWidths[m]=f/this.pMain.scale.x,e.barHeights[m]=f/this.pMain.scale.y,u(m)>this.tilesetInfo.max_pos[0])break;t.drawRect(v-f/2/this.pMain.scale.x,g-f/2/this.pMain.scale.y,f/this.pMain.scale.x,f/this.pMain.scale.y)}}}}return e}()},{key:"draw",value:function(){function e(){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this);var e=!0,n=!1,r=void 0;try{for(var a,s=(0,i.default)((0,d.dictValues)(this.fetchedTiles));!(e=(a=s.next()).done);e=!0){var l=a.value,c=(l.drawnAtScale.domain()[1]-l.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),h=this._xScale.domain().map(l.drawnAtScale)[0];l.graphics.scale.x=c,l.graphics.position.x=-h*c}}catch(f){n=!0,r=f}finally{try{!e&&s.return&&s.return()}finally{if(n)throw r}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null,a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"superSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1],n.setAttribute("class","exported-line-track");var l=document.createElement("g");e.appendChild(l),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var c=!0,h=!1,f=void 0;try{for(var d,p=(0,i.default)(this.visibleAndFetchedTiles());!(c=(d=p.next()).done);c=!0)for(var m=d.value,v=0;v<m.barXValues.length;v++){var g=document.createElement("rect"),y=this.options.lineStrokeColor||"blue",b=this.options.pointColor||"red";g.setAttribute("fill",b),g.setAttribute("stroke",y),g.setAttribute("stroke-width",0),g.setAttribute("x",m.barXValues[v]),g.setAttribute("y",m.barYValues[v]),g.setAttribute("height",m.barHeights[v]),g.setAttribute("width",m.barWidths[v]),l.appendChild(g)}}catch(w){h=!0,f=w}finally{try{!c&&p.return&&p.return()}finally{if(h)throw f}}var _=document.createElement("g");if(_.setAttribute("id","axis"),n.appendChild(_),_.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var x=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);_.appendChild(x)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var T=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);_.appendChild(T)}return[n,e]}return e}()}]),t}(f.default);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(30)),i=x(n(37)),o=x(n(94)),a=x(n(18)),s=x(n(34)),l=x(n(35)),u=x(n(5)),c=x(n(3)),h=x(n(4)),f=x(n(6)),d=x(n(14)),p=x(n(7)),m=n(20),v=x(n(135)),g=n(24),y=x(n(139)),b=x(n(628)),_=x(n(181));function x(e){return e&&e.__esModule?e:{default:e}}var T=function(e){function t(e,n){(0,c.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e,n));return r.pMain=r.pMobile,r.continuousScaling=!1,r.updateDataFetcher(n),r}return(0,p.default)(t,e),(0,h.default)(t,[{key:"updateDataFetcher",value:function(){function e(e){if(e&&e.selectRows&&"server"===e.selectRowsAggregationMethod){var t=this.pubSub,n=this.dataFetcher,r=n.dataConfig.options,i={aggGroups:e.selectRows,aggFunc:e.selectRowsAggregationMode};if((0,l.default)(r)!==(0,l.default)(i)){var o=(0,s.default)({},n.dataConfig,{options:i});this.dataFetcher=new n.constructor(o,t),this.dataFetcher.dataConfig.tilesetUid&&this.fetchNewTiles((0,a.default)(this.fetchedTiles).map((function(e){return{tileId:e,remoteId:e}})))}}}return e}()},{key:"rerender",value:function(){function e(e,n){this.updateDataFetcher(e),(0,d.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"rerender",this).call(this,e,n),e.selectRows&&(this.selectRowsCumWeights=(0,b.default)(e.selectRows,e.selectRowsAggregationWithRelativeHeight))}return e}()},{key:"tileDataToCanvas",value:function(){function e(e){var t=document.createElement("canvas");this.options.selectRows&&this.tilesetInfo.shape?(t.width=this.tilesetInfo.shape[0],t.height=(0,y.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight)):this.tilesetInfo.shape?(t.width=this.tilesetInfo.shape[0],t.height=this.tilesetInfo.shape[1]):(t.width=this.tilesetInfo.tile_size,t.height=1);var n=t.getContext("2d");if(n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height),0!==e.length&&e.length===4*t.width*t.height){var r=new ImageData(e,t.width,t.height);n.putImageData(r,0,0)}else console.warn("HorizontalMultivecTrack: pixData has an incorrect length.");return t}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n){var r=this.getTilePosAndDimensions(t,n,this.tilesetInfo.tile_size),i=r.tileX,o=i+r.tileWidth;e.width=this._refXScale(o)-this._refXScale(i),e.height=this.dimensions[1],e.x=this._refXScale(i),e.y=0}return e}()},{key:"leftTrackZoomed",value:function(){function e(e,t,n,r,i){var o=this._xScale(0)-n*this._refXScale(0);this.pMobile.position.x=o+this.position[0],this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i){(0,d.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=i,this.pMain.position.y=this.position[1],this.pMain.scale.x=r,this.pMain.scale.y=1,this.drawColorbar()}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){var e=this;if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=g.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size)}else this.xTiles=g.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);var n=this.xTiles.map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(n)}}return e}()},{key:"calculateZoomLevel",value:function(){function e(){if(this.tilesetInfo){var e=this.tilesetInfo.min_pos[0];return this.tilesetInfo.resolutions?g.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e):g.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}}return e}()},{key:"tileToLocalId",value:function(){function e(e){return e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return e.join(".")}return e}()},{key:"getTilePosAtPosition",value:function(){function e(e,t){if(this.tilesetInfo){var n=this.calculateZoomLevel(),r=g.tileProxy.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(e)/r;return[n,Math.floor(i)]}}return e}()},{key:"getVisibleData",value:function(){function e(e,t){var n=this,r=this.calculateZoomLevel(),a=g.tileProxy.calculateTileWidth(this.tilesetInfo,r,this.tilesetInfo.tile_size),s=this._xScale.invert(e)/a,l=this.tilesetInfo.shape?this.tilesetInfo.shape[1]:1;this.options.selectRows&&(l=(0,y.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight));var u=this.tilesetInfo.tile_size*(s-Math.floor(s)),c=t/this.dimensions[1],h=c*l,f=Math.floor(h),d=void 0;this.options.selectRows&&(this.options.selectRowsAggregationWithRelativeHeight&&(f=this.selectRowsCumWeights.findIndex((function(e,t){return c<=e&&(t===n.selectRowsCumWeights.length-1||n.selectRowsCumWeights[t+1]>=c)}))),d=this.options.selectRows[f]);var p=this.tileToLocalId([r,Math.floor(s)]),v=this.fetchedTiles[p],b="";if(v){this.tilesetInfo.shape||(u=v.tileData.dense.length*(s-Math.floor(s)));var x=null;if(x=this.tilesetInfo.shape?Array.isArray(d)&&"client"===this.options.selectRowsAggregationMethod?d.map((function(e){return n.tilesetInfo.shape[0]*e+Math.floor(u)})):d&&"client"===this.options.selectRowsAggregationMethod?this.tilesetInfo.shape[0]*d+Math.floor(u):this.tilesetInfo.shape[0]*f+Math.floor(u):v.tileData.dense.length*f+Math.floor(u),Array.isArray(x)){var T=(0,_.default)(this.options.selectRowsAggregationMode),w=x.map((function(e){return v.tileData.dense[e]}));b=(0,m.format)(".3f")(T(w)),b+="<br/>",b+=String(x.length)+"-item "+String(this.options.selectRowsAggregationMode)}else b=(0,m.format)(".3f")(v.tileData.dense[x]),Array.isArray(d)&&(b+="<br/>",b+=String(d.length)+"-item "+String(this.options.selectRowsAggregationMode))}if(this.tilesetInfo.row_infos){b+="<br/>";var S="";this.options.selectRows&&!Array.isArray(d)?S=this.tilesetInfo.row_infos[d]:f>=0&&f<this.tilesetInfo.row_infos.length&&(S=this.tilesetInfo.row_infos[f]),"object"===("undefined"==typeof S?"undefined":(0,o.default)(S))?b+=(0,i.default)(S).join("\t"):b+=S}return""+String(b)}return e}()},{key:"getMouseOverHtml",value:function(){function e(e,t){if(!this.tilesetInfo)return"";var n=this.getTilePosAtPosition(e,t),i="";if(this.options&&this.options.heatmapValueScaling&&"categorical"===this.options.heatmapValueScaling&&this.options.colorRange){var o=this.getVisibleData(e,t).split("<br/>"),a=this.options.colorRange[parseInt(o[0],10)-1],s=o[1];if((0,r.default)(a)||"NaN"===a||"undefined"==typeof a||"undefined"===a)return"";i='<svg width="10" height="10" style="position:relative;bottom:1px"><rect width="10" height="10" rx="2" ry="2"\n                 style="fill:'+String(a)+';stroke:black;stroke-width:2;"></svg> '+String(s)}else i+="Data value: "+String(this.getVisibleData(e,t))+"</br>",i+="Zoom level: "+String(n[0])+" tile position: "+String(n[1]);return i}return e}()}]),t}(v.default);t.default=T},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=n(28),u=h(n(259)),c=n(10);function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"drawTile",value:function(){function e(e){this.renderTile(e)}return e}()},{key:"renderTile",value:function(){function e(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!==o.length){var a=0;if(this.valueScale=null,"log"===this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minValue()),this.valueScale=(0,l.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,l.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var u=(0,c.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),h=(0,l.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]),f=0;t.lineStyle(f,u,1);var d=this.options.barFillColorTop?this.options.barFillColorTop:"green",p=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",m=(0,c.colorToHex)(d),v=(0,c.colorToHex)(p),g="barOpacity"in this.options?this.options.barOpacity:1;e.drawnAtScale=this._xScale.copy();var y=0;y="log"===this.options.valueScaling?this.valueScale(1):this.valueScale(0),delete e.svgData;for(var b=0;b<o.length;b++){var _=this._xScale(h(b)),x=this.valueScale(o[b]+a),T=this._xScale(h(b+1))-_;if(x>y?(t.beginFill(v,g),this.addSVGInfo(e,_,y,T,x-y,p)):(t.beginFill(m,g),this.addSVGInfo(e,_,x,T,y-x,d)),h(b)>this.tilesetInfo.max_pos[0])break;t.drawRect(_,e.svgData.barYValues[b],T,e.svgData.barHeights[b])}}}}return e}()}]),t}(u.default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(30)),i=m(n(19)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(14)),c=m(n(7)),h=n(28),f=m(n(116)),d=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.setColorScale(n.colorRange),r.opacity=n.opacity||1,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"setColorScale",value:function(){function e(e){this.colorScale=e?(0,d.colorDomainToRgbaArray)(e):p.HEATED_OBJECT_MAP,this.colorScale=this.colorScale.map((function(e){return e.map((function(e){return e/255}))}))}return e}()},{key:"rerender",value:function(){function e(e){e&&e.colorRange&&this.setColorScale(e.colorRange),this.opacity=e.opacity||1,(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e)}return e}()},{key:"drawAxis",value:function(){function e(){}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=n.tileX,a=n.tileWidth,s=e.tileData.dense;if(0!==s.length){var l=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),u=(0,i.default)(l,2),c=u[0],f=u[1];if(c.range([254,0]).clamp(!0),this.valueScale=c,t.clear(),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var d=(0,h.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([o,o+a]);t.lineStyle(0,0,0);for(var m=0;m<s.length;m++)if(!(0,r.default)(s[m])){var v=Math.round(this.valueScale(s[m]+f));if(!(0,r.default)(+v)){var g=this._xScale(d(m)),y=this._xScale(d(m+1))-g,b=this.dimensions[1];e.xValues[m]=g,e.yValues[m]=v;var _=this.colorScale[v],x=p.GLOBALS.PIXI.utils.rgb2hex(_);if(t.beginFill(x,this.opacity),0!==m){if(d(m)>this.tilesetInfo.max_pos[0])break;0!==s[m]&&t.drawRect(g,0,y,b)}}}}}}return e}()}]),t}(f.default);t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(25)),i=d(n(38)),o=d(n(5)),a=d(n(3)),s=d(n(4)),l=d(n(6)),u=d(n(7)),c=n(28),h=n(8),f=n(10);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.seen=new i.default,r.pMain=r.pMobile,r.rows=[],r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"uid",value:function(){function e(e){return e[e.length-2]}return e}()},{key:"segmentOverlap",value:function(){function e(e,t){}return e}()},{key:"drawAll",value:function(){function e(e){var t=this;this.pMain.clear();var n=new i.default,r=e.map((function(e){return n.has(t.uid(e))?null:(n.add(t.uid(e)),{from:+e[1],to:+e[2],type:e[4],uid:t.uid(e)})})).filter((function(e){return e})),o=(0,f.segmentsToRows)(r);this.rows=o,this.draw()}return e}()},{key:"draw",value:function(){function e(){var e=this.rows;if(e){var t=(0,c.scaleBand)().range([0,this.dimensions[1]]).padding(.1).domain((0,h.range)(0,this.maxRows())),n=this.pMain;n.clear(),n.lineStyle(1,255,0),n.beginFill(16740363,.8);for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var o=e[r][i],a=this._refXScale(o.from),s=this._refXScale(o.to),l=t(r),u=s-a,f=l+t.bandwidth()-l;n.drawRect(a,l,u,f)}}}return e}()},{key:"allTilesLoaded",value:function(){function e(){var e,t=this,n=this.visibleAndFetchedIds().map((function(e){return t.fetchedTiles[e].tileData.discrete})),i=(e=[]).concat.apply(e,(0,r.default)(n));this.drawAll(i)}return e}()},{key:"initTile",value:function(){function e(e){}return e}()},{key:"maxRows",value:function(){function e(){return this.rows.length}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e){var t=this;e.tileData.discrete.forEach((function(e){var n=e[e.length-2];t.seen.has(n)&&t.seen.delete(n)}))}return e}()},{key:"drawTile",value:function(){function e(e){}return e}()}]),t}(d(n(115)).default);t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(17)),i=v(n(19)),o=v(n(38)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(14)),h=v(n(7)),f=v(n(134)),d=v(n(79)),p=n(24),m=n(10);function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,i,o,a,s,l,u){var c=u?e._xScale(n.yStart):e._xScale(n.xStart),h=u?e._xScale(n.yEnd):e._xScale(n.xEnd),f=u?e._yScale(n.xStart):e._yScale(n.yStart),d=u?e._yScale(n.xEnd):e._yScale(n.yEnd),p=n.uid+u,m=h-c,v=d-f,g={x:c,y:f,width:m,height:v};r&&(m<r||v<r)&&(g={x:c-r/2,y:f-r/2,width:r,height:r}),e.drawnRects[p]=g;var y=g.x+g.width,b=g.y+g.height;(g.x>i&&g.x<o||y>i&&y<o||g.y>a&&g.y<s||b>a&&b<s)&&(g.width>l||g.height>l)&&(t.drawRect(g.x,g.y,g.width,g.height),e.publish("annotationDrawn",{trackUuid:e.uuid,annotationUuid:p,viewPos:[g.x,g.y,g.width,g.height],dataPos:[n.xStart,n.xEnd,n.yStart,n.yEnd],importance:n.importance,info:{patternType:e.options.patternType}}))}var y=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,u.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r)));o.drawnRects={};var l=(0,f.default)(),c=l.publish,h=l.subscribe,d=l.unsubscribe;return o.publish=c,o.subscribe=h,o.unsubscribe=d,o}return(0,h.default)(t,e),(0,l.default)(t,[{key:"tileToLocalId",value:function(){function e(e){return""+String(e.join("."))}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+String(e.join("."))}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom)}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new o.default(this.visibleTiles.map((function(e){return e.remoteId})))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}return e}()},{key:"initTile",value:function(){function e(){}return e}()},{key:"destroyTile",value:function(){function e(){}return e}()},{key:"draw",value:function(){function e(){this.drawnRects={},(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(e){var t=this,n=e.graphics;if(n){n.clear();var r=(0,m.colorToHex)(this.options.rectangleDomainStrokeColor||"black"),i=(0,m.colorToHex)(this.options.rectangleDomainFillColor||"grey");n.lineStyle("undefined"!=typeof this.options.rectangleDomainStrokeWidth?this.options.rectangleDomainStrokeWidth:1,r,"undefined"!=typeof this.options.rectangleDomainStrokeOpacity?this.options.rectangleDomainStrokeOpacity:1),n.beginFill(i,"undefined"!=typeof this.options.rectangleDomainFillOpacity?this.options.rectangleDomainFillOpacity:.4),n.alpha=this.options.rectangleDomainOpacity||.5;var o=this.options.minSquareSize&&"none"!==this.options.minSquareSize?+this.options.minSquareSize:0,a=this.options.rectangleMinSize?+this.options.rectangleMinSize:0,s=this._xScale.range()[0],l=this._xScale.range()[1],u=this._yScale.range()[0],c=this._yScale.range()[1];e.tileData.length&&e.tileData.filter((function(e){return!(e.uid in t.drawnRects)})).forEach((function(e){g(t,n,e,o,s,l,u,c,a,"yes"===t.options.flipDiagonal),t.options.flipDiagonal&&"copy"===t.options.flipDiagonal&&g(t,n,e,o,s,l,u,c,a,!0)}))}}return e}()},{key:"exportSVG",value:function(){function e(){var e=this,n=null,o=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var s=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),l=(0,i.default)(s,2);o=l[0],n=l[1]}else n=o=document.createElement("g");var u=document.createElement("g");u.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(u);for(var h=function(){function t(t){var n=function(){function n(n){if(!n.tileData||!n.tileData.length)return"continue";n.tileData.forEach((function(r){var i=r.uid+t,o=document.createElement("g");if(o.setAttribute("transform","translate("+String(n.graphics.position.x)+","+String(n.graphics.position.y)+")scale("+String(n.graphics.scale.x)+","+String(n.graphics.scale.y)+")"),u.appendChild(o),i in e.drawnRects){var a=e.drawnRects[i],s=document.createElement("rect");s.setAttribute("x",a.x),s.setAttribute("y",a.y),s.setAttribute("width",a.width),s.setAttribute("height",a.height),s.setAttribute("fill",e.options.rectangleDomainFillColor?e.options.rectangleDomainFillColor:"grey"),s.setAttribute("opacity",.3),s.style.stroke="black",s.style.strokeWidth="1px",o.appendChild(s)}}))}return n}(),i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(e.visibleAndFetchedTiles());!(i=(s=l.next()).done);i=!0)n(s.value)}catch(c){o=!0,a=c}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return t}(),f=[!0,!1],d=0;d<f.length;d++)h(f[d]);return[o,o]}return e}()},{key:"setPosition",value:function(){function e(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale().domain()[0]===e.domain()[0]&&this.xScale().domain()[1]===e.domain()[1]&&this.yScale().domain()[0]===t.domain()[0]&&this.yScale().domain()[1]===t.domain()[1]||(this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw())}return e}()},{key:"leftTrackDraw",value:function(){function e(){this.draw()}return e}()}]),t}(d.default);t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(25)),i=g(n(38)),o=g(n(19)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(14)),h=g(n(7)),f=g(n(134)),d=g(n(79)),p=n(11),m=n(24),v=n(10);function g(e){return e&&e.__esModule?e:{default:e}}var y=250,b=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n)),i=e.pubSub;r.drawnAnnotations={},r.drawnAnnoGfx={},r.selectedAnno=null,r.options.minSquareSize=+r.options.minSquareSize;var o=(0,f.default)(),l=o.publish,c=o.subscribe,h=o.unsubscribe;return r.publish=l,r.subscribe=c,r.unsubscribe=h,r.sT=0,r.annoSelectedBound=r.annoSelected.bind(r),r.pubSubs.push(i.subscribe("annoSelected",r.annoSelectedBound)),r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"projection",value:function(){function e(e){var t=(0,o.default)(e,2),n=t[0],r=t[1];return[this._xScale(n),this._yScale(r)]}return e}()},{key:"tileToLocalId",value:function(){function e(e){return""+String(e.join("."))}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+String(e.join("."))}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=m.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),t=m.tileProxy.calculateZoomLevel(this._yScale,this.minY,this.maxY);return(0,v.min)((0,v.max)(e,t),this.maxZoom)}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.tilesetInfo.max_zoom,this.maxSize),this.yTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.tilesetInfo.max_zoom,this.maxSize);for(var e=this.zoomLevel,t=[],n=0;n<this.xTiles.length;n++)for(var r=0;r<this.yTiles.length;r++)t.push([e,this.xTiles[n],this.yTiles[r]]);this.setVisibleTiles(t)}}return e}()},{key:"draw",value:function(){function e(){this.drawnAnnotations={},(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.graphics){e.graphics.__tile__=e;var i=e.graphics;i.clear(),this.setBorderStyle(i),this.setFill(i),i.alpha=+this.options.rectangleDomainOpacity,e.tileData.length&&e.tileData.filter((function(e){return!(e.uid in t.drawnAnnotations)||n})).forEach((function(e){var n=t.projection([e.xStart,e.yStart]),a=(0,o.default)(n,2),s=a[0],l=a[1],u=t.projection([e.xEnd,e.yEnd]),c=(0,o.default)(u,2),h=c[0],f=c[1];t.options.exclude&&t.options.exclude.indexOf(e.uid)>=0||t.drawAnnotation(t.prepAnnotation(i,e.uid,s,l,h-s,f-l,e),r)}))}}return e}()},{key:"prepAnnotation",value:function(){function e(e,t,n,r,i,o,a){var s=void 0;try{s=JSON.parse(a.fields)}catch(l){}return{graphics:e,id:a.id,uid:t,annotation:{x:n,y:r,width:i,height:o},dataPos:[a.xStart,a.xEnd,a.yStart,a.yEnd],importance:a.importance,info:s}}return e}()},{key:"drawAnnotation",value:function(){function e(e,t){var n=this,r=e.graphics,i=e.id,o=e.uid,a=e.annotation,s=e.dataPos,l=e.importance,u=e.info;this.options.minSquareSize&&(a.width<this.options.minSquareSize||a.height<this.options.minSquareSize)&&(a.x=(a.x+a.width)/2,a.y=(a.y+a.height)/2,a.width=this.options.minSquareSize,a.height=this.options.minSquareSize),this.drawnAnnotations[o]=a;var c=[a.x,a.y,a.width,a.height],h=this.drawnAnnoGfx[o];h||(h=new p.GLOBALS.PIXI.Graphics,this.drawnAnnoGfx[o]=h),-1===r.children.indexOf(h)&&r.addChild(h),this._drawRect(h,c,o),r.interactive=!0,h.interactive=!0,h.buttonMode=!0;var f={id:i,uid:o,dataPos:s,importance:l,info:u,viewPos:[a.x,a.y,a.x+a.width,a.y+a.height]};h.mouseover=function(){return n.hover(h,c,o)},h.mouseout=function(){return n.blur(h,c,o)},h.mousedown=function(){return n.mouseDown()},h.mouseup=function(e){return n.mouseUp(h,c,o,e,f)},t||this.publish("annotationDrawn",{trackUuids:this.uuid,annotationUuid:o,annotationId:i,viewPos:c,dataPos:s,importance:l,info:u})}return e}()},{key:"_drawRect",value:function(){function e(e,t,n){var i=this.options.rectangleDomainStrokeColor,o=this.options.rectangleDomainStrokeWidth,a=this.options.rectangleDomainStrokeOpacity,s=this.options.rectangleDomainFillColor,l=this.options.rectangleDomainFillOpacity;this.hoveredAnno===n&&(i=this.options.hoverColor,o=this.options.rectangleDomainStrokeWidth+1||2,a=1,s=this.options.hoverColor,l=this.options.rectangleDomainFillOpacity),this.selectedAnno&&this.selectedAnno.uid===n&&(i=this.options.selectColor,o=this.options.rectangleDomainStrokeWidth+1||2,a=1,s=this.options.selectColor,l=(0,v.max)(.33,this.options.rectangleDomainFillOpacity)),e.clear(),this.options.trackBorderBgWidth&&(this.setBorderStyle(e,this.options.trackBorderBgColor,this.options.trackBorderBgWidth,this.options.trackBorderBgAlpha),this.setFill(e,s,0),e.drawRect.apply(e,(0,r.default)(t))),this.setBorderStyle(e,i,o,a),this.setFill(e,s,l),e.drawRect.apply(e,(0,r.default)(t)),e.__viewPos__=t}return e}()},{key:"context",value:function(){function e(e,t,n){return function(r){return r(e,t,n)}}return e}()},{key:"click",value:function(){function e(e,t,n,r,i){this.select(e,t,n),this.pubSub.publish("app.click",{type:"annotation",event:r,payload:i})}return e}()},{key:"mouseDown",value:function(){function e(){this.sT=performance.now()}return e}()},{key:"mouseUp",value:function(){function e(e,t,n,r,i){performance.now()-this.sT<=y&&this.click(e,t,n,r,i)}return e}()},{key:"hover",value:function(){function e(e,t,n){this.hoveredAnno=n,this._drawRect(e,t,n),this.animate()}return e}()},{key:"focus",value:function(){function e(e,t,n){this._drawRect(e,t,n),this.animate()}return e}()},{key:"blur",value:function(){function e(e,t,n){this.hoveredAnno=null,this._drawRect(e,t,n),this.animate()}return e}()},{key:"select",value:function(){function e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=null,o=null;this.selectedAnno&&(i=this.selectedAnno.graphics,o=this.selectedAnno.uid),this.selectedAnno={graphics:e,uid:n},this.focus(e,t,n),this.options.onSelect&&!r&&(window[this.options.onSelect](n),this.pubSub.publish("annoSelected",n)),i&&o&&this.blur(i,i.__viewPos__,o)}return e}()},{key:"unselect",value:function(){function e(){var e=this.selectedAnno.graphics,t=this.selectedAnno.uid;this.selectedAnno=null,this.blur(e,e.__viewPos__,t)}return e}()},{key:"annoSelected",value:function(){function e(e){if(!this.selectedAnno||this.selectedAnno.uid!==e){this.selectedAnno&&this.unselect();var t=this.drawnAnnoGfx[e];t&&this.select(t,t.__viewPos__,e,!0)}}return e}()},{key:"exportSVG",value:function(){function e(){var e=this,n=null,r=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var i=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),s=(0,o.default)(i,2);r=s[0],n=s[1]}else n=r=document.createElement("g");var l=document.createElement("g");return l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(l),this.visibleAndFetchedTiles().filter((function(e){return e.tileData&&e.tileData.length})).map((function(e){return{graphics:e.graphics,td:e.tileData}})).forEach((function(t){var n=t.td,r=t.graphics,i=document.createElement("g");if(i.setAttribute("transform","translate("+String(r.position.x)+","+String(r.position.y)+")scale("+String(r.scale.x)+","+String(r.scale.y)+")"),l.appendChild(i),n.uid in e.drawnAnnotations){var o=e.drawnAnnotations[n.uid],a=document.createElement("rect");a.setAttribute("x",o.x),a.setAttribute("y",o.y),a.setAttribute("width",o.width),a.setAttribute("height",o.height),a.setAttribute("fill",e.options.fillColor||"grey"),a.setAttribute("opacity",.3),a.style.stroke=e.options.fillColor||"grey",a.style.strokeWidth="1px",i.appendChild(a)}})),[r,r]}return e}()},{key:"setBorderStyle",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.rectangleDomainStrokeColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.rectangleDomainStrokeWidth,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.rectangleDomainStrokeOpacity;e.lineStyle("undefined"!=typeof n?n:1,(0,v.colorToHex)(t||"black"),"undefined"!=typeof r?r:1)}return e}()},{key:"setFill",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.rectangleDomainFillColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.rectangleDomainFillOpacity;e.beginFill((0,v.colorToHex)(t||"grey"),"undefined"!=typeof n?n:.4)}return e}()},{key:"setPosition",value:function(){function e(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()},{key:"minX",get:function(){function e(){return this.tilesetInfo&&this.tilesetInfo.min_pos?this.tilesetInfo.min_pos[0]:0}return e}()},{key:"maxX",get:function(){function e(){return this.tilesetInfo&&this.tilesetInfo.max_pos?this.tilesetInfo.max_pos[0]:this.tilesetInfo.max_width||this.tilesetInfo.max_size}return e}()},{key:"minY",get:function(){function e(){return this.minX}return e}()},{key:"maxY",get:function(){function e(){return this.maxX}return e}()},{key:"maxSize",get:function(){function e(){return this.tilesetInfo.max_pos&&Math.max(this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1])||(this.tilesetInfo.max_size?this.tilesetInfo.max_size:0)}return e}()}]),t}(d.default);t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(37)),i=d(n(5)),o=d(n(3)),a=d(n(4)),s=d(n(6)),l=d(n(14)),u=d(n(7)),c=n(9),h=d(n(40)),f=n(11);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n,r){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return a.pubSub=e.pubSub,a.options=n,a.isVertical=r,a.rects={},a.defaultColor=(0,c.color)("red"),a}return(0,u.default)(t,e),(0,a.default)(t,[{key:"draw",value:function(){function e(){var e=this,n="undefined"!=typeof this.options.minRectWidth?this.options.minRectWidth:10,o="undefined"!=typeof this.options.fill?(0,c.color)(this.options.fill):this.defaultColor,a="undefined"!=typeof this.options.fillOpacity?+this.options.fillOpacity:.2,s="undefined"!=typeof this.options.stroke?(0,c.color)(this.options.stroke):this.defaultColor,u="undefined"!=typeof this.options.strokeWidth?+this.options.strokeWidth:1,h="undefined"!=typeof this.options.strokeOpacity?+this.options.strokeOpacity:0,d=void 0;this.options.strokePos&&this.options.strokePos.length&&(d=Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]),(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"draw",this).call(this);var p=this.pMain;p.clear();var m=performance.now();this.options.regions.forEach((function(t){var r=String(t[0])+"-"+String(t[1]);e.rects[r]||(e.rects[r]={graphics:new f.GLOBALS.PIXI.Graphics},p.addChild(e.rects[r].graphics)),e.rects[r].timeStamp=m;var i=(0,c.color)(t[2])||o,l=(0,c.color)(t[3])||s;l||(l=i);var v=f.GLOBALS.PIXI.utils.rgb2hex([i.r/255,i.g/255,i.b/255]),g=f.GLOBALS.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);d?(p.lineStyle(1,g,0),p.beginFill(g,+t[5]||h)):(p.lineStyle(u,g,+t[5]||h),p.beginFill(v,+t[4]||a));var y=e.isVertical?e._yScale:e._xScale,b=y(+t[0]),_=y(+t[1]),x=_-b,T="undefined"!=typeof t[6]?t[6]:n;x<T&&(b=(b+_)/2-T/2,x=T),d?(p.lineStyle(1,g,0),p.beginFill(g,+t[5]||h),d.forEach((function(t){("top"===t||"around"===t)&&(e.isVertical?p.drawRect(0,b,u,x):p.drawRect(b,0,x,u)),("right"===t||"around"===t)&&(e.isVertical?p.drawRect(0,b,e.dimensions[0],u):p.drawRect(b,0,u,e.dimensions[1])),("bottom"===t||"around"===t)&&(e.isVertical?p.drawRect(e.dimensions[0]-u,b,u,x):p.drawRect(b,e.dimensions[1]-u,x,u)),("left"===t||"around"===t)&&(e.isVertical?p.drawRect(0,b+x-u,e.dimensions[0],u):p.drawRect(b+x-u,0,u,e.dimensions[1]))}))):p.lineStyle(u,g,+t[5]||h),e.rects[r].graphics.clear(),e.rects[r].graphics.interactive=!0,e.rects[r].graphics.buttonMode=!0,p.beginFill(v,+t[4]||a),e.isVertical?(p.drawRect(0,b,e.dimensions[0],x),e.rects[r].graphics.hitArea=new f.GLOBALS.PIXI.Rectangle(0,b,e.dimensions[0],x)):(p.drawRect(b,0,x,e.dimensions[1]),e.rects[r].graphics.hitArea=new f.GLOBALS.PIXI.Rectangle(b,0,x,e.dimensions[1])),e.rects[r].graphics.mousedown=function(){e.rects[r].mouseDownTime=performance.now()},e.rects[r].graphics.mouseup=function(n){performance.now()-e.rects[r].mouseDownTime<f.MAX_CLICK_DELAY&&e.pubSub.publish("app.click",{type:"annotation",event:n,payload:t})}})),(0,r.default)(this.rects).filter((function(e){return e.timeStamp!==m})).forEach((function(e){return p.removeChild(e.graphics)}))}return e}()},{key:"setPosition",value:function(){function e(e){(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()}]),t}(h.default);t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(17)),i=p(n(38)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),h=p(n(79)),f=n(24),d=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.drawnRects=new i.default,r.pMain=r.pMobile,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"tileToLocalId",value:function(){function e(e){return""+String(e.join("."))}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+String(e.join("."))}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=f.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=f.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var t=this.xTiles,n=this.yTiles,r=this.zoomLevel,i=this.tilesetInfo.max_width/Math.pow(2,r),o=[],a=0;a<t.length;a++)for(var s=a;s<n.length;s++)if(!((s-a-2)*(this._xScale(i)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])){var l=[r,t[a],n[s]];l.mirrored=!1,o.push(l)}this.setVisibleTiles(o)}}return e}()},{key:"initTile",value:function(){function e(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"initTile",this).call(this,e),this.drawTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"draw",value:function(){function e(){this.delayDrawing||this.drawnRects.clear(),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,d.colorToHex)(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),i=(0,d.colorToHex)(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(t.lineStyle(1/this.pMain.scale.x,n,1),t.beginFill(i,.4),t.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,e.tileData.sort){var o=!0,a=!1,s=void 0;try{for(var l,u=(0,r.default)(e.tileData);!(o=(l=u.next()).done);o=!0){var c=l.value,h=this._refXScale(c.xStart),f=this._refXScale(c.xEnd),p=this._refYScale(c.yStart),m=this._refYScale(c.yEnd),v=c.uid;this.drawnRects.has(v)||(this.drawnRects.add(v),t.drawRect(h,p,f-h,m-p),t.pivot.x=this._refXScale(0),t.pivot.y=this._refYScale(0),t.scale.x=-1/Math.sqrt(2),t.rotation=-3*Math.PI/4,t.scale.y=1/Math.sqrt(2),t.position.x=this._refXScale(0),t.position.y=0)}}catch(g){a=!0,s=g}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}}}}return e}()},{key:"setPosition",value:function(){function e(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){for(var r in(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){var a=i.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n,r,i,a),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1]),this.draw()}return e}()},{key:"leftTrackDraw",value:function(){function e(){this.draw()}return e}()}]),t}(h.default);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(17)),i=p(n(38)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(14)),c=p(n(7)),h=p(n(79)),f=n(24),d=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.drawnRects=new i.default,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"tileToLocalId",value:function(){function e(e){return""+String(e.join("."))}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+String(e.join("."))}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom)}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=f.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=f.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}return e}()},{key:"initTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"draw",value:function(){function e(){this.drawnRects.clear(),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,d.colorToHex)("green");t.lineStyle(1,255,1),t.beginFill(n,.8),t.alpha=.5;var i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(e.tileData);!(i=(s=l.next()).done);i=!0){var u=s.value,c=this._xScale(u.xStart),h=this._xScale(u.xEnd),f=this._yScale(u.yStart),p=this._yScale(u.yEnd),m=u.uid;if(!this.drawnRects.has(m)){this.drawnRects.add(m);var v=6,g=6,y=p-f,b=h-c,_=(c+h)/2,x=(f+p)/2;y<v&&(y=v),b<g&&(b=g),t.drawRect(_-y/2,x-b/2,y,b)}}}catch(T){o=!0,a=T}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}return e}()},{key:"setPosition",value:function(){function e(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()}]),t}(h.default);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(5)),i=m(n(3)),o=m(n(4)),a=m(n(6)),s=m(n(14)),l=m(n(7)),u=m(n(180)),c=m(n(40)),h=m(n(73)),f=m(n(140)),d=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.dataConfig,l=e.animate,u=e.pubSub;o.searchField=null,o.chromInfo=null,o.animate=l;var c=s.server,d=s.tilesetUid,m=String(c)+"/chrom-sizes/?id="+String(d);return(0,h.default)(m,(function(e){o.chromInfo=e,o.searchField=new f.default(o.chromInfo),o.draw(),o.texts=[];for(var t=0;t<o.chromInfo.cumPositions.length;t++){for(var n=[],r=0;r<o.chromInfo.cumPositions.length;r++){var i=String(o.chromInfo.cumPositions[t].chr)+"/"+String(o.chromInfo.cumPositions[r].chr),a=new p.GLOBALS.PIXI.Text(i,{fontSize:"14px",fontFamily:"Arial",fill:"red"});a.anchor.x=.5,a.anchor.y=.5,a.visible=!1,a.hashValue=Math.random(),n.push(a),o.pMain.addChild(a)}o.texts.push(n)}o.draw(),o.animate()}),u),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(){function e(){var e=[];if(this.texts&&this.searchField){for(var t=(0,d.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,d.absToChr)(this._xScale.domain()[1],this.chromInfo),r=(0,d.absToChr)(this._yScale.domain()[0],this.chromInfo),i=(0,d.absToChr)(this._yScale.domain()[1],this.chromInfo),o=0;o<this.texts.length;o++)for(var a=0;a<this.texts.length;a++)this.texts[o][a].visible=!1;for(var s=t[3];s<=n[3];s++)for(var l=r[3];l<=i[3];l++){var u=this.chromInfo.cumPositions[s],c=this.chromInfo.cumPositions[l],h=u.pos+this.chromInfo.chromLengths[u.chr]/2,f=c.pos+this.chromInfo.chromLengths[c.chr]/2,p=this._xScale(h),m=this._yScale(f),v=this.texts[s][l];v.x=p,v.y=m,v.updateTransform();var g=v.getBounds(),y=g.width/2,b=g.height/2;p+y>this.dimensions[0]?v.x-=p+y-this.dimensions[0]:p-y<0&&(v.x-=p-y),m+b>this.dimensions[1]?v.y-=m+b-this.dimensions[1]:m-b<0&&(v.y-=m-b),v.visible=!0,e.push({importance:this.texts[s][l].hashValue,text:this.texts[s][l],caption:null})}this.hideOverlaps(e)}}return e}()},{key:"hideOverlaps",value:function(){function e(e){var t=[];t=e.map((function(e){var t=e.text;t.updateTransform();var n=t.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]})),(0,u.default)(t,(function(t,n){e[t].importance>e[n].importance?e[n].text.visible=0:e[t].text.visible=0}))}return e}()},{key:"setPosition",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()}]),t}(c.default);t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(25)),i=v(n(19)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(14)),c=v(n(7)),h=v(n(40)),f=v(n(73)),d=v(n(140)),p=n(10),m=n(11);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.chromInfoPath,s=e.dataConfig,u=e.animate,c=e.pubSub,h=e.orientation,p=void 0===h?"2d":h,v=e.isOverlay,g=void 0!==v&&v;r.searchField=null,r.chromInfo=null,r.animate=u,r.orientation=p,r.isOverlay=g;var y=i;return y||(y=String(s.server)+"/chrom-sizes/?id="+String(s.tilesetUid)),(0,f.default)(y,(function(e){r.chromInfo=e,r.searchField=new d.default(r.chromInfo),r.texts=[],r.lineGraphics=new m.GLOBALS.PIXI.Graphics,r.lineGraphics1dH=new m.GLOBALS.PIXI.Graphics,r.lineGraphics1dV=new m.GLOBALS.PIXI.Graphics,r.lineGraphics2d=new m.GLOBALS.PIXI.Graphics,r.mask1dH=new m.GLOBALS.PIXI.Graphics,r.mask1dV=new m.GLOBALS.PIXI.Graphics,r.mask2d=new m.GLOBALS.PIXI.Graphics,r.lineGraphics.addChild(r.lineGraphics1dH),r.lineGraphics1dH.addChild(r.mask1dH),r.lineGraphics.addChild(r.lineGraphics1dV),r.lineGraphics1dV.addChild(r.mask1dV),r.lineGraphics.addChild(r.lineGraphics2d),r.lineGraphics2d.addChild(r.mask2d),r.pMain.addChild(r.lineGraphics),r.draw(),r.animate()}),c),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"drawLines",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.orientation,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.lineGraphics;this.isOverlay&&"1d-horizontal"===e&&(r=this.lineGraphics1dH),this.isOverlay&&"1d-vertical"===e&&(r=this.lineGraphics1dV),this.isOverlay&&"2d"===e&&(r=this.lineGraphics2d);var i=(0,p.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),o=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;r.lineStyle(o,i,1),("2d"===e||"1d-horizontal"===e)&&(r.moveTo(this._xScale(0)+t,n),r.lineTo(this._xScale(0)+t,this.dimensions[1]+n)),("2d"===e||"1d-vertical"===e)&&(r.moveTo(t,this._yScale(0)+n),r.lineTo(this.dimensions[0]+t,this._yScale(0)+n));for(var a=0;a<this.chromInfo.cumPositions.length;a++){var s=this.chromInfo.cumPositions[a],l=s.pos+ +this.chromInfo.chromLengths[s.chr]+1;("2d"===e||"1d-horizontal"===e)&&(r.moveTo(this._xScale(l)+t,n),r.lineTo(this._xScale(l)+t,this.dimensions[1]+n)),("2d"===e||"1d-vertical"===e)&&(r.moveTo(t,this._yScale(l)+n),r.lineTo(this.dimensions[0]+t,this._yScale(l)+n))}}return e}()},{key:"draw",value:function(){function e(){if(this.texts&&this.searchField)if(this.lineGraphics.clear(),this.isOverlay){this.lineGraphics1dH.clear(),this.lineGraphics1dV.clear(),this.lineGraphics2d.clear(),this.mask1dH.clear(),this.mask1dV.clear(),this.mask2d.clear(),this.mask1dH.beginFill(16777215),this.mask1dV.beginFill(16777215),this.mask2d.beginFill(16711680);for(var e=0;e<this.options.orientationsAndPositions.length;e++){var t=this.options.orientationsAndPositions[e].orientation,n=this.options.orientationsAndPositions[e].position,r=n.left,i=n.top,o=n.width,a=n.height;"1d-horizontal"===t&&this.mask1dH.drawRect(r,i,o,a),"1d-vertical"===t&&this.mask1dV.drawRect(r,i,o,a),"2d"===t&&this.mask2d.drawRect(r,i,o,a),this.drawLines(t,r,i)}this.lineGraphics1dH.mask=this.mask1dH,this.lineGraphics1dV.mask=this.mask1dV,this.lineGraphics2d.mask=this.mask2d}else this.drawLines()}return e}()},{key:"setPosition",value:function(){function e(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,i.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"createSvgLine",value:function(){function e(e,t,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",t),a.setAttribute("y1",n),a.setAttribute("y2",r),a.setAttribute("stroke",i),a.setAttribute("stroke-width",o),a}return e}()},{key:"drawLinesSvg",value:function(){function e(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",s=this.options.lineStrokeWidth;if("2d"===t||"1d-vertical"===t){var l=this._yScale(0);l>0&&l<o+r&&e.appendChild(this.createSvgLine(i,n+i,l+o,l+o,a,s))}if("2d"===t||"1d-horizontal"===t){var u=this._xScale(0);u>0&&u<i+n&&e.appendChild(this.createSvgLine(u+i,u+i,o,r+o,a,s))}for(var c=0;c<this.chromInfo.cumPositions.length;c++){var h=this.chromInfo.cumPositions[c],f=h.pos+ +this.chromInfo.chromLengths[h.chr]+1;if("2d"===t||"1d-vertical"===t){var d=this._yScale(f);d>0&&d<o+r&&e.appendChild(this.createSvgLine(i,n+i,d+o,d+o,a,s))}if("2d"===t||"1d-horizontal"===t){var p=this._xScale(f);p>0&&p<i+n&&e.appendChild(this.createSvgLine(p+i,p+i,o,r+o,a,s))}}}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,i.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");if(e.appendChild(l),n.setAttribute("id","ChromosomeGrid"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),!this.chromInfo)return[n,e];if(this.isOverlay)for(var c=0;c<this.options.orientationsAndPositions.length;c++){var h=this.options.orientationsAndPositions[c].orientation,f=this.options.orientationsAndPositions[c].position,d=f.left,p=f.top,m=f.width,v=f.height;this.drawLinesSvg(l,h,m,v,d,p)}else this.drawLinesSvg.apply(this,[l,this.orientation].concat((0,r.default)(this.dimensions)));return[n,e]}return e}()}]),t}(h.default);t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(14)),l=d(n(7)),u=n(9),c=d(n(40)),h=d(n(73)),f=n(11);function d(e){return e&&e.__esModule?e:{default:e}}var p=300,m=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.chromInfoPath,l=e.pubSub;return o.pubSub=l,o.rects={},(0,h.default)(s,(function(e){o.chromInfo=e,o.draw()}),o.pubSub),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(){function e(){var e=this;if(this.chromInfo){var n=this.options.minRectWidth?this.options.minRectWidth:10,i=this.options.minRectWidth?this.options.minRectHeight:10;(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"draw",this).call(this);var o=this.pMain;o.clear();var a=performance.now();this.options.regions.forEach((function(t){var r=t.slice(0,6).join("-");e.rects[r]||(e.rects[r]={graphics:new f.GLOBALS.PIXI.Graphics},o.addChild(e.rects[r].graphics)),e.rects[r].timeStamp=a;var s=(0,u.color)(t[6]),l=(0,u.color)(t[7]);l||(l=s);var c=f.GLOBALS.PIXI.utils.rgb2hex([s.r/255,s.g/255,s.b/255]),h=f.GLOBALS.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);o.lineStyle(1,h,l.opacity),o.beginFill(c,s.opacity);var d=e._xScale(e.chromInfo.chrPositions[t[0]].pos+ +t[1]),m=e._xScale(e.chromInfo.chrPositions[t[0]].pos+ +t[2]),v=e._yScale(e.chromInfo.chrPositions[t[3]].pos+ +t[4]),g=e._yScale(e.chromInfo.chrPositions[t[3]].pos+ +t[5]),y=m-d,b=g-v,_="undefined"!=typeof t[8]?t[8]:n,x="undefined"!=typeof t[9]?t[9]:i;y<_&&(d=(d+m)/2-_/2,y=_),b<x&&(v=(v+g)/2-x/2,b=x),o.drawRect(d,v,y,b),e.rects[r].graphics.clear(),e.rects[r].graphics.interactive=!0,e.rects[r].graphics.buttonMode=!0,e.rects[r].graphics.hitArea=new f.GLOBALS.PIXI.Rectangle(d,v,y,b),e.rects[r].graphics.mousedown=function(){e.rects[r].mouseDownTime=performance.now()},e.rects[r].graphics.mouseup=function(n){performance.now()-e.rects[r].mouseDownTime<p&&e.pubSub.publish("app.click",{type:"annotation",event:n,payload:t})}}))}}return e}()},{key:"setPosition",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()}]),t}(c.default);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=T(n(37)),i=T(n(19)),o=T(n(18)),a=T(n(630)),s=T(n(35)),l=T(n(5)),u=T(n(3)),c=T(n(4)),h=T(n(6)),f=T(n(14)),d=T(n(7)),p=T(n(180)),m=n(28),v=n(20),g=T(n(40)),y=T(n(73)),b=T(n(140)),_=n(10),x=n(11);function T(e){return e&&e.__esModule?e:{default:e}}var w=200,S=6,E=2,k=7829367,C=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n)),i=e.dataConfig,o=e.animate,a=e.chromInfoPath,s=e.isShowGlobalMousePosition;r.searchField=null,r.chromInfo=null,r.dataConfig=i,r.pTicks=new x.GLOBALS.PIXI.Graphics,r.pMain.addChild(r.pTicks),r.gTicks={},r.tickTexts={},r.options=n,r.isShowGlobalMousePosition=s,r.textFontSize=12,r.textFontFamily="Arial",r.textFontColor="#808080",r.textStrokeColor=r.getTheme()===x.THEME_DARK?"#000000":"#ffffff",r.pixiTextConfig={fontSize:+r.options.fontSize?+r.options.fontSize+"px":String(r.textFontSize)+"px",fontFamily:r.textFontFamily,fill:r.options.color||r.textFontColor,lineJoin:"round",stroke:r.options.stroke||r.textStrokeColor,strokeThickness:2},r.stroke=(0,_.colorToHex)(r.pixiTextConfig.stroke),r.tickWidth=w,r.tickHeight=S,r.tickTextSeparation=E,r.tickColor=r.options.tickColor?(0,_.colorToHex)(r.options.tickColor):k,r.animate=o,r.pubSubs=[],r.options.showMousePosition&&!r.hideMousePosition&&(r.hideMousePosition=(0,_.showMousePosition)(r,r.is2d,r.isShowGlobalMousePosition()));var c=a;return c||(c=String(i.server)+"/chrom-sizes/?id="+String(i.tilesetUid)),(0,y.default)(c,(function(e){r.chromInfo=e,r.searchField=new b.default(r.chromInfo),r.rerender(r.options,!0),r.draw(),r.animate()}),r.pubSub),r}return(0,d.default)(t,e),(0,c.default)(t,[{key:"initBoundsTicks",value:function(){function e(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new x.GLOBALS.PIXI.Graphics,this.leftBoundTick=new x.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new x.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}return e}()},{key:"initChromLabels",value:function(){function e(){if(this.chromInfo){this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new x.GLOBALS.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren();for(var e=0;e<this.chromInfo.cumPositions.length;e++){var t=this.chromInfo.cumPositions[e].chr;this.gTicks[t]=new x.GLOBALS.PIXI.Graphics,this.tickTexts[t]||(this.tickTexts[t]=[]);var n=new x.GLOBALS.PIXI.Text(t,this.pixiTextConfig);n.hashValue=Math.random(),this.pTicks.addChild(n),this.pTicks.addChild(this.gTicks[t]),this.texts.push(n)}}}return e}()},{key:"rerender",value:function(){function e(e,n){var r=(0,s.default)(e);!n&&r===this.prevOptions||(this.prevOptions=r,this.options=e,this.pixiTextConfig.fontSize=+this.options.fontSize?+this.options.fontSize+"px":this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=(0,_.colorToHex)(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?(0,_.colorToHex)(this.options.tickColor):k,"ends"===this.options.tickPositions?this.initBoundsTicks():this.initChromLabels(),(0,f.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"rerender",this).call(this,e,n),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,_.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}return e}()},{key:"formatTick",value:function(){function e(e){var t=this._xScale.domain(),n=t[1]-t[0],r=(0,v.precisionPrefix)(e,n),i=(0,v.format)(","),o=(0,v.formatPrefix)(",."+String(r),n),a=i;return"si"===this.options.tickFormat?a=o:"plain"===this.options.tickFormat?a=i:"ends"===this.options.tickPositions&&(a=o),a(e)}return e}()},{key:"drawBoundsTicks",value:function(){function e(e,t){var n=this.gBoundTicks;n.clear(),n.lineStyle(1,0);var r=this.options.reverseOrientation?0:this.dimensions[1],i=this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight;n.moveTo(1,r),n.lineTo(1,i),n.moveTo(this.dimensions[0]-1,r),n.lineTo(this.dimensions[0]-1,i),this.leftBoundTick.x=0,this.leftBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.leftBoundTick.text=String(e[0])+": "+String(this.formatTick(e[1])),this.leftBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=String(t[0])+": "+String(this.formatTick(t[1])),this.rightBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.rightBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.anchor.x=1,this.flipText&&(this.leftBoundTick.scale.x=-1,this.leftBoundTick.anchor.x=1,this.rightBoundTick.scale.x=-1,this.rightBoundTick.anchor.x=0),this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}return e}()},{key:"drawTicks",value:function(){function e(e){var t=this.gTicks[e.chr];t.visible=!0,t.clear();var n=+this.chromInfo.chromLengths[e.chr],r=Math.max(this._xScale(e.pos),0),i=Math.min(this._xScale(e.pos+n),this.dimensions[0]),o=(i-r)/this.tickWidth,s=(0,m.scaleLinear)().domain([Math.max(1,this._xScale.invert(0)-e.pos),Math.min(n,this._xScale.invert(this.dimensions[0])-e.pos)]).range(r,i).ticks(o).filter((function(e){return(0,a.default)(e)})),l=this.tickTexts[e.chr],u=this.options.fontIsLeftAligned?(+this.options.fontSize||this.textFontSize)/2:this.tickHeight,c=this.flipText?-1:1,h=this.options.fontIsLeftAligned?4*c:0,f=this.options.fontIsLeftAligned?0:u+this.tickTextSeparation;for(this.options.reverseOrientation&&(f=this.dimensions[1]-f);l.length<s.length;){var d=new x.GLOBALS.PIXI.Text("",this.pixiTextConfig);l.push(d),this.gTicks[e.chr].addChild(d)}for(;l.length>s.length;){var p=l.pop();this.gTicks[e.chr].removeChild(p)}for(var v=0;v<s.length;){l[v].visible=!0,l[v].anchor.x=this.options.fontIsLeftAligned?0:.5,l[v].anchor.y=this.options.reverseOrientation?0:1,this.flipText&&(l[v].scale.x=-1),l[v].x=this._xScale(e.pos+s[v])+h,l[v].y=this.dimensions[1]-f,l[v].text=0===s[v]?String(e.chr)+": 1":String(e.chr)+": "+String(this.formatTick(s[v]));var g=this._xScale(e.pos+s[v]);l[v].tickLine=[g-1,this.dimensions[1],g-1,this.dimensions[1]-u-1];var y=this.options.reverseOrientation?0:this.dimensions[1],b=this.options.reverseOrientation?u:this.dimensions[1]-u;t.lineStyle(1,this.stroke),t.moveTo(g-1,y),t.lineTo(g-1,b-1),this.options.fontIsLeftAligned?(t.lineTo(g+2*c+1*c,b-1),t.lineTo(g+2*c+1*c,b+1),t.lineTo(g+1,b+1)):t.lineTo(g+1,b-1),t.lineTo(g+1,y),t.lineStyle(1,this.tickColor),t.moveTo(g,y),t.lineTo(g,b),this.options.fontIsLeftAligned&&t.lineTo(g+2*c,b),v+=1}for(;v<l.length;)l[v].visible=!1,v+=1;return s.length}return e}()},{key:"draw",value:function(){function e(){var e=this;if(this.allTexts=[],this.texts&&this.searchField){var t=(0,_.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,_.absToChr)(this._xScale.domain()[1],this.chromInfo);if(!t||!n)return void console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo);if("ends"===this.options.tickPositions){if(!this.gBoundTicks)return;return this.gBoundTicks.visible=!0,void this.drawBoundsTicks(t,n)}if(this.pTicks){for(var r=0;r<this.texts.length;r++)this.texts[r].visible=!1,this.gTicks[this.chromInfo.cumPositions[r].chr].visible=!1;var i=this.options.fontIsLeftAligned?0:this.tickHeight+this.tickTextSeparation;this.options.reverseOrientation&&(i=this.dimensions[1]-i),(0,o.default)(this.chromInfo.chrPositions).forEach((function(t){if(e.tickTexts[t])for(var n=0;n<e.tickTexts[t].length;n++)e.tickTexts[t][n].visible=!1}));for(var a=t[3];a<=n[3];a++){var s=this.chromInfo.cumPositions[a],l=s.pos+this.chromInfo.chromLengths[s.chr]/2,u=this._xScale(l),c=this.texts[a];c.anchor.x=this.options.fontIsLeftAligned?0:.5,c.anchor.y=this.options.reverseOrientation?0:1,c.x=u,c.y=this.dimensions[1]-i,c.updateTransform(),this.flipText&&(c.scale.x=-1);var h=this.drawTicks(s);c.visible=h<=0,this.allTexts.push({importance:c.hashValue,text:c,caption:null})}this.hideOverlaps(this.allTexts)}}}return e}()},{key:"hideOverlaps",value:function(){function e(e){var t=[];t=e.map((function(e,t){var n=e.text;n.updateTransform();var r=n.getBounds();return[r.x,r.y,r.x+r.width,r.y+r.height]})),(0,p.default)(t,(function(t,n){e[t].importance>e[n].importance?e[n].text.visible=!1:e[t].text.visible=!1}))}return e}()},{key:"setPosition",value:function(){function e(e){(0,f.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,i.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"exportSVG",value:function(){function e(){var e=this,n=null,o=null;if((0,f.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"exportSVG",this)){var a=(0,f.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"exportSVG",this).call(this),s=(0,i.default)(a,2);o=s[0],n=s[1]}else n=o=document.createElement("g");o.setAttribute("class","chromosome-labels");var u=document.createElement("g");return n.appendChild(u),u.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.allTexts.filter((function(e){return e.text.visible})).forEach((function(e){var t=(0,_.pixiTextToSvg)(e.text);u.appendChild(t)})),(0,r.default)(this.tickTexts).forEach((function(t){t.filter((function(e){return e.visible})).forEach((function(t){var n=(0,_.pixiTextToSvg)(t);u.appendChild(n),n=(0,_.svgLine)(t.x,e.options.reverseOrientation?0:e.dimensions[1],t.x,e.options.reverseOrientation?e.tickHeight:e.dimensions[1]-e.tickHeight,1,e.tickColor);var r=document.createElement("line");r.setAttribute("x1",t.tickLine[0]),r.setAttribute("y1",t.tickLine[1]),r.setAttribute("x2",t.tickLine[2]),r.setAttribute("y2",t.tickLine[3]),r.setAttribute("style","stroke: grey"),u.appendChild(n),u.appendChild(r)}))})),[o,n]}return e}()}]),t}(g.default);t.default=C},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(17)),i=m(n(19)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(14)),c=m(n(7)),h=m(n(135)),f=n(24),d=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.animate;return r.pMain=r.pMobile,r.colorScale=p.HEATED_OBJECT_MAP,r.continuousScaling=!1,n&&n.colorRange&&(r.colorScale=(0,d.colorDomainToRgbaArray)(n.colorRange)),r.animate=i,r.options=n,r.pubSubs=[],r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"rerender",value:function(){function e(e,n){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e,n),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=null;if(this.tilesetInfo.resolutions){var t=f.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),n=f.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);e=Math.min(t,n)}else{var r=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),i=f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);e=Math.max(r,i),e=Math.min(e,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?e=Math.min(this.options.maxZoom,e):console.error("Invalid maxZoom on track:",this)),e}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();if(e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=f.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=f.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=f.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=f.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var n=this.xTiles,r=this.yTiles,i=this.zoomLevel,o=this.tilesetInfo.max_width/Math.pow(2,i),a=[],s=0;s<n.length;s++)for(var l=s;l<r.length;l++)if(!((l-s-2)*(this._xScale(o)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])){var u=[i,n[s],r[l]];u.mirrored=!1,u.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",a.push(u)}this.setVisibleTiles(a)}}return e}()},{key:"tileDataToCanvas",value:function(){function e(e){var t=document.createElement("canvas");t.width=256,t.height=256;var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n,r){var i=this.getTilePosAndDimensions(t,n),o=i.tileX,a=i.tileY,s=o+i.tileWidth,l=a+i.tileHeight;e.width=this._refXScale(s)-this._refXScale(o),e.height=this._refYScale(l)-this._refYScale(a),e.x=this._refXScale(o),e.y=this._refYScale(a)}return e}()},{key:"pixDataFunction",value:function(){function e(e,t){if(t){var n=e.graphics,r=this.tileDataToCanvas(t.pixData),i="4"===p.GLOBALS.PIXI.VERSION[0]?p.GLOBALS.PIXI.Texture.fromCanvas(r,p.GLOBALS.PIXI.SCALE_MODES.NEAREST):p.GLOBALS.PIXI.Texture.from(r,{scaleMode:p.GLOBALS.PIXI.SCALE_MODES.NEAREST});e.sprite=new p.GLOBALS.PIXI.Sprite(i),e.canvas=r,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),n.pivot.x=this._refXScale(0),n.pivot.y=this._refYScale(0),n.scale.x=-1/Math.sqrt(2),n.rotation=-3*Math.PI/4,n.scale.y=1/Math.sqrt(2),n.position.x=this._refXScale(0),n.position.y=0,n.removeChildren(),n.addChild(e.sprite)}this.renderingTiles.delete(e.tileId)}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){for(var r in(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos,i.mirrored);var a=i.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n,r,i,a),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1])}return e}()},{key:"leftTrackDraw",value:function(){function e(){this.draw()}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null,a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"superSVG",this).call(this),s=(0,i.default)(a,2);n=s[0],e=s[1];var l=document.createElement("g");e.appendChild(l),l.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var c=!0,h=!1,f=void 0;try{for(var d,p=(0,r.default)(this.visibleAndFetchedTiles());!(c=(d=p.next()).done);c=!0){var m=d.value,v=document.createElement("g"),g=m.graphics,y=180*g.rotation/Math.PI,b="translate("+String(g.position.x)+","+String(g.position.y)+") rotate("+y+") scale("+String(g.scale.x)+","+String(g.scale.y)+") translate("+-g.pivot.x+","+-g.pivot.y+")";v.setAttribute("transform",b);var _=180*m.sprite.rotation/Math.PI,x=document.createElement("g");x.setAttribute("transform","translate("+String(m.sprite.x)+","+String(m.sprite.y)+") rotate("+_+") scale("+String(m.sprite.scale.x)+","+String(m.sprite.scale.y)+")");var T=document.createElement("image");T.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m.canvas.toDataURL()),T.setAttribute("width",256),T.setAttribute("height",256),x.appendChild(T),v.appendChild(x),l.appendChild(v)}}catch(S){h=!0,f=S}finally{try{!c&&p.return&&p.return()}finally{if(h)throw f}}var w=this.exportColorBarSVG();return e.appendChild(w),[n,n]}return e}()}]),t}(h.default);t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(30)),i=m(n(25)),o=m(n(18)),a=m(n(5)),s=m(n(3)),l=m(n(4)),u=m(n(6)),c=m(n(7)),h=n(28),f=m(n(116)),d=m(n(179)),p=n(10);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n));return r.axis=new d.default(r),r.pBase.addChild(r.axis.pAxis),r}return(0,c.default)(t,e),(0,l.default)(t,[{key:"initTile",value:function(){function e(e){this.scale.minRawValue=this.minVisibleValueInTiles(),this.scale.maxRawValue=this.minVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(e)}return e}()},{key:"drawTile",value:function(){function e(e){var t=this;if(e.graphics){var n=e.graphics,r=6,i=4;n.clear(),this.valueScale=(0,h.scaleLog)().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-r/2,r/2]);var o=(0,p.colorToHex)("black");n.lineStyle(1,o,.3),n.beginFill(o,.3),this.drawAxis(this.valueScale),e.tileData.forEach((function(e){var o=e.fields,a=+e.chrOffset,s=+o[1]+a,l=+o[2]+a,u=+o[3],c=t._xScale(s),h=t._xScale(l),f=Math.max(h-c,i),d=t.valueScale(u),p=(h+c)/2;n.drawRect(p-f/2,d-r/2,f,r)}))}}return e}()},{key:"minVisibleValueInTiles",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();return 0===t.length&&(t=(0,o.default)(this.fetchedTiles)),Math.min.apply(null,t.map((function(t){return+Math.min.apply(Math,(0,i.default)(e.fetchedTiles[t].tileData.filter((function(e){return!(0,r.default)(e.fields[3])})).map((function(e){return+e.fields[3]}))))})))}return e}()},{key:"maxVisibleValueInTiles",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();return 0===t.length&&(t=(0,o.default)(this.fetchedTiles)),Math.max.apply(null,t.map((function(t){return+Math.max.apply(Math,(0,i.default)(e.fetchedTiles[t].tileData.filter((function(e){return!(0,r.default)(e.fields[3])})).map((function(e){return+e.fields[3]}))))})))}return e}()}]),t}(f.default);t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(14)),l=f(n(7)),u=f(n(26)),c=n(83),h=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,h=e.setDomainsCallback,f=u.default.nice();return o.uid=f,o.options=n,o.hasFromView=!e.projectionXDomain||!e.projectionYDomain,o.removeViewportChanged=l,o.setDomainsCallback=h,o.viewportXDomain=o.hasFromView?null:e.projectionXDomain,o.viewportYDomain=o.hasFromView?null:e.projectionYDomain,o.brush=(0,c.brush)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--n").style("pointer-events","none"),o.gBrush.selectAll(".handle--s").style("pointer-events","none"),o.gBrush.selectAll(".handle--w").style("pointer-events","none"),o.gBrush.selectAll(".handle--e").style("pointer-events","none"),s(f,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){function e(){var e=h.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0][0]),this._xScale.invert(e[1][0])],n=[this._yScale.invert(e[0][1]),this._yScale.invert(e[1][1])];this.hasFromView||(this.viewportXDomain=t,this.viewportYDomain=n),this.setDomainsCallback(t,n)}}return e}()},{key:"viewportChanged",value:function(){function e(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return e}()},{key:"remove",value:function(){function e(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}return e}()},{key:"rerender",value:function(){function e(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return e}()},{key:"draw",value:function(){function e(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[[this._xScale(this.viewportXDomain[0]),this._yScale(this.viewportYDomain[0])],[this._xScale(this.viewportXDomain[1]),this._yScale(this.viewportYDomain[1])]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}return e}()},{key:"setDimensions",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0],a=i[1]-i[0];this.brush.extent([[n[0]-o,i[0]-a],[n[1]+o,i[1]+a]]),this.gBrush.call(this.brush),this.draw()}return e}()}]),t}(f(n(80)).default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(14)),l=f(n(7)),u=n(83),c=n(0),h=f(n(26));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,c=e.setDomainsCallback,f=h.default.nice();return o.uid=f,o.options=n,o.hasFromView=!e.projectionXDomain,o.removeViewportChanged=l,o.setDomainsCallback=c,o.viewportXDomain=o.hasFromView?null:e.projectionXDomain,o.viewportYDomain=o.hasFromView?null:[0,0],o.brush=(0,u.brushX)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--ne").style("pointer-events","none"),o.gBrush.selectAll(".handle--nw").style("pointer-events","none"),o.gBrush.selectAll(".handle--sw").style("pointer-events","none"),o.gBrush.selectAll(".handle--se").style("pointer-events","none"),o.gBrush.selectAll(".handle--n").style("pointer-events","none"),o.gBrush.selectAll(".handle--s").style("pointer-events","none"),s(f,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){function e(){var e=c.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0]),this._xScale.invert(e[1])],n=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=t),this.setDomainsCallback(t,n)}}return e}()},{key:"viewportChanged",value:function(){function e(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return e}()},{key:"remove",value:function(){function e(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}return e}()},{key:"rerender",value:function(){function e(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return e}()},{key:"draw",value:function(){function e(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[this._xScale(this.viewportXDomain[0]),this._xScale(this.viewportXDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}return e}()},{key:"setDimensions",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0];this.brush.extent([[n[0]-o,i[0]],[n[1]+o,i[1]]]),this.gBrush.call(this.brush),this.draw()}return e}()}]),t}(f(n(80)).default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(14)),l=f(n(7)),u=n(83),c=n(0),h=f(n(26));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,c=e.setDomainsCallback,f=h.default.nice();return o.uid=f,o.options=n,o.hasFromView=!e.projectionYDomain,o.removeViewportChanged=l,o.setDomainsCallback=c,o.viewportXDomain=o.hasFromView?null:[0,0],o.viewportYDomain=o.hasFromView?null:e.projectionYDomain,o.brush=(0,u.brushY)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--ne").style("pointer-events","none"),o.gBrush.selectAll(".handle--nw").style("pointer-events","none"),o.gBrush.selectAll(".handle--sw").style("pointer-events","none"),o.gBrush.selectAll(".handle--se").style("pointer-events","none"),o.gBrush.selectAll(".handle--e").style("pointer-events","none"),o.gBrush.selectAll(".handle--w").style("pointer-events","none"),s(f,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){function e(){var e=c.event.selection;if(this._xScale&&this._yScale){var t=this.viewportXDomain,n=[this._yScale.invert(e[0]),this._yScale.invert(e[1])];this.hasFromView||(this.viewportYDomain=n),this.setDomainsCallback(t,n)}}return e}()},{key:"viewportChanged",value:function(){function e(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return e}()},{key:"remove",value:function(){function e(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}return e}()},{key:"rerender",value:function(){function e(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return e}()},{key:"draw",value:function(){function e(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[this._yScale(this.viewportYDomain[0]),this._yScale(this.viewportYDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}return e}()},{key:"setDimensions",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=i[1]-i[0];this.brush.extent([[n[0],i[0]-o],[n[1],i[1]+o]]),this.gBrush.call(this.brush),this.draw()}return e}()}]),t}(f(n(80)).default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalRuleMixin=void 0;var r=p(n(19)),i=p(n(14)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=n(81),h=p(n(40)),f=p(n(261)),d=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=t.HorizontalRuleMixin=(0,c.Mixin)((function(e){return function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"drawHorizontalRule",value:function(){function e(e){var t=(0,d.colorToHex)(this.options.color||"black");this.highlighted&&(t=(0,d.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[0];)e.moveTo(n,this._yScale(this.yPosition)),e.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}return e}()},{key:"isMouseOverHorizontalLine",value:function(){function e(e){return Math.abs(e.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}return e}()}]),t}(e)})),v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.yPosition=e.yPosition,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"mouseMoveHandler",value:function(){function e(e){if(this.isWithin(e.x,e.y)&&this.isMouseOverHorizontalLine(e))return this.highlighted=!0,void this.draw();this.highlighted=!1,this.draw()}return e}()},{key:"draw",value:function(){function e(){var e=this.pMain;e.clear(),this.drawHorizontalRule(e),this.animate()}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if((0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");l.setAttribute("class","horizontal-rule"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(l);var u=this.options.color||"black",c=document.createElement("line");return c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",0),c.setAttribute("y1",this._yScale(this.yPosition)),c.setAttribute("x2",this.dimensions[0]),c.setAttribute("y2",this._yScale(this.yPosition)),l.appendChild(c),[n,e]}return e}()}]),t}((0,c.mix)(h.default).with(f.default,m));t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(19)),i=m(n(5)),o=m(n(3)),a=m(n(4)),s=m(n(6)),l=m(n(14)),u=m(n(7)),c=n(10),h=n(81),f=m(n(40)),d=m(n(261)),p=n(262);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,o.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n)),a=e.x,l=e.y;return r.xPosition=a,r.yPosition=l,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,a.default)(t,[{key:"draw",value:function(){function e(){var e=this.pMain;e.clear(),this.drawHorizontalRule(e),this.drawVerticalRule(e)}return e}()},{key:"mouseMoveHandler",value:function(){function e(e){this.highlighted=this.isWithin(e.x,e.y)&&(this.isMouseOverHorizontalLine(e)||this.isMouseOverVerticalLine(e)),this.draw()}return e}()},{key:"drawHorizontalRule",value:function(){function e(e){var t=(0,c.colorToHex)(this.options.color||"black");this.highlighted&&(t=(0,c.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[0];)e.moveTo(n,this._yScale(this.yPosition)),e.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}return e}()},{key:"isMouseOverHorizontalLine",value:function(){function e(e){return Math.abs(e.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if((0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"exportSVG",this)){var o=(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(o,2);n=a[0],e=a[1]}else e=n=document.createElement("g");var s=document.createElement("g");s.setAttribute("class","cross-rule"),s.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(s);var u=this.options.color||"black",c=document.createElement("line");c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",this._xScale(this.xPosition)),c.setAttribute("y1",0),c.setAttribute("x2",this._xScale(this.xPosition)),c.setAttribute("y2",this.dimensions[1]);var h=document.createElement("line");return h.setAttribute("stroke",u),h.setAttribute("stroke-width",this.strokeWidth),h.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),h.setAttribute("x1",0),h.setAttribute("y1",this._yScale(this.yPosition)),h.setAttribute("x2",this.dimensions[0]),h.setAttribute("y2",this._yScale(this.yPosition)),s.appendChild(c),s.appendChild(h),[n,e]}return e}()}]),t}((0,h.mix)(f.default).with(d.default,p.VerticalRuleMixin));t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=n(254);function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initTile",value:function(){function e(e){u.initTile.bind(this)(e),this.drawTile(e)}return e}()},{key:"drawTile",value:function(){function e(e){u.drawTile.bind(this)(e)}return e}()},{key:"areAllVisibleTilesLoaded",value:function(){function e(){return!0}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[0],tilePos:n.slice(1,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics(),this.draw(),this.animate()}return e}()},{key:"draw",value:function(){function e(){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"draw",this).call(this)}return e}()}]),t}(c(n(141)).default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(5)),i=u(n(3)),o=u(n(4)),a=u(n(6)),s=u(n(14)),l=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.style=n.style,o.options.accessToken||(o.errorTextText="No access token provided in the viewconf's track options ('accessToken' option).",o.drawError()),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"rerender",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"rerender",this).call(this,e),e.style!==this.style&&(this.style=e.style,this.removeAllTiles(),this.refreshTiles())}return e}()},{key:"getTileUrl",value:function(){function e(e){var t=this.options&&this.options.style?this.options.style:"streets-v10",n=this.options&&+this.options.tileSize?+this.options.tileSize:256;return"https://api.mapbox.com/styles/v1/mapbox/"+String(t)+"/tiles/"+n+"/"+String(e[0])+"/"+String(e[1])+"/"+String(e[2])+"?access_token="+String(this.options.accessToken)}return e}()}]),t}(u(n(141)).default);t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(5)),i=l(n(3)),o=l(n(4)),a=l(n(6)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.style=n.style,o.options.tileSource||(o.errorTextText="No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}",o.drawError()),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getTileUrl",value:function(){function e(e){var t=this.options.tileSource.replace("{z}",e[0]);return t=(t=t.replace("{x}",e[1])).replace("{y}",e[2])}return e}()}]),t}(l(n(141)).default);t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(383)),i=s(n(389)),o=s(n(245)),a=n(11);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n){var s=n[e.type];return s?new s.dataFetcher(a.AVAILABLE_FOR_PLUGINS,e,t):"genbank"===e.type?new r.default(e,t):"local-tiles"===e.type?new i.default(e,t):new o.default(e,t)};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(25)),i=d(n(30)),o=d(n(17)),a=d(n(62)),s=d(n(19)),l=d(n(3)),u=d(n(4)),c=d(n(26)),h=d(n(643)),f=d(n(652));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=[],r=5;if(!e.length)return[];for(var i=e[0].start,o=e[0].end,a=1;a<e.length;a++)e[a].start<o+1*r/t?o=Math.max(o,e[a].end):(n.push({type:"filler",start:i,end:o}),i=e[a].start,o=e[a].end);return n.push({start:i,end:o,type:"filler"}),n}function m(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function v(e){var t=e.end-e.start,n=1===e.strand?"+":"-",r=c.default.nice();return"filler"===e.type?{xStart:e.start,xEnd:e.end,strand:e.strand,fields:[],type:"filler",uid:r}:{xStart:e.start,xEnd:e.end,strand:n,chrOffset:0,importance:e.end-e.start,uid:r,type:e.type,fields:["chrom",e.start,e.end,e.name,t,n,"","",e.type,e.name,e.start.toString(),e.end.toString(),e.start.toString(),e.end.toString()]}}var g=function(e){var t=(0,f.default)(e),n=m(t[0].features.filter((function(e){return"source"!==e.type})).sort((function(e,t){return e.start-t.start})));return[t,n]},y=function(){function e(t){var n=this;if((0,l.default)(this,e),this.dataConfig=t,this.trackUid=c.default.nice(),t.url){var r=".gz"===t.url.slice(t.url.length-3);this.errorTxt="",this.dataPromise=fetch(t.url,{mode:"cors",redirect:"follow",method:"GET"}).then((function(e){return r?e.arrayBuffer():e.text()})).then((function(e){var t=r?h.default.inflate(e,{to:"string"}):e,i=g(t),o=(0,s.default)(i,2);n.gbJson=o[0],n.cdss=o[1]}))}else t.text&&(this.dataPromise=new a.default((function(e,r){var i=g(t.text),o=(0,s.default)(i,2);n.gbJson=o[0],n.cdss=o[1],e()})))}return(0,u.default)(e,[{key:"tilesetInfo",value:function(){function e(e){var t=this;return this.tilesetInfoLoading=!0,this.dataPromise.then((function(){t.tilesetInfoLoading=!1;var n=1024,r={};return r={tile_size:n,max_zoom:Math.ceil(Math.log(t.gbJson[0].size/n)/Math.log(2)),max_width:t.gbJson[0].size,min_pos:[0],max_pos:[t.gbJson[0].size]},e&&e(r),r})).catch((function(n){t.tilesetInfoLoading=!1,e&&e({error:"Error parsing genbank: "+String(n)})}))}return e}()},{key:"fetchTilesDebounced",value:function(){function e(e,t){var n={},r=[],s=[],l=!0,u=!1,c=void 0;try{for(var h,f=(0,o.default)(t);!(l=(h=f.next()).done);l=!0){var d=h.value,p=d.split("."),m=parseInt(p[0],10),v=parseInt(p[1],10);(0,i.default)(v)||(0,i.default)(m)?console.warn("Invalid tile zoom or position:",m,v):(r.push(d),s.push(this.tile(m,v)))}}catch(g){u=!0,c=g}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}return a.default.all(s).then((function(t){for(var i=0;i<t.length;i++){var o=r[i];n[o]=t[i],n[o].tilePositionId=o}e(n)})),n}return e}()},{key:"tile",value:function(){function e(e,t){var n=this;return this.tilesetInfo().then((function(i){var o=+i.max_width/Math.pow(2,+e),a=i.min_pos[0]+t*o,s=i.min_pos[0]+(t+1)*o,l=n.cdss.filter((function(e){return e.end>a&&e.start<s})),u=1024/Math.pow(2,i.max_zoom-e),c=p(l.filter((function(e){return 1===e.strand})),u),h=p(l.filter((function(e){return 1!==e.strand})),u);c.forEach((function(e){e.strand="+"})),h.forEach((function(e){e.strand="-"}));for(var f=[],d=20,m=0;m<n.cdss.length&&!(f.length>=d);m++)n.cdss[m].end>=a&&n.cdss[m].start<=s&&f.push(n.cdss[m]);return(f=[].concat((0,r.default)(f),(0,r.default)(c),(0,r.default)(h))).map((function(e){return v(e)}))}))}return e}()}]),e}();t.default=y},function(e,t,n){function r(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}e.exports=r},function(e,t,n){function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var i=r();function o(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}e.exports=o},function(e,t,n){var r=n(82),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},function(e,t,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(18)),i=u(n(17)),o=u(n(37)),a=u(n(3)),s=u(n(4)),l=n(182);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,a.default)(this,e),this.dataConfig=t,this.tilesetInfoData=(0,o.default)(this.dataConfig.tilesetInfo)[0]}return(0,s.default)(e,[{key:"tilesetInfo",value:function(){function e(e){this.tilesetInfoLoading=!1,e(this.tilesetInfoData)}return e}()},{key:"fetchTilesDebounced",value:function(){function e(e,t){this.tilesData={};var n=!0,o=!1,a=void 0;try{for(var s,u=(0,i.default)((0,r.default)(this.dataConfig.tiles));!(n=(s=u.next()).done);n=!0){var c=s.value,h=c.split("."),f="localtile."+String(h.slice(1).join("."));this.tilesData[f]=this.dataConfig.tiles[c]}}catch(x){o=!0,a=x}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}var d={},p=t.map((function(e){return"localtile."+String(e)}));(0,l.tileResponseToData)(this.tilesData,"",p);var m=!0,v=!1,g=void 0;try{for(var y,b=(0,i.default)(t);!(m=(y=b.next()).done);m=!0){var _=y.value;d[_]=this.tilesData["localtile."+String(_)]}}catch(x){v=!0,g=x}finally{try{!m&&b.return&&b.return()}finally{if(v)throw g}}e(d)}return e}()},{key:"tile",value:function(){function e(e,t){}return e}()}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(1)),u=n(81),c=f(n(663)),h=n(183);function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,u.Mixin)((function(e){return function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getSubmenu",value:function(){function e(){var e=this;if(this.state.submenuShown){var t=this.state.submenuSourceBbox,n=null;n="left"===this.state.orientation?{left:this.state.left,top:t.top}:{left:this.state.left+t.width+7,top:t.top};var r=(0,h.getAllTracksAndSubtracks)(this.props.tracks).filter((function(t){return t.uid===e.state.submenuShown.uid}))[0],i=r&&"whole"!==r.position;return l.default.createElement(c.default,{key:"series-list-menu-"+String(r.uid),ref:function(){function t(t){e.seriesListMenu=t}return t}(),closeMenu:this.props.closeMenu,hostTrack:this.props.tracks[0],onAddDivisor:this.props.onAddDivisor,onAddSeries:i?this.props.onAddSeries:null,onChangeTrackData:this.props.onChangeTrackData,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:function(){function t(){return e.props.onCloseTrack(e.state.submenuShown.uid)}return t}(),onConfigureTrack:this.props.onConfigureTrack,onDivideSeries:this.props.onDivideSeries,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,orientation:this.state.orientation,parentBbox:t,position:n,series:this.state.submenuShown,theme:this.props.theme,track:r,trackOrientation:this.props.trackOrientation,trackSourceServers:this.props.trackSourceServers})}return l.default.createElement("div",null)}return e}()}]),t}(e)}));t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(29)),u=d(n(1)),c=d(n(96)),h=d(n(67)),f=n(11);function d(e){return e&&e.__esModule?e:{default:e}}n(68);var p={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},m=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getSubmenu",value:function(){function e(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,n="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},r=this.state.submenuShown;return u.default.createElement(t,{menuItems:r.children,orientation:this.state.orientation,parentBbox:e,position:n,theme:this.props.theme})}return u.default.createElement("div",null)}return e}()},{key:"componentWillUnmount",value:function(){function e(){}return e}()},{key:"render",value:function(){function e(){var e=this,t=[],n=function(){function n(n){var r=e.props.menuItems[n];t.push(u.default.createElement(h.default,{key:n,onClick:r.handler?r.handler:function(){return null},onMouseEnter:r.children?function(t){return e.handleItemMouseEnter(t,r)}:e.handleOtherMouseEnter.bind(e),onMouseLeave:e.handleMouseLeave},r.name,r.children&&u.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},u.default.createElement("use",{xlinkHref:"#play"}))))}return n}();for(var r in this.props.menuItems)n(r);var i="context-menu";return this.props.theme===f.THEME_DARK&&(i+=" context-menu-dark"),u.default.createElement("div",{ref:function(){function t(t){e.div=t}return t}(),style:{left:this.state.left,top:this.state.top},className:(0,l.default)(i,p)},t,this.getSubmenu())}return e}()}]),t}(c.default);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(5)),i=x(n(3)),o=x(n(4)),a=x(n(6)),s=x(n(7)),l=x(n(29)),u=x(n(2)),c=x(n(1)),h=n(83),f=n(0),d=x(n(26)),p=x(n(393)),m=x(n(665)),v=x(n(395)),g=n(10),y=n(11);x(n(669));var b=x(n(176)),_=x(n(175));function x(e){return e&&e.__esModule?e:{default:e}}var T={styles:{"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},w=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.brushBehavior=(0,h.brushX)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){function e(){this.props.isRangeSelectionActive&&this.addBrush()}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==e.rangeSelection&&this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==t):this.props.rangeSelection===e.rangeSelection||(this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,e.rangeSelectionEnd),this.state!==t)}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}return e}()},{key:"addBrush",value:function(){function e(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,g.resetD3BrushStyle)(this.brushEl,_.default["track-range-selection-group-brush-selection"]))}return e}()},{key:"brushed",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(f.event.selection))}return e}()},{key:"brushStarted",value:function(){function e(){!this.sourceEvent||!f.event.selection||this.props.onRangeSelectionStart()}return e}()},{key:"brushedEnded",value:function(){function e(){if(this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,f.event.selection&&f.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(f.event.selection)),f.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}return e}()},{key:"moveBrush",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl){var n=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}}return e}()},{key:"removeBrush",value:function(){function e(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.tracks.map((function(e){return e.height})).reduce(g.sum,0),n=this.props.tracks.map((function(e){return(0,y.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(g.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return c.default.createElement("div",{className:"horizontal-tiled-plot HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},n&&c.default.createElement("svg",{ref:function(){function t(t){e.brushEl=(0,f.select)(t)}return t}(),style:{height:t,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,T)}),c.default.createElement(p.default,{className:String(b.default.list)+" "+String(b.default.stylizedList),component:v.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:t,helperClass:b.default.stylizedHelper,itemClass:b.default.stylizedItem,itemReactClass:m.default,items:this.props.tracks.map((function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||d.default.nice(),width:e.props.width,height:t.height,value:t.value}})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}return e}()},{key:"sourceEvent",get:function(){function e(){return f.event&&f.event.sourceEvent}return e}()}]),t}(c.default.Component);w.propTypes={configTrackMenuId:u.default.string,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,handleSortEnd:u.default.func,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onRangeSelection:u.default.func,onRangeSelectionEnd:u.default.func,onRangeSelectionReset:u.default.func,onRangeSelectionStart:u.default.func,rangeSelection:u.default.array,rangeSelectionEnd:u.default.bool,referenceAncestor:u.default.func,resizeHandles:u.default.object,scale:u.default.func,tracks:u.default.array,width:u.default.number},t.default=w},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(34)),i=f(n(5)),o=f(n(3)),a=f(n(4)),s=f(n(6)),l=f(n(7)),u=f(n(2)),c=f(n(1)),h=n(125);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){var n=e.items;(0,o.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return r.state={items:n,isSorting:!1},r}return(0,l.default)(t,e),(0,a.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(){function e(e){this.setState({items:e.items})}return e}()},{key:"onSortStart",value:function(){function e(e,t){e.node;var n=e.index;e.collection,t.stopImmediatePropagation();var r=this.props.onSortStart;this.setState({isSorting:!0}),r&&r(this.ref),this.sortingIndex=n,this.sortStartTop=t.offsetTop,this.sortStartLeft=t.offsetLeft}return e}()},{key:"onSortMove",value:function(){function e(){}return e}()},{key:"onSortEnd",value:function(){function e(e){var t=e.oldIndex,n=e.newIndex,r=this.props.onSortEnd,i=this.state.items;this.setState({items:(0,h.arrayMove)(i,t,n),isSorting:!1}),r&&r(this.state.items),this.sortingIndex=null}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.component,n=this.state,i=n.items,o={isSorting:n.isSorting,items:i,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return c.default.createElement(t,(0,r.default)({},this.props,o,{ref:function(){function t(t){e.ref=t}return t}()}))}return e}()}]),t}(c.default.Component);d.propTypes={axis:u.default.string,className:u.default.string,component:u.default.func,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,height:u.default.number,helperClass:u.default.string,itemClass:u.default.string,itemControlAlignLeft:u.default.bool,itemReactClass:u.default.func,items:u.default.array,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onSortEnd:u.default.func,onSortStart:u.default.func,referenceAncestor:u.default.string,resizeHandles:u.default.object,useDragHandle:u.default.bool,width:u.default.number},d.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600},t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(1)),u=h(n(265)),c=h(n(174));function h(e){return e&&e.__esModule?e:{default:e}}var f={pointerEvents:"all"},d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getControls",value:function(){function e(e){return l.default.createElement(c.default,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:f,imgStyleClose:f,imgStyleMove:f,imgStyleSettings:f,isMoveable:this.moveable,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}return e}()}]),t}(u.default);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(34)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n(125).SortableContainer)((function(e){var t=e.className,n=e.items,o=e.itemClass,a=e.itemControlAlignLeft,s=e.sortingIndex,l=e.useDragHandle,u=e.sortableHandlers,c=e.height,h=e.width,f=e.onCloseTrack,d=e.onCloseTrackMenuOpened,p=e.onConfigTrackMenuOpened,m=e.onAddSeries,v=e.handleConfigTrack,g=e.editable,y=e.itemReactClass,b=e.handleResizeTrack,_=e.resizeHandles,x=n.map((function(e,t){return i.default.createElement(y,{key:"sci-"+String(e.uid),className:o,controlAlignLeft:a,sortingIndex:s,index:t,uid:e.uid,height:e.height,width:e.width,item:e,useDragHandle:l,onCloseTrack:f,onCloseTrackMenuOpened:d,onConfigTrackMenuOpened:p,onAddSeries:m,handleConfigTrack:v,editable:g,handleResizeTrack:b,resizeHandles:_})}));return i.default.createElement("div",(0,r.default)({className:t,style:{height:c,width:h,background:"transparent"}},u),x)}));t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(1)),u=h(n(265)),c=h(n(174));function h(e){return e&&e.__esModule?e:{default:e}}var f={pointerEvents:"all"},d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getControls",value:function(){function e(e){return l.default.createElement(c.default,{imgStyleAdd:f,imgStyleClose:f,imgStyleMove:f,imgStyleSettings:f,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}return e}()}]),t}(u.default);t.default=d},function(e,t,n){var r=n(690),i=n(268),o=n(694),a=n(398),s=n(399),l=n(695),u=n(696),c=n(717),h=n(117);e.exports=g,g.prototype.validate=y,g.prototype.compile=b,g.prototype.addSchema=_,g.prototype.addMetaSchema=x,g.prototype.validateSchema=T,g.prototype.getSchema=S,g.prototype.removeSchema=C,g.prototype.addFormat=N,g.prototype.errorsText=D,g.prototype._addSchema=O,g.prototype._compile=P,g.prototype.compileAsync=n(718);var f=n(719);g.prototype.addKeyword=f.add,g.prototype.getKeyword=f.get,g.prototype.removeKeyword=f.remove,g.prototype.validateKeyword=f.validate;var d=n(270);g.ValidationError=d.Validation,g.MissingRefError=d.MissingRef,g.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],v=["/properties"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=h.copy(e)||{},U(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=M(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=z(this),e.formats&&F(this),j(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),B(this)}function y(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return!0!==n.$async&&(this.errors=n.errors),i}function b(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)}function _(e,t,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return H(this,t=i.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,n,r,!0),this}function x(e,t,n){return this.addSchema(e,t,n,!0),this}function T(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||w(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r}function w(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(p)?p:void 0,e._opts.defaultMeta}function S(e){var t=k(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return E(this,e)}}function E(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var o=n.schema,s=n.root,l=n.baseId,u=r.call(e,o,s,void 0,l);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:l,validate:u}),u}}function k(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function C(e){if(e instanceof RegExp)return A(this,this._schemas,e),A(this,this._refs,e),this;switch(typeof e){case"undefined":return A(this,this._schemas),A(this,this._refs),this._cache.clear(),this;case"string":var t=k(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this}function A(e,t,n){for(var r in t){var i=t[r];!i.meta&&(!n||n.test(r))&&(e._cache.del(i.cacheKey),delete t[r])}}function O(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,l=this._cache.get(s);if(l)return l;r=r||!1!==this._opts.addUsedSchema;var u=i.normalizeId(this._getId(e));u&&r&&H(this,u);var c,h=!1!==this._opts.validateSchema&&!t;h&&!(c=u&&u==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var f=i.ids.call(this,e),d=new a({id:u,schema:e,localRefs:f,cacheKey:s,meta:n});return"#"!=u[0]&&r&&(this._refs[u]=d),this._cache.put(s,d),h&&c&&this.validateSchema(e,!0),d}function P(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}catch(a){throw delete e.validate,a}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}}function M(e){switch(e.schemaId){case"auto":return L;case"id":return I;default:return R}}function I(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function R(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function L(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function D(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)}function N(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this}function j(e){var t;if(e._opts.$data&&(t=n(721),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=n(405);e._opts.$data&&(r=c(r,v)),e.addMetaSchema(r,p,!0),e._refs["http://json-schema.org/schema"]=p}}function B(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}function F(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}function H(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function z(e){for(var t=h.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}function U(e){var t=e._opts.logger;if(!1===t)e.logger={log:V,warn:V,error:V};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function V(){}},function(e,t,n){var r=n(117);function i(e){r.copy(e,this)}e.exports=i},function(e,t,n){e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<l.length;n++){var u=l[n],c=e(t[u]);c&&(a&&(a+=","),a+=JSON.stringify(u)+":"+c)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){t="false schema";var u=e.level,c=e.dataLevel,h=e.schema[t],f=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,m="data"+(c||""),v="valid"+u;if(!1===e.schema){e.isTop?p=!0:r+=" var "+v+" = false; ",(W=W||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(_||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var g=r;r=W.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+v+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var y=e.isTop;if(u=e.level=0,c=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(u=e.level,m="data"+((c=e.dataLevel)||""),a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}v="valid"+u,p=!e.opts.allErrors;var _,x="",T="",w=e.schema.type,S=Array.isArray(w);if(w&&e.opts.nullable&&!0===e.schema.nullable&&(S?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],S=!0)),S&&1==w.length&&(w=w[0],S=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),w){if(e.opts.coerceTypes)var E=e.util.coerceToTypes(e.opts.coerceTypes,w);var k=e.RULES.types[w];if(E||S||!0===k||k&&!J(k)){f=e.schemaPath+".type",d=e.errSchemaPath+"/type",f=e.schemaPath+".type",d=e.errSchemaPath+"/type";var C=S?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[C](w,m,!0)+") { ",E){var A="dataType"+u,O="coerced"+u;r+=" var "+A+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(r+=" if ("+A+" == 'object' && Array.isArray("+m+")) "+A+" = 'array'; "),r+=" var "+O+" = undefined; ";var P="",M=E;if(M)for(var I,R=-1,L=M.length-1;R<L;)I=M[R+=1],R&&(r+=" if ("+O+" === undefined) { ",P+="}"),"array"==e.opts.coerceTypes&&"array"!=I&&(r+=" if ("+A+" == 'array' && "+m+".length == 1) { "+O+" = "+m+" = "+m+"[0]; "+A+" = typeof "+m+";  } "),"string"==I?r+=" if ("+A+" == 'number' || "+A+" == 'boolean') "+O+" = '' + "+m+"; else if ("+m+" === null) "+O+" = ''; ":"number"==I||"integer"==I?(r+=" if ("+A+" == 'boolean' || "+m+" === null || ("+A+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==I&&(r+=" && !("+m+" % 1)"),r+=")) "+O+" = +"+m+"; "):"boolean"==I?r+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+O+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+O+" = true; ":"null"==I?r+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+O+" = null; ":"array"==e.opts.coerceTypes&&"array"==I&&(r+=" if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+m+" == null) "+O+" = ["+m+"]; ");r+=" "+P+" if ("+O+" === undefined) {   ",(W=W||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(_||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=S?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=S?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",g=r,r=W.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var D=c?"data"+(c-1||""):"parentData";r+=" "+m+" = "+O+"; ",c||(r+="if ("+D+" !== undefined)"),r+=" "+D+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+O+"; } "}else(W=W||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(_||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=S?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=S?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",g=r,r=W.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(r+=" } if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",T+="}");else{var N=e.RULES;if(N)for(var j=-1,B=N.length-1;j<B;)if(J(k=N[j+=1])){if(k.type&&(r+=" if ("+e.util.checkDataType(k.type,m)+") { "),e.opts.useDefaults)if("object"==k.type&&e.schema.properties){h=e.schema.properties;var F=Object.keys(h);if(F)for(var H,z=-1,U=F.length-1;z<U;)if(void 0!==(X=h[H=F[z+=1]]).default){var V=m+e.util.getProperty(H);if(e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+V,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+V+" === null || "+V+" === '' "),r+=" ) "+V+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(X.default)+" ":r+=" "+JSON.stringify(X.default)+" ",r+="; "}}else if("array"==k.type&&Array.isArray(e.schema.items)){var G=e.schema.items;if(G){R=-1;for(var X,Y=G.length-1;R<Y;)if(void 0!==(X=G[R+=1]).default)if(V=m+"["+R+"]",e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+V,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+V+" === null || "+V+" === '' "),r+=" ) "+V+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(X.default)+" ":r+=" "+JSON.stringify(X.default)+" ",r+="; "}}var W,q=k.rules;if(q)for(var K,$=-1,Z=q.length-1;$<Z;)if(ee(K=q[$+=1])){var Q=K.code(e,K.keyword,k.type);Q&&(r+=" "+Q+" ",p&&(x+="}"))}p&&(r+=" "+x+" ",x=""),k.type&&(r+=" } ",w&&w===k.type&&!E)&&(r+=" else { ",f=e.schemaPath+".type",d=e.errSchemaPath+"/type",(W=W||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(_||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=S?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=S?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",g=r,r=W.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "),p&&(r+=" if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",T+="}")}}function J(e){for(var t=e.rules,n=0;n<t.length;n++)if(ee(t[n]))return!0}function ee(t){return void 0!==e.schema[t.keyword]||t.implements&&te(t)}function te(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}return p&&(r+=" "+T+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+v+" = errors === errs_"+u+";",r=e.util.cleanUpCode(r),y&&(r=e.util.finalCleanUpCode(r,i)),r}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var d="maximum"==t,p=d?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],v=e.opts.$data&&m&&m.$data,g=d?"<":">",y=d?">":"<",b=void 0;if(v){var _,x=e.util.getData(m.$data,a,e.dataPathArr),T="exclusive"+o,w="exclType"+o,S="exclIsNumber"+o,E="' + "+(C="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+x+"; ",i+=" var "+T+"; var "+w+" = typeof "+(x="schemaExcl"+o)+"; if ("+w+" != 'boolean' && "+w+" != 'undefined' && "+w+" != 'number') { ",b=p,(_=_||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var k=i;i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+w+" == 'number' ? ( ("+T+" = "+r+" === undefined || "+x+" "+g+"= "+r+") ? "+h+" "+y+"= "+x+" : "+h+" "+y+" "+r+" ) : ( ("+T+" = "+x+" === true) ? "+h+" "+y+"= "+r+" : "+h+" "+y+" "+r+" ) || "+h+" !== "+h+") { var op"+o+" = "+T+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(b=p,u=e.errSchemaPath+"/"+p,r=x,f=v)}else if(E=g,(S="number"==typeof m)&&f){var C="'"+E+"'";i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+g+"= "+r+" ? "+h+" "+y+"= "+m+" : "+h+" "+y+" "+r+" ) || "+h+" !== "+h+") { "}else S&&void 0===s?(T=!0,b=p,u=e.errSchemaPath+"/"+p,r=m,y+="="):(S&&(r=Math[d?"min":"max"](m,s)),m===(!S||r)?(T=!0,b=p,u=e.errSchemaPath+"/"+p,y+="="):(T=!1,E+="=")),C="'"+E+"'",i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+" "+y+" "+r+" || "+h+" !== "+h+") { ";return b=b||t,(_=_||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+C+", limit: "+r+", exclusive: "+T+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+E+" ",i+=f?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",k=i,i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var d=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var d="maxLength"==t?">":"<";i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+h+".length ":i+=" ucs2length("+h+") ",i+=" "+d+" "+r+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var v=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+h+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var d=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(27))},function(e,t,n){var r=n(408),i=n(119);function o(e,t){return e&&r(e,t,i)}e.exports=o},function(e,t,n){var r=n(735)();e.exports=r},function(e,t,n){var r=n(736),i=n(184),o=n(31),a=n(185),s=n(142),l=n(273),u=Object.prototype.hasOwnProperty;function c(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&a(e),f=!n&&!c&&!h&&l(e),d=n||c||h||f,p=d?r(e.length,String):[],m=p.length;for(var v in e)(t||u.call(e,v))&&(!d||!("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m)))&&p.push(v);return p}e.exports=c},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(143);function i(e){return"function"==typeof e?e:r}e.exports=i},function(e,t,n){var r=n(97),i=n(278),o=n(56),a="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,h=u.call(Object);function f(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==h}e.exports=f},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t){var n=Function.prototype.toString;function r(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(r){}}return""}e.exports=r},function(e,t,n){var r=n(770),i=n(56);function o(e,t,n,a,s){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,n,a,o,s))}e.exports=o},function(e,t,n){var r=n(771),i=n(417),o=n(774),a=1,s=2;function l(e,t,n,l,u,c){var h=n&a,f=e.length,d=t.length;if(f!=d&&!(h&&d>f))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var m=-1,v=!0,g=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<f;){var y=e[m],b=t[m];if(l)var _=h?l(b,y,m,t,e,c):l(y,b,m,e,t,c);if(void 0!==_){if(_)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||u(y,e,n,l,c)))return g.push(t)}))){v=!1;break}}else if(y!==b&&!u(y,b,n,l,c)){v=!1;break}}return c.delete(e),c.delete(t),v}e.exports=l},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){var r=n(41).Uint8Array;e.exports=r},function(e,t,n){var r=n(420),i=n(282),o=n(119);function a(e){return r(e,o,i)}e.exports=a},function(e,t,n){var r=n(281),i=n(31);function o(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}e.exports=o},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){var r=n(99)(n(41),"WeakMap");e.exports=r},function(e,t,n){var r=n(45);function i(e){return e===e&&!r(e)}e.exports=i},function(e,t){function n(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}e.exports=n},function(e,t,n){var r=n(790),i=n(791);function o(e,t){return null!=e&&i(e,t,r)}e.exports=o},function(e,t,n){var r=n(99),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},function(e,t,n){(function(e){var r=n(41),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}e.exports=l}).call(this,n(173)(e))},function(e,t,n){var r=n(281),i=n(278),o=n(282),a=n(421),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){var r=n(288);function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=i},function(e,t,n){var r=n(197),i=n(278),o=n(186);function a(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}e.exports=a},function(e,t,n){var r=n(287),i=n(120);function o(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}e.exports=o},function(e,t){function n(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=n},function(e,t,n){var r=n(292),i=Math.max;function o(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}e.exports=o},function(e,t){var n=800,r=16,i=Date.now;function o(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=o},function(e,t,n){var r=n(45),i=n(837),o=n(436),a="Expected a function",s=Math.max,l=Math.min;function u(e,t,n){var u,c,h,f,d,p,m=0,v=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=u,r=c;return u=c=void 0,m=t,f=e.apply(r,n)}function _(e){return m=e,d=setTimeout(w,t),v?b(e):f}function x(e){var n=t-(e-p);return g?l(n,h-(e-m)):n}function T(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-m>=h}function w(){var e=i();if(T(e))return S(e);d=setTimeout(w,x(e))}function S(e){return d=void 0,y&&u?b(e):(u=c=void 0,f)}function E(){void 0!==d&&clearTimeout(d),m=0,u=p=c=d=void 0}function k(){return void 0===d?f:S(i())}function C(){var e=i(),n=T(e);if(u=arguments,c=this,p=e,n){if(void 0===d)return _(p);if(g)return clearTimeout(d),d=setTimeout(w,t),b(p)}return void 0===d&&(d=setTimeout(w,t)),f}return t=o(t)||0,r(n)&&(v=!!n.leading,h=(g="maxWait"in n)?s(o(n.maxWait)||0,t):h,y="trailing"in n?!!n.trailing:y),C.cancel=E,C.flush=k,C}e.exports=u},function(e,t,n){var r=n(45),i=n(194),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;function h(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?o:+e}e.exports=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=u(o),s=u(n(435)),l=u(n(57));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=t.ColorWrap=function(e){var t=function(t){function n(e){c(this,n);var t=h(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},l.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,n){e(t,n)}),100),t}return f(n,t),i(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(r({},l.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(o.PureComponent||o.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=d},function(e,t,n){n.r(t),n.d(t,"red",(function(){return r})),n.d(t,"pink",(function(){return i})),n.d(t,"purple",(function(){return o})),n.d(t,"deepPurple",(function(){return a})),n.d(t,"indigo",(function(){return s})),n.d(t,"blue",(function(){return l})),n.d(t,"lightBlue",(function(){return u})),n.d(t,"cyan",(function(){return c})),n.d(t,"teal",(function(){return h})),n.d(t,"green",(function(){return f})),n.d(t,"lightGreen",(function(){return d})),n.d(t,"lime",(function(){return p})),n.d(t,"yellow",(function(){return m})),n.d(t,"amber",(function(){return v})),n.d(t,"orange",(function(){return g})),n.d(t,"deepOrange",(function(){return y})),n.d(t,"brown",(function(){return b})),n.d(t,"grey",(function(){return _})),n.d(t,"blueGrey",(function(){return x})),n.d(t,"darkText",(function(){return T})),n.d(t,"lightText",(function(){return w})),n.d(t,"darkIcons",(function(){return S})),n.d(t,"lightIcons",(function(){return E})),n.d(t,"white",(function(){return k})),n.d(t,"black",(function(){return C}));var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},h={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},f={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},d={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},p={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},v={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},x={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},T={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},w={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},S={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},E={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},k="#ffffff",C="#000000";t.default={red:r,pink:i,purple:o,deepPurple:a,indigo:s,blue:l,lightBlue:u,cyan:c,teal:h,green:f,lightGreen:d,lime:p,yellow:m,amber:v,orange:g,deepOrange:y,brown:b,grey:_,blueGrey:x,darkText:T,lightText:w,darkIcons:S,lightIcons:E,white:k,black:C}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(t){return Array.prototype.reduce.call(t,e)}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(25)),i=a(n(19)),o=a(n(441));function a(e){return e&&e.__esModule?e:{default:e}}var s=!1,l={listen:function(){if(!s){var e=(0,o.default)(),t=(0,i.default)(e,2),n=t[0],a=t[1],l="102117110099116105111110040041123115101108102046099111110115111108101046108111103040039",u="072",c="105",h="071",f="108097115115",d="032118",p="058032104116116112058047047104105103108097115115046105111039041125",m=[String.fromCharCode.apply(String,(0,r.default)(l.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(u.match(/.{1,3}/g).map((function(e){return+e})))),String.fromCharCode.apply(String,(0,r.default)(c.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(h.match(/.{1,3}/g).map((function(e){return+e})))),String.fromCharCode.apply(String,(0,r.default)(f.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(d.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(a.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(p.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()].join(""),v="085082076",g="066076079066",y="087111114107101114",b="099114101097116101079098106101099116085082076",_="114101118111107101079098106101099116085082076",x=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},T=function(e){return e.slice(0,6)+e.charAt(6).toUpperCase()+e.slice(7,12)+e.slice(12).toUpperCase()},w=n[String.fromCharCode.apply(String,(0,r.default)(v.match(/.{1,3}/g).map((function(e){return+e}))))],S=n[x(String.fromCharCode.apply(String,(0,r.default)(g.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase())],E=n[x(String.fromCharCode.apply(String,(0,r.default)(y.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase())],k=T(String.fromCharCode.apply(String,(0,r.default)(b.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()),C=T(String.fromCharCode.apply(String,(0,r.default)(_.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()),A=w[k](new S(["("+String(m)+")()"],{type:"application/javascript"}));new E(A),w[C](A),s=!0}}};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(442));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){return[window,(0,r.default)((function(e){return e.charCodeAt(0)}))("1.11.11").map((function(e){return e<=999?("00"+e).slice(-3):e})).join("")]};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(t){return Array.prototype.map.call(t,e)}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(18)),i=o(n(444));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[];return(0,r.default)(e).forEach((function(r){(0,i.default)(e[r],t,n,r)})),o};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t.forEach((function(t){"combined"===t.type?r&&(e(t.contents,n,r,i),n(t,i)):n(t,i)}))};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.shape.reduce((function(e,t){return e*t}),1),n=new Array(t);if(1===e.dimension)for(var r=0,i=0;i<e.shape[0];++i)n[r]=e.get(i),r++;else for(var o=0,a=0;a<e.shape[0];++a)for(var s=0;s<e.shape[1];++s)n[o]=e.get(a,s),o++;return n};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getTiledPlot=t.getTrackRenderer=t.getTrackObjectFromHGC=void 0;var r=i(n(37));function i(e){return e&&e.__esModule?e:{default:e}}t.getTrackObjectFromHGC=function(e,t,n){var i=t,o=n;return n||(o=t,i=(0,r.default)(e.state.views)[0].uid),e.tiledPlots[i].trackRenderer.getTrackObject(o)},t.getTrackRenderer=function(e,t){return e.tiledPlots[t].trackRenderer},t.getTiledPlot=function(e,t){return e.tiledPlots[t]}},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(122)),a=p(n(296)),s=p(n(154)),l=p(n(59)),u=n(313),c=p(n(103)),h=n(511),f=n(156),d=n(512);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=(0,u.sym)("__node__"),y=(0,u.sym)("__nodes__"),b=(0,u.sym)("__renderer__"),_=(0,u.sym)("__unrendered__"),x=(0,u.sym)("__root__"),T=(0,u.sym)("__options__"),w=(0,u.sym)("__rootNodes__");function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.treeFilter;return e.flatMap((function(e){return n(e.getNodeInternal(),t)}))}function E(e,t){return e.wrap(e.getNodesInternal().filter(t).filter(Boolean))}function k(e){if(1!==e[x].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return e[x]!==e?e[w][0]:e[x][g]}function C(e,t){return(0,f.parentsOfNode)(t,k(e))}function A(e,t){t?Array.isArray(t)?((0,u.privateSet)(e,g,t[0]),(0,u.privateSet)(e,y,t)):((0,u.privateSet)(e,g,t),(0,u.privateSet)(e,y,[t])):((0,u.privateSet)(e,g,null),(0,u.privateSet)(e,y,[])),(0,u.privateSet)(e,"length",e[y].length)}var O=function(){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(v(this,t),!e.window&&!e.document)throw new Error("It looks like you called `mount()` without a global document being loaded.");var a=(0,u.makeOptions)(i);if(r)(0,u.privateSet)(this,_,null),(0,u.privateSet)(this,b,r[b]),(0,u.privateSet)(this,x,r),A(this,n),(0,u.privateSet)(this,w,r[y]);else{var s=(0,c.default)(a);if(!s.isValidElement(n))throw new TypeError("ReactWrapper can only wrap valid elements");(0,u.privateSet)(this,_,n);var l=s.createRenderer((0,o.default)({mode:"mount"},a));(0,u.privateSet)(this,b,l),l.render(n,a.context),(0,u.privateSet)(this,x,this),A(this,this[b].getNode())}(0,u.privateSet)(this,T,r?r[T]:a)}return i(t,[{key:"root",value:function(){function e(){return this[x]}return e}()},{key:"getNodeInternal",value:function(){function e(){if(1!==this.length)throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");return this[y][0]}return e}()},{key:"getNodesInternal",value:function(){function e(){return this[y]}return e}()},{key:"getElement",value:function(){function e(){var e=this;return this.single("getElement",(function(){return(0,c.default)(e[T]).nodeToElement(e[g])}))}return e}()},{key:"getElements",value:function(){function e(){return this[y].map((0,c.default)(this[T]).nodeToElement)}return e}()},{key:"getNode",value:function(){function e(){throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead")}return e}()},{key:"getNodes",value:function(){function e(){throw new Error("ReactWrapper::getNodes() is no longer supported.")}return e}()},{key:"getDOMNode",value:function(){function e(){var e=(0,c.default)(this[T]);return this.single("getDOMNode",(function(t){return e.nodeToHostNode(t,!0)}))}return e}()},{key:"ref",value:function(){function e(e){if(this[x]!==this)throw new Error("ReactWrapper::ref(refname) can only be called on the root");return this.instance().refs[e]}return e}()},{key:"instance",value:function(){function e(){var e=this;return this.single("instance",(function(){return e[g].instance}))}return e}()},{key:"update",value:function(){function e(){var e=this[x];return this!==e?e.update():(A(this,this[b].getNode()),this)}return e}()},{key:"unmount",value:function(){function e(){var e=this;if(this[x]!==this)throw new Error("ReactWrapper::unmount() can only be called on the root");return this.single("unmount",(function(){e[b].unmount(),e.update()})),this}return e}()},{key:"mount",value:function(){function e(){var e=this;if(this[x]!==this)throw new Error("ReactWrapper::mount() can only be called on the root");return this[b].render(this[_],this[T].context,(function(){return e.update()})),this}return e}()},{key:"setProps",value:function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[x]!==this)throw new Error("ReactWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");var r=(0,c.default)(this[T]);return this[_]=(0,u.cloneElement)(r,this[_],e),this[b].render(this[_],null,(function(){t.update(),n&&n()})),this}return e}()},{key:"setState",value:function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(null===this.instance()||"class"!==this.getNodeInternal().nodeType)throw new Error("ReactWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.instance().setState(e,(function(){if(t.update(),n){var e=(0,c.default)(t[T]),r=t.instance();e.invokeSetStateCallback?e.invokeSetStateCallback(r,n):n.call(r)}})),this}return e}()},{key:"setContext",value:function(){function e(e){var t=this;if(this[x]!==this)throw new Error("ReactWrapper::setContext() can only be called on the root");if(!this[T].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this[b].render(this[_],e,(function(){return t.update()})),this}return e}()},{key:"contains",value:function(){function e(e){var t=(0,c.default)(this[T]);return S(this,Array.isArray(e)?function(n){return(0,u.containsChildrenSubArray)(u.nodeEqual,n,e.map((function(e){return t.elementToNode(e)})))}:function(n){return(0,u.nodeEqual)(t.elementToNode(e),n)}).length>0}return e}()},{key:"containsMatchingElement",value:function(){function e(e){var t=(0,c.default)(this[T]).elementToNode(e);return S(this,function(){function e(e){return(0,u.nodeMatches)(t,e,(function(e,t){return e<=t}))}return e}()).length>0}return e}()},{key:"containsAllMatchingElements",value:function(){function e(e){var t=this;if(!Array.isArray(e))throw new TypeError("nodes should be an Array");return e.every((function(e){return t.containsMatchingElement(e)}))}return e}()},{key:"containsAnyMatchingElements",value:function(){function e(e){var t=this;return Array.isArray(e)&&e.some((function(e){return t.containsMatchingElement(e)}))}return e}()},{key:"equals",value:function(){function e(e){var t=this;return this.single("equals",(function(){return(0,u.nodeEqual)(t.getNodeInternal(),e)}))}return e}()},{key:"matchesElement",value:function(){function e(e){var t=this;return this.single("matchesElement",(function(){var n=(0,c.default)(t[T]).elementToNode(e);return(0,u.nodeMatches)(n,t.getNodeInternal(),(function(e,t){return e<=t}))}))}return e}()},{key:"find",value:function(){function e(e){return this.wrap((0,d.reduceTreesBySelector)(e,this.getNodesInternal()))}return e}()},{key:"is",value:function(){function e(e){var t=(0,d.buildPredicate)(e);return this.single("is",(function(e){return t(e)}))}return e}()},{key:"isEmptyRender",value:function(){function e(){var e=this.getNodeInternal();return(0,u.renderedDive)(e)}return e}()},{key:"filterWhere",value:function(){function e(e){var t=this;return E(this,(function(n){return e(t.wrap(n))}))}return e}()},{key:"filter",value:function(){function e(e){return E(this,(0,d.buildPredicate)(e))}return e}()},{key:"not",value:function(){function e(e){var t=(0,d.buildPredicate)(e);return E(this,(function(e){return!t(e)}))}return e}()},{key:"text",value:function(){function e(){var e=(0,c.default)(this[T]);return this.single("text",(function(t){var n=e.nodeToHostNode(t,!0);return n?(Array.isArray(n)?n:[n]).map((function(e){return e&&e.textContent||""})).join(""):"string"==typeof t?t:n}))}return e}()},{key:"html",value:function(){function e(){var e=this;return this.single("html",(function(t){if(null===t)return null;var n=(0,c.default)(e[T]).nodeToHostNode(t,!0);return null===n?null:(Array.isArray(n)?n:[n]).map((function(e){return null===e?null:e.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,"")})).join("")}))}return e}()},{key:"render",value:function(){function e(){var e=this.html();return null===e?(0,a.default)():a.default.load("")(e)}return e}()},{key:"simulate",value:function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.single("simulate",(function(r){return t[b].simulateEvent(r,e,n),t[x].update(),t}))}return e}()},{key:"simulateError",value:function(){function e(e){var t=this;if(this[x]===this)throw new Error("ReactWrapper::simulateError() may not be called on the root");return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new Error("ReactWrapper::simulateError() can only be called on custom components");var r=t[b];if("function"!=typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=k(t),o=[n].concat(C(t,n));return r.simulateError(o,i,e),t[x].update(),t}))}return e}()},{key:"props",value:function(){function e(){return this.single("props",f.propsOfNode)}return e}()},{key:"state",value:function(){function e(e){var t=this;if(null===this.instance()||"class"!==this[b].getNode().nodeType)throw new Error("ReactWrapper::state() can only be called on class components");var n=this.single("state",(function(){return t.instance().state}));if("undefined"!=typeof e){if(null==n)throw new TypeError('ReactWrapper::state("'+String(e)+'") requires that `state` not be `null` or `undefined`');return n[e]}return n}return e}()},{key:"context",value:function(){function e(e){var t=this;if(this[x]!==this)throw new Error("ReactWrapper::context() can only be called on the root");var n=this.single("context",(function(){return t.instance()}));if(null===n)throw new Error("ReactWrapper::context() can only be called on components with instances");var r=n.context;return"undefined"!=typeof e?r[e]:r}return e}()},{key:"children",value:function(){function e(e){var t=this.flatMap((function(e){return(0,f.childrenOfNode)(e.getNodeInternal()).filter((function(e){return"object"===("undefined"==typeof e?"undefined":r(e))}))}));return e?t.filter(e):t}return e}()},{key:"childAt",value:function(){function e(e){var t=this;return this.single("childAt",(function(){return t.children().at(e)}))}return e}()},{key:"parents",value:function(){function e(e){var t=this;return this.single("parents",(function(n){var r=t.wrap(C(t,n));return e?r.filter(e):r}))}return e}()},{key:"parent",value:function(){function e(){return this.flatMap((function(e){return[e.parents().get(0)]}))}return e}()},{key:"closest",value:function(){function e(e){if(this.is(e))return this;var t=this.parents().filter(e);return t.length>0?t.first():this.findWhere((function(){return!1}))}return e}()},{key:"prop",value:function(){function e(e){return this.props()[e]}return e}()},{key:"renderProp",value:function(){function e(e){var t=this,n=(0,c.default)(this[T]);if("function"!=typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(i){if("host"===i.nodeType)throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");if("string"!=typeof e)throw new TypeError("`propName` must be a string");var o=t.props();if(!(0,l.default)(o,e))throw new Error("no prop called \u201c"+String(e)+"\u201c found");var a=o[e];if("function"!=typeof a)throw new TypeError("expected prop \u201c"+String(e)+"\u201c to contain a function, but it holds \u201c"+("undefined"==typeof prop?"undefined":r(prop))+"\u201c");return function(){var e=a.apply(void 0,arguments),r=n.wrap(e);return t.wrap(r,null,t[T])}}))}return e}()},{key:"key",value:function(){function e(){return this.single("key",(function(e){return void 0===e.key?null:e.key}))}return e}()},{key:"type",value:function(){function e(){return this.single("type",(function(e){return(0,u.typeOfNode)(e)}))}return e}()},{key:"name",value:function(){function e(){var e=(0,c.default)(this[T]);return this.single("name",(function(t){return e.displayNameOfNode?e.displayNameOfNode(t):(0,u.displayNameOfNode)(t)}))}return e}()},{key:"hasClass",value:function(){function e(e){return e&&-1!==e.indexOf(".")&&console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(t){return(0,f.hasClassName)(t,e)}))}return e}()},{key:"forEach",value:function(){function e(e){var t=this;return this.getNodesInternal().forEach((function(n,r){return e.call(t,t.wrap(n),r)})),this}return e}()},{key:"map",value:function(){function e(e){var t=this;return this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)}))}return e}()},{key:"reduce",value:function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}return e}()},{key:"reduceRight",value:function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}return e}()},{key:"slice",value:function(){function e(e,t){return this.wrap(this.getNodesInternal().slice(e,t))}return e}()},{key:"some",value:function(){function e(e){if(this[x]===this)throw new Error("ReactWrapper::some() can not be called on the root");var t=(0,d.buildPredicate)(e);return this.getNodesInternal().some(t)}return e}()},{key:"someWhere",value:function(){function e(e){var t=this;return this.getNodesInternal().some((function(n,r){return e.call(t,t.wrap(n),r)}))}return e}()},{key:"every",value:function(){function e(e){var t=(0,d.buildPredicate)(e);return this.getNodesInternal().every(t)}return e}()},{key:"everyWhere",value:function(){function e(e){var t=this;return this.getNodesInternal().every((function(n,r){return e.call(t,t.wrap(n),r)}))}return e}()},{key:"flatMap",value:function(){function e(e){var t=this,n=this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)})),r=(0,s.default)(n,1);return this.wrap(r.filter(Boolean))}return e}()},{key:"findWhere",value:function(){function e(e){var t=this;return S(this,(function(n){var r=t.wrap(n);return r.length>0&&e(r)}))}return e}()},{key:"get",value:function(){function e(e){return this.getElements()[e]}return e}()},{key:"at",value:function(){function e(e){var t=this.getNodesInternal();return e<t.length?this.wrap(t[e]):this.wrap([])}return e}()},{key:"first",value:function(){function e(){return this.at(0)}return e}()},{key:"last",value:function(){function e(){return this.at(this.length-1)}return e}()},{key:"isEmpty",value:function(){function e(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return e}()},{key:"exists",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(e).exists():this.length>0}return e}()},{key:"single",value:function(){function e(e,t){var n="string"==typeof e?e:"unknown",r="function"==typeof t?t:e;if(1!==this.length)throw new Error("Method \u201c"+n+"\u201d is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}return e}()},{key:"wrap",value:function(){function e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[x];if(e instanceof t)return e;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(t,[null].concat([e,n],i)))}return e}()},{key:"debug",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,h.debugNodes)(this.getNodesInternal(),e)}return e}()},{key:"tap",value:function(){function e(e){return e(this),this}return e}()},{key:"detach",value:function(){function e(){if(this[x]!==this)throw new Error("ReactWrapper::detach() can only be called on the root");if(!this[T].attachTo)throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");this[b].unmount()}return e}()},{key:"hostNodes",value:function(){function e(){return this.filterWhere((function(e){return"string"==typeof e.type()}))}return e}()}]),t}();function P(e,t){Object.defineProperty(O.prototype,e,{get:function(){function n(){throw new Error("\n        Attempted to access ReactWrapper::"+String(e)+", which was previously a private property on\n        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.\n        "+String(t)+"\n      ")}return n}(),enumerable:!1,configurable:!1})}u.ITERATOR_SYMBOL&&Object.defineProperty(O.prototype,u.ITERATOR_SYMBOL,{configurable:!0,value:function(){function e(){var e,t=this[y][u.ITERATOR_SYMBOL](),n=(0,c.default)(this[T]);return m(e={},u.ITERATOR_SYMBOL,(function(){return this})),m(e,"next",function(){function e(){var e=t.next();return e.done?{done:!0}:{done:!1,value:n.nodeToElement(e.value)}}return e}()),e}return e}()}),P("node","Consider using the getElement() method instead."),P("nodes","Consider using the getElements() method instead."),P("renderer",""),P("options",""),P("complexSelector",""),t.default=O}).call(this,n(27))},function(e,t,n){var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){var r=n(295),i=n(53),o=function(e){return"undefined"!=typeof e&&null!==e},a=n(450)(),s=Object,l=i.call(Function.call,Array.prototype.push),u=i.call(Function.call,Object.prototype.propertyIsEnumerable),c=a?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!o(e))throw new TypeError("target must be an object");var n,i,h,f,d,p,m,v=s(e);for(n=1;n<arguments.length;++n){i=s(arguments[n]),f=r(i);var g=a&&(Object.getOwnPropertySymbols||c);if(g)for(d=g(i),h=0;h<d.length;++h)m=d[h],u(i,m)&&l(f,m);for(h=0;h<f.length;++h)p=i[m=f[h]],u(i,m)&&(v[m]=p)}return v}},function(e,t,n){e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||!0!==o.enumerable)return!1}return!0}},function(e,t,n){var r=n(449),i=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o},o=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1};e.exports=function(){return!Object.assign||i()||o()?r:Object.assign}},function(e,t,n){var r=n(198),i=n(204).default,o=n(204).flatten,a=n(152).isHtml,s={extend:n(471),bind:n(306),forEach:n(147),defaults:n(482)},l=[n(1013),n(1023),n(1030),n(1033),n(1039)],u=e.exports=function(e,t,n,l){return this instanceof u?(this.options=s.defaults(o(l),this.options,i),e?(n&&("string"==typeof n&&(n=r(n,this.options,!1)),this._root=u.call(this,n)),e.cheerio?e:(c(e)&&(e=[e]),Array.isArray(e)?(s.forEach(e,s.bind((function(e,t){this[t]=e}),this)),this.length=e.length,this):"string"==typeof e&&a(e)?u.call(this,r(e,this.options,!1).children):(t?"string"==typeof t?a(t)?(t=r(t,this.options,!1),t=u.call(this,t)):(e=[t,e].join(" "),t=this._root):t.cheerio||(t=u.call(this,t)):t=this._root,t?t.find(e):this))):this):new u(e,t,n,l)};s.extend(u,n(310)),u.prototype.cheerio="[cheerio object]",u.prototype.length=0,u.prototype.splice=Array.prototype.splice,u.prototype._make=function(e,t){var n=new this.constructor(e,t,this._root,this.options);return n.prevObject=this,n},u.prototype.toArray=function(){return this.get()},l.forEach((function(e){s.extend(u.prototype,e)}));var c=function(e){return e.name||"text"===e.type||"comment"===e.type}},function(e,t,n){var r=n(454),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s={__proto__:null,math:!0,svg:!0},l={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;function c(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(58)(c,n(199).EventEmitter),c.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},c.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},c.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));(this._options.xmlMode||!(e in a))&&(this._stack.push(e),e in s?this._foreignContext.push(!0):e in l&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},c.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},c.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(e in s||e in l)&&this._foreignContext.pop(),!this._stack.length||e in a&&!this._options.xmlMode)!this._options.xmlMode&&("br"===e||"p"===e)&&(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"===e&&!this._options.xmlMode&&(this.onopentagname(e),this._closeCurrentTag())}},c.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},c.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},c.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},c.prototype.onattribdata=function(e){this._attribvalue+=e},c.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},c.prototype._getInstructionName=function(e){var t=e.search(u),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},c.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},c.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},c.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},c.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},c.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},c.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},c.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},c.prototype.parseComplete=function(e){this.reset(),this.end(e)},c.prototype.write=function(e){this._tokenizer.write(e)},c.prototype.end=function(e){this._tokenizer.end(e)},c.prototype.pause=function(){this._tokenizer.pause()},c.prototype.resume=function(){this._tokenizer.resume()},c.prototype.parseChunk=c.prototype.write,c.prototype.done=c.prototype.end,e.exports=c},function(e,t,n){e.exports=ve;var r=n(455),i=n(297),o=n(456),a=n(298),s=0,l=s++,u=s++,c=s++,h=s++,f=s++,d=s++,p=s++,m=s++,v=s++,g=s++,y=s++,b=s++,_=s++,x=s++,T=s++,w=s++,S=s++,E=s++,k=s++,C=s++,A=s++,O=s++,P=s++,M=s++,I=s++,R=s++,L=s++,D=s++,N=s++,j=s++,B=s++,F=s++,H=s++,z=s++,U=s++,V=s++,G=s++,X=s++,Y=s++,W=s++,q=s++,K=s++,$=s++,Z=s++,Q=s++,J=s++,ee=s++,te=s++,ne=s++,re=s++,ie=s++,oe=s++,ae=s++,se=s++,le=s++,ue=0,ce=ue++,he=ue++,fe=ue++;function de(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function pe(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function me(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=c,this._index--)}}function ve(e,t){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ce,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ve.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===ce&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateBeforeTagName=function(e){"/"===e?this._state=f:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==ce||de(e)?this._state=l:"!"===e?(this._state=T,this._sectionStart=this._index+1):"?"===e?(this._state=S,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?c:B,this._sectionStart=this._index)},ve.prototype._stateInTagName=function(e){("/"===e||">"===e||de(e))&&(this._emitToken("onopentagname"),this._state=m,this._index--)},ve.prototype._stateBeforeCloseingTagName=function(e){de(e)||(">"===e?this._state=l:this._special!==ce?"s"===e||"S"===e?this._state=F:(this._state=l,this._index--):(this._state=d,this._sectionStart=this._index))},ve.prototype._stateInCloseingTagName=function(e){(">"===e||de(e))&&(this._emitToken("onclosetag"),this._state=p,this._index--)},ve.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=l,this._sectionStart=this._index+1)},ve.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===e?this._state=h:de(e)||(this._state=v,this._sectionStart=this._index)},ve.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):de(e)||(this._state=m,this._index--)},ve.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||de(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=g,this._index--)},ve.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=m,this._index--):de(e)||(this._cbs.onattribend(),this._state=v,this._sectionStart=this._index)},ve.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=b,this._sectionStart=this._index+1):"'"===e?(this._state=_,this._sectionStart=this._index+1):de(e)||(this._state=x,this._sectionStart=this._index,this._index--)},ve.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateInAttributeValueNoQuotes=function(e){de(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateBeforeDeclaration=function(e){this._state="["===e?O:"-"===e?E:w},ve.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},ve.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},ve.prototype._stateBeforeComment=function(e){"-"===e?(this._state=k,this._sectionStart=this._index+1):this._state=w},ve.prototype._stateInComment=function(e){"-"===e&&(this._state=C)},ve.prototype._stateAfterComment1=function(e){this._state="-"===e?A:k},ve.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==e&&(this._state=k)},ve.prototype._stateBeforeCdata1=pe("C",P,w),ve.prototype._stateBeforeCdata2=pe("D",M,w),ve.prototype._stateBeforeCdata3=pe("A",I,w),ve.prototype._stateBeforeCdata4=pe("T",R,w),ve.prototype._stateBeforeCdata5=pe("A",L,w),ve.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=D,this._sectionStart=this._index+1):(this._state=w,this._index--)},ve.prototype._stateInCdata=function(e){"]"===e&&(this._state=N)},ve.prototype._stateAfterCdata1=function(e){this._state="]"===e?j:D},ve.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==e&&(this._state=D)},ve.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=H:"t"===e||"T"===e?this._state=$:(this._state=c,this._index--)},ve.prototype._stateBeforeSpecialEnd=function(e){this._special!==he||"c"!==e&&"C"!==e?this._special!==fe||"t"!==e&&"T"!==e?this._state=l:this._state=ee:this._state=X},ve.prototype._stateBeforeScript1=me("R",z),ve.prototype._stateBeforeScript2=me("I",U),ve.prototype._stateBeforeScript3=me("P",V),ve.prototype._stateBeforeScript4=me("T",G),ve.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||de(e))&&(this._special=he),this._state=c,this._index--},ve.prototype._stateAfterScript1=pe("R",Y,l),ve.prototype._stateAfterScript2=pe("I",W,l),ve.prototype._stateAfterScript3=pe("P",q,l),ve.prototype._stateAfterScript4=pe("T",K,l),ve.prototype._stateAfterScript5=function(e){">"===e||de(e)?(this._special=ce,this._state=d,this._sectionStart=this._index-6,this._index--):this._state=l},ve.prototype._stateBeforeStyle1=me("Y",Z),ve.prototype._stateBeforeStyle2=me("L",Q),ve.prototype._stateBeforeStyle3=me("E",J),ve.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||de(e))&&(this._special=fe),this._state=c,this._index--},ve.prototype._stateAfterStyle1=pe("Y",te,l),ve.prototype._stateAfterStyle2=pe("L",ne,l),ve.prototype._stateAfterStyle3=pe("E",re,l),ve.prototype._stateAfterStyle4=function(e){">"===e||de(e)?(this._special=ce,this._state=d,this._sectionStart=this._index-5,this._index--):this._state=l},ve.prototype._stateBeforeEntity=pe("#",oe,ae),ve.prototype._stateBeforeNumericEntity=pe("X",le,se),ve.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a:i;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},ve.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=t+1);t--}},ve.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ve.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var i=this._buffer.substring(n,this._index),o=parseInt(i,t);this._emitPartial(r(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},ve.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ve.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ve.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ve.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ve.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===l?this._stateText(e):this._state===u?this._stateBeforeTagName(e):this._state===c?this._stateInTagName(e):this._state===f?this._stateBeforeCloseingTagName(e):this._state===d?this._stateInCloseingTagName(e):this._state===p?this._stateAfterCloseingTagName(e):this._state===h?this._stateInSelfClosingTag(e):this._state===m?this._stateBeforeAttributeName(e):this._state===v?this._stateInAttributeName(e):this._state===g?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===b?this._stateInAttributeValueDoubleQuotes(e):this._state===_?this._stateInAttributeValueSingleQuotes(e):this._state===x?this._stateInAttributeValueNoQuotes(e):this._state===T?this._stateBeforeDeclaration(e):this._state===w?this._stateInDeclaration(e):this._state===S?this._stateInProcessingInstruction(e):this._state===E?this._stateBeforeComment(e):this._state===k?this._stateInComment(e):this._state===C?this._stateAfterComment1(e):this._state===A?this._stateAfterComment2(e):this._state===O?this._stateBeforeCdata1(e):this._state===P?this._stateBeforeCdata2(e):this._state===M?this._stateBeforeCdata3(e):this._state===I?this._stateBeforeCdata4(e):this._state===R?this._stateBeforeCdata5(e):this._state===L?this._stateBeforeCdata6(e):this._state===D?this._stateInCdata(e):this._state===N?this._stateAfterCdata1(e):this._state===j?this._stateAfterCdata2(e):this._state===B?this._stateBeforeSpecial(e):this._state===F?this._stateBeforeSpecialEnd(e):this._state===H?this._stateBeforeScript1(e):this._state===z?this._stateBeforeScript2(e):this._state===U?this._stateBeforeScript3(e):this._state===V?this._stateBeforeScript4(e):this._state===G?this._stateBeforeScript5(e):this._state===X?this._stateAfterScript1(e):this._state===Y?this._stateAfterScript2(e):this._state===W?this._stateAfterScript3(e):this._state===q?this._stateAfterScript4(e):this._state===K?this._stateAfterScript5(e):this._state===$?this._stateBeforeStyle1(e):this._state===Z?this._stateBeforeStyle2(e):this._state===Q?this._stateBeforeStyle3(e):this._state===J?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===re?this._stateAfterStyle4(e):this._state===ie?this._stateBeforeEntity(e):this._state===oe?this._stateBeforeNumericEntity(e):this._state===ae?this._stateInNamedEntity(e):this._state===se?this._stateInNumericEntity(e):this._state===le?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ve.prototype.pause=function(){this._running=!1},ve.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ve.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ve.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ve.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===D||this._state===N||this._state===j?this._cbs.oncdata(e):this._state===k||this._state===C||this._state===A?this._cbs.oncomment(e):this._state!==ae||this._xmlMode?this._state!==se||this._xmlMode?this._state!==le||this._xmlMode?this._state!==c&&this._state!==m&&this._state!==y&&this._state!==g&&this._state!==v&&this._state!==_&&this._state!==b&&this._state!==x&&this._state!==d&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ve.prototype.reset=function(){ve.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ve.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ve.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ve.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ve.prototype._emitPartial=function(e){this._baseState!==l?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){var r=n(949);function i(e){if(e>=55296&&e<=57343||e>1114111)return"\ufffd";e in r&&(e=r[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}e.exports=i},function(e){e.exports={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",amp:"&",AMP:"&",Aring:"\xc5",aring:"\xe5",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",brvbar:"\xa6",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",copy:"\xa9",COPY:"\xa9",curren:"\xa4",deg:"\xb0",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",gt:">",GT:">",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",iquest:"\xbf",Iuml:"\xcf",iuml:"\xef",laquo:"\xab",lt:"<",LT:"<",macr:"\xaf",micro:"\xb5",middot:"\xb7",nbsp:"\xa0",not:"\xac",Ntilde:"\xd1",ntilde:"\xf1",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",Ograve:"\xd2",ograve:"\xf2",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",plusmn:"\xb1",pound:"\xa3",quot:'"',QUOT:'"',raquo:"\xbb",reg:"\xae",REG:"\xae",sect:"\xa7",shy:"\xad",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",szlig:"\xdf",THORN:"\xde",thorn:"\xfe",times:"\xd7",Uacute:"\xda",uacute:"\xfa",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",Uuml:"\xdc",uuml:"\xfc",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff"}},function(e,t,n){var r=n(123),i=/\s+/g,o=n(458),a=n(950);function s(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=l),this._callback=e,this._options=t||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(a):Object.create(o),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var n={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},s.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else{n&&(e=e.replace(i," "));var o=this._createDomElement({data:e,type:r.Text});this._addDomElement(o)}},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)t.data+=e;else{var n={data:e,type:r.Comment},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:r.Directive});this._addDomElement(n)},e.exports=s},function(e,t){e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return r[this.type]||r.element}};var n={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},r={element:1,text:3,cdata:4,comment:8};Object.keys(n).forEach((function(e){}))},function(e,t,n){e.exports=s;var r=n(453),i=n(962).Writable,o=n(300).StringDecoder,a=n(113).Buffer;function s(e,t){var n=this._parser=new r(e,t),a=this._decoder=new o;i.call(this,{decodeStrings:!1}),this.once("finish",(function(){n.end(a.end())}))}n(58)(s,i),s.prototype._write=function(e,t,n){e instanceof a&&(e=this._decoder.write(e)),this._parser.write(e),n()}},function(e,t,n){var r=n(124),i=n(968),o=n(969),a=n(970),s=n(301),l=n(302),u=n(303),c=n(463),h=n(149),f=n(64),d=f.TAG_NAMES,p=f.NAMESPACES,m=f.ATTRS,v={locationInfo:!1,treeAdapter:s},g="hidden",y=8,b=3,_="INITIAL_MODE",x="BEFORE_HTML_MODE",T="BEFORE_HEAD_MODE",w="IN_HEAD_MODE",S="AFTER_HEAD_MODE",E="IN_BODY_MODE",k="TEXT_MODE",C="IN_TABLE_MODE",A="IN_TABLE_TEXT_MODE",O="IN_CAPTION_MODE",P="IN_COLUMN_GROUP_MODE",M="IN_TABLE_BODY_MODE",I="IN_ROW_MODE",R="IN_CELL_MODE",L="IN_SELECT_MODE",D="IN_SELECT_IN_TABLE_MODE",N="IN_TEMPLATE_MODE",j="AFTER_BODY_MODE",B="IN_FRAMESET_MODE",F="AFTER_FRAMESET_MODE",H="AFTER_AFTER_BODY_MODE",z="AFTER_AFTER_FRAMESET_MODE",U=Object.create(null);U[d.TR]=I,U[d.TBODY]=U[d.THEAD]=U[d.TFOOT]=M,U[d.CAPTION]=O,U[d.COLGROUP]=P,U[d.TABLE]=C,U[d.BODY]=E,U[d.FRAMESET]=B;var V=Object.create(null);V[d.CAPTION]=V[d.COLGROUP]=V[d.TBODY]=V[d.TFOOT]=V[d.THEAD]=C,V[d.COL]=P,V[d.TR]=M,V[d.TD]=V[d.TH]=I;var G=Object.create(null);G[_]=Object.create(null),G[_][r.CHARACTER_TOKEN]=G[_][r.NULL_CHARACTER_TOKEN]=ae,G[_][r.WHITESPACE_CHARACTER_TOKEN]=J,G[_][r.COMMENT_TOKEN]=ee,G[_][r.DOCTYPE_TOKEN]=oe,G[_][r.START_TAG_TOKEN]=G[_][r.END_TAG_TOKEN]=G[_][r.EOF_TOKEN]=ae,G[x]=Object.create(null),G[x][r.CHARACTER_TOKEN]=G[x][r.NULL_CHARACTER_TOKEN]=ue,G[x][r.WHITESPACE_CHARACTER_TOKEN]=J,G[x][r.COMMENT_TOKEN]=ee,G[x][r.DOCTYPE_TOKEN]=J,G[x][r.START_TAG_TOKEN]=se,G[x][r.END_TAG_TOKEN]=le,G[x][r.EOF_TOKEN]=ue,G[T]=Object.create(null),G[T][r.CHARACTER_TOKEN]=G[T][r.NULL_CHARACTER_TOKEN]=fe,G[T][r.WHITESPACE_CHARACTER_TOKEN]=J,G[T][r.COMMENT_TOKEN]=ee,G[T][r.DOCTYPE_TOKEN]=J,G[T][r.START_TAG_TOKEN]=ce,G[T][r.END_TAG_TOKEN]=he,G[T][r.EOF_TOKEN]=fe,G[w]=Object.create(null),G[w][r.CHARACTER_TOKEN]=G[w][r.NULL_CHARACTER_TOKEN]=me,G[w][r.WHITESPACE_CHARACTER_TOKEN]=re,G[w][r.COMMENT_TOKEN]=ee,G[w][r.DOCTYPE_TOKEN]=J,G[w][r.START_TAG_TOKEN]=de,G[w][r.END_TAG_TOKEN]=pe,G[w][r.EOF_TOKEN]=me,G[S]=Object.create(null),G[S][r.CHARACTER_TOKEN]=G[S][r.NULL_CHARACTER_TOKEN]=ye,G[S][r.WHITESPACE_CHARACTER_TOKEN]=re,G[S][r.COMMENT_TOKEN]=ee,G[S][r.DOCTYPE_TOKEN]=J,G[S][r.START_TAG_TOKEN]=ve,G[S][r.END_TAG_TOKEN]=ge,G[S][r.EOF_TOKEN]=ye,G[E]=Object.create(null),G[E][r.CHARACTER_TOKEN]=_e,G[E][r.NULL_CHARACTER_TOKEN]=J,G[E][r.WHITESPACE_CHARACTER_TOKEN]=be,G[E][r.COMMENT_TOKEN]=ee,G[E][r.DOCTYPE_TOKEN]=J,G[E][r.START_TAG_TOKEN]=et,G[E][r.END_TAG_TOKEN]=ft,G[E][r.EOF_TOKEN]=dt,G[k]=Object.create(null),G[k][r.CHARACTER_TOKEN]=G[k][r.NULL_CHARACTER_TOKEN]=G[k][r.WHITESPACE_CHARACTER_TOKEN]=re,G[k][r.COMMENT_TOKEN]=G[k][r.DOCTYPE_TOKEN]=G[k][r.START_TAG_TOKEN]=J,G[k][r.END_TAG_TOKEN]=pt,G[k][r.EOF_TOKEN]=mt,G[C]=Object.create(null),G[C][r.CHARACTER_TOKEN]=G[C][r.NULL_CHARACTER_TOKEN]=G[C][r.WHITESPACE_CHARACTER_TOKEN]=vt,G[C][r.COMMENT_TOKEN]=ee,G[C][r.DOCTYPE_TOKEN]=J,G[C][r.START_TAG_TOKEN]=Et,G[C][r.END_TAG_TOKEN]=kt,G[C][r.EOF_TOKEN]=dt,G[A]=Object.create(null),G[A][r.CHARACTER_TOKEN]=Ot,G[A][r.NULL_CHARACTER_TOKEN]=J,G[A][r.WHITESPACE_CHARACTER_TOKEN]=At,G[A][r.COMMENT_TOKEN]=G[A][r.DOCTYPE_TOKEN]=G[A][r.START_TAG_TOKEN]=G[A][r.END_TAG_TOKEN]=G[A][r.EOF_TOKEN]=Pt,G[O]=Object.create(null),G[O][r.CHARACTER_TOKEN]=_e,G[O][r.NULL_CHARACTER_TOKEN]=J,G[O][r.WHITESPACE_CHARACTER_TOKEN]=be,G[O][r.COMMENT_TOKEN]=ee,G[O][r.DOCTYPE_TOKEN]=J,G[O][r.START_TAG_TOKEN]=Mt,G[O][r.END_TAG_TOKEN]=It,G[O][r.EOF_TOKEN]=dt,G[P]=Object.create(null),G[P][r.CHARACTER_TOKEN]=G[P][r.NULL_CHARACTER_TOKEN]=Dt,G[P][r.WHITESPACE_CHARACTER_TOKEN]=re,G[P][r.COMMENT_TOKEN]=ee,G[P][r.DOCTYPE_TOKEN]=J,G[P][r.START_TAG_TOKEN]=Rt,G[P][r.END_TAG_TOKEN]=Lt,G[P][r.EOF_TOKEN]=dt,G[M]=Object.create(null),G[M][r.CHARACTER_TOKEN]=G[M][r.NULL_CHARACTER_TOKEN]=G[M][r.WHITESPACE_CHARACTER_TOKEN]=vt,G[M][r.COMMENT_TOKEN]=ee,G[M][r.DOCTYPE_TOKEN]=J,G[M][r.START_TAG_TOKEN]=Nt,G[M][r.END_TAG_TOKEN]=jt,G[M][r.EOF_TOKEN]=dt,G[I]=Object.create(null),G[I][r.CHARACTER_TOKEN]=G[I][r.NULL_CHARACTER_TOKEN]=G[I][r.WHITESPACE_CHARACTER_TOKEN]=vt,G[I][r.COMMENT_TOKEN]=ee,G[I][r.DOCTYPE_TOKEN]=J,G[I][r.START_TAG_TOKEN]=Bt,G[I][r.END_TAG_TOKEN]=Ft,G[I][r.EOF_TOKEN]=dt,G[R]=Object.create(null),G[R][r.CHARACTER_TOKEN]=_e,G[R][r.NULL_CHARACTER_TOKEN]=J,G[R][r.WHITESPACE_CHARACTER_TOKEN]=be,G[R][r.COMMENT_TOKEN]=ee,G[R][r.DOCTYPE_TOKEN]=J,G[R][r.START_TAG_TOKEN]=Ht,G[R][r.END_TAG_TOKEN]=zt,G[R][r.EOF_TOKEN]=dt,G[L]=Object.create(null),G[L][r.CHARACTER_TOKEN]=re,G[L][r.NULL_CHARACTER_TOKEN]=J,G[L][r.WHITESPACE_CHARACTER_TOKEN]=re,G[L][r.COMMENT_TOKEN]=ee,G[L][r.DOCTYPE_TOKEN]=J,G[L][r.START_TAG_TOKEN]=Ut,G[L][r.END_TAG_TOKEN]=Vt,G[L][r.EOF_TOKEN]=dt,G[D]=Object.create(null),G[D][r.CHARACTER_TOKEN]=re,G[D][r.NULL_CHARACTER_TOKEN]=J,G[D][r.WHITESPACE_CHARACTER_TOKEN]=re,G[D][r.COMMENT_TOKEN]=ee,G[D][r.DOCTYPE_TOKEN]=J,G[D][r.START_TAG_TOKEN]=Gt,G[D][r.END_TAG_TOKEN]=Xt,G[D][r.EOF_TOKEN]=dt,G[N]=Object.create(null),G[N][r.CHARACTER_TOKEN]=_e,G[N][r.NULL_CHARACTER_TOKEN]=J,G[N][r.WHITESPACE_CHARACTER_TOKEN]=be,G[N][r.COMMENT_TOKEN]=ee,G[N][r.DOCTYPE_TOKEN]=J,G[N][r.START_TAG_TOKEN]=Yt,G[N][r.END_TAG_TOKEN]=Wt,G[N][r.EOF_TOKEN]=qt,G[j]=Object.create(null),G[j][r.CHARACTER_TOKEN]=G[j][r.NULL_CHARACTER_TOKEN]=Zt,G[j][r.WHITESPACE_CHARACTER_TOKEN]=be,G[j][r.COMMENT_TOKEN]=te,G[j][r.DOCTYPE_TOKEN]=J,G[j][r.START_TAG_TOKEN]=Kt,G[j][r.END_TAG_TOKEN]=$t,G[j][r.EOF_TOKEN]=ie,G[B]=Object.create(null),G[B][r.CHARACTER_TOKEN]=G[B][r.NULL_CHARACTER_TOKEN]=J,G[B][r.WHITESPACE_CHARACTER_TOKEN]=re,G[B][r.COMMENT_TOKEN]=ee,G[B][r.DOCTYPE_TOKEN]=J,G[B][r.START_TAG_TOKEN]=Qt,G[B][r.END_TAG_TOKEN]=Jt,G[B][r.EOF_TOKEN]=ie,G[F]=Object.create(null),G[F][r.CHARACTER_TOKEN]=G[F][r.NULL_CHARACTER_TOKEN]=J,G[F][r.WHITESPACE_CHARACTER_TOKEN]=re,G[F][r.COMMENT_TOKEN]=ee,G[F][r.DOCTYPE_TOKEN]=J,G[F][r.START_TAG_TOKEN]=en,G[F][r.END_TAG_TOKEN]=tn,G[F][r.EOF_TOKEN]=ie,G[H]=Object.create(null),G[H][r.CHARACTER_TOKEN]=rn,G[H][r.NULL_CHARACTER_TOKEN]=rn,G[H][r.WHITESPACE_CHARACTER_TOKEN]=be,G[H][r.COMMENT_TOKEN]=ne,G[H][r.DOCTYPE_TOKEN]=J,G[H][r.START_TAG_TOKEN]=nn,G[H][r.END_TAG_TOKEN]=rn,G[H][r.EOF_TOKEN]=ie,G[z]=Object.create(null),G[z][r.CHARACTER_TOKEN]=G[z][r.NULL_CHARACTER_TOKEN]=J,G[z][r.WHITESPACE_CHARACTER_TOKEN]=be,G[z][r.COMMENT_TOKEN]=ne,G[z][r.DOCTYPE_TOKEN]=J,G[z][r.START_TAG_TOKEN]=on,G[z][r.END_TAG_TOKEN]=J,G[z][r.EOF_TOKEN]=ie;var X=e.exports=function(e){this.options=l(v,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.locationInfo&&new a(this)};function Y(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagName)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):ht(e,t),n}function W(e,t){for(var n=null,r=e.openElements.stackTop;r>=0;r--){var i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i)&&(n=i)}return n||(e.openElements.popUntilElementPopped(t.element),e.activeFormattingElements.removeEntry(t)),n}function q(e,t,n){for(var r=t,i=e.openElements.getCommonAncestor(t),o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);var s=e.activeFormattingElements.getElementEntry(a),l=s&&o>=b;!s||l?(l&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(a)):(a=K(e,s),r===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function K(e,t){var n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function $(e,t,n){if(e._isElementCausesFosterParenting(t))e._fosterParentElement(n);else{var r=e.treeAdapter.getTagName(t),i=e.treeAdapter.getNamespaceURI(t);r===d.TEMPLATE&&i===p.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Z(e,t,n){var r=e.treeAdapter.getNamespaceURI(n.element),i=n.token,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,n.token),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o)}function Q(e,t){for(var n,r=0;r<y&&(n=Y(e,t));r++){var i=W(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;var o=q(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(o),$(e,a,o),Z(e,i,n)}}function J(){}function ee(e,t){e._appendCommentNode(t,e.openElements.currentTmplContent||e.openElements.current)}function te(e,t){e._appendCommentNode(t,e.openElements.items[0])}function ne(e,t){e._appendCommentNode(t,e.document)}function re(e,t){e._insertCharacters(t)}function ie(e){e.stopped=!0}function oe(e,t){e._setDocumentType(t);var n=t.forceQuirks?f.DOCUMENT_MODE.QUIRKS:u.getDocumentMode(t.name,t.publicId,t.systemId);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=x}function ae(e,t){e.treeAdapter.setDocumentMode(e.document,f.DOCUMENT_MODE.QUIRKS),e.insertionMode=x,e._processToken(t)}function se(e,t){t.tagName===d.HTML?(e._insertElement(t,p.HTML),e.insertionMode=T):ue(e,t)}function le(e,t){var n=t.tagName;(n===d.HTML||n===d.HEAD||n===d.BODY||n===d.BR)&&ue(e,t)}function ue(e,t){e._insertFakeRootElement(),e.insertionMode=T,e._processToken(t)}function ce(e,t){var n=t.tagName;n===d.HTML?et(e,t):n===d.HEAD?(e._insertElement(t,p.HTML),e.headElement=e.openElements.current,e.insertionMode=w):fe(e,t)}function he(e,t){var n=t.tagName;(n===d.HEAD||n===d.BODY||n===d.HTML||n===d.BR)&&fe(e,t)}function fe(e,t){e._insertFakeElement(d.HEAD),e.headElement=e.openElements.current,e.insertionMode=w,e._processToken(t)}function de(e,t){var n=t.tagName;n===d.HTML?et(e,t):n===d.BASE||n===d.BASEFONT||n===d.BGSOUND||n===d.LINK||n===d.META?e._appendElement(t,p.HTML):n===d.TITLE?e._switchToTextParsing(t,r.MODE.RCDATA):n===d.NOSCRIPT||n===d.NOFRAMES||n===d.STYLE?e._switchToTextParsing(t,r.MODE.RAWTEXT):n===d.SCRIPT?e._switchToTextParsing(t,r.MODE.SCRIPT_DATA):n===d.TEMPLATE?(e._insertTemplate(t,p.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=N,e._pushTmplInsertionMode(N)):n!==d.HEAD&&me(e,t)}function pe(e,t){var n=t.tagName;n===d.HEAD?(e.openElements.pop(),e.insertionMode=S):n===d.BODY||n===d.BR||n===d.HTML?me(e,t):n===d.TEMPLATE&&e.openElements.tmplCount>0&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode())}function me(e,t){e.openElements.pop(),e.insertionMode=S,e._processToken(t)}function ve(e,t){var n=t.tagName;n===d.HTML?et(e,t):n===d.BODY?(e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode=E):n===d.FRAMESET?(e._insertElement(t,p.HTML),e.insertionMode=B):n===d.BASE||n===d.BASEFONT||n===d.BGSOUND||n===d.LINK||n===d.META||n===d.NOFRAMES||n===d.SCRIPT||n===d.STYLE||n===d.TEMPLATE||n===d.TITLE?(e.openElements.push(e.headElement),de(e,t),e.openElements.remove(e.headElement)):n!==d.HEAD&&ye(e,t)}function ge(e,t){var n=t.tagName;n===d.BODY||n===d.HTML||n===d.BR?ye(e,t):n===d.TEMPLATE&&pe(e,t)}function ye(e,t){e._insertFakeElement(d.BODY),e.insertionMode=E,e._processToken(t)}function be(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function _e(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function xe(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Te(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function we(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,p.HTML),e.insertionMode=B)}function Se(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML)}function Ee(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement();var n=e.openElements.currentTagName;(n===d.H1||n===d.H2||n===d.H3||n===d.H4||n===d.H5||n===d.H6)&&e.openElements.pop(),e._insertElement(t,p.HTML)}function ke(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Ce(e,t){var n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML),n||(e.formElement=e.openElements.current))}function Ae(e,t){e.framesetOk=!1;for(var n=t.tagName,r=e.openElements.stackTop;r>=0;r--){var i=e.openElements.items[r],o=e.treeAdapter.getTagName(i),a=null;if(n===d.LI&&o===d.LI?a=d.LI:(n===d.DD||n===d.DT)&&(o===d.DD||o===d.DT)&&(a=o),a){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(o!==d.ADDRESS&&o!==d.DIV&&o!==d.P&&e._isSpecialElement(i))break}e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML)}function Oe(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.tokenizer.state=r.MODE.PLAINTEXT}function Pe(e,t){e.openElements.hasInScope(d.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.framesetOk=!1}function Me(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(d.A);n&&(Q(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Ie(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Re(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(d.NOBR)&&(Q(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Le(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function De(e,t){e.treeAdapter.getDocumentMode(e.document)!==f.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode=C}function Ne(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.HTML),e.framesetOk=!1}function je(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.HTML);var n=r.getTokenAttr(t,m.TYPE);(!n||n.toLowerCase()!==g)&&(e.framesetOk=!1)}function Be(e,t){e._appendElement(t,p.HTML)}function Fe(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e.openElements.currentTagName===d.MENUITEM&&e.openElements.pop(),e._appendElement(t,p.HTML),e.framesetOk=!1}function He(e,t){t.tagName=d.IMG,Ne(e,t)}function ze(e,t){e._insertElement(t,p.HTML),e.skipNextNewLine=!0,e.tokenizer.state=r.MODE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=k}function Ue(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,r.MODE.RAWTEXT)}function Ve(e,t){e.framesetOk=!1,e._switchToTextParsing(t,r.MODE.RAWTEXT)}function Ge(e,t){e._switchToTextParsing(t,r.MODE.RAWTEXT)}function Xe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode===C||e.insertionMode===O||e.insertionMode===M||e.insertionMode===I||e.insertionMode===R?e.insertionMode=D:e.insertionMode=L}function Ye(e,t){e.openElements.currentTagName===d.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}function We(e,t){e.openElements.hasInScope(d.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,p.HTML)}function qe(e,t){e.openElements.hasInScope(d.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(d.RTC),e._insertElement(t,p.HTML)}function Ke(e,t){e.openElements.currentTagName===d.MENUITEM&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}function $e(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e.openElements.currentTagName===d.MENUITEM&&e.openElements.pop(),e._insertElement(t,p.HTML)}function Ze(e,t){e._reconstructActiveFormattingElements(),c.adjustTokenMathMLAttrs(t),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.MATHML):e._insertElement(t,p.MATHML)}function Qe(e,t){e._reconstructActiveFormattingElements(),c.adjustTokenSVGAttrs(t),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.SVG):e._insertElement(t,p.SVG)}function Je(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}function et(e,t){var n=t.tagName;switch(n.length){case 1:n===d.I||n===d.S||n===d.B||n===d.U?Ie(e,t):n===d.P?Se(e,t):n===d.A?Me(e,t):Je(e,t);break;case 2:n===d.DL||n===d.OL||n===d.UL?Se(e,t):n===d.H1||n===d.H2||n===d.H3||n===d.H4||n===d.H5||n===d.H6?Ee(e,t):n===d.LI||n===d.DD||n===d.DT?Ae(e,t):n===d.EM||n===d.TT?Ie(e,t):n===d.BR?Ne(e,t):n===d.HR?Fe(e,t):n===d.RB?We(e,t):n===d.RT||n===d.RP?qe(e,t):n!==d.TH&&n!==d.TD&&n!==d.TR&&Je(e,t);break;case 3:n===d.DIV||n===d.DIR||n===d.NAV?Se(e,t):n===d.PRE?ke(e,t):n===d.BIG?Ie(e,t):n===d.IMG||n===d.WBR?Ne(e,t):n===d.XMP?Ue(e,t):n===d.SVG?Qe(e,t):n===d.RTC?We(e,t):n!==d.COL&&Je(e,t);break;case 4:n===d.HTML?xe(e,t):n===d.BASE||n===d.LINK||n===d.META?de(e,t):n===d.BODY?Te(e,t):n===d.MAIN?Se(e,t):n===d.FORM?Ce(e,t):n===d.CODE||n===d.FONT?Ie(e,t):n===d.NOBR?Re(e,t):n===d.AREA?Ne(e,t):n===d.MATH?Ze(e,t):n===d.MENU?$e(e,t):n!==d.HEAD&&Je(e,t);break;case 5:n===d.STYLE||n===d.TITLE?de(e,t):n===d.ASIDE?Se(e,t):n===d.SMALL?Ie(e,t):n===d.TABLE?De(e,t):n===d.EMBED?Ne(e,t):n===d.INPUT?je(e,t):n===d.PARAM||n===d.TRACK?Be(e,t):n===d.IMAGE?He(e,t):n!==d.FRAME&&n!==d.TBODY&&n!==d.TFOOT&&n!==d.THEAD&&Je(e,t);break;case 6:n===d.SCRIPT?de(e,t):n===d.CENTER||n===d.FIGURE||n===d.FOOTER||n===d.HEADER||n===d.HGROUP?Se(e,t):n===d.BUTTON?Pe(e,t):n===d.STRIKE||n===d.STRONG?Ie(e,t):n===d.APPLET||n===d.OBJECT?Le(e,t):n===d.KEYGEN?Ne(e,t):n===d.SOURCE?Be(e,t):n===d.IFRAME?Ve(e,t):n===d.SELECT?Xe(e,t):n===d.OPTION?Ye(e,t):Je(e,t);break;case 7:n===d.BGSOUND?de(e,t):n===d.DETAILS||n===d.ADDRESS||n===d.ARTICLE||n===d.SECTION||n===d.SUMMARY?Se(e,t):n===d.LISTING?ke(e,t):n===d.MARQUEE?Le(e,t):n===d.NOEMBED?Ge(e,t):n!==d.CAPTION&&Je(e,t);break;case 8:n===d.BASEFONT?de(e,t):n===d.MENUITEM?Ke(e,t):n===d.FRAMESET?we(e,t):n===d.FIELDSET?Se(e,t):n===d.TEXTAREA?ze(e,t):n===d.TEMPLATE?de(e,t):n===d.NOSCRIPT?Ge(e,t):n===d.OPTGROUP?Ye(e,t):n!==d.COLGROUP&&Je(e,t);break;case 9:n===d.PLAINTEXT?Oe(e,t):Je(e,t);break;case 10:n===d.BLOCKQUOTE||n===d.FIGCAPTION?Se(e,t):Je(e,t);break;default:Je(e,t)}}function tt(e){e.openElements.hasInScope(d.BODY)&&(e.insertionMode=j)}function nt(e,t){e.openElements.hasInScope(d.BODY)&&(e.insertionMode=j,e._processToken(t))}function rt(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function it(e){var t=e.openElements.tmplCount>0,n=e.formElement;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(d.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(d.FORM):e.openElements.remove(n))}function ot(e){e.openElements.hasInButtonScope(d.P)||e._insertFakeElement(d.P),e._closePElement()}function at(e){e.openElements.hasInListItemScope(d.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(d.LI),e.openElements.popUntilTagNamePopped(d.LI))}function st(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function lt(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function ut(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function ct(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(d.BR),e.openElements.pop(),e.framesetOk=!1}function ht(e,t){for(var n=t.tagName,r=e.openElements.stackTop;r>0;r--){var i=e.openElements.items[r];if(e.treeAdapter.getTagName(i)===n){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilElementPopped(i);break}if(e._isSpecialElement(i))break}}function ft(e,t){var n=t.tagName;switch(n.length){case 1:n===d.A||n===d.B||n===d.I||n===d.S||n===d.U?Q(e,t):n===d.P?ot(e):ht(e,t);break;case 2:n===d.DL||n===d.UL||n===d.OL?rt(e,t):n===d.LI?at(e):n===d.DD||n===d.DT?st(e,t):n===d.H1||n===d.H2||n===d.H3||n===d.H4||n===d.H5||n===d.H6?lt(e):n===d.BR?ct(e):n===d.EM||n===d.TT?Q(e,t):ht(e,t);break;case 3:n===d.BIG?Q(e,t):n===d.DIR||n===d.DIV||n===d.NAV?rt(e,t):ht(e,t);break;case 4:n===d.BODY?tt(e):n===d.HTML?nt(e,t):n===d.FORM?it(e):n===d.CODE||n===d.FONT||n===d.NOBR?Q(e,t):n===d.MAIN||n===d.MENU?rt(e,t):ht(e,t);break;case 5:n===d.ASIDE?rt(e,t):n===d.SMALL?Q(e,t):ht(e,t);break;case 6:n===d.CENTER||n===d.FIGURE||n===d.FOOTER||n===d.HEADER||n===d.HGROUP?rt(e,t):n===d.APPLET||n===d.OBJECT?ut(e,t):n===d.STRIKE||n===d.STRONG?Q(e,t):ht(e,t);break;case 7:n===d.ADDRESS||n===d.ARTICLE||n===d.DETAILS||n===d.SECTION||n===d.SUMMARY?rt(e,t):n===d.MARQUEE?ut(e,t):ht(e,t);break;case 8:n===d.FIELDSET?rt(e,t):n===d.TEMPLATE?pe(e,t):ht(e,t);break;case 10:n===d.BLOCKQUOTE||n===d.FIGCAPTION?rt(e,t):ht(e,t);break;default:ht(e,t)}}function dt(e,t){e.tmplInsertionModeStackTop>-1?qt(e,t):e.stopped=!0}function pt(e,t){t.tagName===d.SCRIPT&&(e.pendingScript=e.openElements.current),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function mt(e,t){e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e._processToken(t)}function vt(e,t){var n=e.openElements.currentTagName;n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR?(e.pendingCharacterTokens=[],e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=A,e._processToken(t)):Ct(e,t)}function gt(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,p.HTML),e.insertionMode=O}function yt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,p.HTML),e.insertionMode=P}function bt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(d.COLGROUP),e.insertionMode=P,e._processToken(t)}function _t(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,p.HTML),e.insertionMode=M}function xt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(d.TBODY),e.insertionMode=M,e._processToken(t)}function Tt(e,t){e.openElements.hasInTableScope(d.TABLE)&&(e.openElements.popUntilTagNamePopped(d.TABLE),e._resetInsertionMode(),e._processToken(t))}function wt(e,t){var n=r.getTokenAttr(t,m.TYPE);n&&n.toLowerCase()===g?e._appendElement(t,p.HTML):Ct(e,t)}function St(e,t){!e.formElement&&0===e.openElements.tmplCount&&(e._insertElement(t,p.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Et(e,t){var n=t.tagName;switch(n.length){case 2:n===d.TD||n===d.TH||n===d.TR?xt(e,t):Ct(e,t);break;case 3:n===d.COL?bt(e,t):Ct(e,t);break;case 4:n===d.FORM?St(e,t):Ct(e,t);break;case 5:n===d.TABLE?Tt(e,t):n===d.STYLE?de(e,t):n===d.TBODY||n===d.TFOOT||n===d.THEAD?_t(e,t):n===d.INPUT?wt(e,t):Ct(e,t);break;case 6:n===d.SCRIPT?de(e,t):Ct(e,t);break;case 7:n===d.CAPTION?gt(e,t):Ct(e,t);break;case 8:n===d.COLGROUP?yt(e,t):n===d.TEMPLATE?de(e,t):Ct(e,t);break;default:Ct(e,t)}}function kt(e,t){var n=t.tagName;n===d.TABLE?e.openElements.hasInTableScope(d.TABLE)&&(e.openElements.popUntilTagNamePopped(d.TABLE),e._resetInsertionMode()):n===d.TEMPLATE?pe(e,t):n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP&&n!==d.HTML&&n!==d.TBODY&&n!==d.TD&&n!==d.TFOOT&&n!==d.TH&&n!==d.THEAD&&n!==d.TR&&Ct(e,t)}function Ct(e,t){var n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,e._processTokenInBodyMode(t),e.fosterParentingEnabled=n}function At(e,t){e.pendingCharacterTokens.push(t)}function Ot(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Pt(e,t){var n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Ct(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}function Mt(e,t){var n=t.tagName;n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TD||n===d.TFOOT||n===d.TH||n===d.THEAD||n===d.TR?e.openElements.hasInTableScope(d.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=C,e._processToken(t)):et(e,t)}function It(e,t){var n=t.tagName;n===d.CAPTION||n===d.TABLE?e.openElements.hasInTableScope(d.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=C,n===d.TABLE&&e._processToken(t)):n!==d.BODY&&n!==d.COL&&n!==d.COLGROUP&&n!==d.HTML&&n!==d.TBODY&&n!==d.TD&&n!==d.TFOOT&&n!==d.TH&&n!==d.THEAD&&n!==d.TR&&ft(e,t)}function Rt(e,t){var n=t.tagName;n===d.HTML?et(e,t):n===d.COL?e._appendElement(t,p.HTML):n===d.TEMPLATE?de(e,t):Dt(e,t)}function Lt(e,t){var n=t.tagName;n===d.COLGROUP?e.openElements.currentTagName===d.COLGROUP&&(e.openElements.pop(),e.insertionMode=C):n===d.TEMPLATE?pe(e,t):n!==d.COL&&Dt(e,t)}function Dt(e,t){e.openElements.currentTagName===d.COLGROUP&&(e.openElements.pop(),e.insertionMode=C,e._processToken(t))}function Nt(e,t){var n=t.tagName;n===d.TR?(e.openElements.clearBackToTableBodyContext(),e._insertElement(t,p.HTML),e.insertionMode=I):n===d.TH||n===d.TD?(e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(d.TR),e.insertionMode=I,e._processToken(t)):n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TFOOT||n===d.THEAD?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=C,e._processToken(t)):Et(e,t)}function jt(e,t){var n=t.tagName;n===d.TBODY||n===d.TFOOT||n===d.THEAD?e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=C):n===d.TABLE?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=C,e._processToken(t)):(n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP||n!==d.HTML&&n!==d.TD&&n!==d.TH&&n!==d.TR)&&kt(e,t)}function Bt(e,t){var n=t.tagName;n===d.TH||n===d.TD?(e.openElements.clearBackToTableRowContext(),e._insertElement(t,p.HTML),e.insertionMode=R,e.activeFormattingElements.insertMarker()):n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR?e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=M,e._processToken(t)):Et(e,t)}function Ft(e,t){var n=t.tagName;n===d.TR?e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=M):n===d.TABLE?e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=M,e._processToken(t)):n===d.TBODY||n===d.TFOOT||n===d.THEAD?(e.openElements.hasInTableScope(n)||e.openElements.hasInTableScope(d.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=M,e._processToken(t)):(n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP||n!==d.HTML&&n!==d.TD&&n!==d.TH)&&kt(e,t)}function Ht(e,t){var n=t.tagName;n===d.CAPTION||n===d.COL||n===d.COLGROUP||n===d.TBODY||n===d.TD||n===d.TFOOT||n===d.TH||n===d.THEAD||n===d.TR?(e.openElements.hasInTableScope(d.TD)||e.openElements.hasInTableScope(d.TH))&&(e._closeTableCell(),e._processToken(t)):et(e,t)}function zt(e,t){var n=t.tagName;n===d.TD||n===d.TH?e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I):n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR?e.openElements.hasInTableScope(n)&&(e._closeTableCell(),e._processToken(t)):n!==d.BODY&&n!==d.CAPTION&&n!==d.COL&&n!==d.COLGROUP&&n!==d.HTML&&ft(e,t)}function Ut(e,t){var n=t.tagName;n===d.HTML?et(e,t):n===d.OPTION?(e.openElements.currentTagName===d.OPTION&&e.openElements.pop(),e._insertElement(t,p.HTML)):n===d.OPTGROUP?(e.openElements.currentTagName===d.OPTION&&e.openElements.pop(),e.openElements.currentTagName===d.OPTGROUP&&e.openElements.pop(),e._insertElement(t,p.HTML)):n===d.INPUT||n===d.KEYGEN||n===d.TEXTAREA||n===d.SELECT?e.openElements.hasInSelectScope(d.SELECT)&&(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),n!==d.SELECT&&e._processToken(t)):(n===d.SCRIPT||n===d.TEMPLATE)&&de(e,t)}function Vt(e,t){var n=t.tagName;if(n===d.OPTGROUP){var r=e.openElements.items[e.openElements.stackTop-1],i=r&&e.treeAdapter.getTagName(r);e.openElements.currentTagName===d.OPTION&&i===d.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagName===d.OPTGROUP&&e.openElements.pop()}else n===d.OPTION?e.openElements.currentTagName===d.OPTION&&e.openElements.pop():n===d.SELECT&&e.openElements.hasInSelectScope(d.SELECT)?(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode()):n===d.TEMPLATE&&pe(e,t)}function Gt(e,t){var n=t.tagName;n===d.CAPTION||n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR||n===d.TD||n===d.TH?(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),e._processToken(t)):Ut(e,t)}function Xt(e,t){var n=t.tagName;n===d.CAPTION||n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR||n===d.TD||n===d.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),e._processToken(t)):Vt(e,t)}function Yt(e,t){var n=t.tagName;if(n===d.BASE||n===d.BASEFONT||n===d.BGSOUND||n===d.LINK||n===d.META||n===d.NOFRAMES||n===d.SCRIPT||n===d.STYLE||n===d.TEMPLATE||n===d.TITLE)de(e,t);else{var r=V[n]||E;e._popTmplInsertionMode(),e._pushTmplInsertionMode(r),e.insertionMode=r,e._processToken(t)}}function Wt(e,t){t.tagName===d.TEMPLATE&&pe(e,t)}function qt(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(d.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode(),e._processToken(t)):e.stopped=!0}function Kt(e,t){t.tagName===d.HTML?et(e,t):Zt(e,t)}function $t(e,t){t.tagName===d.HTML?e.fragmentContext||(e.insertionMode=H):Zt(e,t)}function Zt(e,t){e.insertionMode=E,e._processToken(t)}function Qt(e,t){var n=t.tagName;n===d.HTML?et(e,t):n===d.FRAMESET?e._insertElement(t,p.HTML):n===d.FRAME?e._appendElement(t,p.HTML):n===d.NOFRAMES&&de(e,t)}function Jt(e,t){t.tagName===d.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagName!==d.FRAMESET&&(e.insertionMode=F))}function en(e,t){var n=t.tagName;n===d.HTML?et(e,t):n===d.NOFRAMES&&de(e,t)}function tn(e,t){t.tagName===d.HTML&&(e.insertionMode=z)}function nn(e,t){t.tagName===d.HTML?et(e,t):rn(e,t)}function rn(e,t){e.insertionMode=E,e._processToken(t)}function on(e,t){var n=t.tagName;n===d.HTML?et(e,t):n===d.NOFRAMES&&de(e,t)}function an(e,t){t.chars=h.REPLACEMENT_CHARACTER,e._insertCharacters(t)}function sn(e,t){e._insertCharacters(t),e.framesetOk=!1}function ln(e,t){if(c.causesExit(t)&&!e.fragmentContext){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==p.HTML&&!e._isIntegrationPoint(e.openElements.current);)e.openElements.pop();e._processToken(t)}else{var n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===p.MATHML?c.adjustTokenMathMLAttrs(t):r===p.SVG&&(c.adjustTokenSVGTagName(t),c.adjustTokenSVGAttrs(t)),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r)}}function un(e,t){for(var n=e.openElements.stackTop;n>0;n--){var r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===p.HTML){e._processToken(t);break}if(e.treeAdapter.getTagName(r).toLowerCase()===t.tagName){e.openElements.popUntilElementPopped(r);break}}}X.prototype.parse=function(e){var t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t},X.prototype.parseFragment=function(e,t){t||(t=this.treeAdapter.createElement(d.TEMPLATE,p.HTML,[]));var n=this.treeAdapter.createElement("documentmock",p.HTML,[]);this._bootstrap(n,t),this.treeAdapter.getTagName(t)===d.TEMPLATE&&this._pushTmplInsertionMode(N),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);var r=this.treeAdapter.getFirstChild(n),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,i),i},X.prototype._bootstrap=function(e,t){this.tokenizer=new r(this.options),this.stopped=!1,this.insertionMode=_,this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new i(this.document,this.treeAdapter),this.activeFormattingElements=new o(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1},X.prototype._runParsingLoop=function(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();var t=this.tokenizer.getNextToken();if(t.type===r.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}},X.prototype.runParsingLoopForCurrentChunk=function(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){var n=this.pendingScript;return this.pendingScript=null,void t(n)}e&&e()},X.prototype._setupTokenizerCDATAMode=function(){var e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==p.HTML&&!this._isIntegrationPoint(e)},X.prototype._switchToTextParsing=function(e,t){this._insertElement(e,p.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=k},X.prototype.switchToPlaintextParsing=function(){this.insertionMode=k,this.originalInsertionMode=E,this.tokenizer.state=r.MODE.PLAINTEXT},X.prototype._getAdjustedCurrentElement=function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current},X.prototype._findFormInFragmentContext=function(){var e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===d.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)},X.prototype._initTokenizerForFragmentParsing=function(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===p.HTML){var e=this.treeAdapter.getTagName(this.fragmentContext);e===d.TITLE||e===d.TEXTAREA?this.tokenizer.state=r.MODE.RCDATA:e===d.STYLE||e===d.XMP||e===d.IFRAME||e===d.NOEMBED||e===d.NOFRAMES||e===d.NOSCRIPT?this.tokenizer.state=r.MODE.RAWTEXT:e===d.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:e===d.PLAINTEXT&&(this.tokenizer.state=r.MODE.PLAINTEXT)}},X.prototype._setDocumentType=function(e){this.treeAdapter.setDocumentType(this.document,e.name,e.publicId,e.systemId)},X.prototype._attachElementToTree=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}},X.prototype._appendElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n)},X.prototype._insertElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n),this.openElements.push(n)},X.prototype._insertFakeElement=function(e){var t=this.treeAdapter.createElement(e,p.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)},X.prototype._insertTemplate=function(e){var t=this.treeAdapter.createElement(e.tagName,p.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t),this.openElements.push(t)},X.prototype._insertFakeRootElement=function(){var e=this.treeAdapter.createElement(d.HTML,p.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)},X.prototype._appendCommentNode=function(e,t){var n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n)},X.prototype._insertCharacters=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}},X.prototype._adoptNodes=function(e,t){for(;;){var n=this.treeAdapter.getFirstChild(e);if(!n)break;this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}},X.prototype._shouldProcessTokenInForeignContent=function(e){var t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;var n=this.treeAdapter.getNamespaceURI(t);if(n===p.HTML||this.treeAdapter.getTagName(t)===d.ANNOTATION_XML&&n===p.MATHML&&e.type===r.START_TAG_TOKEN&&e.tagName===d.SVG)return!1;var i=e.type===r.CHARACTER_TOKEN||e.type===r.NULL_CHARACTER_TOKEN||e.type===r.WHITESPACE_CHARACTER_TOKEN;return!((e.type===r.START_TAG_TOKEN&&e.tagName!==d.MGLYPH&&e.tagName!==d.MALIGNMARK||i)&&this._isIntegrationPoint(t,p.MATHML)||(e.type===r.START_TAG_TOKEN||i)&&this._isIntegrationPoint(t,p.HTML))&&e.type!==r.EOF_TOKEN},X.prototype._processToken=function(e){G[this.insertionMode][e.type](this,e)},X.prototype._processTokenInBodyMode=function(e){G[E][e.type](this,e)},X.prototype._processTokenInForeignContent=function(e){e.type===r.CHARACTER_TOKEN?sn(this,e):e.type===r.NULL_CHARACTER_TOKEN?an(this,e):e.type===r.WHITESPACE_CHARACTER_TOKEN?re(this,e):e.type===r.COMMENT_TOKEN?ee(this,e):e.type===r.START_TAG_TOKEN?ln(this,e):e.type===r.END_TAG_TOKEN&&un(this,e)},X.prototype._processInputToken=function(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e)},X.prototype._isIntegrationPoint=function(e,t){var n=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e),i=this.treeAdapter.getAttrList(e);return c.isIntegrationPoint(n,r,i,t)},X.prototype._reconstructActiveFormattingElements=function(){var e=this.activeFormattingElements.length;if(e){var t=e,n=null;do{if(t--,(n=this.activeFormattingElements.entries[t]).type===o.MARKER_ENTRY||this.openElements.contains(n.element)){t++;break}}while(t>0);for(var r=t;r<e;r++)n=this.activeFormattingElements.entries[r],this._insertElement(n.token,this.treeAdapter.getNamespaceURI(n.element)),n.element=this.openElements.current}},X.prototype._closeTableCell=function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=I},X.prototype._closePElement=function(){this.openElements.generateImpliedEndTagsWithExclusion(d.P),this.openElements.popUntilTagNamePopped(d.P)},X.prototype._resetInsertionMode=function(){for(var e=this.openElements.stackTop,t=!1;e>=0;e--){var n=this.openElements.items[e];0===e&&(t=!0,this.fragmentContext&&(n=this.fragmentContext));var r=this.treeAdapter.getTagName(n),i=U[r];if(i){this.insertionMode=i;break}if(!(t||r!==d.TD&&r!==d.TH)){this.insertionMode=R;break}if(!t&&r===d.HEAD){this.insertionMode=w;break}if(r===d.SELECT){this._resetInsertionModeForSelect(e);break}if(r===d.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(r===d.HTML){this.insertionMode=this.headElement?S:T;break}if(t){this.insertionMode=E;break}}},X.prototype._resetInsertionModeForSelect=function(e){if(e>0)for(var t=e-1;t>0;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n);if(r===d.TEMPLATE)break;if(r===d.TABLE)return void(this.insertionMode=D)}this.insertionMode=L},X.prototype._pushTmplInsertionMode=function(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e},X.prototype._popTmplInsertionMode=function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]},X.prototype._isElementCausesFosterParenting=function(e){var t=this.treeAdapter.getTagName(e);return t===d.TABLE||t===d.TBODY||t===d.TFOOT||t===d.THEAD||t===d.TR},X.prototype._shouldFosterParentOnInsertion=function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)},X.prototype._findFosterParentingLocation=function(){for(var e={parent:null,beforeElement:null},t=this.openElements.stackTop;t>=0;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n),i=this.treeAdapter.getNamespaceURI(n);if(r===d.TEMPLATE&&i===p.HTML){e.parent=this.treeAdapter.getTemplateContent(n);break}if(r===d.TABLE){e.parent=this.treeAdapter.getParentNode(n),e.parent?e.beforeElement=n:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e},X.prototype._fosterParentElement=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)},X.prototype._fosterParentText=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)},X.prototype._isSpecialElement=function(e){var t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);return f.SPECIAL_ELEMENTS[n][t]}},function(e,t,n){var r=n(201),i=n(124),o=n(462),a=n(71).inherits,s=e.exports=function(e){r.call(this,e),this.tokenizer=e,this.posTracker=new o(e.preprocessor),this.currentAttrLocation=null,this.currentTokenLocation=null};a(s,r),s.prototype._getCurrentLocation=function(){return{line:this.posTracker.line,col:this.posTracker.col,startOffset:this.posTracker.offset,endOffset:-1}},s.prototype._attachCurrentAttrLocationInfo=function(){this.currentAttrLocation.endOffset=this.posTracker.offset;var e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation},s.prototype._getOverriddenMethods=function(e,t){var n={_createStartTagToken:function(){t._createStartTagToken.call(this),this.currentToken.location=e.currentTokenLocation},_createEndTagToken:function(){t._createEndTagToken.call(this),this.currentToken.location=e.currentTokenLocation},_createCommentToken:function(){t._createCommentToken.call(this),this.currentToken.location=e.currentTokenLocation},_createDoctypeToken:function(n){t._createDoctypeToken.call(this,n),this.currentToken.location=e.currentTokenLocation},_createCharacterToken:function(n,r){t._createCharacterToken.call(this,n,r),this.currentCharacterToken.location=e.currentTokenLocation},_createAttr:function(n){t._createAttr.call(this,n),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName:function(n){t._leaveAttrName.call(this,n),e._attachCurrentAttrLocationInfo()},_leaveAttrValue:function(n){t._leaveAttrValue.call(this,n),e._attachCurrentAttrLocationInfo()},_emitCurrentToken:function(){this.currentCharacterToken&&(this.currentCharacterToken.location.endOffset=this.currentToken.location.startOffset),this.currentToken.location.endOffset=e.posTracker.offset+1,t._emitCurrentToken.call(this)},_emitCurrentCharacterToken:function(){this.currentCharacterToken&&-1===this.currentCharacterToken.location.endOffset&&(this.currentCharacterToken.location.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(i.MODE).forEach((function(r){var o=i.MODE[r];n[o]=function(n){e.currentTokenLocation=e._getCurrentLocation(),t[o].call(this,n)}})),n}},function(e,t,n){var r=n(201),i=n(71).inherits,o=n(149).CODE_POINTS,a=e.exports=function(e){return e.__locTracker||(e.__locTracker=this,r.call(this,e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.col=-1,this.line=1),e.__locTracker};i(a,r),Object.defineProperty(a.prototype,"offset",{get:function(){return this.droppedBufferSize+this.preprocessor.pos}}),a.prototype._getOverriddenMethods=function(e,t){return{advance:function(){var n=t.advance.call(this);return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=e.offset),n===o.LINE_FEED&&(e.isEol=!0),e.col=e.offset-e.lineStartPos+1,n},retreat:function(){t.retreat.call(this),e.isEol=!1,e.col=e.offset-e.lineStartPos+1},dropParsedChunk:function(){var n=this.pos;t.dropParsedChunk.call(this),e.droppedBufferSize+=n-this.pos}}}},function(e,t,n){var r=n(124),i=n(64),o=i.TAG_NAMES,a=i.NAMESPACES,s=i.ATTRS,l={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},u="definitionurl",c="definitionURL",h={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},f={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:a.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:a.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:a.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:a.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:a.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:a.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:a.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:a.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:a.XML},"xml:space":{prefix:"xml",name:"space",namespace:a.XML},xmlns:{prefix:"",name:"xmlns",namespace:a.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:a.XMLNS}},d=t.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},p=Object.create(null);function m(e,t){return t===a.MATHML&&(e===o.MI||e===o.MO||e===o.MN||e===o.MS||e===o.MTEXT)}function v(e,t,n){if(t===a.MATHML&&e===o.ANNOTATION_XML)for(var r=0;r<n.length;r++)if(n[r].name===s.ENCODING){var i=n[r].value.toLowerCase();return i===l.TEXT_HTML||i===l.APPLICATION_XML}return t===a.SVG&&(e===o.FOREIGN_OBJECT||e===o.DESC||e===o.TITLE)}p[o.B]=!0,p[o.BIG]=!0,p[o.BLOCKQUOTE]=!0,p[o.BODY]=!0,p[o.BR]=!0,p[o.CENTER]=!0,p[o.CODE]=!0,p[o.DD]=!0,p[o.DIV]=!0,p[o.DL]=!0,p[o.DT]=!0,p[o.EM]=!0,p[o.EMBED]=!0,p[o.H1]=!0,p[o.H2]=!0,p[o.H3]=!0,p[o.H4]=!0,p[o.H5]=!0,p[o.H6]=!0,p[o.HEAD]=!0,p[o.HR]=!0,p[o.I]=!0,p[o.IMG]=!0,p[o.LI]=!0,p[o.LISTING]=!0,p[o.MENU]=!0,p[o.META]=!0,p[o.NOBR]=!0,p[o.OL]=!0,p[o.P]=!0,p[o.PRE]=!0,p[o.RUBY]=!0,p[o.S]=!0,p[o.SMALL]=!0,p[o.SPAN]=!0,p[o.STRONG]=!0,p[o.STRIKE]=!0,p[o.SUB]=!0,p[o.SUP]=!0,p[o.TABLE]=!0,p[o.TT]=!0,p[o.U]=!0,p[o.UL]=!0,p[o.VAR]=!0,t.causesExit=function(e){var t=e.tagName;return!(t!==o.FONT||null===r.getTokenAttr(e,s.COLOR)&&null===r.getTokenAttr(e,s.SIZE)&&null===r.getTokenAttr(e,s.FACE))||p[t]},t.adjustTokenMathMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++)if(e.attrs[t].name===u){e.attrs[t].name=c;break}},t.adjustTokenSVGAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=h[e.attrs[t].name];n&&(e.attrs[t].name=n)}},t.adjustTokenXMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=f[e.attrs[t].name];n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}},t.adjustTokenSVGTagName=function(e){var t=d[e.tagName];t&&(e.tagName=t)},t.isIntegrationPoint=function(e,t,n,r){return!((r&&r!==a.HTML||!v(e,t,n))&&(r&&r!==a.MATHML||!m(e,t)))}},function(e,t,n){var r=n(301),i=n(302),o=n(303),a=n(64),s=a.TAG_NAMES,l=a.NAMESPACES,u={treeAdapter:r},c=/&/g,h=/\u00a0/g,f=/"/g,d=/</g,p=/>/g,m=e.exports=function(e,t){this.options=i(u,t),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=e};m.escapeString=function(e,t){return e=e.replace(c,"&amp;").replace(h,"&nbsp;"),e=t?e.replace(f,"&quot;"):e.replace(d,"&lt;").replace(p,"&gt;")},m.prototype.serialize=function(){return this._serializeChildNodes(this.startNode),this.html},m.prototype._serializeChildNodes=function(e){var t=this.treeAdapter.getChildNodes(e);if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n];this.treeAdapter.isElementNode(i)?this._serializeElement(i):this.treeAdapter.isTextNode(i)?this._serializeTextNode(i):this.treeAdapter.isCommentNode(i)?this._serializeCommentNode(i):this.treeAdapter.isDocumentTypeNode(i)&&this._serializeDocumentTypeNode(i)}},m.prototype._serializeElement=function(e){var t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);if(this.html+="<"+t,this._serializeAttributes(e),this.html+=">",t!==s.AREA&&t!==s.BASE&&t!==s.BASEFONT&&t!==s.BGSOUND&&t!==s.BR&&t!==s.BR&&t!==s.COL&&t!==s.EMBED&&t!==s.FRAME&&t!==s.HR&&t!==s.IMG&&t!==s.INPUT&&t!==s.KEYGEN&&t!==s.LINK&&t!==s.MENUITEM&&t!==s.META&&t!==s.PARAM&&t!==s.SOURCE&&t!==s.TRACK&&t!==s.WBR){var r=t===s.TEMPLATE&&n===l.HTML?this.treeAdapter.getTemplateContent(e):e;this._serializeChildNodes(r),this.html+="</"+t+">"}},m.prototype._serializeAttributes=function(e){for(var t=this.treeAdapter.getAttrList(e),n=0,r=t.length;n<r;n++){var i=t[n],o=m.escapeString(i.value,!0);this.html+=" ",i.namespace?i.namespace===l.XML?this.html+="xml:"+i.name:i.namespace===l.XMLNS?("xmlns"!==i.name&&(this.html+="xmlns:"),this.html+=i.name):i.namespace===l.XLINK?this.html+="xlink:"+i.name:this.html+=i.namespace+":"+i.name:this.html+=i.name,this.html+='="'+o+'"'}},m.prototype._serializeTextNode=function(e){var t=this.treeAdapter.getTextNodeContent(e),n=this.treeAdapter.getParentNode(e),r=void 0;n&&this.treeAdapter.isElementNode(n)&&(r=this.treeAdapter.getTagName(n)),r===s.STYLE||r===s.SCRIPT||r===s.XMP||r===s.IFRAME||r===s.NOEMBED||r===s.NOFRAMES||r===s.PLAINTEXT||r===s.NOSCRIPT?this.html+=t:this.html+=m.escapeString(t,!1)},m.prototype._serializeCommentNode=function(e){this.html+="\x3c!--"+this.treeAdapter.getCommentNodeContent(e)+"--\x3e"},m.prototype._serializeDocumentTypeNode=function(e){var t=this.treeAdapter.getDocumentTypeNodeName(e);this.html+="<"+o.serializeContent(t,null,null)+">"}},function(e,t,n){var r=n(202).Writable,i=n(71).inherits,o=n(460),a=e.exports=function(e){r.call(this),this.parser=new o(e),this.lastChunkWritten=!1,this.writeCallback=null,this.pausedByScript=!1,this.document=this.parser.treeAdapter.createDocument(),this.pendingHtmlInsertions=[],this._resume=this._resume.bind(this),this._documentWrite=this._documentWrite.bind(this),this._scriptHandler=this._scriptHandler.bind(this),this.parser._bootstrap(this.document,null)};i(a,r),a.prototype._write=function(e,t,n){this.writeCallback=n,this.parser.tokenizer.write(e.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()},a.prototype.end=function(e,t,n){this.lastChunkWritten=!0,r.prototype.end.call(this,e||"",t,n)},a.prototype._runParsingLoop=function(){this.parser.runParsingLoopForCurrentChunk(this.writeCallback,this._scriptHandler)},a.prototype._resume=function(){if(!this.pausedByScript)throw new Error("Parser was already resumed");for(;this.pendingHtmlInsertions.length;){var e=this.pendingHtmlInsertions.pop();this.parser.tokenizer.insertHtmlAtCurrentPos(e)}this.pausedByScript=!1,this.parser.tokenizer.active&&this._runParsingLoop()},a.prototype._documentWrite=function(e){this.parser.stopped||this.pendingHtmlInsertions.push(e)},a.prototype._scriptHandler=function(e){this.listeners("script").length?(this.pausedByScript=!0,this.emit("script",e,this._documentWrite,this._resume)):this._runParsingLoop()}},function(e,t,n){(function(t,r){var i=n(203);e.exports=T;var o,a=n(338);T.ReadableState=x,n(199).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(467),u=n(200).Buffer,c=t.Uint8Array||function(){};function h(e){return u.from(e)}function f(e){return u.isBuffer(e)||e instanceof c}var d=n(151);d.inherits=n(58);var p=n(974),m=void 0;m=p&&p.debuglog?p.debuglog("stream"):function(){};var v,g=n(975),y=n(468);d.inherits(T,l);var b=["error","close","destroy","pause","resume"];function _(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function x(e,t){e=e||{};var r=t instanceof(o=o||n(102));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(v||(v=n(300).StringDecoder),this.decoder=new v(e.encoding),this.encoding=e.encoding)}function T(e){if(o=o||n(102),!(this instanceof T))return new T(e);this._readableState=new x(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function w(e,t,n,r,i){var o,a=e._readableState;return null===t?(a.reading=!1,P(e,a)):(i||(o=E(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"!=typeof t&&!a.objectMode&&Object.getPrototypeOf(t)!==u.prototype&&(t=h(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?S(e,a,t,!1):R(e,a)):S(e,a,t,!1))):r||(a.reading=!1)),k(a)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&M(e)),R(e,t)}function E(e,t){var n;return!f(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(n=new TypeError("Invalid non-string/buffer chunk")),n}function k(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=y.destroy,T.prototype._undestroy=y.undestroy,T.prototype._destroy=function(e,t){this.push(null),t(e)},T.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},T.prototype.unshift=function(e){return w(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){return v||(v=n(300).StringDecoder),this._readableState.decoder=new v(e),this._readableState.encoding=e,this};var C=8388608;function A(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function O(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=A(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,M(e)}}function M(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(m("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(I,e):I(e))}function I(e){m("emit readable"),e.emit("readable"),F(e)}function R(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(L,e,t))}function L(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(m("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function D(e){return function(){var t=e._readableState;m("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,F(e))}}function N(e){m("readable nexttick read 0"),e.read(0)}function j(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}function B(e,t){t.reading||(m("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(m("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=z(e,t.buffer,t.decoder),n);var n}function z(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?U(e,t):V(e,t),r}function U(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function V(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function G(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(X,t,e))}function X(e,t){!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Y(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}T.prototype.read=function(e){m("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return m("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?G(this):M(this),null;if(0===(e=O(e,t))&&t.ended)return 0===t.length&&G(this),null;var r,i=t.needReadable;return m("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&m("length less than watermark",i=!0),t.ended||t.reading?m("reading or ended",i=!1):i&&(m("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=O(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&G(this)),null!==r&&this.emit("data",r),r},T.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,m("pipe count=%d opts=%j",o.pipesCount,t);var a=t&&!1===t.end||e===r.stdout||e===r.stderr?b:u;function l(e,t){m("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,f())}function u(){m("onend"),e.end()}o.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",l);var c=D(n);e.on("drain",c);var h=!1;function f(){m("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",v),e.removeListener("unpipe",l),n.removeListener("end",u),n.removeListener("end",b),n.removeListener("data",p),h=!0,o.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}var d=!1;function p(t){m("ondata"),d=!1,!1===e.write(t)&&!d&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==Y(o.pipes,e))&&!h&&(m("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function v(t){m("onerror",t),b(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),b()}function y(){m("onfinish"),e.removeListener("close",g),b()}function b(){m("unpipe"),n.unpipe(e)}return n.on("data",p),_(e,"error",v),e.once("close",g),e.once("finish",y),e.emit("pipe",n),o.flowing||(m("pipe resume"),n.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=Y(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},T.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&M(this):i.nextTick(N,this))}return n},T.prototype.addListener=T.prototype.on,T.prototype.resume=function(){var e=this._readableState;return e.flowing||(m("resume"),e.flowing=!0,j(this,e)),this},T.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},T.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(m("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){m("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||!(n.objectMode||i&&i.length)||t.push(i)||(r=!0,e.pause())})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){m("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),T._fromList=H}).call(this,n(27),n(150))},function(e,t,n){e.exports=n(199).EventEmitter},function(e,t,n){var r=n(203);function i(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&r.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}e.exports={destroy:i,undestroy:o}},function(e,t,n){e.exports=a;var r=n(102),i=n(151);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(58),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){var r=n(195),i=n(100),o=n(290),a=n(98),s=n(186),l=n(119),u=Object.prototype.hasOwnProperty,c=o((function(e,t){if(s(t)||a(t))i(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=c},function(e,t,n){var r=n(100),i=n(290),o=n(121),a=i((function(e,t){r(t,o(t),e)}));e.exports=a},function(e,t,n){var r=n(143),i=n(473),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},function(e,t,n){var r=n(422),i=r&&new r;e.exports=i},function(e,t,n){var r=n(475),i=n(476),o=n(993),a=n(205),s=n(477),l=n(309),u=n(1008),c=n(206),h=n(41),f=1,d=2,p=8,m=16,v=128,g=512;function y(e,t,n,b,_,x,T,w,S,E){var k=t&v,C=t&f,A=t&d,O=t&(p|m),P=t&g,M=A?void 0:a(e);function I(){for(var f=arguments.length,d=Array(f),p=f;p--;)d[p]=arguments[p];if(O)var m=l(I),v=o(d,m);if(b&&(d=r(d,b,_,O)),x&&(d=i(d,x,T,O)),f-=v,O&&f<E){var g=c(d,m);return s(e,t,y,I.placeholder,n,d,g,w,S,E-f)}var R=C?n:this,L=A?R[e]:e;return f=d.length,w?d=u(d,w):P&&f>1&&d.reverse(),k&&S<f&&(d.length=S),this&&this!==h&&this instanceof I&&(L=M||a(L)),L.apply(R,d)}return I}e.exports=y},function(e,t){var n=Math.max;function r(e,t,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,u=t.length,c=n(a-s,0),h=Array(u+c),f=!i;++l<u;)h[l]=t[l];for(;++o<s;)(f||o<a)&&(h[r[o]]=e[o]);for(;c--;)h[l++]=e[o++];return h}e.exports=r},function(e,t){var n=Math.max;function r(e,t,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,u=-1,c=t.length,h=n(a-l,0),f=Array(h+c),d=!i;++o<h;)f[o]=e[o];for(var p=o;++u<c;)f[p+u]=t[u];for(;++s<l;)(d||o<a)&&(f[p+r[s]]=e[o++]);return f}e.exports=r},function(e,t,n){var r=n(994),i=n(480),o=n(481),a=1,s=2,l=4,u=8,c=32,h=64;function f(e,t,n,f,d,p,m,v,g,y){var b=t&u;t|=b?c:h,(t&=~(b?h:c))&l||(t&=~(a|s));var _=[e,t,d,b?p:void 0,b?m:void 0,b?void 0:p,b?void 0:m,v,g,y],x=n.apply(void 0,_);return r(e)&&i(x,_),x.placeholder=f,o(x,e,t)}e.exports=f},function(e,t,n){var r=n(473),i=n(995),o=r?function(e){return r.get(e)}:i;e.exports=o},function(e,t,n){var r=n(197),i=n(308);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t,n){var r=n(472),i=n(434)(r);e.exports=i},function(e,t,n){var r=n(1e3),i=n(1001),o=n(293),a=n(1002);function s(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}e.exports=s},function(e,t,n){var r=n(291),i=n(120),o=n(294),a=n(121),s=Object.prototype,l=s.hasOwnProperty,u=r((function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(r=1);++n<r;)for(var c=t[n],h=a(c),f=-1,d=h.length;++f<d;){var p=h[f],m=e[p];(void 0===m||i(m,s[p])&&!l.call(e,p))&&(e[p]=c[p])}return e}));e.exports=u},function(e,t,n){e.exports=g;var r=n(311),i=n(101),o=i.findOne,a=i.findAll,s=i.getChildren,l=i.removeSubsets,u=n(153).falseFunc,c=n(1017),h=c.compileUnsafe,f=c.compileToken;function d(e){return function(t,n,r){return"function"!=typeof t&&(t=h(t,r,n)),n=Array.isArray(n)?l(n):s(n),e(t,n)}}var p=d((function(e,t){return e!==u&&t&&0!==t.length?a(e,t):[]})),m=d((function(e,t){return e!==u&&t&&0!==t.length?o(e,t):null}));function v(e,t,n){return("function"==typeof t?t:c(t,n))(e)}function g(e,t,n){return p(e,t,n)}g.compile=c,g.filters=r.filters,g.pseudos=r.pseudos,g.selectAll=p,g.selectOne=m,g.is=v,g.parse=c,g.iterate=p,g._compileUnsafe=h,g._compileToken=f},function(e,t,n){var r=n(101),i=r.hasAttrib,o=r.getAttributeValue,a=n(153).falseFunc,s=/[-[\]{}()*+?.,\\^$|#\s]/g,l={__proto__:null,equals:function(e,t){var n=t.name,r=t.value;return t.ignoreCase?(r=r.toLowerCase(),function(t){var i=o(t,n);return null!=i&&i.toLowerCase()===r&&e(t)}):function(t){return o(t,n)===r&&e(t)}},hyphen:function(e,t){var n=t.name,r=t.value,i=r.length;return t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&(a.length===i||"-"===a.charAt(i))&&a.substr(0,i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(0,i)===r&&(a.length===i||"-"===a.charAt(i))&&e(t)}},element:function(e,t){var n=t.name,r=t.value;if(/\s/.test(r))return a;var i="(?:^|\\s)"+(r=r.replace(s,"\\$&"))+"(?:$|\\s)",l=t.ignoreCase?"i":"",u=new RegExp(i,l);return function(t){var r=o(t,n);return null!=r&&u.test(r)&&e(t)}},exists:function(e,t){var n=t.name;return function(t){return i(t,n)&&e(t)}},start:function(e,t){var n=t.name,r=t.value,i=r.length;return 0===i?a:t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&a.substr(0,i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(0,i)===r&&e(t)}},end:function(e,t){var n=t.name,r=t.value,i=-r.length;return 0===i?a:t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&a.substr(i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(i)===r&&e(t)}},any:function(e,t){var n=t.name,r=t.value;if(""===r)return a;if(t.ignoreCase){var i=new RegExp(r.replace(s,"\\$&"),"i");return function(t){var r=o(t,n);return null!=r&&i.test(r)&&e(t)}}return function(t){var i=o(t,n);return null!=i&&i.indexOf(r)>=0&&e(t)}},not:function(e,t){var n=t.name,r=t.value;return""===r?function(t){return!!o(t,n)&&e(t)}:t.ignoreCase?(r=r.toLowerCase(),function(t){var i=o(t,n);return null!=i&&i.toLowerCase()!==r&&e(t)}):function(t){return o(t,n)!==r&&e(t)}}};e.exports={compile:function(e,t,n){if(n&&n.strict&&(t.ignoreCase||"not"===t.action))throw SyntaxError("Unsupported attribute selector");return l[t.action](e,t)},rules:l}},function(e){e.exports={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1}},function(e,t,n){var r=n(146);function i(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}e.exports=i},function(e,t,n){var r=n(1031);function i(e){return null!=e&&e.length?r(e,1):[]}e.exports=i},function(e,t,n){var r=n(1041),i=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,o=function e(t,n,o,a,s){for(var l=a,u=0;u<o;){var c=r.ToString(u);if(r.HasProperty(n,c)){var h=r.Get(n,c),f=!1;if(s>0&&(f=r.IsArray(h)),f)l=e(t,h,r.ToLength(r.Get(h,"length")),l,s-1);else{if(l>=i)throw new TypeError("index too large");r.CreateDataPropertyOrThrow(t,r.ToString(l),h),l+=1}}u+=1}return l};e.exports=function(){var e=r.ToObject(this),t=r.ToLength(r.Get(e,"length")),n=1;arguments.length>0&&"undefined"!=typeof arguments[0]&&(n=r.ToInteger(arguments[0]));var i=r.ArraySpeciesCreate(e,0);return o(i,e,t,0,n),i}},function(e,t,n){var r=n(1042),i=n(312),o=i(i({},r),{SameValueNonNumber:function(e,t){if("number"==typeof e||typeof e!=typeof t)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(e,t)}});e.exports=o},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){var r=n(207),i=r("%TypeError%"),o=r("%SyntaxError%"),a=n(59),s={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(a(t,r)&&!n[r])return!1;var o=a(t,"[[Value]]"),s=a(t,"[[Get]]")||a(t,"[[Set]]");if(o&&s)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,n,r){var a=s[t];if("function"!=typeof a)throw new o("unknown record type: "+t);if(!a(e,r))throw new i(n+" must be a "+t);console.log(a(e,r),r)}},function(e,t){e.exports=Number.isNaN||function(e){return e!==e}},function(e,t){var n=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t,n){var r=n(207),i=r("%Object%"),o=r("%TypeError%"),a=r("%String%"),s=n(491),l=n(492),u=n(493),c=n(494),h=n(495),f=n(155),d=n(1049),p=n(59),m={ToPrimitive:d,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return l(t)?0:0!==t&&u(t)?c(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(l(t)||0===t||!u(t))return 0;var n=c(t)*Math.floor(Math.abs(t));return h(n,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),i(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new o(t||"Cannot call method on "+e);return e},IsCallable:f,SameValue:function(e,t){return e===t?0!==e||1/e===1/t:l(e)&&l(t)},Type:function(e){return null===e?"Null":"undefined"==typeof e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(p(e,n)&&!t[n])return!1;var r=p(e,"[[Value]]"),i=p(e,"[[Get]]")||p(e,"[[Set]]");if(r&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return!("undefined"==typeof e||(s(this,"Property Descriptor","Desc",e),!p(e,"[[Get]]")&&!p(e,"[[Set]]")))},IsDataDescriptor:function(e){return!("undefined"==typeof e||(s(this,"Property Descriptor","Desc",e),!p(e,"[[Value]]")&&!p(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return"undefined"!=typeof e&&(s(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if("undefined"==typeof e)return e;if(s(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new o("ToPropertyDescriptor requires an object");var t={};if(p(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),p(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),p(e,"value")&&(t["[[Value]]"]=e.value),p(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),p(e,"get")){var n=e.get;if("undefined"!=typeof n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(p(e,"set")){var r=e.set;if("undefined"!=typeof r&&!this.IsCallable(r))throw new o("setter must be a function");t["[[Set]]"]=r}if((p(t,"[[Get]]")||p(t,"[[Set]]"))&&(p(t,"[[Value]]")||p(t,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=m},function(e,t,n){var r=n(59),i=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=function(e){try{var t=e.lastIndex;return e.lastIndex=0,i.call(e),!0}catch(n){return!1}finally{e.lastIndex=t}},s=Object.prototype.toString,l="[object RegExp]",u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!u)return s.call(e)===l;var t=o(e,"lastIndex");return!(!t||!r(t,"value"))&&a(e)}},function(e,t,n){var r=n(488);e.exports=function(){return Array.prototype.flat||r}},function(e,t,n){var r=function(e){return e!==e};e.exports=function(e,t){return 0===e&&0===t?1/e===1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){var r=n(52),i=n(501),o=n(503),a=n(1052),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t,n){var r=n(502),i=n(59),o=n(53).call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(e){var t=r.RequireObjectCoercible(e),n=[];for(var a in t)i(t,a)&&o(t,a)&&n.push([a,t[a]]);return n}},function(e,t,n){e.exports=n(489)},function(e,t,n){var r=n(501);e.exports=function(){return"function"==typeof Object.entries?Object.entries:r}},function(e,t,n){var r=n(155),i=n(505),o=n(53),a=o.call(Function.call,Function.prototype.toString),s=o.call(Function.call,String.prototype.match),l=/^class /,u=function(e){if(r(e)||"function"!=typeof e)return!1;try{return!!s(a(e),l)}catch(t){}return!1},c=/\s*function\s+([^(\s]*)\s*/,h=Function.prototype;e.exports=function(){if(!u(this)&&!r(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(i)return this.name;if(this===h)return"";var e=a(this),t=s(e,c);return t&&t[1]}},function(e,t){e.exports="string"==typeof function(){}.name},function(e,t,n){var r=n(504);e.exports=function(){return r}},function(e,t,n){var r=n(53),i=n(496),o=r.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=i.ToString(i.CheckObjectCoercible(this));return o(o(e,a,""),s,"")}},function(e,t,n){var r=n(507),i="\u200b";e.exports=function(){return String.prototype.trim&&i.trim()===i?String.prototype.trim:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=i(n(510));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!e)throw new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n    ");if("function"==typeof e)throw Object.getPrototypeOf(e)===r.default?new Error("\n        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -\n        you provided an adapter *constructor*.\n        To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n        before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n        corresponding to the library currently being tested. For example:\n\n        import Adapter from 'enzyme-adapter-react-15';\n\n        To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n      "):new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured -\n      an enzyme adapter must be an object instance; you provided a function.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n    ");if(!(e instanceof r.default))throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class")}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return new Error(String(e)+" is a required method of "+String(t)+", but was not implemented.")}var a=function(){function e(){i(this,e),this.options={}}return r(e,[{key:"createRenderer",value:function(){function e(e){throw o("createRenderer","EnzymeAdapter")}return e}()},{key:"nodeToElement",value:function(){function e(e){throw o("nodeToElement","EnzymeAdapter")}return e}()},{key:"isValidElement",value:function(){function e(e){throw o("isValidElement","EnzymeAdapter")}return e}()},{key:"createElement",value:function(){function e(e,t){throw o("createElement","EnzymeAdapter")}return e}()},{key:"invokeSetStateCallback",value:function(){function e(e,t){t.call(e)}return e}()}]),e}();a.MODES={STRING:"string",MOUNT:"mount",SHALLOW:"shallow"},e.exports=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.typeName=v,t.spaces=g,t.indent=y,t.debugNode=w,t.debugNodes=S;var i=p(n(1057)),o=p(n(314)),a=p(n(1058)),s=p(n(1059)),l=p(n(155)),u=p(n(1060)),c=p(n(1061)),h=p(n(59)),f=n(156),d=p(n(103));function p(e){return e&&e.__esModule?e:{default:e}}var m=Function.bind.call(Function.call,Boolean.prototype.valueOf);function v(e){return(0,d.default)().displayNameOfNode?(0,d.default)().displayNameOfNode(e)||"Component":"function"==typeof e.type?e.type.displayName||(0,o.default)(e.type)||"Component":e.type}function g(e){return Array(e+1).join(" ")}function y(e,t){return t.split("\n").map((function(t){return""+String(g(e))+String(t)})).join("\n")}function b(e,t){return(0,a.default)(e)?(0,c.default)(String(e),{quoteStyle:"double"}):(0,s.default)(e)?"{"+String((0,c.default)(Number(e)))+"}":(0,u.default)(e)?"{"+String((0,c.default)(m(e)))+"}":(0,l.default)(e)?"{"+String((0,c.default)(e))+"}":"object"===("undefined"==typeof e?"undefined":r(e))?t.verbose?"{"+String((0,c.default)(e))+"}":"{{...}}":"{["+("undefined"==typeof e?"undefined":r(e))+"]}"}function _(e,t){var n=(0,f.propsOfNode)(e);return Object.keys(n).filter((function(e){return"children"!==e})).map((function(e){return String(e)+"="+String(b(n[e],t))})).join(" ")}function x(e,t){return e.length?"\n"+String(e.map((function(e){return y(t,e)})).join("\n"))+"\n":""}function T(e){return(0,h.default)(e,"nodeType")&&"string"==typeof e.nodeType&&(0,h.default)(e,"type")&&(0,h.default)(e,"key")&&(0,h.default)(e,"ref")&&(0,h.default)(e,"instance")&&(0,h.default)(e,"rendered")}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e||"number"==typeof e)return(0,i.default)(e);if("function"==typeof e){var r=(0,o.default)(e);return"[function"+(r?" "+String(r):"")+"]"}if(!e)return"";if(!(0,d.default)().isValidElement(e)&&!T(e))return"{"+String((0,c.default)(e))+"}";var a=(0,f.childrenOfNode)(e).map((function(e){return w(e,t,n)})).filter(Boolean),s=v(e),l=n.ignoreProps?"":_(e,n),u=l?" ":"",h=a.length?">":" ",p=x(a,t),m=a.length?"</"+String(s)+">":"/>";return"<"+String(s)+u+String(l)+h+String(p)+m}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){return w(e,void 0,t)})).join("\n\n\n")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.buildPredicate=G,t.reduceTreeBySelector=K,t.reduceTreesBySelector=$;var o=n(1063),a=p(n(1069)),s=p(n(154)),l=p(n(499)),u=p(n(59)),c=p(n(1071)),h=n(156),f=n(313),d=p(n(103));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var v=(0,o.createParser)(),g="childCombinator",y="adjacentSiblingCombinator",b="generalSiblingCombinator",_="descendantCombinator",x="selector",T="typeSelector",w="classSelector",S="idSelector",E="universalSelector",k="attributePresenceSelector",C="attributeValueSelector",A="pseudoClassSelector",O="pseudoElementSelector",P="=",M="~=",I="|=",R="^=",L="$=",D="*=";function N(e){return[].concat(m(new Set(e)))}function j(e,t){return N(t.reduce(e,[]))}function B(e){try{return v.parse(e)}catch(t){throw new Error("Failed to parse selector: "+String(e))}}function F(e,t){var n=t.operator,r=t.value,i=t.name,o=(0,f.propsOfNode)(e),a=Object.getOwnPropertyDescriptor(o,i);if(a&&a.get)return!1;var s=o[i];if("undefined"==typeof s)return!1;if(t.type===k)return(0,u.default)(o,t.name);if(("string"!=typeof s||"string"!=typeof r)&&n!==P)return!1;switch(n){case P:return(0,l.default)(s,r);case M:return-1!==s.split(" ").indexOf(r);case I:return s===r||s.startsWith(String(r)+"-");case R:return""!==r&&s.slice(0,r.length)===r;case L:return""!==r&&s.slice(-r.length)===r;case D:return""!==r&&-1!==s.indexOf(r);default:throw new Error('Enzyme::Selector: Unknown attribute selector operator "'+String(n)+'"')}}function H(e,t,n){var r=t.name,o=t.parameters;if("not"===r)return o.every((function(t){return 0===K(t,e).length}));if("empty"===r)return 0===(0,h.treeFilter)(e,(function(t){return t!==e})).length;if("first-child"===r){var a=(0,h.findParentNode)(n,e).rendered;return i(a,1)[0]===e}if("last-child"===r){var s=(0,h.findParentNode)(n,e).rendered;return s[s.length-1]===e}if("focus"===r){if("undefined"==typeof document)throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a global `document`.');var l=(0,d.default)();return document.activeElement&&l.nodeToHostNode(e)===document.activeElement}throw new TypeError('Enzyme::Selector does not support the "'+String(t.name)+'" pseudo-element or pseudo-class selectors.')}function z(e,t,n){if(null===e||"string"==typeof e)return!1;switch(t.type){case E:return!0;case w:return(0,h.hasClassName)(e,t.name);case T:return(0,f.nodeHasType)(e,t.name);case S:return(0,h.nodeHasId)(e,t.name);case k:case C:return F(e,t);case O:case A:return H(e,t,n);default:throw new Error("Unknown token type: "+String(t.type))}}function U(e,t){return function(n){return e.body.every((function(e){return z(n,e,t)}))}}function V(e){return e.some((function(e){return e.type!==x}))}function G(e){if("string"==typeof e){var t=B(e);if(V(t))throw new TypeError("This method does not support complex CSS selectors");return U(t[0])}var n=(0,d.default)();if(n.isValidElementType?n.isValidElementType(e):"function"==typeof e)return function(t){return t&&t.type===e};if("object"===("undefined"==typeof e?"undefined":r(e))){if(!Array.isArray(e)&&null!==e&&Object.keys(e).length>0){if((0,a.default)(e).some((function(e){return"undefined"==typeof e})))throw new TypeError("Enzyme::Props can\u2019t have `undefined` values. Try using \u2018findWhere()\u2019 instead.");return function(t){return(0,h.nodeMatchesObjectProps)(t,e)}}throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector")}throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)")}function X(e,t,n){return e.reduce((function(e,r){var i=(0,h.findParentNode)(n,r);if(!i)return e;var o=(0,h.childrenOfNode)(i),a=o.indexOf(r),s=o[a+1];return s&&t(s)&&e.push(s),e}),[])}function Y(e,t,n){return j((function(e,r){var i=(0,h.findParentNode)(n,r);if(!i)return e;var o=(0,h.childrenOfNode)(i),a=o.indexOf(r),s=o.slice(a+1);return e.concat(s.filter(t))}),e)}function W(e,t){return j((function(e,n){return e.concat((0,h.childrenOfNode)(n).filter(t))}),e)}function q(e,t){return j((function(e,n){return e.concat((0,h.treeFilter)(n,t))}),(0,s.default)(e.map(h.childrenOfNode)))}function K(e,t){if("string"!=typeof e){var n=(0,c.default)(e);if(n.length>0)return(0,s.default)(n.map((function(e){return K(e.tag,t)})))}if("function"==typeof e||"object"===("undefined"==typeof e?"undefined":r(e)))return(0,h.treeFilter)(t,G(e));var i=[];if("string"!=typeof e)throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");for(var o=B(e),a=0;a<o.length;){var l=o[a];if(l.type===x){var u=U(l,t);i=i.concat((0,h.treeFilter)(t,u))}else{var f=l.type,d=U(o[a+=1],t);switch(f){case y:i=X(i,d,t);break;case b:i=Y(i,d,t);break;case g:i=W(i,d);break;case _:i=q(i,d);break;default:throw new Error("Unknown combinator selector: "+String(f))}}a+=1}return i}function $(e,t){var n=t.map((function(t){return K(e,t)}));return N((0,s.default)(n,1))}},function(e,t,n){var r=n(502),i=n(59),o=n(53).call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(e){var t=r.RequireObjectCoercible(e),n=[];for(var a in t)i(t,a)&&o(t,a)&&n.push(t[a]);return n}},function(e,t,n){var r=n(513);e.exports=function(){return"function"==typeof Object.values?Object.values:r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=p(n(122)),a=p(n(154)),s=p(n(296)),l=p(n(59)),u=n(313),c=p(n(103)),h=n(511),f=n(156),d=n(512);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=(0,u.sym)("__node__"),b=(0,u.sym)("__nodes__"),_=(0,u.sym)("__renderer__"),x=(0,u.sym)("__unrendered__"),T=(0,u.sym)("__root__"),w=(0,u.sym)("__options__"),S=(0,u.sym)("__setState__"),E=(0,u.sym)("__rootNodes__"),k=(0,u.sym)("__childContext__");function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.treeFilter;return e.flatMap((function(e){return n(e.getNodeInternal(),t)}))}function A(e,t){return e.wrap(e.getNodesInternal().filter(t).filter(Boolean))}function O(e){var t=e.lifecycleExperimental,n=e.disableLifecycleMethods,r=e.enableComponentDidUpdateOnSetState,i=e.supportPrevContextArgumentOfComponentDidUpdate,o=e.lifecycles;if("undefined"!=typeof t&&"boolean"!=typeof t)throw new Error("lifecycleExperimental must be either true or false if provided");if("undefined"!=typeof n&&"boolean"!=typeof n)throw new Error("disableLifecycleMethods must be either true or false if provided");if(null!=t&&null!=n&&t===n)throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");if("undefined"!=typeof r&&o.componentDidUpdate&&o.componentDidUpdate.onSetState!==r)throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");if("undefined"!=typeof i&&o.componentDidUpdate&&o.componentDidUpdate.prevContext!==i)throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility")}function P(e){var t=e.options,n=t.lifecycles,r=void 0===n?{}:n,i=t.enableComponentDidUpdateOnSetState,a=t.supportPrevContextArgumentOfComponentDidUpdate,s="undefined"!=typeof i,l="undefined"!=typeof a,u=s||l?(0,o.default)({},s&&{onSetState:!!i},l&&{prevContext:!!a}):null;return(0,o.default)({},r,{setState:(0,o.default)({},r.setState),getChildContext:(0,o.default)({calledByRenderer:!0},r.getChildContext)},u&&{componentDidUpdate:u})}function M(e){return"host"===e.nodeType?e:e.rendered}function I(e){if(1!==e[T].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return e[T]!==e?e[E][0]:e[T][y]}function R(e,t){return(0,f.parentsOfNode)(t,I(e))}function L(e,t){Array.isArray(t)?((0,u.privateSet)(e,y,t[0]),(0,u.privateSet)(e,b,t)):((0,u.privateSet)(e,y,t),(0,u.privateSet)(e,b,[t])),(0,u.privateSet)(e,"length",e[b].length)}function D(e,t,n,r){return!(0,u.shallowEqual)(e,t)||!(0,u.shallowEqual)(n,r)}function N(e){return e&&e.isPureReactComponent}function j(e,t,n){var r=e.instance,o=e.type,a=(0,u.displayNameOfNode)(e);if("object"!==i(o.childContextTypes))return console.warn(String(a)+".getChildContext(): childContextTypes must be defined in order to use getChildContext()."),{};var s=r.getChildContext();return Object.keys(s).forEach((function(e){if(!(e in o.childContextTypes))throw new Error(String(a)+'.getChildContext(): key "'+String(e)+'" is not defined in childContextTypes.')})),"function"==typeof n.checkPropTypes&&n.checkPropTypes(o.childContextTypes,s,"child context",t),s}function B(e,t){return(0,u.isCustomComponentElement)(e,t)&&e.type.prototype&&"function"==typeof e.type.prototype.getChildContext?(0,u.spyMethod)(e.type.prototype,"getChildContext"):null}function F(e,t,n,r,i){var o=t[_];if("parent"===e.options.legacyContextMode)if(i)(0,u.privateSet)(t,k,i.getLastReturnValue()),i.restore();else if("function"==typeof n.getChildContext){var a=j(r,[t[y]].concat(R(t,t[y])),o);(0,u.privateSet)(t,k,a)}else(0,u.privateSet)(t,k,null)}var H=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,e),O(i);var a=(0,u.makeOptions)(i),s=(0,c.default)(a),l=P(s);if(n)(0,u.privateSet)(this,T,n),(0,u.privateSet)(this,x,null),(0,u.privateSet)(this,_,n[_]),L(this,t),(0,u.privateSet)(this,w,n[w]),(0,u.privateSet)(this,E,n[b]);else{if(!s.isValidElement(t))throw new TypeError("ShallowWrapper can only wrap valid elements");var h=l.getChildContext.calledByRenderer?B(t,s):null;(0,u.privateSet)(this,T,this),(0,u.privateSet)(this,x,t);var f=s.createRenderer((0,o.default)({mode:"shallow"},a));(0,u.privateSet)(this,_,f),this[_].render(t,a.context);var d=this[_].getNode();L(this,M(d)),(0,u.privateSet)(this,w,a);var p=d.instance;p&&!a.disableLifecycleMethods&&(l.componentDidUpdate.onSetState&&!p[S]&&((0,u.privateSet)(p,S,p.setState),p.setState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r.setState.apply(r,v(null==t?[e]:[e,t]))}),"function"==typeof p.componentDidMount&&this[_].batchedUpdates((function(){p.componentDidMount()})),F(s,this,p,d,h))}}return r(e,[{key:"root",value:function(){function e(){return this[T]}return e}()},{key:"getNodeInternal",value:function(){function e(){if(1!==this.length)throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");return this[T]===this&&this.update(),this[y]}return e}()},{key:"getNodesInternal",value:function(){function e(){return this[T]===this&&1===this.length&&this.update(),this[b]}return e}()},{key:"getElement",value:function(){function e(){var e=this;return this.single("getElement",(function(t){return(0,c.default)(e[w]).nodeToElement(t)}))}return e}()},{key:"getElements",value:function(){function e(){return this.getNodesInternal().map((0,c.default)(this[w]).nodeToElement)}return e}()},{key:"getNode",value:function(){function e(){throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead")}return e}()},{key:"getNodes",value:function(){function e(){throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead")}return e}()},{key:"instance",value:function(){function e(){if(this[T]!==this)throw new Error("ShallowWrapper::instance() can only be called on the root");return this[_].getNode().instance}return e}()},{key:"update",value:function(){function e(){if(this[T]!==this)throw new Error("ShallowWrapper::update() can only be called on the root");if(1!==this.length)throw new Error("ShallowWrapper::update() can only be called when wrapping one node");return L(this,M(this[_].getNode())),this}return e}()},{key:"unmount",value:function(){function e(){return this[_].unmount(),this}return e}()},{key:"rerender",value:function(){function e(e,t){var n=this,r=(0,c.default)(this[w]);return this.single("rerender",(function(){(0,u.withSetStateAllowed)((function(){var i=n[_].getNode(),a=i.instance||{},s=a.state,l=a.props||n[x].props,c=a.context||n[w].context,h=t||c;t&&(n[w]=(0,o.default)({},n[w],{context:h})),n[_].batchedUpdates((function(){var t=P(r),f=!0,d=void 0,p=void 0;if(!n[w].disableLifecycleMethods&&a&&("function"==typeof a.shouldComponentUpdate&&(d=(0,u.spyMethod)(a,"shouldComponentUpdate")),t.getChildContext.calledByRenderer&&"function"==typeof a.getChildContext&&(p=(0,u.spyMethod)(a,"getChildContext"))),!d&&N(a)&&(f=D(l,e,s,a.state)),e&&(n[x]=(0,u.cloneElement)(r,n[x],e)),n[_].render(n[x],h),d&&(f=d.getLastReturnValue(),d.restore()),f&&!n[w].disableLifecycleMethods&&a)if(F(r,n,a,i,p),t.getSnapshotBeforeUpdate){var m=void 0;"function"==typeof a.getSnapshotBeforeUpdate&&(m=a.getSnapshotBeforeUpdate(l,s)),t.componentDidUpdate&&"function"==typeof a.componentDidUpdate&&(!s||(0,u.shallowEqual)(s,n.instance().state))&&a.componentDidUpdate(l,s,m)}else t.componentDidUpdate&&"function"==typeof a.componentDidUpdate&&(t.componentDidUpdate.prevContext?a.componentDidUpdate(l,s,c):(!s||(0,u.shallowEqual)(n.instance().state,s))&&a.componentDidUpdate(l,s));else(0,u.shallowEqual)(e,a.props)||(a.props=(Object.freeze||Object)((0,o.default)({},a.props,e)));n.update()}))}))})),this}return e}()},{key:"setProps",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[T]!==this)throw new Error("ShallowWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!=typeof t)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");return this.rerender(e),t&&t(),this}return e}()},{key:"setState",value:function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[T]!==this)throw new Error("ShallowWrapper::setState() can only be called on the root");if(null===this.instance()||"class"!==this[_].getNode().nodeType)throw new Error("ShallowWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.single("setState",(function(){(0,u.withSetStateAllowed)((function(){var r=(0,c.default)(t[w]),i=P(r),o=t[_].getNode(),a=o.instance,s=a.props,l=a.state,h=a.context,f="function"==typeof e?e.call(a,l,s):e,d=!i.setState.skipsComponentDidUpdateOnNullish||null!=f,p=void 0,m=void 0,v=!0;if(!t[w].disableLifecycleMethods&&a&&(i.componentDidUpdate&&i.componentDidUpdate.onSetState&&"function"==typeof a.shouldComponentUpdate&&(p=(0,u.spyMethod)(a,"shouldComponentUpdate")),i.getChildContext.calledByRenderer&&"function"==typeof a.getChildContext&&(m=(0,u.spyMethod)(a,"getChildContext"))),!p&&N(a)&&(v=D(s,a.props,l,f)),a[S]?a[S](f):a.setState(f),p&&(v=p.getLastReturnValue(),p.restore()),d&&v&&!t[w].disableLifecycleMethods&&(F(r,t,a,o,m),i.componentDidUpdate&&i.componentDidUpdate.onSetState))if(i.getSnapshotBeforeUpdate&&"function"==typeof a.getSnapshotBeforeUpdate){var g=a.getSnapshotBeforeUpdate(s,l);"function"==typeof a.componentDidUpdate&&a.componentDidUpdate(s,l,g)}else"function"==typeof a.componentDidUpdate&&(i.componentDidUpdate.prevContext?a.componentDidUpdate(s,l,h):a.componentDidUpdate(s,l));t.update(),n&&(r.invokeSetStateCallback?r.invokeSetStateCallback(a,n):n.call(a))}))})),this}return e}()},{key:"setContext",value:function(){function e(e){if(this[T]!==this)throw new Error("ShallowWrapper::setContext() can only be called on the root");if(!this[w].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this.rerender(null,e)}return e}()},{key:"contains",value:function(){function e(e){var t=(0,c.default)(this[w]);if(!(0,u.isReactElementAlike)(e,t))throw new Error("ShallowWrapper::contains() can only be called with ReactElement (or array of them), string or number as argument.");return C(this,Array.isArray(e)?function(n){return(0,u.containsChildrenSubArray)(u.nodeEqual,n,e.map((function(e){return t.elementToNode(e)})))}:function(n){return(0,u.nodeEqual)(t.elementToNode(e),n)}).length>0}return e}()},{key:"containsMatchingElement",value:function(){function e(e){var t=(0,c.default)(this[w]).elementToNode(e);return C(this,function(){function e(e){return(0,u.nodeMatches)(t,e,(function(e,t){return e<=t}))}return e}()).length>0}return e}()},{key:"containsAllMatchingElements",value:function(){function e(e){var t=this;if(!Array.isArray(e))throw new TypeError("nodes should be an Array");return e.every((function(e){return t.containsMatchingElement(e)}))}return e}()},{key:"containsAnyMatchingElements",value:function(){function e(e){var t=this;return Array.isArray(e)&&e.some((function(e){return t.containsMatchingElement(e)}))}return e}()},{key:"equals",value:function(){function e(e){var t=this;return this.single("equals",(function(){return(0,u.nodeEqual)(t.getNodeInternal(),e)}))}return e}()},{key:"matchesElement",value:function(){function e(e){var t=this;return this.single("matchesElement",(function(){var n=(0,c.default)(t[w]).elementToNode(e);return(0,u.nodeMatches)(n,t.getNodeInternal(),(function(e,t){return e<=t}))}))}return e}()},{key:"find",value:function(){function e(e){return this.wrap((0,d.reduceTreesBySelector)(e,this.getNodesInternal()))}return e}()},{key:"is",value:function(){function e(e){var t=(0,d.buildPredicate)(e);return this.single("is",(function(e){return t(e)}))}return e}()},{key:"isEmptyRender",value:function(){function e(){return this.getNodesInternal().every((function(e){return(0,u.isEmptyValue)(e)}))}return e}()},{key:"filterWhere",value:function(){function e(e){var t=this;return A(this,(function(n){return e(t.wrap(n))}))}return e}()},{key:"filter",value:function(){function e(e){return A(this,(0,d.buildPredicate)(e))}return e}()},{key:"not",value:function(){function e(e){var t=(0,d.buildPredicate)(e);return A(this,(function(e){return!t(e)}))}return e}()},{key:"text",value:function(){function e(){return this.single("text",f.getTextFromNode)}return e}()},{key:"html",value:function(){function e(){var e=this;return this.single("html",(function(t){if(null===e.type())return null;var n=(0,c.default)(e[w]);return n.createRenderer((0,o.default)({},e[w],{mode:"string"})).render(n.nodeToElement(t))}))}return e}()},{key:"render",value:function(){function e(){return null===this.type()?(0,s.default)():s.default.load("")(this.html())}return e}()},{key:"simulate",value:function(){function e(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.single("simulate",(function(n){var i;return(i=t[_]).simulateEvent.apply(i,[n,e].concat(r)),t[T].update(),t}))}return e}()},{key:"simulateError",value:function(){function e(e){var t=this;return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");var r=t[_];if("function"!=typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=I(t),o=[n].concat(R(t,n));return r.simulateError(o,i,e),t}))}return e}()},{key:"props",value:function(){function e(){return this.single("props",f.propsOfNode)}return e}()},{key:"state",value:function(){function e(e){var t=this;if(this[T]!==this)throw new Error("ShallowWrapper::state() can only be called on the root");if(null===this.instance()||"class"!==this[_].getNode().nodeType)throw new Error("ShallowWrapper::state() can only be called on class components");var n=this.single("state",(function(){return t.instance().state}));if("undefined"!=typeof e){if(null==n)throw new TypeError('ShallowWrapper::state("'+String(e)+'") requires that `state` not be `null` or `undefined`');return n[e]}return n}return e}()},{key:"context",value:function(){function e(e){var t=this;if(this[T]!==this)throw new Error("ShallowWrapper::context() can only be called on the root");if(!this[w].context)throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");if(null===this.instance())throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");var n=this.single("context",(function(){return t.instance().context}));return e?n[e]:n}return e}()},{key:"children",value:function(){function e(e){var t=this.flatMap((function(e){return(0,f.childrenOfNode)(e.getNodeInternal())}));return e?t.filter(e):t}return e}()},{key:"childAt",value:function(){function e(e){var t=this;return this.single("childAt",(function(){return t.children().at(e)}))}return e}()},{key:"parents",value:function(){function e(e){var t=this;return this.single("parents",(function(n){var r=t.wrap(R(t,n));return e?r.filter(e):r}))}return e}()},{key:"parent",value:function(){function e(){return this.flatMap((function(e){return[e.parents().get(0)]}))}return e}()},{key:"closest",value:function(){function e(e){if(this.is(e))return this;var t=this.parents().filter(e);return t.length>0?t.first():this.findWhere((function(){return!1}))}return e}()},{key:"shallow",value:function(){function e(e){var t=this;return this.single("shallow",(function(n){return t.wrap((0,c.default)(t[w]).nodeToElement(n),null,e)}))}return e}()},{key:"prop",value:function(){function e(e){return this.props()[e]}return e}()},{key:"renderProp",value:function(){function e(e){var t=this,n=(0,c.default)(this[w]);if("function"!=typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(r){if("host"===r.nodeType)throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");if("string"!=typeof e)throw new TypeError("`propName` must be a string");var o=t.props();if(!(0,l.default)(o,e))throw new Error("no prop called \u201c"+String(e)+"\u201c found");var a=o[e];if("function"!=typeof a)throw new TypeError("expected prop \u201c"+String(e)+"\u201c to contain a function, but it holds \u201c"+("undefined"==typeof prop?"undefined":i(prop))+"\u201c");return function(){var e=a.apply(void 0,arguments),r=n.wrap(e);return t.wrap(r,null,t[w])}}))}return e}()},{key:"key",value:function(){function e(){return this.single("key",(function(e){return void 0===e.key?null:e.key}))}return e}()},{key:"type",value:function(){function e(){return this.single("type",(function(e){return(0,u.typeOfNode)(e)}))}return e}()},{key:"name",value:function(){function e(){var e=(0,c.default)(this[w]);return this.single("name",(function(t){return e.displayNameOfNode?e.displayNameOfNode(t):(0,u.displayNameOfNode)(t)}))}return e}()},{key:"hasClass",value:function(){function e(e){return e&&-1!==e.indexOf(".")&&console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(t){return(0,f.hasClassName)(t,e)}))}return e}()},{key:"forEach",value:function(){function e(e){var t=this;return this.getNodesInternal().forEach((function(n,r){return e.call(t,t.wrap(n),r)})),this}return e}()},{key:"map",value:function(){function e(e){var t=this;return this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)}))}return e}()},{key:"reduce",value:function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}return e}()},{key:"reduceRight",value:function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}return e}()},{key:"slice",value:function(){function e(e,t){return this.wrap(this.getNodesInternal().slice(e,t))}return e}()},{key:"some",value:function(){function e(e){if(this[T]===this)throw new Error("ShallowWrapper::some() can not be called on the root");var t=(0,d.buildPredicate)(e);return this.getNodesInternal().some(t)}return e}()},{key:"someWhere",value:function(){function e(e){var t=this;return this.getNodesInternal().some((function(n,r){return e.call(t,t.wrap(n),r)}))}return e}()},{key:"every",value:function(){function e(e){var t=(0,d.buildPredicate)(e);return this.getNodesInternal().every(t)}return e}()},{key:"everyWhere",value:function(){function e(e){var t=this;return this.getNodesInternal().every((function(n,r){return e.call(t,t.wrap(n),r)}))}return e}()},{key:"flatMap",value:function(){function e(e){var t=this,n=this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)})),r=(0,a.default)(n,1);return this.wrap(r.filter(Boolean))}return e}()},{key:"findWhere",value:function(){function e(e){var t=this;return C(this,(function(n){var r=t.wrap(n);return r.length>0&&e(r)}))}return e}()},{key:"get",value:function(){function e(e){return this.getElements()[e]}return e}()},{key:"at",value:function(){function e(e){var t=this.getNodesInternal();return e<t.length?this.wrap(t[e]):this.wrap([])}return e}()},{key:"first",value:function(){function e(){return this.at(0)}return e}()},{key:"last",value:function(){function e(){return this.at(this.length-1)}return e}()},{key:"isEmpty",value:function(){function e(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return e}()},{key:"exists",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(e).exists():this.length>0}return e}()},{key:"single",value:function(){function e(e,t){var n="string"==typeof e?e:"unknown",r="function"==typeof t?t:e;if(1!==this.length)throw new Error("Method \u201c"+n+"\u201d is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}return e}()},{key:"wrap",value:function(){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[T];if(t instanceof e)return t;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(e,[null].concat([t,n],i)))}return t}()},{key:"debug",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,h.debugNodes)(this.getNodesInternal(),e)}return e}()},{key:"tap",value:function(){function e(e){return e(this),this}return e}()},{key:"dive",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,c.default)(this[w]),r="dive";return this.single(r,(function(i){if(i&&"host"===i.nodeType)throw new TypeError("ShallowWrapper::"+r+"() can not be called on Host Components");var a=(0,c.default)(e[w]).nodeToElement(i);if(!(0,u.isCustomComponentElement)(a,n))throw new TypeError("ShallowWrapper::"+r+"() can only be called on components");return e.wrap(a,null,(0,o.default)({},e[w],t,{context:t.context||(0,o.default)({},e[w].context,e[T][k])}))}))}return e}()},{key:"hostNodes",value:function(){function e(){return this.filterWhere((function(e){return"string"==typeof e.type()}))}return e}()}]),e}();function z(e,t){Object.defineProperty(H.prototype,e,{get:function(){function n(){throw new Error("\n        Attempted to access ShallowWrapper::"+String(e)+", which was previously a private property on\n        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.\n        "+String(t)+"\n      ")}return n}(),enumerable:!1,configurable:!1})}u.ITERATOR_SYMBOL&&Object.defineProperty(H.prototype,u.ITERATOR_SYMBOL,{configurable:!0,value:function(){function e(){var e,t=this.getNodesInternal()[u.ITERATOR_SYMBOL](),n=(0,c.default)(this[w]);return m(e={},u.ITERATOR_SYMBOL,(function(){return this})),m(e,"next",function(){function e(){var e=t.next();return e.done?{done:!0}:{done:!1,value:n.nodeToElement(e.value)}}return e}()),e}return e}()}),z("node","Consider using the getElement() method instead."),z("nodes","Consider using the getElements() method instead."),z("renderer",""),z("options",""),z("complexSelector",""),t.default=H},function(e,t,n){e.exports={default:n(517),__esModule:!0}},function(e,t,n){n(76),n(61),e.exports=n(518)},function(e,t,n){var r=n(111),i=n(21)("iterator"),o=n(51);e.exports=n(12).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(62)),i=n(104),o=n(10);function a(e){return e&&e.__esModule?e:{default:e}}var s={},l=function(e,t){return s[e]?r.default.resolve(s[e]):t(e)},u=function(e){if(0===e.length)return null;var t=(0,i.tsvParseRows)(e);return(0,o.parseChromsizesRows)(t)},c=function(e){return fetch(e,{credentials:"same-origin"}).then((function(e){return e.text()})).then((function(e){return u(e)})).catch((function(e){console.error("Could not retrieve or parse chrom info.",e)}))},h=function(e,t,n){return t(e,n).then((function(t){return s[e]=t,s[e]}))},f={get:function(e){return h(e,l,c)}};t.default=f},function(e,t,n){n(164),n(61),n(76),n(521),n(525),n(526),e.exports=n(12).Promise},function(e,t,n){var r,i,o,a,s=n(75),l=n(23),u=n(49),c=n(111),h=n(16),f=n(33),d=n(92),p=n(218),m=n(129),v=n(318),g=n(319).set,y=n(523)(),b=n(219),_=n(320),x=n(524),T=n(321),w="Promise",S=l.TypeError,E=l.process,k=E&&E.versions,C=k&&k.v8||"",A=l[w],O="process"==c(E),P=function(){},M=i=b.f,I=!!function(){try{var e=A.resolve(1),t=(e.constructor={})[n(21)("species")]=function(e){e(P,P)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==C.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(r){}}(),R=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(i||(2==e._h&&j(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===t.promise?u(S("Promise-chain cycle")):(o=R(n))?o.call(n,l,u):l(n)):u(r)}catch(h){c&&!a&&c.exit(),u(h)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&D(e)}))}},D=function(e){g.call(l,(function(){var t,n,r,i=e._v,o=N(e);if(o&&(t=_((function(){O?E.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=O||N(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){g.call(l,(function(){var t;O?E.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},F=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw S("Promise can't be resolved itself");(n=R(t))?y((function(){var i={_w:r,_d:!1};try{n.call(t,u(e,i,1),u(B,i,1))}catch(o){B.call(i,o)}})):(r._v=t,r._s=1,L(r,!1))}catch(i){B.call({_w:r,_d:!1},i)}}};I||(A=function(e){p(this,A,w,"_h"),d(e),r.call(this);try{e(u(F,this,1),u(B,this,1))}catch(t){B.call(this,t)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(220)(A.prototype,{then:function(e,t){var n=M(v(this,A));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(F,e,1),this.reject=u(B,e,1)},b.f=M=function(e){return e===A||e===a?new o(e):i(e)}),h(h.G+h.W+h.F*!I,{Promise:A}),n(77)(A,w),n(322)(w),a=n(12)[w],h(h.S+h.F*!I,w,{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!I),w,{resolve:function(e){return T(s&&this===a?A:this,e)}}),h(h.S+h.F*!(I&&n(167)((function(e){A.all(e).catch(P)}))),w,{all:function(e){var t=this,n=M(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=M(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(23),i=n(319).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(74)(a);e.exports=function(){var e,t,n,u=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var h=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(23).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(16),i=n(12),o=n(23),a=n(318),s=n(321);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){var r=n(16),i=n(219),o=n(320);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=function(e,t){if(!t||!t.cumPositions||!t.cumPositions.length)return null;var n=(0,r.chromInfoBisector)(t.cumPositions,e),i=t.cumPositions[t.cumPositions.length-1].chr,o=t.chromLengths[i];n-=n>0&&1;var a=Math.floor(e-t.cumPositions[n].pos),s=0;return a<0&&(s=a-1,a=1),n===t.cumPositions.length-1&&a>o&&(s=a-o,a=o),[t.cumPositions[n].chr,a,s,n]};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return function(n){return n%e*t+Math.floor(n/e)}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e},i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return e.map((function(e,r){return e+t[n(r)]}))};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(221));function i(e){return e&&e.__esModule?e:{default:e}}var o="http://www.w3.org/2000/svg",a=function(e,t){if(e.namespaceURI===o){if(!(0,r.default)(e,t)){var n=e.getAttribute("class")||"";e.setAttribute("class",String(n)+" "+String(t))}}else e.classList?e.classList.add(t):(0,r.default)(e,t)||(e.className+=" "+String(t))};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(62));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,n){var i=document.createElement("canvas");return new r.default((function(r,o){var a=new window.Image;a.onload=function(){i.width=t||a.width,i.height=n||a.height,i.getContext("2d").drawImage(a,0,0),r(i)},a.onerror=function(){o(new Error("Could not convert base64 to canvas"))},a.src="data:image/png;base64,"+String(e)}))};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=(0,n(8).bisector)((function(e){return e.pos})).left;t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return n.chrPositions[e].pos+t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=n(8),o=n(9),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.map((function(t,n){return n*(255/(e.length-1))})),a=(0,r.scaleLinear)().domain(n).range(e),s=t?255:254,l=(0,i.range)(s,-1,-1).map(a).map((function(e){var t=(0,o.rgb)(e);return[t.r,t.g,t.b,255*t.opacity]}));return l.length<256&&l.push([255,255,255,0]),l};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=o(n(324));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=(0,r.color)(e);return i.default.PIXI.utils.rgb2hex([t.r/255,t.g/255,t.b/255])};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(e){if("transparent"===e)return[255,255,255,0];var t=(0,r.color)(e);return[t.r,t.g,t.b,255]};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.debounce=function e(t,n,r){var i=void 0,o=function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=function(){i=null,r||t.apply(void 0,o)},l=r&&!i;clearTimeout(i),i=setTimeout(s,n),l&&t.apply(void 0,o)};return e.cancel=function(){clearTimeout(i),i=null},o};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return(e+Math.pow(16,6)).toString(16).substr(-6)};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t={};return e.forEach((function(e){t[e[0]]=e[1]})),t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push([n,e[n]]);return t};t.default=r},function(e,t,n){function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){function r(e,t){var n="string"==typeof t?new Blob([t],{type:"application/octet-stream"}):t;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,e);else{var r=window.document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}}Object.defineProperty(t,"__esModule",{value:!0}),t.download=r,t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(34)),i=n(11);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=["top","bottom","gallery"],n=["left","right","gallery"];return e.center=e.center||[],e.left=e.left||[],e.right=e.right||[],e.top=e.top||[],e.bottom=e.bottom||[],e.whole=e.whole||[],e.gallery=e.gallery||[],t.map((function(t){return e[t]})).forEach((function(e){return e.forEach((function(e){var t=i.TRACKS_INFO_BY_TYPE[e.type],n=t&&t.defaultOptions||{},o=e.options?(0,r.default)({},n,e.options):n;void 0!==o.minHeight&&void 0===e.height&&(e.height=o.minHeight),void 0===e.height&&(e.height=t&&t.defaultHeight||i.MIN_HORIZONTAL_HEIGHT)}))})),n.map((function(t){return e[t]})).forEach((function(e){return e.forEach((function(e){var t=i.TRACKS_INFO_BY_TYPE[e.type],n=t&&t.defaultOptions||{},o=e.options?(0,r.default)({},n,e.options):n;void 0!==o.minWidth&&void 0===e.width&&(e.width=o.minWidth),void 0===e.width&&(e.width=t&&t.defaultWidth||i.MIN_VERTICAL_WIDTH)}))})),e};t.default=a},function(e,t,n){n(546),n(164),n(549),n(550),e.exports=n(12).Symbol},function(e,t,n){var r=n(23),i=n(47),o=n(36),a=n(16),s=n(161),l=n(226).KEY,u=n(50),c=n(106),h=n(77),f=n(91),d=n(21),p=n(168),m=n(227),v=n(547),g=n(328),y=n(39),b=n(33),_=n(48),x=n(127),T=n(66),w=n(110),S=n(548),E=n(228),k=n(32),C=n(60),A=E.f,O=k.f,P=S.f,M=r.Symbol,I=r.JSON,R=I&&I.stringify,L="prototype",D=d("_hidden"),N=d("toPrimitive"),j={}.propertyIsEnumerable,B=c("symbol-registry"),F=c("symbols"),H=c("op-symbols"),z=Object[L],U="function"==typeof M,V=r.QObject,G=!V||!V[L]||!V[L].findChild,X=o&&u((function(){return 7!=w(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=A(z,t);r&&delete z[t],O(e,t,n),r&&e!==z&&O(z,t,r)}:O,Y=function(e){var t=F[e]=w(M[L]);return t._k=e,t},W=U&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},q=function e(t,n,r){return t===z&&e(H,n,r),y(t),n=x(n,!0),y(r),i(F,n)?(r.enumerable?(i(t,D)&&t[D][n]&&(t[D][n]=!1),r=w(r,{enumerable:T(0,!1)})):(i(t,D)||O(t,D,T(1,{})),t[D][n]=!0),X(t,n,r)):O(t,n,r)},K=function(e,t){y(e);for(var n,r=v(t=_(t)),i=0,o=r.length;o>i;)q(e,n=r[i++],t[n]);return e},$=function(e,t){return void 0===t?w(e):K(w(e),t)},Z=function(e){var t=j.call(this,e=x(e,!0));return!(this===z&&i(F,e)&&!i(H,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,D)&&this[D][e])||t)},Q=function(e,t){if(e=_(e),t=x(t,!0),e!==z||!i(F,t)||i(H,t)){var n=A(e,t);return n&&i(F,t)&&!(i(e,D)&&e[D][t])&&(n.enumerable=!0),n}},J=function(e){for(var t,n=P(_(e)),r=[],o=0;n.length>o;)!i(F,t=n[o++])&&t!=D&&t!=l&&r.push(t);return r},ee=function(e){for(var t,n=e===z,r=P(n?H:_(e)),o=[],a=0;r.length>a;)i(F,t=r[a++])&&(!n||i(z,t))&&o.push(F[t]);return o};U||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function t(n){this===z&&t.call(H,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),X(this,e,T(1,n))};return o&&G&&X(z,e,{configurable:!0,set:t}),Y(e)},s(M[L],"toString",(function(){return this._k})),E.f=Q,k.f=q,n(329).f=S.f=J,n(93).f=Z,n(130).f=ee,o&&!n(75)&&s(z,"propertyIsEnumerable",Z,!0),p.f=function(e){return Y(d(e))}),a(a.G+a.W+a.F*!U,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=C(d.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=M(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:$,defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:ee}),I&&a(a.S+a.F*(!U||u((function(){var e=M();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!W(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!W(t))return t}),r[1]=t,R.apply(I,r)}}),M[L][N]||n(43)(M[L],N,M[L].valueOf),h(M,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(e,t,n){var r=n(60),i=n(130),o=n(93);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(48),i=n(329).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){n(227)("asyncIterator")},function(e,t,n){n(227)("observable")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DATATYPE_TO_TRACK_TYPE=void 0;var r=n(11),i=t.DATATYPE_TO_TRACK_TYPE=function(e){var t={},n=function(t){return!!(t.orientation===e||"1d-vertical"===e&&"1d-horizontal"===t.orientation&&t.rotatable)};return r.TRACKS_INFO.filter(n).forEach((function(e){var n=e.datatype;Array.isArray(e.datatype)||(n=[n]),n.forEach((function(n){n in t||(t[n]=[]),t[n].push(e)}))})),t.none=[],t};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.HEATED_OBJECT_MAP=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]];t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IS_TRACK_RANGE_SELECTABLE=void 0;var r=n(10),i=t.IS_TRACK_RANGE_SELECTABLE=function e(t){switch(t.type){case"heatmap":case"horizontal-1d-heatmap":case"horizontal-bar":case"horizontal-line":case"horizontal-point":case"vertical-1d-heatmap":case"vertical-bar":case"vertical-line":case"vertical-point":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":case"horizontal-multivec":return!0;case"combined":return t.contents.map((function(t){return e(t)})).reduce(r.or,!1);default:return!1}};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OPTIONS_INFO=void 0;var r=c(n(19)),i=c(n(37)),o=c(n(17)),a=c(n(34)),s=c(n(44)),l=n(20),u=c(n(557));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){if(!e.header)return[];for(var t=e.header.split("\t"),n=[],r=0;r<t.length;r++)n.push({name:t[r],value:r+1});return n},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.reduce((function(e,r){return e[r]={name:""+r*n+String(t),value:r},e}),{})},d={yes:{name:"Yes",value:!0},no:{name:"No",value:!1}},p={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},m={use_stroke:{name:"Glyph color",value:"[glyph-color]"}},v=f([1,2,3,5,8,13,21]),g=(0,s.default)(v,{none:{name:"none",value:"none"}}),y=f([0,2,4,8,16,32,64,128,256]),b=f([0,.2,.4,.6,.8,1],"%",100),_=f([.2,.4,.6,.8,1],"%",100),x=t.OPTIONS_INFO={axisLabelFormatting:{name:"Axis Label Formatting",inlineOptions:{normal:{name:"normal",value:"normal"},scientific:{name:"scientific",value:"scientific"}}},flipDiagonal:{name:"Flip Across Diagonal",inlineOptions:{none:{name:"No",value:"none"},yes:{name:"Yes",value:"yes"},copy:{name:"Copy",value:"copy"}}},heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},extent:{name:"Extent",inlineOptions:{full:{name:"Full",value:"full"},upperRight:{name:"Upper Right",value:"upper-right"},lowerLeft:{name:"Lower Left",value:"lower-left"}}},labelLeftMargin:{name:"Label Left Margin",inlineOptions:y},labelRightMargin:{name:"Label Right Margin",inlineOptions:y},labelTopMargin:{name:"Label Top Margin",inlineOptions:y},labelBottomMargin:{name:"Label Bottom Margin",inlineOptions:y},labelShowResolution:{name:"Label Show Resolution",inlineOptions:d},labelShowAssembly:{name:"Label Show Assembly",inlineOptions:d},lineStrokeWidth:{name:"Stroke Width",inlineOptions:v},strokeWidth:{name:"Stroke Width",inlineOptions:v},trackBorderWidth:{name:"Track Border Width",inlineOptions:v},separatePlusMinusStrands:{name:"Separate +/- strands",inlineOptions:d},sortLargestOnTop:{name:"Sort Largest On Top",inlineOptions:d},showTexts:{name:"Show texts",inlineOptions:d},staggered:{name:"Staggered",inlineOptions:d},minSquareSize:{name:"Minimum size",inlineOptions:g},pointSize:{name:"Point Size",inlineOptions:v},pointColor:{name:"Point Color",inlineOptions:p},trackBorderColor:{name:"Track Border Color",inlineOptions:p},backgroundColor:{name:"Background Color",inlineOptions:{white:{name:"White",value:"white"},lightGrey:{name:"Light Grey",value:"#eeeeee"},grey:{name:"Grey",value:"#cccccc"},black:{name:"Black",value:"black"},transparent:{name:"Transparent",value:"transparent"}}},colorScale:{name:"Color Scale",inlineOptions:{epilogos:{name:"Epilogos",values:["#FF0000","#FF4500","#32CD32","#008000","#006400","#C2E105","#FFFF00","#66CDAA","#8A91D0","#CD5C5C","#E9967A","#BDB76B","#808080","#C0C0C0","#FFFFFF"]},category10:{name:"D3 Category10",values:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]}}},minusStrandColor:{name:"- Strand Color",inlineOptions:p},plusStrandColor:{name:"+ Strand Color",inlineOptions:p},lineStrokeColor:{name:"Stroke color",inlineOptions:p},projectionStrokeColor:{name:"Stroke color",inlineOptions:p},projectionFillColor:{name:"Fill color",inlineOptions:p},stroke:{name:"Stroke Color",inlineOptions:p},strokeColor:{name:"Stroke color",inlineOptions:p},fill:{name:"Fill Color",inlineOptions:p},color:{name:"Color",inlineOptions:p},fontColor:{name:"Font color",inlineOptions:p},fillColor:{name:"Fill color",inlineOptions:p},barFillColor:{name:"Fill color",inlineOptions:p},barFillColorTop:{name:"Top Fill color",inlineOptions:p},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:p},barOpacity:{name:"Bar opacity",inlineOptions:b},zeroLineVisible:{name:"Zero line visible",inlineOptions:d},zeroLineColor:{name:"Zero line color",inlineOptions:p},zeroLineOpacity:{name:"Zero line opacity",inlineOptions:_},fillOpacity:{name:"Fill Opacity",inlineOptions:b},strokeOpacity:{name:"Stroke Opacity",inlineOptions:b},strokePos:{name:"Stroke Position",inlineOptions:{aroundInner:{name:"Around Inner",value:"around"},aroundCenter:{name:"Around Center",value:null},hidden:{name:"Hidden",value:"hidden"},top:{name:"Top",value:"top"},right:{name:"Right",value:"right"},bottom:{name:"Bottom",value:"bottom"},left:{name:"Left",value:"left"}}},barBorder:{name:"Bar border",inlineOptions:d},scaledHeight:{name:"Scaled height",inlineOptions:d},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:p},rectangleDomainFillColor:{name:"Fill color",inlineOptions:p},rectangleDomainFillOpacity:{name:"Fill opacity",inlineOptions:b},rectangleDomainOpacity:{name:"Opacity",inlineOptions:b},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},showMousePosition:{name:"Show Mouse Position",inlineOptions:d},showTooltip:{name:"Show Tooltip",inlineOptions:d},fontSize:{name:"Font Size",inlineOptions:f([8,9,10,11,12,14,16,18,24],"px")},tickPositions:{name:"Tick Positions",inlineOptions:{even:{name:"Even",value:"even"},ends:{name:"Ends",value:"ends"}}},tickFormat:{name:"Tick Format",inlineOptions:{plain:{name:"Plain",value:"plain"},si:{name:"SI",value:"si"}}},colorEncoding:{name:"Color Encode Annotations",inlineOptions:{none:{name:"None",value:null},itemRgb:{name:"itemRgb",value:"itemRgb"}},generateOptions:h},fontIsAligned:{name:"Left-Align Font",inlineOptions:d},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},axisMargin:{name:"Axis Margin",inlineOptions:f([0,10,20,30,40,50,100,200,400],"px")},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarBackgroundColor:{name:"Colorbar Background Color",inlineOptions:p},colorbarBackgroundOpacity:{name:"Colorbar Background Opacity",inlineOptions:b},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:(0,a.default)({},p,m)},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:b},geneAnnotationHeight:{name:"Gene Annotation Height",inlineOptions:{8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16}}},annotationHeight:{name:"Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},scaled:{name:"scaled",value:"scaled"}}},maxAnnotationHeight:{name:"Max Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},none:{name:"none",value:null}}},annotationStyle:{name:"Annotation Style",inlineOptions:{box:{name:"Box",value:"box"},segment:{name:"Segment",value:"segment"}}},geneLabelPosition:{name:"Gene Label Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},geneStrandSpacing:{name:"Gene Strand Spacing",inlineOptions:{2:{name:"2px",value:2},4:{name:"4px",value:4},8:{name:"8px",value:8}}},labelBackgroundColor:{name:"Label Background Color",inlineOptions:p},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:b},viewResolution:{name:"View Resolution",inlineOptions:{high:{name:"High",value:384},medium:{name:"Medium",value:1024},low:{name:"Low",value:2048}}},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},magma:{name:"magma",value:["rgba(0,0,3,1)","rgba(0,0,4,1)","rgba(0,0,6,1)","rgba(1,0,7,1)","rgba(1,1,9,1)","rgba(1,1,11,1)","rgba(2,2,13,1)","rgba(2,2,15,1)","rgba(3,3,17,1)","rgba(4,3,19,1)","rgba(4,4,21,1)","rgba(5,4,23,1)","rgba(6,5,25,1)","rgba(7,5,27,1)","rgba(8,6,29,1)","rgba(9,7,32,1)","rgba(10,7,34,1)","rgba(11,8,36,1)","rgba(12,9,38,1)","rgba(13,10,40,1)","rgba(14,10,42,1)","rgba(15,11,45,1)","rgba(16,12,47,1)","rgba(17,12,49,1)","rgba(19,13,51,1)","rgba(20,13,54,1)","rgba(21,14,56,1)","rgba(22,14,58,1)","rgba(23,15,61,1)","rgba(25,15,63,1)","rgba(26,16,66,1)","rgba(27,16,68,1)","rgba(28,16,70,1)","rgba(30,17,73,1)","rgba(31,17,75,1)","rgba(33,17,78,1)","rgba(34,17,80,1)","rgba(36,17,83,1)","rgba(37,17,85,1)","rgba(39,17,87,1)","rgba(40,17,90,1)","rgba(42,17,92,1)","rgba(43,17,94,1)","rgba(45,17,97,1)","rgba(47,16,99,1)","rgba(49,16,101,1)","rgba(50,16,103,1)","rgba(52,16,105,1)","rgba(54,15,107,1)","rgba(55,15,108,1)","rgba(57,15,110,1)","rgba(59,15,112,1)","rgba(61,15,113,1)","rgba(62,15,114,1)","rgba(64,15,116,1)","rgba(66,15,117,1)","rgba(67,15,118,1)","rgba(69,15,119,1)","rgba(71,15,120,1)","rgba(72,16,120,1)","rgba(74,16,121,1)","rgba(76,16,122,1)","rgba(77,17,123,1)","rgba(79,17,123,1)","rgba(81,18,124,1)","rgba(82,18,124,1)","rgba(84,19,125,1)","rgba(85,20,125,1)","rgba(87,20,126,1)","rgba(88,21,126,1)","rgba(90,21,126,1)","rgba(92,22,127,1)","rgba(93,23,127,1)","rgba(95,23,127,1)","rgba(96,24,128,1)","rgba(98,25,128,1)","rgba(99,25,128,1)","rgba(101,26,128,1)","rgba(103,26,128,1)","rgba(104,27,129,1)","rgba(106,28,129,1)","rgba(107,28,129,1)","rgba(109,29,129,1)","rgba(110,30,129,1)","rgba(112,30,129,1)","rgba(113,31,129,1)","rgba(115,32,129,1)","rgba(117,32,129,1)","rgba(118,33,129,1)","rgba(120,33,129,1)","rgba(121,34,130,1)","rgba(123,35,130,1)","rgba(124,35,130,1)","rgba(126,36,130,1)","rgba(128,36,130,1)","rgba(129,37,129,1)","rgba(131,37,129,1)","rgba(132,38,129,1)","rgba(134,39,129,1)","rgba(136,39,129,1)","rgba(137,40,129,1)","rgba(139,40,129,1)","rgba(140,41,129,1)","rgba(142,41,129,1)","rgba(144,42,129,1)","rgba(145,42,129,1)","rgba(147,43,128,1)","rgba(148,43,128,1)","rgba(150,44,128,1)","rgba(152,44,128,1)","rgba(153,45,128,1)","rgba(155,46,127,1)","rgba(157,46,127,1)","rgba(158,47,127,1)","rgba(160,47,127,1)","rgba(161,48,126,1)","rgba(163,48,126,1)","rgba(165,49,126,1)","rgba(166,49,125,1)","rgba(168,50,125,1)","rgba(170,50,125,1)","rgba(171,51,124,1)","rgba(173,51,124,1)","rgba(175,52,123,1)","rgba(176,52,123,1)","rgba(178,53,123,1)","rgba(180,53,122,1)","rgba(181,54,122,1)","rgba(183,55,121,1)","rgba(185,55,121,1)","rgba(186,56,120,1)","rgba(188,56,120,1)","rgba(189,57,119,1)","rgba(191,57,118,1)","rgba(193,58,118,1)","rgba(194,59,117,1)","rgba(196,59,117,1)","rgba(198,60,116,1)","rgba(199,61,115,1)","rgba(201,61,115,1)","rgba(202,62,114,1)","rgba(204,63,113,1)","rgba(206,63,113,1)","rgba(207,64,112,1)","rgba(209,65,111,1)","rgba(210,66,110,1)","rgba(212,67,110,1)","rgba(213,67,109,1)","rgba(215,68,108,1)","rgba(216,69,107,1)","rgba(218,70,107,1)","rgba(219,71,106,1)","rgba(221,72,105,1)","rgba(222,73,104,1)","rgba(223,74,103,1)","rgba(225,75,103,1)","rgba(226,76,102,1)","rgba(227,78,101,1)","rgba(229,79,100,1)","rgba(230,80,100,1)","rgba(231,81,99,1)","rgba(232,83,98,1)","rgba(233,84,97,1)","rgba(234,85,97,1)","rgba(236,87,96,1)","rgba(237,88,95,1)","rgba(238,90,95,1)","rgba(239,91,94,1)","rgba(239,93,94,1)","rgba(240,95,93,1)","rgba(241,96,93,1)","rgba(242,98,93,1)","rgba(243,100,92,1)","rgba(243,101,92,1)","rgba(244,103,92,1)","rgba(245,105,92,1)","rgba(246,107,92,1)","rgba(246,108,92,1)","rgba(247,110,92,1)","rgba(247,112,92,1)","rgba(248,114,92,1)","rgba(248,116,92,1)","rgba(249,118,92,1)","rgba(249,120,92,1)","rgba(250,121,93,1)","rgba(250,123,93,1)","rgba(250,125,94,1)","rgba(251,127,94,1)","rgba(251,129,95,1)","rgba(251,131,95,1)","rgba(252,133,96,1)","rgba(252,135,97,1)","rgba(252,137,97,1)","rgba(252,139,98,1)","rgba(253,140,99,1)","rgba(253,142,100,1)","rgba(253,144,101,1)","rgba(253,146,102,1)","rgba(253,148,103,1)","rgba(254,150,104,1)","rgba(254,152,105,1)","rgba(254,154,106,1)","rgba(254,156,107,1)","rgba(254,157,108,1)","rgba(254,159,109,1)","rgba(254,161,110,1)","rgba(254,163,111,1)","rgba(254,165,112,1)","rgba(255,167,114,1)","rgba(255,169,115,1)","rgba(255,171,116,1)","rgba(255,172,118,1)","rgba(255,174,119,1)","rgba(255,176,120,1)","rgba(255,178,122,1)","rgba(255,180,123,1)","rgba(255,182,124,1)","rgba(255,184,126,1)","rgba(255,185,127,1)","rgba(255,187,129,1)","rgba(255,189,130,1)","rgba(255,191,132,1)","rgba(255,193,133,1)","rgba(255,195,135,1)","rgba(255,197,136,1)","rgba(255,198,138,1)","rgba(255,200,140,1)","rgba(255,202,141,1)","rgba(255,204,143,1)","rgba(254,206,144,1)","rgba(254,208,146,1)","rgba(254,209,148,1)","rgba(254,211,149,1)","rgba(254,213,151,1)","rgba(254,215,153,1)","rgba(254,217,155,1)","rgba(254,219,156,1)","rgba(254,220,158,1)","rgba(254,222,160,1)","rgba(254,224,162,1)","rgba(254,226,163,1)","rgba(253,228,165,1)","rgba(253,230,167,1)","rgba(253,231,169,1)","rgba(253,233,171,1)","rgba(253,235,172,1)","rgba(253,237,174,1)","rgba(253,239,176,1)","rgba(253,241,178,1)","rgba(253,242,180,1)","rgba(253,244,182,1)","rgba(253,246,184,1)","rgba(252,248,186,1)","rgba(252,250,188,1)","rgba(252,251,189,1)","rgba(252,253,191,1)"]},viridis:{name:"viridis",value:["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:u.default,"horizontal-heatmap":u.default}}}},align:{name:"Align",inlineOptions:{white:{name:"Top",value:"top"},lightGrey:{name:"Bottom",value:"bottom"}}},colorRangeGradient:{name:"Color Gradient",inlineOptions:d},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:function(){function e(e){var t=[];if(e.transforms){var n=!0,r=!1,i=void 0;try{for(var a,s=(0,o.default)(e.transforms);!(n=(a=s.next()).done);n=!0){var l=a.value;t.push({name:l.name,value:l.value})}}catch(u){r=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}return t}return e}()},aggregationMode:{name:"Aggregation Mode",inlineOptions:{},generateOptions:function(){function e(e){var t=[];return e.aggregationModes?(0,i.default)(e.aggregationModes).forEach((function(e){var n=e.name,r=e.value;t.push({name:n,value:r})})):t.push({name:"Default",value:"default"}),t}return e}()},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:function(){function e(e){if(e.maxZoom){for(var t=[],n=0;n<=e.maxZoom;n++){var i=e.maxWidth,o=e.binsPerDimension,a=e.maxZoom,s=1,u=1;if(e.resolutions){var c=e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));s=(0,r.default)(c,1)[0],u=c[n]}else u=e.maxWidth/(Math.pow(2,n)*e.binsPerDimension),s=i/(Math.pow(2,a)*o);var h=(0,l.precisionPrefix)(s,u),f=(0,l.formatPrefix)("."+String(h),u)(u);t.push({name:f,value:n.toString()})}return t}return[]}return e}()},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:h},zeroValueColor:{name:"Zero Value Color",inlineOptions:p}};t.default=x},function(e,t,n){n(556),e.exports=n(12).Object.values},function(e,t,n){var r=n(16),i=n(330)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(44)),i=m(n(35)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(7)),c=m(n(2)),h=m(n(1)),f=m(n(169)),d=m(n(232)),p=m(n(730));function m(e){return e&&e.__esModule?e:{default:e}}n(879);var v=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={colors:e.track.options.colorRange.slice()},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"handleColorsChanged",value:function(){function e(e){this.setState({colors:e})}return e}()},{key:"handleSubmit",value:function(){function e(){this.props.track.options.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}return e}()},{key:"handleAddColor",value:function(){function e(){this.setState((function(e){return{colors:e.colors.concat(e.colors[e.colors.length-1])}}))}return e}()},{key:"handleRemoveColor",value:function(){function e(e){this.setState((function(t){return{colors:t.colors.slice(0,e).concat(t.colors.slice(e+1))}}))}return e}()},{key:"render",value:function(){function e(){var e=this,t=JSON.parse((0,i.default)(this.props.track)),n=(0,r.default)(t,{options:{colorRange:this.state.colors}}),o={editable:!1,zoomFixed:!0,views:[{uid:"hmo-"+String(this.props.track.uid),initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[n]},layout:{x:0,y:0,h:12,w:12,i:"hmo-"+String(this.props.track.id)}}]},a=this.state.colors.map((function(t,n){var r=e.state.colors.length>2&&n===e.state.colors.length-1?h.default.createElement("div",{onClick:function(){function t(){return e.handleRemoveColor(n)}return t}(),style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2,cursor:"pointer"}},h.default.createElement("svg",{height:"10px",style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10}},h.default.createElement("use",{xlinkHref:"#cross"}))):null;return h.default.createElement("div",{key:"l"+String(n),style:{borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",position:"relative",outline:"none"}},r,h.default.createElement(p.default,{key:n,color:e.state.colors[n],onChange:function(){function t(t){e.setState((function(e){var r=e.colors.slice();return r[n]=t,{colors:r}}),(function(){e.handleColorsChanged(e.state.colors)}))}return t}()}))})).reverse(),s=this.state.colors.length<10?h.default.createElement("div",{onClick:this.handleAddColor.bind(this),style:{position:"relative",outline:"none",height:"25px",padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",cursor:"pointer"}},h.default.createElement("div",{style:{textAlign:"center",width:"32px",height:"14px"}},h.default.createElement("svg",{height:"100%",style:{opacity:.5,margin:"auto",display:"block"},width:"10px"},h.default.createElement("use",{xlinkHref:"#plus"})))):null;return h.default.createElement(f.default,{okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmit.bind(this),title:"Custom Color Map"},h.default.createElement("table",{className:"table-track-options"},h.default.createElement("thead",null),h.default.createElement("tbody",{style:{verticalAlign:"top"}},h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},h.default.createElement("table",null,h.default.createElement("tbody",null,h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},"Preview")),h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},h.default.createElement("div",{style:{width:200}},h.default.createElement(d.default,{options:{bounded:!1},viewConfig:o}))))))),h.default.createElement("td",{className:"td-track-options"},h.default.createElement("table",null,h.default.createElement("tbody",null,h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},"Colors")),h.default.createElement("tr",null,h.default.createElement("td",{className:"td-track-options"},s,h.default.createElement("div",{style:{position:"relative"}},a))))))))))}return e}()}]),t}(h.default.Component);v.propTypes={handleCancel:c.default.func,onCancel:c.default.func,onSubmit:c.default.func,track:c.default.object,xScale:c.default.object,yScale:c.default.object},t.default=v},function(e,t,n){n(559),e.exports=n(12).Object.getPrototypeOf},function(e,t,n){var r=n(54),i=n(128);n(126)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){e.exports={default:n(561),__esModule:!0}},function(e,t,n){n(61),n(76),e.exports=n(168).f("iterator")},function(e,t,n){n(563),e.exports=n(12).Object.setPrototypeOf},function(e,t,n){var r=n(16);r(r.S,"Object",{setPrototypeOf:n(564).set})},function(e,t,n){var r=n(33),i=n(39),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(49)(Function.call,n(228).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(566),__esModule:!0}},function(e,t,n){n(567);var r=n(12).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(16);r(r.S,"Object",{create:n(110)})},function(e,t,n){var r=n(569);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t,n){e.exports={button:"Button-module_button-3YXsQ","button-shortcut":"Button-module_button-shortcut-1zMAn"}},function(e,t,n){e.exports={cross:"Cross-module_cross-3WYME"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(29)),i=u(n(1)),o=u(n(2)),a=u(n(170)),s=u(n(332)),l=u(n(132));function u(e){return e&&e.__esModule?e:{default:e}}n(573);var c={"../styles/Modal.module.scss":{"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},h=function(e){var t=function(){e.modal.close(),e.onClose&&e.onClose()};return i.default.createElement("div",{className:(0,r.default)("modal-background "+(e.hide?"modal-hide":""),c)},i.default.createElement("div",{className:"Modal-module_modal-wrap-1HWNn"},i.default.createElement("div",{className:(0,r.default)("modal-window "+(e.maxHeight?"modal-window-max-height":""),c)},e.closeButton&&i.default.createElement(a.default,{onClick:t},i.default.createElement(s.default,null)),i.default.createElement("div",{className:"Modal-module_modal-content-2xb_x"},e.children))))};h.defaultProps={closeButton:!0,hide:!1,maxHeight:!1},h.propTypes={children:o.default.element.isRequired,closeButton:o.default.bool,hide:o.default.bool,maxHeight:o.default.bool,modal:o.default.object.isRequired,onClose:o.default.func},t.default=(0,l.default)(h)},function(e,t,n){e.exports={"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},function(e,t,n){e.exports={"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},function(e,t,n){e.exports={default:n(576),__esModule:!0}},function(e,t,n){n(577),e.exports=n(12).Object.entries},function(e,t,n){var r=n(16),i=n(330)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){n(164),n(61),n(76),n(579),n(583),n(585),n(586),e.exports=n(12).Set},function(e,t,n){var r=n(333),i=n(238),o="Set";e.exports=n(334)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,o),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(49),i=n(105),o=n(54),a=n(88),s=n(581);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,h=6==e,f=5==e||h,d=t||s;return function(t,s,p){for(var m,v,g=o(t),y=i(g),b=r(s,p,3),_=a(y.length),x=0,T=n?d(t,_):l?d(t,0):void 0;_>x;x++)if((f||x in y)&&(v=b(m=y[x],x,g),e))if(n)T[x]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return x;case 2:T.push(m)}else if(c)return!1;return h?-1:u||c?c:T}}},function(e,t,n){var r=n(582);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(33),i=n(328),o=n(21)("species");e.exports=function(e){var t;return i(e)&&("function"==typeof(t=e.constructor)&&(t===Array||i(t.prototype))&&(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(16);r(r.P+r.R,"Set",{toJSON:n(335)("Set")})},function(e,t,n){var r=n(129);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(336)("Set")},function(e,t,n){n(337)("Set")},function(e,t,n){(function(e){var r=n(590);t.encode=function(t){var n=r.parse(t);return new e(n).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.decode=function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/")+"==";return r.unparse(new e(n,"base64"))},t.v4=function(){return r.v4(null,new e(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.nice=function(){var t=r.v4(null,new e(16));return t[0]=127&t[0],t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}}).call(this,n(113).Buffer)},function(e,t,n){t.byteLength=c,t.toByteArray=f,t.fromByteArray=m;for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function h(e,t,n){return 3*(t+n)/4-n}function f(e){for(var t,n=u(e),r=n[0],a=n[1],s=new o(h(e,r,a)),l=0,c=a>0?r-4:r,f=0;f<c;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,s[l++]=255&t),1===a&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s}function d(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(d(r));return i.join("")}function m(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(p(e,s,s+a>l?l:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},function(e,t,n){for(var r=n(591),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a;function s(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){i<16&&(t[r+i++]=o[e])}));i<16;)t[r+i++]=0;return t}function l(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var u=r(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],h=16383&(u[6]<<8|u[7]),f=0,d=0;function p(e,t,n){var r=t&&n||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:h,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),s=void 0!==e.nsecs?e.nsecs:d+1,u=a-f+(s-d)/1e4;if(u<0&&void 0===e.clockseq&&(o=o+1&16383),(u<0||a>f)&&void 0===e.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,d=s,h=o;var p=(1e4*(268435455&(a+=122192928e5))+s)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=a/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var v=e.node||c,g=0;g<6;g++)i[r+g]=v[g];return t||l(i)}function m(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[i+a]=o[a];return t||l(o)}var v=m;v.v1=p,v.v4=m,v.parse=s,v.unparse=l,e.exports=v},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(27))},function(e,t,n){e.exports=n(339).default,e.exports.utils=n(133),e.exports.Responsive=n(597).default,e.exports.Responsive.utils=n(343),e.exports.WidthProvider=n(598).default},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=n(341),s=n(594),l=n(133),u=c(n(340));function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){var n,r;h(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(o))),r.state={resizing:null,dragging:null,className:""},f(r,n)}return d(t,e),t.prototype.calcColWidth=function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,i=e.cols;return(r-t[0]*(i-1)-2*n[0])/i},t.prototype.calcPosition=function(e,t,n,r,i){var o=this.props,a=o.margin,s=o.containerPadding,l=o.rowHeight,u=this.calcColWidth(),c={left:Math.round((u+a[0])*e+s[0]),top:Math.round((l+a[1])*t+s[1]),width:n===1/0?n:Math.round(u*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(l*r+Math.max(0,r-1)*a[1])};return i&&i.resizing&&(c.width=Math.round(i.resizing.width),c.height=Math.round(i.resizing.height)),i&&i.dragging&&(c.top=Math.round(i.dragging.top),c.left=Math.round(i.dragging.left)),c},t.prototype.calcXY=function(e,t){var n=this.props,r=n.margin,i=n.cols,o=n.rowHeight,a=n.w,s=n.h,l=n.maxRows,u=this.calcColWidth(),c=Math.round((t-r[0])/(u+r[0])),h=Math.round((e-r[1])/(o+r[1]));return{x:c=Math.max(Math.min(c,i-a),0),y:h=Math.max(Math.min(h,l-s),0)}},t.prototype.calcWH=function(e){var t=e.height,n=e.width,r=this.props,i=r.margin,o=r.maxRows,a=r.cols,s=r.rowHeight,l=r.x,u=r.y,c=this.calcColWidth(),h=Math.round((n+i[0])/(c+i[0])),f=Math.round((t+i[1])/(s+i[1]));return{w:h=Math.max(Math.min(h,a-l),0),h:f=Math.max(Math.min(f,o-u),0)}},t.prototype.createStyle=function(e){var t=this.props,n=t.usePercentages,r=t.containerWidth,i=void 0;return t.useCSSTransforms?i=(0,l.setTransform)(e):(i=(0,l.setTopLeft)(e),n&&(i.left=(0,l.perc)(e.left/r),i.width=(0,l.perc)(e.width/r))),i},t.prototype.mixinDraggable=function(e){return i.default.createElement(a.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)},t.prototype.mixinResizable=function(e,t){var n=this.props,r=n.cols,o=n.x,a=n.minW,l=n.minH,u=n.maxW,c=n.maxH,h=this.calcPosition(0,0,r-o,0).width,f=this.calcPosition(0,0,a,l),d=this.calcPosition(0,0,u,c),p=[f.width,f.height],m=[Math.min(d.width,h),Math.min(d.height,1/0)];return i.default.createElement(s.Resizable,{width:t.width,height:t.height,minConstraints:p,maxConstraints:m,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},t.prototype.onDragHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s=t.props[e];if(s){var l={top:0,left:0};switch(e){case"onDragStart":var u=i.offsetParent;if(!u)return;var c=u.getBoundingClientRect(),h=i.getBoundingClientRect();l.left=h.left-c.left+u.scrollLeft,l.top=h.top-c.top+u.scrollTop,t.setState({dragging:l});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");l.left=t.state.dragging.left+o,l.top=t.state.dragging.top+a,t.setState({dragging:l});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");l.left=t.state.dragging.left,l.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var f=t.calcXY(l.top,l.left),d=f.x,p=f.y;return s.call(t,t.props.i,d,p,{e:n,node:i,newPosition:l})}}},t.prototype.onResizeHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.size,a=t.props[e];if(a){var s=t.props,l=s.cols,u=s.x,c=s.i,h=s.maxW,f=s.minW,d=s.maxH,p=s.minH,m=t.calcWH(o),v=m.w,g=m.h;v=Math.min(v,l-u),v=Math.max(v,1),v=Math.max(Math.min(v,h),f),g=Math.max(Math.min(g,d),p),t.setState({resizing:"onResizeStop"===e?null:o}),a.call(t,c,v,g,{e:n,node:i,size:o})}}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,o=e.w,a=e.h,s=e.isDraggable,l=e.isResizable,c=e.useCSSTransforms,h=this.calcPosition(t,n,o,a,this.state),f=i.default.Children.only(this.props.children),d=i.default.cloneElement(f,{className:(0,u.default)("react-grid-item",f.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":s,"react-draggable-dragging":!!this.state.dragging,cssTransforms:c}),style:r({},this.props.style,f.props.style,this.createStyle(h))});return l&&(d=this.mixinResizable(d,h)),s&&(d=this.mixinDraggable(d)),d},t}(i.default.Component);p.propTypes={children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,className:o.default.string,handle:o.default.string,cancel:o.default.string},p.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},t.default=p},function(e,t,n){e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(342).default,e.exports.ResizableBox=n(596).default},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e,t){return t.style&&e.props.style&&(t.style=r({},e.props.style,t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),i.default.cloneElement(e,t)}},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(1)),o=s(n(2)),a=s(n(342));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){var n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,e.call.apply(e,[this].concat(o))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(e,t){var n=t.size;n.width,n.height,r.props.onResize?(e.persist&&e.persist(),r.setState(n,(function(){return r.props.onResize&&r.props.onResize(e,t)}))):r.setState(n)},c(r,n)}return h(t,e),t.prototype.componentWillReceiveProps=function(e){(e.width!==this.props.width||e.height!==this.props.height)&&this.setState({width:e.width,height:e.height})},t.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize;e.onResize;var o=e.onResizeStart,s=e.onResizeStop,u=e.draggableOpts,c=e.minConstraints,h=e.maxConstraints,f=e.lockAspectRatio,d=e.axis;e.width,e.height;var p=e.resizeHandles,m=l(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles"]);return i.default.createElement(a.default,{handle:t,handleSize:n,width:this.state.width,height:this.state.height,onResizeStart:o,onResize:this.onResize,onResizeStop:s,draggableOpts:u,minConstraints:c,maxConstraints:h,lockAspectRatio:f,axis:d,resizeHandles:p},i.default.createElement("div",r({style:{width:this.state.width+"px",height:this.state.height+"px"}},m)))},t}(i.default.Component);f.propTypes={height:o.default.number,width:o.default.number},f.defaultProps={handleSize:[20,20]},t.default=f},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(172)),s=n(133),l=n(343),u=c(n(339));function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){return Object.prototype.toString.call(e)},v=function(e){function t(){var n,i;f(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=d(this,e.call.apply(e,[this].concat(a))),i.state=i.generateInitialState(),i.onLayoutChange=function(e){var t;i.props.onLayoutChange(e,r({},i.props.layouts,((t={})[i.state.breakpoint]=e,t)))},d(i,n)}return p(t,e),t.prototype.generateInitialState=function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,i=e.cols,o=(0,l.getBreakpointFromWidth)(n,t),a=(0,l.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}},t.prototype.componentWillReceiveProps=function(e){if(e.width==this.props.width&&e.breakpoint===this.props.breakpoint&&(0,a.default)(e.breakpoints,this.props.breakpoints)&&(0,a.default)(e.cols,this.props.cols)){if(!(0,a.default)(e.layouts,this.props.layouts)){var t=this.state,n=t.breakpoint,r=t.cols,i=(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType);this.setState({layout:i})}}else this.onWidthChange(e)},t.prototype.onWidthChange=function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,i=e.compactType,o=e.breakpoint||(0,l.getBreakpointFromWidth)(e.breakpoints,e.width),a=this.state.breakpoint;if(a!==o||this.props.breakpoints!==t||this.props.cols!==n){a in r||(r[a]=(0,s.cloneLayout)(this.state.layout));var u=(0,l.getColsFromBreakpoint)(o,n),c=(0,l.findOrGenerateResponsiveLayout)(r,t,o,a,u,i);c=(0,s.synchronizeLayoutWithChildren)(c,e.children,u,i),r[o]=c,this.props.onLayoutChange(c,r),this.props.onBreakpointChange(o,u),this.props.onWidthChange(e.width,e.margin,u,e.containerPadding),this.setState({breakpoint:o,layout:c,cols:u})}},t.prototype.render=function(){var e=this.props;e.breakpoint,e.breakpoints,e.cols,e.layouts,e.onBreakpointChange,e.onLayoutChange,e.onWidthChange;var t=h(e,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]);return i.default.createElement(u.default,r({},t,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(i.default.Component);v.propTypes={breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,layouts:function(e,t){if("[object Object]"!==m(e[t]))throw new Error("Layout property must be an object. Received: "+m(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func},v.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop},t.default=v},function(e,t,n){t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=f;var i=s(n(1)),o=s(n(2)),a=s(n(42));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e){var t,n;return n=t=function(t){function n(){var e,r;u(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=c(this,t.call.apply(t,[this].concat(o))),r.state={width:1280},r.mounted=!1,r.onWindowResize=function(){if(r.mounted){var e=a.default.findDOMNode(r);e instanceof HTMLElement&&r.setState({width:e.offsetWidth})}},c(r,e)}return h(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){var t=this.props,n=t.measureBeforeMount,o=l(t,["measureBeforeMount"]);return n&&!this.mounted?i.default.createElement("div",{className:this.props.className,style:this.props.style}):i.default.createElement(e,r({},o,this.state))},n}(i.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:o.default.bool},n}},function(e,t,n){var r,i,o,a;"undefined"!=typeof window&&window,a=function(e){var t=function(){var t,n={},r=[];function i(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function o(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function a(e,t){var n=t.split(/\d/),r=n[n.length-1];switch(t=parseFloat(t),r){case"px":default:return t;case"em":return t*i(e);case"rem":return t*i();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return t*(0,Math["vmin"===r?"min":"max"])(o,a)}}function s(e,t){this.element=e;var r,i,s,l,u,c,h,f,d=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in s=o(this.element),c={},n[t])n[t].hasOwnProperty(r)&&(i=n[t][r],l=a(this.element,i.value),u="width"===i.property?s.width:s.height,f=i.mode+"-"+i.property,h="","min"===i.mode&&u>=l&&(h+=i.value),"max"===i.mode&&u<=l&&(h+=i.value),c[f]||(c[f]=""),h&&-1===(" "+c[f]+" ").indexOf(" "+h+" ")&&(c[f]+=" "+h));for(var e in d)d.hasOwnProperty(e)&&(c[d[e]]?this.element.setAttribute(d[e],c[d[e]].substr(1)):this.element.removeAttribute(d[e]))}}function l(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new s(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,(function(){t.elementQueriesSetupInformation.call()}))),t.elementQueriesSetupInformation.call()}function u(e,i,o,a){if("undefined"==typeof n[e]){n[e]=[];var s=r.length;t.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",t.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+s+"px;}",r.push(e)}n[e].push({mode:i,property:o,value:a})}function c(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),!t&&"undefined"!=typeof $$&&(t=$$),!t&&"undefined"!=typeof jQuery&&(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function h(e){var t=c(e);for(var r in n)if(n.hasOwnProperty(r))for(var i=t(r,e),o=0,a=i.length;o<a;o++)l(i[o],r)}function f(t){var n=[],r=[],i=[],o=0,a=-1,s=[];for(var l in t.children)if(t.children.hasOwnProperty(l)&&t.children[l].tagName&&"img"===t.children[l].tagName.toLowerCase()){n.push(t.children[l]);var u=t.children[l].getAttribute("min-width")||t.children[l].getAttribute("data-min-width"),c=t.children[l].getAttribute("data-src")||t.children[l].getAttribute("url");i.push(c);var h={minWidth:u};r.push(h),u?t.children[l].style.display="none":(o=n.length-1,t.children[l].style.display="block")}function f(){var e,l=!1;for(e in n)n.hasOwnProperty(e)&&r[e].minWidth&&t.offsetWidth>r[e].minWidth&&(l=e);if(l||(l=o),a!==l)if(s[l])n[a].style.display="none",n[l].style.display="block",a=l;else{var u=new Image;u.onload=function(){n[l].src=i[l],n[a].style.display="none",n[l].style.display="block",s[l]=!0,a=l},u.src=i[l]}else n[l].src=i[l]}a=o,t.resizeSensorInstance=new e(t,f),f()}function d(){for(var e=c()("[data-responsive-image],[responsive-image]"),t=0,n=e.length;t<n;t++)f(e[t])}var p=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,m=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function v(e){var t,n,r,i;for(e=e.replace(/'/g,'"');null!==(t=p.exec(e));)for(n=t[1]+t[3],r=t[2];null!==(i=m.exec(r));)u(n,i[1],i[2],i[3])}function g(e){var t="";if(e)if("string"==typeof e)(-1!==(e=e.toLowerCase()).indexOf("min-width")||-1!==e.indexOf("max-width"))&&v(e);else for(var n=0,r=e.length;n<r;n++)1===e[n].type?(-1!==(t=e[n].selectorText||e[n].cssText).indexOf("min-height")||-1!==t.indexOf("max-height")||-1!==t.indexOf("min-width")||-1!==t.indexOf("max-width"))&&v(t):4===e[n].type?g(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&g(e[n].styleSheet.cssRules)}var y=!1;this.init=function(){var n="animationstart";"undefined"!=typeof document.documentElement.style.webkitAnimationName?n="webkitAnimationStart":"undefined"!=typeof document.documentElement.style.MozAnimationName?n="mozanimationstart":"undefined"!=typeof document.documentElement.style.OAnimationName&&(n="oanimationstart"),document.body.addEventListener(n,(function(t){var n=t.target,i=n&&window.getComputedStyle(n,null),o=i&&i.getPropertyValue("animation-name");if(o&&-1!==o.indexOf("element-queries")){n.elementQueriesSensor=new e(n,(function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()}));var a=window.getComputedStyle(n.resizeSensor,null).getPropertyValue("min-width");a=parseInt(a.replace("px","")),l(t.target,r[a])}})),y||((t=document.createElement("style")).type="text/css",t.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",t.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(t),y=!0);for(var i=0,o=document.styleSheets.length;i<o;i++)try{document.styleSheets[i].href&&0===document.styleSheets[i].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[i].href),g(document.styleSheets[i].cssRules||document.styleSheets[i].rules||document.styleSheets[i].cssText)}catch(a){}d()},this.findElementQueriesElements=function(e){h(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))}),10);else window.onload=e};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){n(t.init)},t},i=[n(345)],void 0!==(o="function"==typeof(r=a)?r.apply(t,i):r)&&(e.exports=o)},function(e,t){function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+t);return n}function r(){this.step="    ",this.shift=n(this.step)}function i(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,o=!1,a=0,s="",l=0,u=t?n(t):this.shift;for(l=0;l<i;l++)r[l].search(/<!/)>-1?(s+=u[a]+r[l],o=!0,(r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1||r[l].search(/!DOCTYPE/)>-1)&&(o=!1)):r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1?(s+=r[l],o=!1):/^<\w/.exec(r[l-1])&&/^<\/\w/.exec(r[l])&&/^<[\w:\-\.\,]+/.exec(r[l-1])==/^<\/[\w:\-\.\,]+/.exec(r[l])[0].replace("/","")?(s+=r[l],o||a--):r[l].search(/<\w/)>-1&&-1==r[l].search(/<\//)&&-1==r[l].search(/\/>/)?s=s+=o?r[l]:u[a++]+r[l]:r[l].search(/<\w/)>-1&&r[l].search(/<\//)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\//)>-1?s=s+=o?r[l]:u[--a]+r[l]:r[l].search(/\/>/)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\?/)>-1||r[l].search(/xmlns\:/)>-1||r[l].search(/xmlns\=/)>-1?s+=u[a]+r[l]:s+=r[l];return"\n"==s[0]?s.slice(1):s},r.prototype.json=function(e,t){return t=t||this.step,"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},r.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,o=0,a="",s=0,l=t?n(t):this.shift;for(s=0;s<i;s++)/\{/.exec(r[s])?a+=l[o++]+r[s]:/\}/.exec(r[s])?a+=l[--o]+r[s]:(/\*\\/.exec(r[s]),a+=l[o]+r[s]);return a.replace(/^\n{1,}/,"")},r.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=r.length,s=[],l=0,u=this.step,c=0,h="",f=0,d=t?n(t):this.shift;for(f=0;f<a;f++)s=f%2?s.concat(r[f]):s.concat(o(r[f],u));for(a=s.length,f=0;f<a;f++)c=i(s[f],c),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[f])&&(s[f]=s[f].replace(/\,/g,",\n"+u+u)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[f])&&(s[f]=s[f].replace(/\,/g,",\n"+u+u)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[f])?h+=d[++l]+s[f]:/\'/.exec(s[f])?(c<1&&l&&l--,h+=s[f]):(h+=d[l]+s[f],c<1&&l&&l--);return h=h.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},r.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new r},function(e,t,n){(function(t){var r=n(602),i=n(603),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function h(e){var n,r=("undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{}).location||{},i={},a=typeof(e=e||r);if("blob:"===e.protocol)i=new p(unescape(e.pathname),{});else if("string"===a)for(n in i=new p(e,{}),c)delete i[n];else if("object"===a){for(n in e)n in c||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=o.test(e.href))}return i}function f(e){e=l(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function d(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),("."===i||".."===i)&&n.push(""),n.join("/")}function p(e,t,n){if(e=l(e),!(this instanceof p))return new p(e,t,n);var o,a,s,c,m,v,g=u.slice(),y=typeof t,b=this,_=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=h(t),o=!(a=f(e||"")).protocol&&!a.slashes,b.slashes=a.slashes||o&&t.slashes,b.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(g[3]=[/(.*)/,"pathname"]);_<g.length;_++)"function"!=typeof(c=g[_])?(s=c[0],v=c[1],s!==s?b[v]=e:"string"==typeof s?~(m=e.indexOf(s))&&("number"==typeof c[2]?(b[v]=e.slice(0,m),e=e.slice(m+c[2])):(b[v]=e.slice(m),e=e.slice(0,m))):(m=s.exec(e))&&(b[v]=m[1],e=e.slice(0,m.index)),b[v]=b[v]||o&&c[3]&&t[v]||"",c[4]&&(b[v]=b[v].toLowerCase())):e=c(e);n&&(b.query=n(b.query)),o&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=d(b.pathname,t.pathname)),r(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(c=b.auth.split(":"),b.username=c[0]||"",b.password=c[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}function m(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;default:o[e]=t}for(var s=0;s<u.length;s++){var l=u[s];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o}function v(e){(!e||"function"!=typeof e)&&(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}p.prototype={set:m,toString:v},p.extractProtocol=f,p.location=h,p.trimLeft=l,p.qs=i,e.exports=p}).call(this,n(27))},function(e,t,n){e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){var r,i=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function a(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=o(t[1]),a=o(t[2]);null===i||null===a||i in r||(r[i]=a)}return r}function s(e,t){t=t||"";var n,o,a=[];for(o in"string"!=typeof t&&(t="?"),e)if(i.call(e,o)){if(!(n=e[o])&&(null===n||n===r||isNaN(n))&&(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?t+a.join("&"):""}t.stringify=s,t.parse=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=z(n(38)),i=z(n(17)),o=z(n(63)),a=z(n(55)),s=z(n(44)),l=z(n(37)),u=z(n(35)),c=z(n(18)),h=z(n(25)),f=z(n(5)),d=z(n(3)),p=z(n(4)),m=z(n(6)),v=z(n(7)),g=n(0),y=z(n(26)),b=z(n(1)),_=z(n(42)),x=z(n(2)),T=n(344),w=z(n(67)),S=z(n(605)),E=z(n(607)),k=z(n(609)),C=z(n(611)),A=z(n(655)),O=z(n(662)),P=z(n(664)),M=z(n(264)),I=z(n(96)),R=z(n(392)),L=z(n(670)),D=z(n(673)),N=z(n(69)),j=z(n(132)),B=z(n(78)),F=n(10),H=n(11);function z(e){return e&&e.__esModule?e:{default:e}}z(n(176)),z(n(346));var U=function(e){function t(e){(0,d.default)(this,t);var n=(0,m.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));n.closing=!1;var r=n.props.tracks;return n.canvasElement=null,n.tracksByUidInit={},[].concat((0,h.default)(n.props.tracks.top||[]),(0,h.default)(n.props.tracks.right||[]),(0,h.default)(n.props.tracks.bottom||[]),(0,h.default)(n.props.tracks.left||[]),(0,h.default)(n.props.tracks.gallery||[]),(0,h.default)(n.props.tracks.center||[])).forEach((function(e){"combined"===e.type?e.contents.forEach((function(e){n.tracksByUidInit[e.uid]=!1})):n.tracksByUidInit[e.uid]=!1})),n.xScale=null,n.yScale=null,n.addUidsToTracks(r),n.trackToReplace=null,n.trackRenderer=null,n.configTrackMenu=null,n.state={sizeMeasured:!1,height:10,width:10,tracks:r,init:!1,addTrackPosition:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],rangeSelectionEnd:!1,chromInfo:null,defaultChromSizes:null,contextMenuCustomItems:null,contextMenuPosition:null,addDivisorDialog:null},n.reset=!0,window.higlassTracksByType&&(0,c.default)(window.higlassTracksByType).forEach((function(e){H.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),n.topHeight=0,n.bottomHeight=0,n.leftWidth=0,n.rightWidth=0,n.centerHeight=0,n.centerWidth=0,n.dragTimeout=null,n.previousPropsStr="",n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.handleNoTrackAddedBound=n.handleNoTrackAdded.bind(n),n.handleTracksAddedBound=n.handleTracksAdded.bind(n),n.closeMenusBound=n.closeMenus.bind(n),n.handleAddDivisorBound=n.handleAddDivisor.bind(n),n.handleAddSeriesBound=n.handleAddSeries.bind(n),n.handleChangeTrackDataBound=n.handleChangeTrackData.bind(n),n.handleChangeTrackTypeBound=n.handleChangeTrackType.bind(n),n.handleCloseTrackBound=n.handleCloseTrack.bind(n),n.handleConfigureTrackBound=n.handleConfigureTrack.bind(n),n.handleExportTrackDataBound=n.handleExportTrackData.bind(n),n.handleLockValueScaleBound=n.handleLockValueScale.bind(n),n.handleReplaceTrackBound=n.handleReplaceTrack.bind(n),n.handleTrackOptionsChangedBound=n.handleTrackOptionsChanged.bind(n),n.handleUnlockValueScaleBound=n.handleUnlockValueScale.bind(n),n.onAddTrack=n.handleAddTrack.bind(n),n}return(0,v.default)(t,e),(0,p.default)(t,[{key:"waitForDOMAttachment",value:function(){function e(e){var t=this;if(this.mounted){var n=_.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame((function(){return t.waitForDOMAttachment(e)}))}}return e}()},{key:"componentDidMount",value:function(){function e(){var e=this;this.mounted=!0,this.element=_.default.findDOMNode(this),this.canvasElement=_.default.findDOMNode(this.props.canvasElement),this.waitForDOMAttachment((function(){T.ElementQueries.listen(),e.resizeSensor=new T.ResizeSensor(e.element.parentNode,e.measureSize.bind(e)),e.measureSize()})),this.addEventListeners(),this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("contextmenu",this.contextMenuHandlerBound))}return e}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function e(e){this.addUidsToTracks(e.tracks),this.setState({tracks:e.tracks})}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){var n=this,r=this.previousPropsStr,i=this.updatablePropsToString(e),o=(0,u.default)(this.state),a=(0,u.default)(t),s=r!==i||o!==a||this.props.chooseTrackHandler!==e.chooseTrackHandler;s&&(this.previousPropsStr=i);var l=this.numTracks;return this.numTracks=0,(0,F.visitPositionedTracks)(this.props.tracks,(function(){return n.numTracks++})),this.reset=this.reset||0===l&&this.numTracks>0,this.numTracks||(this.tracksByUidInit={}),s}return e}()},{key:"UNSAFE_componentWillUpdate",value:function(){function e(){}return e}()},{key:"componentDidUpdate",value:function(){function e(e,t){var n=this;if(t.rangeSelection!==this.state.rangeSelection){var r=[null,null];this.state.defaultChromSizes&&this.state.rangeSelection.every((function(e){return e&&e.length}))&&(r=this.state.rangeSelection.map((function(e){return F.dataToGenomicLoci.apply(void 0,(0,h.default)(e).concat([n.state.defaultChromSizes]))}))),this.props.onRangeSelection({dataRange:this.state.rangeSelection,genomicRange:r})}if(e.tracks.center,this.props.tracks.center,(this.state.addTrackPosition||this.props.addTrackPosition)&&this.props.modal.open(b.default.createElement(A.default,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAddedBound,onTracksChosen:this.handleTracksAddedBound,position:this.state.addTrackPosition||this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),this.state.addDivisorDialog){var i=this.state.addDivisorDialog;this.props.modal.open(b.default.createElement(A.default,{datatype:H.TRACKS_INFO_BY_TYPE[i.type].datatype[0],host:this.state.addTrackHost,onCancel:function(){function e(){n.setState({addDivisorDialog:null})}return e}(),onTracksChosen:function(){function e(e){n.handleDivisorChosen(i,e)}return e}(),trackSourceServers:this.props.trackSourceServers}))}}return e}()},{key:"componentWillUnmount",value:function(){function e(){var e=this;this.closing=!0,this.removeEventListeners(),this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)}))}return e}()},{key:"addUidsToTracks",value:function(){function e(e){(0,c.default)(e).forEach((function(t){e[t].forEach((function(e){e.uid=e.uid||y.default.nice()}))}))}return e}()},{key:"contextMenuHandler",value:function(){function e(e){if(this.divTiledPlot){var t=this.divTiledPlot.getBoundingClientRect();if((0,F.isWithin)(e.clientX,e.clientY,t.left,t.left+t.width,t.top,t.top+t.height)){var n=[e.clientX,e.clientY],r=(0,g.clientPoint)(this.divTiledPlot,e),i=this.trackRenderer.zoomedXScale.invert(r[0]),o=this.trackRenderer.zoomedYScale.invert(r[1]),a=null;e.hgCustomItems&&(a=e.hgCustomItems.map((function(e){return b.default.createElement(w.default,{key:e.key,onClick:e.onClick},e.text)}))),this.setState({contextMenuCustomItems:a,contextMenuPosition:{left:n[0],top:n[1],canvasLeft:r[0]+this.trackRenderer.xPositionOffset,canvasTop:r[1]+this.trackRenderer.yPositionOffset},contextMenuDataX:i,contextMenuDataY:o})}}}return e}()},{key:"measureSize",value:function(){function e(){this.element.clientWidth>0&&this.element.clientHeight>0&&this.setState({sizeMeasured:!0,width:this.element.clientWidth,height:this.element.clientHeight})}return e}()},{key:"handleTrackOptionsChanged",value:function(){function e(e,t){return this.props.onTrackOptionsChanged(e,t)}return e}()},{key:"handleScalesChanged",value:function(){function e(e,t){this.xScale=e,this.yScale=t,this.props.onScalesChanged(e,t)}return e}()},{key:"handleTilesetInfoReceived",value:function(){function e(e,t){var n=(0,F.getTrackByUid)(this.props.tracks,e);n?(this.tracksByUidInit[n.uid]=!0,this.checkAllTilesetInfoReceived(),n.options||(n.options={}),n.name=t.name,n.maxWidth=t.max_width,n.transforms=t.transforms,n.aggregationModes=t.aggregation_modes,n.header=t.header,n.binsPerDimension=t.bins_per_dimension,t.resolutions?(n.maxZoom=t.resolutions.length-1,n.resolutions=t.resolutions):n.maxZoom=t.max_zoom,n.coordSystem=t.coordSystem,n.datatype=t.datatype):console.warn("Strange, track not found:",e)}return e}()},{key:"checkAllTilesetInfoReceived",value:function(){function e(){var e=this;if((!this.state.init||this.reset)&&this.trackRenderer&&this.props.zoomToDataExtentOnInit()){var t=(0,c.default)(this.trackRenderer.trackDefObjects).map((function(t){var n=e.trackRenderer.trackDefObjects[t].trackObject;return n.childTracks?n.childTracks:n})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){var t=e.tilesetInfo;return"undefined"!=typeof t&&!0!==t})),n=(0,l.default)(this.tracksByUidInit).filter((function(e){return e})).length;t.length===n&&(this.setState({init:!0}),this.reset=!1,this.handleZoomToData())}}return e}()},{key:"handleOverlayMouseEnter",value:function(){function e(e){this.setState({mouseOverOverlayUid:e})}return e}()},{key:"handleOverlayMouseLeave",value:function(){function e(e){e===this.state.mouseOverOverlayUid&&this.setState({mouseOverOverlayUid:null})}return e}()},{key:"handleTrackPositionChosen",value:function(){function e(e){this.setState({mouseOverOverlayUid:null}),this.props.chooseTrackHandler(e.track.uid)}return e}()},{key:"handleNoTrackAdded",value:function(){function e(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}return e}()},{key:"handleAddDivisor",value:function(){function e(e){this.setState({addDivisorDialog:e})}return e}()},{key:"handleDivisorChosen",value:function(){function e(e,t){this.setState({addDivisorDialog:null});var n=e.data?{server:e.data.server,tilesetUid:e.data.tilesetUid}:{server:e.server,tilesetUid:e.tilesetUid},r={server:t[0].server,tilesetUid:t[0].uuid};this.handleChangeTrackData(e.uid,{type:"divided",children:[n,r]})}return e}()},{key:"handleDivideSeries",value:function(){function e(e){}return e}()},{key:"handleAddSeries",value:function(){function e(e){var t=(0,F.getTrackPositionByUid)(this.props.tracks,e),n=(0,F.getTrackByUid)(this.props.tracks,e);this.setState({addTrackPosition:t,addTrackHost:n})}return e}()},{key:"handleReplaceTrack",value:function(){function e(e,t){this.trackToReplace=e,this.handleAddTrack(t)}return e}()},{key:"handleAddTrack",value:function(){function e(e){this.setState({addTrackPosition:e,addTrackHost:null})}return e}()},{key:"handleResizeTrack",value:function(){function e(e,t,n){var r=this.state.tracks;for(var i in r){var o=r[i].filter((function(t){return t.uid===e}));o.length>0&&(o[0].width=t,o[0].height=n)}this.setState({tracks:r,forceUpdate:Math.random()}),this.props.onResizeTrack()}return e}()},{key:"closeMenus",value:function(){function e(){this.setState({closeTrackMenuId:null,configTrackMenuId:null,contextMenuPosition:null,contextMenuCustomItems:null})}return e}()},{key:"handleLockValueScale",value:function(){function e(e){this.closeMenus(),this.props.onLockValueScale(e)}return e}()},{key:"handleUnlockValueScale",value:function(){function e(e){this.closeMenus(),this.props.onUnlockValueScale(e)}return e}()},{key:"handleCloseTrack",value:function(){function e(e){this.closeMenus(),this.props.onCloseTrack(e)}return e}()},{key:"handleChangeTrackType",value:function(){function e(e,t){this.closeMenus(),this.props.onChangeTrackType(e,t)}return e}()},{key:"handleChangeTrackData",value:function(){function e(e,t){this.closeMenus(),this.props.onChangeTrackData(e,t)}return e}()},{key:"handleTracksAdded",value:function(){function e(e,t,n){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(e,t,n),this.setState({addTrackPosition:null,addTrackHost:null}),e}return e}()},{key:"handleCloseTrackMenuOpened",value:function(){function e(e,t){this.setState({closeTrackMenuId:e,closeTrackMenuLocation:t})}return e}()},{key:"handleCloseContextMenu",value:function(){function e(){this.setState({contextMenuCustomItems:null,contextMenuPosition:null,contextMenuDataX:null,contextMenuDataY:null})}return e}()},{key:"handleCloseTrackMenuClosed",value:function(){function e(){this.setState({closeTrackMenuId:null})}return e}()},{key:"handleConfigTrackMenuOpened",value:function(){function e(e,t){this.closeMenus(),this.setState({configTrackMenuId:e,configTrackMenuLocation:t})}return e}()},{key:"handleConfigureTrack",value:function(){function e(e,t){this.setState({configTrackMenuId:null,trackOptions:{track:e,configComponent:t}}),this.closeMenus()}return e}()},{key:"handleSortEnd",value:function(){function e(e){this.setState((function(t){for(var n=t.tracks,r={},i=0;i<e.length;i++)r[e[i].uid]=i;for(var o in n){var a=n[o];if(a.length&&a[0].uid in r){for(var s=new Array(a.length),l=0;l<a.length;l++)s[r[a[l].uid]]=a[l];n[o]=s}}return{tracks:n,forceUpdate:Math.random()}}))}return e}()},{key:"createTracksAndLocations",value:function(){function e(){var e=[],t=this.state.tracks;return H.TRACK_LOCATIONS.forEach((function(n){t[n]&&t[n].forEach((function(t){t.contents&&t.contents.forEach((function(e){e.position=n})),t.position=n,e.push({track:t,location:n})}))})),e}return e}()},{key:"calculateTrackPosition",value:function(){function e(e,t){var n=this.props.paddingTop,r=this.props.paddingBottom,i=this.props.paddingLeft,o=this.props.paddingRight,a=this.centerWidth,s=e.height,l=0,u=0;switch(t){case"top":i+=this.leftWidth;for(var c=0;c<this.state.tracks.top.length&&this.state.tracks.top[c].uid!==e.uid;c++)n+=this.state.tracks.top[c].height;break;case"bottom":i+=this.leftWidth,n+=this.topHeight+this.centerHeight+this.galleryDim;for(var h=0;h<this.state.tracks.bottom.length&&this.state.tracks.bottom[h].uid!==e.uid;h++)n+=this.state.tracks.bottom[h].height;break;case"left":n+=this.topHeight,a=e.width,s=this.centerHeight;for(var f=0;f<this.state.tracks.left.length&&this.state.tracks.left[f].uid!==e.uid;f++)i+=this.state.tracks.left[f].width;break;case"right":i+=this.leftWidth+this.centerWidth+this.galleryDim,n+=this.topHeight,a=e.width,s=this.centerHeight;for(var d=0;d<this.state.tracks.right.length&&this.state.tracks.right[d].uid!==e.uid;d++)i+=this.state.tracks.right[d].width;break;case"center":i+=this.leftWidth,n+=this.topHeight,s=this.centerHeight;break;case"gallery":i+=this.leftWidthNoGallery,n+=this.topHeightNoGallery,a=this.state.width-this.leftWidthNoGallery-this.rightWidthNoGallery-this.props.paddingLeft,s=this.state.height-this.topHeightNoGallery-this.bottomHeightNoGallery-this.props.paddingTop,l=this.galleryDim,u=this.galleryDim;for(var p=0;p<this.state.tracks.gallery.length&&this.state.tracks.gallery[p].uid!==e.uid;p++)a-=2*this.state.tracks.gallery[p].height,s-=2*this.state.tracks.gallery[p].height,i+=this.state.tracks.gallery[p].height,n+=this.state.tracks.gallery[p].height,l-=this.state.tracks.gallery[p].height,u-=this.state.tracks.gallery[p].height;for(var m=0;m<this.state.tracks.right.length;m++)o+=this.state.tracks.right[m].width;for(var v=0;v<this.state.tracks.bottom.length;v++)r+=this.state.tracks.bottom[v].height;e.offsetX=l,e.offsetY=u,e.offsetTop=n,e.offsetRight=o,e.offsetBottom=r,e.offsetLeft=i;break;default:a=this.leftWidth+this.centerWidth+this.rightWidth,s=this.topHeight+this.centerHeight+this.bottomHeight}return-1===H.TRACK_LOCATIONS.indexOf(t)&&console.warn("Track with unknown position present:",t,e),{left:i,top:n,width:a,height:s,track:e}}return e}()},{key:"findCentralHeatmapTrack",value:function(){function e(e){for(var t=0;t<e.length;t++){if("combined"===e[t].type)return this.findCentralHeatmapTrack(e[t].contents);if("heatmap"===e[t].type)return e[t]}}return e}()},{key:"trackUuidToOrientation",value:function(){function e(e){}return e}()},{key:"overlayTracks",value:function(){function e(e){var t=this;return this.props.overlays?this.props.overlays.filter((function(e){return e.includes&&e.includes.length})).map((function(n){var r=n.type?"overlay-"+String(n.type)+"-track":"overlay-track",i=(0,s.default)({},n,{uid:n.uid||y.default.nice(),includes:n.includes,type:r,options:(0,s.default)(n.options,{orientationsAndPositions:n.includes.map((function(n){var r=(0,F.getTrackByUid)(t.props.tracks,n);if(!r)return console.warn("OverlayTrack included uid ("+String(n)+") not found in the track list"),null;var i=(0,F.getTrackPositionByUid)(t.props.tracks,r.uid),o=void 0;if(("top"===i||"bottom"===i)&&(o="1d-horizontal"),("left"===i||"right"===i)&&(o="1d-vertical"),"center"===i&&(o="2d"),!o)return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"),null;var a=e.filter((function(e){return e.track.uid===n}));return a.length?{orientation:o,position:{left:a[0].left-t.props.paddingLeft,top:a[0].top-t.props.paddingTop,width:a[0].width,height:a[0].height}}:null})).filter((function(e){return e}))})});return{top:t.props.paddingTop,left:t.props.paddingLeft,width:t.leftWidth+t.centerWidth+t.rightWidth,height:t.topHeight+t.centerHeight+t.bottomHeight+t.props.marginTop+t.props.marginBottom,track:i}})):[]}return e}()},{key:"positionedTracks",value:function(){function e(){var e=this;return this.createTracksAndLocations().map((function(t){var n=t.track,r=t.location;return e.calculateTrackPosition(n,r)}))}return e}()},{key:"createTrackPositionTexts",value:function(){function e(){var e=this.positionedTracks();return this.createTracksAndLocations(),e.map((function(e){var t=e.track;return b.default.createElement("div",{key:t.uid,style:{left:e.left,top:e.top,width:e.width,height:e.height,position:"absolute"}},t.uid.slice(0,2))}))}return e}()},{key:"handleExportTrackData",value:function(){function e(e,t){var n=(0,F.getTrackByUid)(this.props.tracks,t);(e!==t?this.trackRenderer.trackDefObjects[e].trackObject.createdTracks[n.uid]:this.trackRenderer.trackDefObjects[e].trackObject).exportData(),this.closeMenus()}return e}()},{key:"listTracksAtPosition",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(!this.trackRenderer)return[];for(var i in this.trackRenderer.trackDefObjects){var o=this.trackRenderer.trackDefObjects[i].trackObject;if(o.respondsToPosition(e,t))if(n){if(this.props.tracks.center)if(this.props.tracks.center.contents)for(var a=0;a<this.props.tracks.center.contents.length;a++)this.props.tracks.center.contents[a].uid===i&&(o.is2d=!0);else this.props.tracks.center&&this.props.tracks.center.length&&this.props.tracks.center[0].uid===i&&(o.is2d=!0);r.push(o)}else r.push(this.trackRenderer.trackDefObjects[i].trackDef.track)}return r}return e}()},{key:"listAllTrackObjects",value:function(){function e(){var e=[];for(var t in this.trackRenderer.trackDefObjects){var n=this.trackRenderer.trackDefObjects[t];if(n.trackObject.createdTracks)for(var r in n.trackObject.createdTracks){var i=n.trackObject.createdTracks[r];e.push(i)}else e.push(n.trackObject)}return e}return e}()},{key:"handleZoomToData",value:function(){function e(){var e=a.default,t=o.default,n=[e,e],r=[t,t],s=this.listAllTrackObjects(),l=!0,u=!1,c=void 0;try{for(var h,f=(0,i.default)(s);!(l=(h=f.next()).done);l=!0){var d=h.value;if(d.tilesetInfo&&d.tilesetInfo.min_pos)for(var p=0;p<d.tilesetInfo.min_pos.length;p++)d.tilesetInfo.min_pos[p]<n[p]&&(n[p]=d.tilesetInfo.min_pos[p]),d.tilesetInfo.max_pos[p]>r[p]&&(r[p]=d.tilesetInfo.max_pos[p])}}catch(b){u=!0,c=b}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}var m=this.trackRenderer.currentProps.paddingLeft+this.trackRenderer.currentProps.leftWidth,v=[m,m+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert),g=this.trackRenderer.currentProps.paddingTop+this.trackRenderer.currentProps.topHeight,y=[g,g+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),n[0]<a.default&&r[0]>o.default&&(v=[n[0],r[0]]),n[1]<a.default&&r[1]>o.default&&(y=[n[1],r[1]]),this.props.onDataDomainChanged(v,y)}return e}()},{key:"resetViewport",value:function(){function e(){this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),this.props.onDataDomainChanged(this.props.initialXDomain,this.props.initialYDomain)}return e}()},{key:"updatablePropsToString",value:function(){function e(e){return(0,u.default)({tracks:e.tracks,overlays:e.overlays,viewOptions:e.viewOptions,uid:e.uid,addTrackPosition:e.addTrackPosition,editable:e.editable,marginTop:e.marginTop,marginBottom:e.marginBottom,marginLeft:e.marginLeft,marginRight:e.marginRight,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,paddingLeft:e.paddingLeft,paddingRight:e.paddingRight,mouseTool:e.mouseTool,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,trackSourceServers:e.trackSourceServers,zoomable:e.zoomable,draggingHappending:e.draggingHappening})}return e}()},{key:"getXYScales",value:function(){function e(){this.trackRenderer&&(this.xScale=this.trackRenderer.currentXScale,this.yScale=this.trackRenderer.currentYScale)}return e}()},{key:"rangeViewToDataLoci",value:function(){function e(e,t){return t?[parseInt(t.invert(e[0]),10),parseInt(t.invert(e[1]),10)]:[null,null]}return e}()},{key:"rangeSelectionResetHandler",value:function(){function e(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null,rangeSelectionEnd:!1})}return e}()},{key:"rangeSelection1dEndHandler",value:function(){function e(e){var t=this;(!this.xScale||!this.yScale)&&this.getXYScales();var n="x"===e?this.xScale:this.yScale;return function(r){t.setState((function(i){var o=i.is1dRangeSelection?[null,null]:i.rangeSelection.slice(),a=t.state.is1dRangeSelection||"y"!==e?0:1,s=t.rangeViewToDataLoci(r,n),l=s[1]-s[0];if(t.props.rangeSelection1dSize[0]>l){var u=s[0]+l/2;s=[u-t.props.rangeSelection1dSize[0]/2,u+t.props.rangeSelection1dSize[0]/2]}else if(t.props.rangeSelection1dSize[1]<l){var c=s[0]+l/2;s=[c-t.props.rangeSelection1dSize[1]/2,c+t.props.rangeSelection1dSize[1]/2]}return o[a]=s,t.props.rangeSelectionToInt&&(o[a]=o[a].map((function(e){return Math.round(e)}))),{rangeSelection:o,rangeSelectionEnd:!0}}))}}return e}()},{key:"rangeSelection1dHandler",value:function(){function e(e){var t=this;(!this.xScale||!this.yScale)&&this.getXYScales();var n="x"===e?this.xScale:this.yScale;return function(r){t.setState((function(i){var o=i.is1dRangeSelection?[null,null]:i.rangeSelection.slice();return o[i.is1dRangeSelection||"y"!==e?0:1]=t.rangeViewToDataLoci(r,n),{rangeSelection:o,rangeSelectionEnd:!1}}))}}return e}()},{key:"rangeSelection1dStartHandler",value:function(){function e(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}return e}()},{key:"rangeSelection2dHandler",value:function(){function e(e){(!this.xScale||!this.yScale)&&this.getXYScales(),this.setState({rangeSelection:[this.rangeViewToDataLoci(e[0],this.xScale),this.rangeViewToDataLoci(e[1],this.yScale)],rangeSelectionEnd:!1})}return e}()},{key:"rangeSelection2dStartHandler",value:function(){function e(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}return e}()},{key:"rangeSelection2dEndHandler",value:function(){function e(e){var t=this;(!this.xScale||!this.yScale)&&this.getXYScales();var n=this.rangeViewToDataLoci(e[0],this.xScale),r=this.rangeViewToDataLoci(e[1],this.yScale),i=[n,r],o=[n[1]-n[0],r[1]-r[0]];i.forEach((function(e,n){if(t.props.rangeSelection1dSize[0]>o[n]){var r=e[0]+Math.round(o[n]/2);e[0]=r-t.props.rangeSelection1dSize[0]/2,e[1]=r+t.props.rangeSelection1dSize[0]/2}else if(t.props.rangeSelection1dSize[1]<o[n]){var i=e[0]+Math.round(o[n]/2);e[0]=i-t.props.rangeSelection1dSize[1]/2,e[1]=i+t.props.rangeSelection1dSize[1]/2}})),this.props.rangeSelectionToInt&&(i=i.map((function(e){return e.map((function(e){return Math.round(e)}))}))),this.setState({rangeSelection:i,rangeSelectionEnd:!0})}return e}()},{key:"getContextMenu",value:function(){function e(){var e=this;if(this.state.contextMenuPosition){var t=this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft,this.state.contextMenuPosition.canvasTop);return b.default.createElement(M.default,{onMenuClosed:this.closeMenusBound},b.default.createElement(D.default,{closeMenu:this.closeMenusBound,coords:[this.state.contextMenuDataX,this.state.contextMenuDataY],customItems:this.state.contextMenuCustomItems,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:function(){function t(t){e.props.onTracksAdded([t],t.position,null),e.handleCloseContextMenu()}return t}(),onChangeTrackData:this.handleChangeTrackDataBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,orientation:"right",position:this.state.contextMenuPosition,theme:this.props.theme,tracks:t,trackSourceServers:this.props.trackSourceServers}))}return null}return e}()},{key:"getIdealizedTrackPositionsOverlay",value:function(){function e(){var e=this,t=this.props.draggingHappening,n=t.datatype;if(n in H.DEFAULT_TRACKS_FOR_DATATYPE||t.defaultTracks){var o={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},a=H.DEFAULT_TRACKS_FOR_DATATYPE[n]||{};if(t.defaultTracks){var s=!0,l=!1,u=void 0;try{for(var h,f=(0,i.default)(t.defaultTracks);!(s=(h=f.next()).done);s=!0){var d=h.value;if(H.TRACKS_INFO_BY_TYPE[d]){var p=!0,m=!1,v=void 0;try{for(var g,y=(0,i.default)(o[H.TRACKS_INFO_BY_TYPE[d].orientation]);!(p=(g=y.next()).done);p=!0)a[g.value]=d}catch(z){m=!0,v=z}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}else console.warn("unknown track type",d)}}catch(z){l=!0,u=z}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}var _=new r.default(["top","left","right","center","bottom"].filter((function(t){return t in e.state.tracks&&e.state.tracks[t].length}))),x="top"in a,T="left"in a,w="right"in a,S="bottom"in a,k="center"in a,C="center"in a||_.has("left")||_.has("right")||_.has("center"),A="top"in a,O="bottom"in a&&C,P="left"in a&&C,M="right"in a&&C,I=(0,c.default)(a).length&&("center"in a||C),R=b.default.createElement("div",{style:{flexGrow:1}}),L=b.default.cloneElement(R),D=b.default.createElement("div",{style:{display:"flex",flexGrow:1}},A&&(I||P)?R:null,b.default.createElement(E.default,{defaultTrackType:a.top,draggingHappening:this.props.draggingHappening,enabled:x,onTrackDropped:function(){function t(t){return e.handleTracksAdded([t],"top")}return t}(),style:{border:"1px solid black",flexGrow:1}}),A&&(I||P)?L:null),N=b.default.createElement("div",{style:{display:"flex",flexGrow:1}},A&&(I||P)?R:null,b.default.createElement(E.default,{defaultTrackType:a.bottom,draggingHappening:this.props.draggingHappening,enabled:S,onTrackDropped:function(){function t(t){return e.handleTracksAdded([t],"bottom")}return t}(),style:{border:"1px solid black",flexGrow:1}}),A&&(I||P)?L:null),j=b.default.createElement(E.default,{defaultTrackType:a.left,draggingHappening:this.props.draggingHappening,enabled:T,onTrackDropped:function(){function t(t){return e.handleTracksAdded([t],"left")}return t}(),style:{border:"1px solid black",flexGrow:1}}),B=b.default.createElement(E.default,{defaultTrackType:a.center,draggingHappening:this.props.draggingHappening,enabled:k,onTrackDropped:function(){function t(t){return e.handleTracksAdded([t],"center")}return t}(),position:"center",style:{border:"1px solid black",flexGrow:1}}),F=b.default.cloneElement(j,{defaultTrackType:a.right,enabled:w,onTrackDropped:function(){function t(t){return e.handleTracksAdded([t],"right")}return t}()});return b.default.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",width:this.state.width,height:this.state.height}},b.default.createElement("div",{style:{position:"absolute",width:this.state.width,height:this.state.height,background:"white",opacity:.4}}),b.default.createElement("div",{style:{width:this.state.width,height:this.state.height,position:"absolute",display:"flex",flexDirection:"column"}},A?D:null,C&&b.default.createElement("div",{style:{display:"flex",height:A||O?"40%":"100%",width:"100%"}},P?j:null,I?B:null,M?F:null),O?N:null))}console.warn("unknown data type:",t.higlassTrack)}return e}()},{key:"render",value:function(){function e(){var e=this;this.galleryDim=this.props.tracks.gallery?this.props.tracks.gallery.map((function(e){return e.height})).reduce(F.sum,0):0,this.topHeightNoGallery=this.props.tracks.top.map((function(e){return e.height})).reduce(F.sum,0),this.topHeight=this.topHeightNoGallery+this.galleryDim,this.bottomHeightNoGallery=this.props.tracks.bottom.map((function(e){return e.height})).reduce(F.sum,0),this.bottomHeight=this.bottomHeightNoGallery+this.galleryDim,this.leftWidthNoGallery=this.props.tracks.left.map((function(e){return e.width})).reduce(F.sum,0),this.leftWidth=this.leftWidthNoGallery+this.galleryDim,this.rightWidthNoGallery=this.props.tracks.right.map((function(e){return e.width})).reduce(F.sum,0),this.rightWidth=this.rightWidthNoGallery+this.galleryDim;var t=this.props.paddingTop+this.props.paddingBottom,n=this.props.paddingLeft+this.props.paddingRight;this.centerHeight=Math.max(0,this.state.height-this.topHeight-this.bottomHeight-t),this.centerWidth=Math.max(0,this.state.width-this.leftWidth-this.rightWidth-n);var i="none",o=b.default.createElement("div",{className:"top-track-container",style:{left:this.leftWidth+this.props.paddingLeft,top:this.props.paddingTop,width:this.centerWidth,height:this.topHeightNoGallery,outline:i,position:"absolute"}},b.default.createElement(R.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===H.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),a=b.default.createElement("div",{className:"left-track-container",style:{left:this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.leftWidthNoGallery,height:this.centerHeight,outline:i,position:"absolute"}},b.default.createElement(L.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===H.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),s=b.default.createElement("div",{className:"right-track-container",style:{right:this.props.paddingRight,top:this.topHeight+this.props.paddingTop,width:this.rightWidthNoGallery,height:this.centerHeight,outline:i,position:"absolute"}},b.default.createElement(L.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===H.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),l=b.default.createElement("div",{className:"bottom-track-container",style:{left:this.leftWidth+this.props.paddingLeft,bottom:this.props.paddingBottom,width:this.centerWidth,height:this.bottomHeightNoGallery,outline:i,position:"absolute"}},b.default.createElement(R.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===H.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),u=b.default.createElement("div",{key:"galleryTracksDiv",className:"gallery-track-container",style:{left:this.leftWidthNoGallery+this.props.paddingLeft,top:this.topHeightNoGallery+this.props.paddingTop,width:this.centerWidth+2*this.galleryDim,height:this.centerHeight+2*this.galleryDim,outline:i,position:"absolute"}},b.default.createElement(k.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight+2*this.galleryDim,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),tracks:this.props.tracks.gallery,width:this.centerWidth+2*this.galleryDim})),c=b.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.bottomHeight,outline:i}});this.props.tracks.center.length&&(c=b.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.centerHeight,outline:i}},b.default.createElement(S.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===H.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionXYEnd:this.rangeSelection2dEndHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionYEnd:this.rangeSelection1dEndHandler("y").bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();var h=this.positionedTracks();h=h.concat(this.overlayTracks(h));var f=null;this.state.sizeMeasured&&(f=b.default.createElement(C.default,{ref:function(){function t(t){e.trackRenderer=t,e.checkAllTilesetInfoReceived()}return t}(),canvasElement:this.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,disableTrackMenu:this.props.disableTrackMenu,dragging:this.props.dragging,galleryDim:this.galleryDim,getLockGroupExtrema:this.props.getLockGroupExtrema,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===H.MOUSE_TOOL_SELECT,isShowGlobalMousePosition:this.props.isShowGlobalMousePosition,isValueScaleLocked:this.props.isValueScaleLocked,leftWidth:this.leftWidth,leftWidthNoGallery:this.leftWidthNoGallery,metaTracks:this.props.metaTracks,onMouseMoveZoom:this.props.onMouseMoveZoom,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,paddingLeft:this.props.paddingLeft,paddingTop:this.props.paddingTop,pixiRenderer:this.props.pixiRenderer,pixiStage:this.props.pixiStage,pluginDataFetchers:this.props.pluginDataFetchers,pluginTracks:this.props.pluginTracks,positionedTracks:h,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,topHeightNoGallery:this.topHeightNoGallery,uid:this.props.uid,viewOptions:this.props.viewOptions,width:this.state.width,xDomainLimits:this.props.xDomainLimits,yDomainLimits:this.props.yDomainLimits,zoomable:this.props.zoomable,zoomLimits:this.props.zoomLimits},o,a,s,l,u,c));var d=null,p=null;this.state.configTrackMenuId&&(d=b.default.createElement(M.default,{onMenuClosed:this.closeMenusBound},b.default.createElement(O.default,{ref:function(){function t(t){e.configTrackMenu=t}return t}(),closeMenu:this.closeMenusBound,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:this.handleAddTrackBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,position:this.state.configTrackMenuLocation,theme:this.props.theme,trackOrientation:(0,F.getTrackPositionByUid)(this.props.tracks,this.state.configTrackMenuId),tracks:[(0,F.getTrackByUid)(this.props.tracks,this.state.configTrackMenuId)]}))),this.state.closeTrackMenuId&&(p=b.default.createElement(M.default,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},b.default.createElement(I.default,{position:this.state.closeTrackMenuLocation,theme:this.props.theme},b.default.createElement(P.default,{onCloseTrack:this.handleCloseTrack.bind(this),tracks:[(0,F.getTrackByUid)(this.props.tracks,this.state.closeTrackMenuId)]}))));var m=null;this.props.chooseTrackHandler&&(m=h.filter((function(e){return"whole"!==e.track.position})).map((function(t){var n="transparent",r="none";return e.state.mouseOverOverlayUid===t.track.uid&&(n="yellow",r="1px solid black"),b.default.createElement("div",{key:t.track.uid,className:"tiled-plot-track-overlay",onClick:function(){function n(){return e.handleTrackPositionChosen(t)}return n}(),onDragEnter:function(){function n(n){e.handleOverlayMouseEnter(t.track.uid),n.preventDefault()}return n}(),onDragLeave:function(){function n(){return e.handleOverlayMouseLeave(t.track.uid)}return n}(),onDragOver:function(){function e(e){return e.preventDefault()}return e}(),onDrop:function(){function n(){return e.handleTrackPositionChosen(t)}return n}(),onMouseEnter:function(){function n(){return e.handleOverlayMouseEnter(t.track.uid)}return n}(),onMouseLeave:function(){function n(){return e.handleOverlayMouseLeave(t.track.uid)}return n}(),style:{position:"absolute",left:t.left,top:t.top,width:t.width,height:t.height,background:n,opacity:.4,border:r,zIndex:1}})})));var v=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){var g=this.state.trackOptions.configComponent,y=this.state.trackOptions.track;v=b.default.createElement(g,{track:y,xScale:this.xScale,yScale:this.yScale,onCancel:function(){function t(){e.setState({trackOptions:null})}return t}(),onTrackOptionsChanged:function(){function e(e){return e}return e}(),onSubmit:function(){function t(t){e.handleTrackOptionsChanged(e.state.trackOptions.track.uid,t),e.setState({trackOptions:null})}return t}()})}return b.default.createElement("div",{ref:function(){function t(t){e.divTiledPlot=t}return t}(),className:"tiled-plot-div TiledPlot-module_tiled-plot-uFHiB",style:{marginBottom:this.props.marginBottom,marginLeft:this.props.marginLeft,marginRight:this.props.marginRight,marginTop:this.props.marginTop}},f,m,d,p,v,this.getContextMenu(),this.props.draggingHappening&&this.getIdealizedTrackPositionsOverlay())}return e}()},{key:"addEventListeners",value:function(){function e(){this.eventListeners=[],this.eventListeners.forEach((function(e){return document.addEventListener(e.name,e.callback,!1)}))}return e}()},{key:"removeEventListeners",value:function(){function e(){this.eventListeners.forEach((function(e){return document.removeEventListener(e.name,e.callback)}))}return e}()}]),t}(b.default.Component);U.defaultProps={isShowGlobalMousePosition:!1,pluginDataFetchers:{},pluginTracks:{},metaTracks:[],zoomable:!0},U.propTypes={addTrackPosition:x.default.string,canvasElement:x.default.object,chooseTrackHandler:x.default.func,chromInfoPath:x.default.string,disableTrackMenu:x.default.bool,dragging:x.default.bool,draggingHappening:x.default.bool,editable:x.default.bool,getLockGroupExtrema:x.default.func,initialXDomain:x.default.array,initialYDomain:x.default.array,isShowGlobalMousePosition:x.default.bool,isValueScaleLocked:x.default.func,marginBottom:x.default.number.isRequired,marginLeft:x.default.number.isRequired,marginRight:x.default.number.isRequired,marginTop:x.default.number.isRequired,paddingBottom:x.default.number.isRequired,paddingLeft:x.default.number.isRequired,paddingRight:x.default.number.isRequired,paddingTop:x.default.number.isRequired,metaTracks:x.default.array,modal:x.default.object,mouseTool:x.default.string,onCloseTrack:x.default.func,onChangeTrackData:x.default.func,onChangeTrackType:x.default.func,onDataDomainChanged:x.default.func,onLockValueScale:x.default.func,onMouseMoveZoom:x.default.func,onNewTilesLoaded:x.default.func,onNoTrackAdded:x.default.func,onRangeSelection:x.default.func.isRequired,onScalesChanged:x.default.func,onTrackOptionsChanged:x.default.func,onTrackPositionChosen:x.default.func,onTracksAdded:x.default.func,onUnlockValueScale:x.default.func,onValueScaleChanged:x.default.func,onResizeTrack:x.default.func,overlays:x.default.array,openModal:x.default.func,pixiRenderer:x.default.object,pixiStage:x.default.object,pluginDataFetchers:x.default.object,pluginTracks:x.default.object,pubSub:x.default.object.isRequired,rangeSelection1dSize:x.default.array,rangeSelectionToInt:x.default.bool,registerDraggingChangedListener:x.default.func,removeDraggingChangedListener:x.default.func,setCentersFunction:x.default.func,svgElement:x.default.object,theme:x.default.symbol.isRequired,tracks:x.default.object,trackSourceServers:x.default.array,uid:x.default.string,viewOptions:x.default.object,xDomainLimits:x.default.array,yDomainLimits:x.default.array,zoomable:x.default.bool,zoomLimits:x.default.array,zoomToDataExtentOnInit:x.default.func},t.default=(0,N.default)((0,j.default)((0,B.default)(U)))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(7)),l=g(n(29)),u=g(n(2)),c=g(n(1)),h=n(83),f=n(0),d=g(n(174)),p=n(10),m=n(11);g(n(346));var v=g(n(175));function g(e){return e&&e.__esModule?e:{default:e}}var y={styles:{"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},b={pointerEvents:"all"},_=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={isVisible:!1},n.brushBehaviorX=(0,h.brushX)(!0,!0).on("brush",n.brushedX.bind(n)).on("end",n.brushedXEnded.bind(n)),n.brushBehaviorY=(0,h.brushY)(!0,!0,!0).on("brush",n.brushedY.bind(n)).on("end",n.brushedYEnded.bind(n)),n.brushBehaviorXY=(0,h.brush)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushedXY.bind(n)).on("end",n.brushedXYEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){function e(){this.props.isRangeSelectionActive&&this.addBrush2d()}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){if(this.rangeSelectionTriggeredXY){if(this.rangeSelectionTriggeredXY=!1,this.rangeSelectionTriggeredXYEnd){var n=e.rangeSelection[0]||null;this.moveBrushXY([n,e.rangeSelection[1]],!0),this.rangeSelectionTriggeredXYEnd=!1}return this.state!==t}if(this.props.rangeSelection!==e.rangeSelection){var r=e.rangeSelection[0]||null;this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(r,e.rangeSelectionEnd),this.rangeSelectionTriggeredXEnd&&this.moveBrushX(r,e.rangeSelectionEnd,!0),this.rangeSelectionTriggeredY||this.moveBrushY(r,e.rangeSelectionEnd),this.rangeSelectionTriggeredYEnd&&this.moveBrushY(r,e.rangeSelectionEnd,!0),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredXEnd=!1,this.rangeSelectionTriggeredY=!1,this.rangeSelectionTriggeredYEnd=!1):this.moveBrushXY([r,e.rangeSelection[1]],e.rangeSelectionEnd);var i=this.props.is1dRangeSelection&&!e.is1dRangeSelection&&null===r;return this.state!==t||i}return!0}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}return e}()},{key:"addBrush1d",value:function(){function e(){!this.brushElX||!this.brushElY||this.brushElXOld===this.brushElX&&this.brushElYOld===this.brushElY||(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),(0,p.resetD3BrushStyle)(this.brushElX,v.default["track-range-selection-group-brush-selection"]),(0,p.resetD3BrushStyle)(this.brushElY,v.default["track-range-selection-group-brush-selection"]),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}return e}()},{key:"addBrush2d",value:function(){function e(){!this.brushElXY||this.brushElXYOld===this.brushElXY||(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0,(0,p.resetD3BrushStyle)(this.brushElXY,v.default["track-range-selection-group-brush-selection"]))}return e}()},{key:"brushedX",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(f.event.selection))}return e}()},{key:"brushedXEnded",value:function(){function e(){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,this.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredX=!0,this.rangeSelectionTriggeredXEnd=!0,this.props.onRangeSelectionXEnd(f.event.selection))}return e}()},{key:"brushedY",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(f.event.selection))}return e}()},{key:"brushedYEnded",value:function(){function e(){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,this.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredY=!0,this.rangeSelectionTriggeredYEnd=!0,this.props.onRangeSelectionYEnd(f.event.selection))}return e}()},{key:"brushedXY",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionXY&&!e&&!this.props.is1dRangeSelection&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[f.event.selection[0][0],f.event.selection[1][0]],[f.event.selection[0][1],f.event.selection[1][1]]]))}return e}()},{key:"brushedXYEnded",value:function(){function e(){if(!this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,f.event.selection&&f.event.sourceEvent&&this.props.onRangeSelectionXY&&!e&&(this.rangeSelectionTriggeredXY=!0,this.rangeSelectionTriggeredXYEnd=!0,this.props.onRangeSelectionXYEnd([[f.event.selection[0][0],f.event.selection[1][0]],[f.event.selection[0][1],f.event.selection[1][1]]])),f.event.selection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionReset())}}return e}()},{key:"brushStarted",value:function(){function e(){this.sourceEvent&&this.props.onRangeSelectionStart()}return e}()},{key:"moveBrushX",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var n=e?[this.props.scaleX(e[0]),this.props.scaleX(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElX.transition().call(this.brushBehaviorX.move,n):this.brushElX.call(this.brushBehaviorX.move,n)}}return e}()},{key:"moveBrushY",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var n=e?[this.props.scaleY(e[0]),this.props.scaleY(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElY.transition().call(this.brushBehaviorY.move,n):this.brushElY.call(this.brushBehaviorY.move,n)}}return e}()},{key:"moveBrushXY",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){var n=[[this.props.scaleX(e[0][0]),this.props.scaleY(e[1][0])],[this.props.scaleX(e[0][1]),this.props.scaleY(e[1][1])]];this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElXY.transition().call(this.brushBehaviorXY.move,n):this.brushElXY.call(this.brushBehaviorXY.move,n)}}return e}()},{key:"mouseEnterHandler",value:function(){function e(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}return e}()},{key:"mouseLeaveHandler",value:function(){function e(){this.setState({isVisible:!1})}return e}()},{key:"removeBrush1d",value:function(){function e(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}return e}()},{key:"removeBrush2d",value:function(){function e(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,this.props.is1dRangeSelection||this.props.onRangeSelectionReset())}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.tracks.map((function(e){return(0,m.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(p.or,!1),n=this.props.tracks.some((function(e){return e.contents?e.contents.some((function(e){return"heatmap"===e.type&&"topRight"===e.options.colorbarPosition})):"heatmap"===e.type&&"topRight"===e.options.colorbarPosition})),r="stylesTrack.track-range-selection";this.props.isRangeSelectionActive&&(r+=this.props.is1dRangeSelection?"-active-secondary":"-active-primary");var i=this.props.is1dRangeSelection?"":"stylesTrack.track-range-selection-group-inactive",o=this.props.is1dRangeSelection?"stylesTrack.track-range-selection-group-inactive":"";return c.default.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"CenterTrack-module_center-track-3ptRW",onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},t&&c.default.createElement("svg",{style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,y)},c.default.createElement("g",{ref:function(){function t(t){e.brushElX=(0,f.select)(t)}return t}(),className:(0,l.default)(i,y)}),c.default.createElement("g",{ref:function(){function t(t){e.brushElY=(0,f.select)(t)}return t}(),className:(0,l.default)(i,y)}),c.default.createElement("g",{ref:function(){function t(t){e.brushElXY=(0,f.select)(t)}return t}(),className:(0,l.default)(o,y)})),this.props.editable&&c.default.createElement(d.default,{imgStyleAdd:b,imgStyleClose:b,imgStyleMove:b,imgStyleSettings:b,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:n,uid:this.props.uid}))}return e}()},{key:"sourceEvent",get:function(){function e(){return f.event&&f.event.sourceEvent}return e}()}]),t}(c.default.Component);_.defaultProps={className:"center-track",configTrackMenuId:null,is1dRangeSelection:!1,rangeSelectionEnd:u.default.bool,isRangeSelectionActive:!1,scaleX:function(){function e(e){return e}return e}(),scaleY:function(){function e(e){return e}return e}()},_.propTypes={className:u.default.string,configTrackMenuId:u.default.string,editable:u.default.bool.isRequired,height:u.default.number.isRequired,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,onAddSeries:u.default.func.isRequired,onCloseTrackMenuOpened:u.default.func.isRequired,onConfigTrackMenuOpened:u.default.func.isRequired,onRangeSelectionX:u.default.func.isRequired,onRangeSelectionXEnd:u.default.func.isRequired,onRangeSelectionY:u.default.func.isRequired,onRangeSelectionYEnd:u.default.func.isRequired,onRangeSelectionXY:u.default.func.isRequired,onRangeSelectionXYEnd:u.default.func.isRequired,onRangeSelectionReset:u.default.func.isRequired,onRangeSelectionStart:u.default.func.isRequired,rangeSelection:u.default.array.isRequired,rangeSelectionEnd:u.default.bool,scaleX:u.default.func,scaleY:u.default.func,tracks:u.default.array.isRequired,uid:u.default.string.isRequired,width:u.default.number.isRequired},t.default=_},function(e,t,n){e.exports={"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(44)),i=p(n(5)),o=p(n(3)),a=p(n(4)),s=p(n(6)),l=p(n(7)),u=p(n(29)),c=p(n(2)),h=p(n(1)),f=p(n(26)),d=p(n(69));function p(e){return e&&e.__esModule?e:{default:e}}n(608);var m={"../styles/DragListeningDiv.module.scss":{"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},v=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={dragOnTop:!1},n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){function e(){var e=this,t="red";this.props.enabled&&this.state.dragOnTop?t="green":this.props.enabled&&(t="blue");var n=this.props.enabled?"drag-listening-div-active":"";return h.default.createElement("div",{onDragEnter:function(){function t(){e.setState({dragOnTop:!0})}return t}(),onDragLeave:function(){function t(){e.setState({dragOnTop:!1})}return t}(),onDragOver:function(){function e(e){e.preventDefault()}return e}(),onDrop:function(){function t(){if(e.props.enabled){var t=e.props.draggingHappening,n={type:e.props.defaultTrackType,uid:f.default.nice(),tilesetUid:t.tilesetUid,server:t.server};e.props.onTrackDropped(n),e.props.pubSub.publish("trackDropped",n)}}return t}(),style:(0,r.default)({background:t,opacity:.6},this.props.style),className:"DragListeningDiv "+(0,u.default)(n,m)})}return e}()}]),t}(h.default.Component);v.defaultProps={enabled:!1,style:{},draggingHappening:{},onTrackDropped:function(){function e(){}return e}()},v.propTypes={enabled:c.default.bool,style:c.default.object,defaultTrackType:c.default.object,draggingHappening:c.default.object,onTrackDropped:c.default.func,position:c.default.string.isRequired,pubSub:c.default.object.isRequired},t.default=(0,d.default)(v)},function(e,t,n){e.exports={"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(2)),u=h(n(1)),c=h(n(174));function h(e){return e&&e.__esModule?e:{default:e}}h(n(610)),h(n(176)),h(n(175));var f={pointerEvents:"all"},d=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={hovering:!1},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"mouseEnterHandler",value:function(){function e(){this.setState({hovering:!0})}return e}()},{key:"mouseLeaveHandler",value:function(){function e(){this.setState({hovering:!1})}return e}()},{key:"render",value:function(){function e(){var e=this;return u.default.createElement("div",{className:"gallery-tracks GalleryTracks-module_gallery-tracks-3tsUO"},this.props.tracks&&this.props.tracks.map((function(t,n){return u.default.createElement("div",{key:t.uid||n,onMouseLeave:e.mouseLeaveHandler.bind(e),style:{top:t.height*n,right:t.height*n,bottom:t.height*n,left:t.height*n},className:"GalleryTracks-module_gallery-track-eGKoq"},u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,right:0,left:0,height:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,right:0,bottom:0,width:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{right:0,bottom:0,left:0,height:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,bottom:0,left:0,width:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseLeave:e.mouseLeaveHandler.bind(e),style:{top:t.height,right:t.height,bottom:t.height,left:t.height},className:"GalleryTracks-module_gallery-invisible-track-1hMJp"}),e.props.editable&&u.default.createElement(c.default,{configMenuVisible:!0,imgStyleAdd:f,imgStyleClose:f,imgStyleMove:f,imgStyleSettings:f,isMoveable:!1,isVisible:e.state.hovering,onCloseTrackMenuOpened:e.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.props.onConfigTrackMenuOpened,uid:t.uid||n}))})))}return e}()}]),t}(u.default.Component);d.propTypes={editable:l.default.bool.isRequired,onCloseTrackMenuOpened:l.default.func.isRequired,onConfigTrackMenuOpened:l.default.func.isRequired,tracks:l.default.array.isRequired},t.default=d},function(e,t,n){e.exports={"gallery-tracks":"GalleryTracks-module_gallery-tracks-3tsUO","gallery-track":"GalleryTracks-module_gallery-track-eGKoq","gallery-sub-track":"GalleryTracks-module_gallery-sub-track-z1HEh","gallery-invisible-track":"GalleryTracks-module_gallery-invisible-track-1hMJp"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=pe(n(38)),i=pe(n(19)),o=pe(n(35)),a=pe(n(25)),s=pe(n(17)),l=pe(n(18)),u=pe(n(5)),c=pe(n(3)),h=pe(n(4)),f=pe(n(6)),d=pe(n(7)),p=pe(n(1)),m=pe(n(2)),v=n(157),g=n(0),y=n(28),b=pe(n(26)),_=pe(n(40)),x=pe(n(135)),T=pe(n(254)),w=pe(n(347)),S=pe(n(348)),E=pe(n(350)),k=pe(n(351)),C=pe(n(256)),A=pe(n(352)),O=pe(n(357)),P=pe(n(116)),M=pe(n(358)),I=pe(n(359)),R=pe(n(259)),L=pe(n(360)),D=pe(n(361)),N=pe(n(362)),j=pe(n(629)),B=pe(n(177)),F=pe(n(260)),H=pe(n(363)),z=pe(n(364)),U=pe(n(365)),V=pe(n(366)),G=pe(n(367)),X=pe(n(368)),Y=pe(n(369)),W=pe(n(370)),q=pe(n(371)),K=pe(n(372)),$=pe(n(633)),Z=pe(n(373)),Q=pe(n(374)),J=pe(n(375)),ee=pe(n(376)),te=pe(n(377)),ne=pe(n(262)),re=pe(n(378)),ie=pe(n(141)),oe=pe(n(379)),ae=pe(n(380)),se=pe(n(381)),le=pe(n(80)),ue=pe(n(69)),ce=pe(n(382)),he=pe(n(78)),fe=n(10),de=n(11);function pe(e){return e&&e.__esModule?e:{default:e}}n(654);var me=100,ve=function(e){function t(e){(0,c.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.dragging=!1,n.element=null,n.closing=!1,n.yPositionOffset=0,n.xPositionOffset=0,n.scrollTop=0,n.scrollTimeout=null,n.activeTransitions=0,n.zoomTransform=v.zoomIdentity,n.windowScrolledBound=n.windowScrolled.bind(n),n.zoomStartedBound=n.zoomStarted.bind(n),n.zoomedBound=n.zoomed.bind(n),n.zoomEndedBound=n.zoomEnded.bind(n),n.uid=b.default.nice(),n.viewUid=n.props.uid,n.availableForPlugins=de.AVAILABLE_FOR_PLUGINS,n.availableForPlugins.services.pubSub=n.props.pubSub,n.availableForPlugins.services.pixiRenderer=n.props.pixiRenderer,n.mounted=!1,n.emptyZoomBehavior=(0,v.zoom)(),n.currentProps=e,n.prevPropsStr="",n.zoomBehavior=(0,v.zoom)().filter((function(){return!(g.event.target.classList.contains("no-zoom")||g.event.target.classList.contains("react-resizable-handle"))})).on("start",n.zoomStartedBound).on("zoom",n.zoomedBound).on("end",n.zoomEndedBound),n.zoomTransform=v.zoomIdentity,n.prevZoomTransform=v.zoomIdentity,n.initialXDomain=[0,1],n.initialYDomain=[0,1],n.xDomainLimits=[-1/0,1/0],n.yDomainLimits=[-1/0,1/0],n.zoomLimits=[0,1/0],n.prevCenterX=n.currentProps.paddingLeft+n.currentProps.leftWidth+n.currentProps.centerWidth/2,n.prevCenterY=n.currentProps.paddingTop+n.currentProps.topHeight+n.currentProps.centerHeight/2,n.cumCenterXOffset=0,n.cumCenterYOffset=0,n.setUpInitialScales(n.currentProps.initialXDomain,n.currentProps.initialYDomain,n.currentProps.xDomainLimits,n.currentProps.yDomainLimits,n.currentProps.zoomLimits),n.setUpScales(),n.trackDefObjects={},n.metaTracks={},n.pubSubs=[],window.higlassTracksByType&&(0,l.default)(window.higlassTracksByType).forEach((function(e){de.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),n.boundForwardEvent=n.forwardEvent.bind(n),n.boundScrollEvent=n.scrollEvent.bind(n),n.boundForwardContextMenu=n.forwardContextMenu.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.zoomToDataPosHandlerBound=n.zoomToDataPosHandler.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n}return(0,d.default)(t,e),(0,h.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){function e(){this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("scroll",this.windowScrolledBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.event",this.dispatchEventBound)),this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos",this.zoomToDataPosHandlerBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.scroll",this.onScrollHandlerBound))}return e}()},{key:"componentDidMount",value:function(){function e(){if(this.elementPos=this.element.getBoundingClientRect(),this.elementSelection=(0,g.select)(this.element),this.svgTrackAreaSelection=(0,g.select)(this.svgTrackArea),this.pStage=new de.GLOBALS.PIXI.Graphics,this.pMask=new de.GLOBALS.PIXI.Graphics,this.pOutline=new de.GLOBALS.PIXI.Graphics,this.pBackground=new de.GLOBALS.PIXI.Graphics,this.pStage.addChild(this.pMask),this.pStage.addChild(this.pOutline),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),this.currentProps.svgElement&&this.currentProps.canvasElement){this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.syncMetaTracks(this.currentProps.metaTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0),this.addEventTracker();var e=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],t=this.svgElement.getBoundingClientRect(),n=[[Math.max(e[0][0],0),Math.max(e[0][1],0)],[Math.min(e[1][0],t.width),Math.min(e[1][1],t.height)]];this.zoomBehavior.extent(n).translateExtent(e).scaleExtent(this.zoomLimits)}}return e}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function e(e){if(e.svgElement&&e.canvasElement){var t=this.updatablePropsToString(e);if(this.currentProps=e,this.prevPropsStr!==t){for(var n in this.setBackground(),this.trackDefObjects)this.trackDefObjects[n].trackObject.delayDrawing=!0;this.prevPropsStr=t,this.setUpInitialScales(e.initialXDomain,e.initialYDomain,e.xDomainLimits,e.yDomainLimits,e.zoomLimits),this.setUpScales(e.width!==this.props.width||e.height!==this.props.height),this.svgElement=e.svgElement;var r=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],i=this.svgElement.getBoundingClientRect(),o=[[Math.max(r[0][0],0),Math.max(r[0][1],0)],[Math.min(r[1][0],i.width),Math.min(r[1][1],i.height)]];this.zoomBehavior.extent(o).translateExtent(r).scaleExtent(this.zoomLimits),this.syncTrackObjects(e.positionedTracks),this.syncMetaTracks(e.metaTracks);var a=!0,l=!1,u=void 0;try{for(var c,h=(0,s.default)(e.positionedTracks);!(a=(c=h.next()).done);a=!0){var f=c.value,d=f.track.options,p=this.trackDefObjects[f.track.uid].trackObject;if(p.rerender(d),f.track.hasOwnProperty("contents")){var m={},v=!0,g=!1,y=void 0;try{for(var b,_=(0,s.default)(f.track.contents);!(v=(b=_.next()).done);v=!0){var x=b.value;m[x.uid]=x}}catch(E){g=!0,y=E}finally{try{!v&&_.return&&_.return()}finally{if(g)throw y}}for(var T in p.createdTracks)p.createdTracks[T].rerender(m[T].options)}}}catch(E){l=!0,u=E}finally{try{!a&&h.return&&h.return()}finally{if(l)throw u}}for(var w in this.props.onNewTilesLoaded(),this.trackDefObjects){var S=this.trackDefObjects[w].trackObject;S.delayDrawing=!1,S.draw()}}}}return e}()},{key:"componentDidUpdate",value:function(){function e(e){(this.props.initialXDomain[0]!==e.initialXDomain[0]||this.props.initialXDomain[1]!==e.initialXDomain[1]||this.props.initialYDomain[0]!==e.initialYDomain[0]||this.props.initialYDomain[1]!==e.initialYDomain[1])&&(this.element.__zoom=v.zoomIdentity),e.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom()),e.zoomable!==this.props.zoomable&&(this.props.zoomable?this.addZoom():this.removeZoom()),this.addEventTracker()}return e}()},{key:"componentWillUnmount",value:function(){function e(){var e=this;this.mounted=!1,this.removeTracks((0,l.default)(this.trackDefObjects)),this.removeMetaTracks((0,l.default)(this.metaTracks)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)})),this.pubSubs=[],this.removeEventTracker()}return e}()},{key:"dispatchEvent",value:function(){function e(e){e.sourceUid===this.uid&&"contextmenu"!==e.type&&(0,fe.forwardEvent)(e,this.element)}return e}()},{key:"isWithin",value:function(){function e(e,t){if(!this.element)return!1;var n=e>=this.elementPos.left&&e<=this.elementPos.width+this.elementPos.left,r=t>=this.elementPos.top&&t<=this.elementPos.height+this.elementPos.top;return n&&r}return e}()},{key:"zoomToDataPosHandler",value:function(){function e(e){var t=e.pos,n=e.animateTime,r=e.isMercator;this.zoomToDataPos.apply(this,(0,a.default)(t).concat([n,r]))}return e}()},{key:"addZoom",value:function(){function e(){!this.elementSelection||!this.currentProps.zoomable||(this.elementSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.elementSelection,this.zoomTransform))}return e}()},{key:"removeZoom",value:function(){function e(){this.elementSelection&&(this.zoomEnded(),this.elementSelection.on(".zoom",null))}return e}()},{key:"setMask",value:function(){function e(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}return e}()},{key:"setBackground",value:function(){function e(){var e=this.props.theme===de.THEME_DARK?"black":"white",t=(0,fe.colorToHex)(this.currentProps.viewOptions&&this.currentProps.viewOptions.backgroundColor||e);this.pBackground.clear(),this.pBackground.beginFill(t),this.pBackground.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pBackground.endFill()}return e}()},{key:"windowScrolled",value:function(){function e(){var e=this;this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){e.addZoom()}),me)}return e}()},{key:"setUpInitialScales",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-1/0,1/0],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[-1/0,1/0],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,1/0];i[0]=null===i[0]?0:i[0],i[1]=null===i[1]?1/0:i[1];var o=e[1]-e[0],a=(t[0]+t[1])/2;if(t[0]=a-o/2,t[1]=a+o/2,e[0]!==this.initialXDomain[0]||e[1]!==this.initialXDomain[1]||t[0]!==this.initialYDomain[0]||t[1]!==this.initialYDomain[1]||n[0]!==this.xDomainLimits[0]||n[1]!==this.xDomainLimits[1]||r[0]!==this.yDomainLimits[0]||r[1]!==this.yDomainLimits[1]||i[0]!==this.zoomLimits[0]||i[1]!==this.zoomLimits[1]){this.initialXDomain=e,this.initialYDomain=t,this.xDomainLimits=n,this.yDomainLimits=r,this.zoomLimits=i,this.zoomTransform=v.zoomIdentity,this.prevZoomTransform=v.zoomIdentity,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=(0,y.scaleLinear)().domain([this.currentProps.paddingLeft+this.currentProps.leftWidth,this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([e[0],e[1]]);var s=void 0,l=void 0;0===this.currentProps.centerWidth?(s=this.currentProps.paddingTop+this.currentProps.topHeight,l=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight):(s=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,l=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2),this.drawableToDomainY=(0,y.scaleLinear)().domain([s,l]).range([t[0],t[1]]),this.prevCenterX=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2}}return e}()},{key:"updatablePropsToString",value:function(){function e(e){return(0,o.default)({positionedTracks:e.positionedTracks,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,width:e.width,height:e.height,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,leftWidth:e.leftWidth,topHeight:e.topHeight,dragging:e.dragging,viewOptions:e.viewOptions})}return e}()},{key:"draggingChanged",value:function(){function e(e){this.dragging=e,this.timedUpdatePositionAndDimensions()}return e}()},{key:"setUpScales",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,n=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,r=(this.drawableToDomainX(t)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,i=(this.drawableToDomainY(n)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=i,this.cumCenterXOffset+=r,this.prevCenterY=n,this.prevCenterX=t;var o=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],a=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];for(var s in this.xScale=(0,y.scaleLinear)().domain(o).range([0,this.currentProps.width]),this.yScale=(0,y.scaleLinear)().domain(a).range([0,this.currentProps.height]),this.trackDefObjects)this.trackDefObjects[s].trackObject.refScalesChanged(this.xScale,this.yScale);this.applyZoomTransform(e)}return e}()},{key:"getTrackDef",value:function(){function e(e){var t=(0,fe.dictItems)(this.trackDefObjects),n=!0,r=!1,o=void 0;try{for(var a,l=(0,s.default)(t);!(n=(a=l.next()).done);n=!0){var u=a.value,c=(0,i.default)(u,2)[1],h=c.trackDef,f=c.trackObject;if(f===e)return h.track;if(h.track.contents){var d=!0,p=!1,m=void 0;try{for(var v,g=(0,s.default)(h.track.contents);!(d=(v=g.next()).done);d=!0){var y=v.value;if(f.createdTracks[y.uid]===e)return y}}catch(b){p=!0,m=b}finally{try{!d&&g.return&&g.return()}finally{if(p)throw m}}}}}catch(b){r=!0,o=b}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return null}return e}()},{key:"getTrackObject",value:function(){function e(e){for(var t=(0,fe.dictItems)(this.trackDefObjects),n=0;n<t.length;n++){var r=t[n][0],i=t[n][1].trackObject;if(r===e)return i;if(i.createdTracks)for(var o=(0,fe.dictItems)(i.createdTracks),a=0;a<o.length;a++){var s=o[a][0],l=o[a][1];if(s===e)return l}}}return e}()},{key:"timedUpdatePositionAndDimensions",value:function(){function e(){!this.closing&&this.element&&(this.elementPos=this.element.getBoundingClientRect(),this.dragging)&&(this.yPositionOffset=this.element.getBoundingClientRect().top-this.currentProps.canvasElement.getBoundingClientRect().top+this.scrollTop,this.xPositionOffset=this.element.getBoundingClientRect().left-this.currentProps.canvasElement.getBoundingClientRect().left,this.setMask(),this.setBackground(),this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this)))}return e}()},{key:"syncMetaTracks",value:function(){function e(e){var t=this,n=(0,l.default)(this.metaTracks),i=new r.default(e.map((function(e){return e.uid})));this.addMetaTracks(e.filter((function(e){return!t.metaTracks[e.uid]}))),this.updateMetaTracks(e.filter((function(e){return t.metaTracks[e.uid]}))),this.removeMetaTracks(n.filter((function(e){return!i.has(e)})))}return e}()},{key:"syncTrackObjects",value:function(){function e(e){this.prevTrackDefinitions=(0,o.default)(e);for(var t={},n=0;n<e.length;n++)t[e[n].track.uid]=e[n];var i=new r.default((0,l.default)(this.trackDefObjects)),s=new r.default((0,l.default)(t)),u=new r.default([].concat((0,a.default)(s)).filter((function(e){return!i.has(e)}))),c=new r.default([].concat((0,a.default)(i)).filter((function(e){return!s.has(e)}))),h=new r.default([].concat((0,a.default)(s)).filter((function(e){return i.has(e)})));this.updateExistingTrackDefs([].concat((0,a.default)(h)).map((function(e){return t[e]}))),this.addNewTracks([].concat((0,a.default)(u)).map((function(e){return t[e]}))),this.updateExistingTrackDefs([].concat((0,a.default)(u)).map((function(e){return t[e]}))),this.removeTracks([].concat((0,a.default)(c)))}return e}()},{key:"addMetaTracks",value:function(){function e(e){var t=this;e.filter((function(e){return!t.metaTracks[e.uid]})).forEach((function(e){t.metaTracks[e.uid]={trackDef:e,trackObject:t.createMetaTrack(e)}}))}return e}()},{key:"addNewTracks",value:function(){function e(e){if(this.currentProps.pixiStage){for(var t=0;t<e.length;t++){var n=e[t],r=this.createTrackObject(n.track);r.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[n.track.uid]={trackDef:n,trackObject:r};var i=this.zoomTransform.rescaleX(this.xScale),o=this.zoomTransform.rescaleY(this.yScale);r.setDimensions([n.width,n.height]),r.zoomed(i,o)}this.applyZoomTransform(!1)}}return e}()},{key:"updateMetaTracks",value:function(){function e(){}return e}()},{key:"updateExistingTrackDefs",value:function(){function e(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t].track.uid].trackDef=e[t],"combined"===e[t].track.type&&this.trackDefObjects[e[t].track.uid].trackObject.updateContents(e[t].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);this.updateTrackPositions()&&this.applyZoomTransform(!1)}return e}()},{key:"updateTrackPositions",value:function(){function e(){var e=!1;for(var t in this.trackDefObjects){var n=this.trackDefObjects[t].trackDef,r=this.trackDefObjects[t].trackObject,i=r.position,o=r.dimensions,a=[this.xPositionOffset+n.left,this.yPositionOffset+n.top],s=[n.width,n.height];(!i||a[0]!==i[0]||a[1]!==i[1])&&(r.setPosition(a),e=!0),(!o||s[0]!==o[0]||s[1]!==o[1])&&(r.setDimensions(s),e=!0)}return e}return e}()},{key:"removeMetaTracks",value:function(){function e(e){var t=this;e.forEach((function(e){t.metaTracks[e].trackObject.remove(),t.metaTracks[e]=void 0,delete t.metaTracks[e]}))}return e}()},{key:"removeTracks",value:function(){function e(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t]].trackObject.remove(),delete this.trackDefObjects[e[t]]}return e}()},{key:"setCenter",value:function(){function e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.xScale,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.yScale,l=(this.xScale.invert(1)-this.xScale.invert(0))/n,u=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,c=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,h=u-a(e)*l,f=c-s(t)*l,d=void 0,p=function(){function e(){var e=v.zoomIdentity.translate(h,f).scale(l);o.zoomTransform=e,o.emptyZoomBehavior.transform(o.elementSelection,e),d=o.applyZoomTransform(r)}return e}();if(i){var m=this.elementSelection;this.activeTransitions+=1,document.hidden||(m=m.transition().duration(i)),m.call(this.zoomBehavior.transform,v.zoomIdentity.translate(h,f).scale(l)).on("end",(function(){p(),o.activeTransitions-=1}))}else p();return d}return e}()},{key:"valueScaleMove",value:function(){function e(e){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(this.getTracksAtPosition.apply(this,(0,a.default)(this.zoomStartPos)));!(t=(i=o.next()).done);t=!0)i.value.movedY(e)}catch(l){n=!0,r=l}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.zoomTransform=this.zoomStartTransform}return e}()},{key:"valueScaleZoom",value:function(){function e(e){var t=g.event.sourceEvent.deltaY,n=g.event.sourceEvent.deltaMode,r=function(){function e(e,t){return e*(t?120:1)/500}return e}()(t,n),i=(0,g.clientPoint)(this.props.canvasElement,g.event.sourceEvent),o=!0,l=!1,u=void 0;try{for(var c,h=(0,s.default)(this.getTracksAtPosition.apply(this,(0,a.default)(i)));!(o=(c=h.next()).done);o=!0){var f=c.value,d="1d-horizontal"===e?i[1]-f.position[1]:i[0]-f.position[0];f.zoomedY(d,Math.pow(2,r))}}catch(p){l=!0,u=p}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}this.zoomTransform=this.zoomStartTransform}return e}()},{key:"zoomed",value:function(){function e(){var e=null;if(this.zoomStartPos){var t=this.getTracksAtPosition.apply(this,(0,a.default)(this.zoomStartPos));if(t.length){var n=t[0],r=this.getTrackDef(n);de.TRACKS_INFO_BY_TYPE[r.type]&&(e=de.TRACKS_INFO_BY_TYPE[r.type].orientation),n instanceof j.default&&(e="1d-vertical")}}if(e&&g.event.sourceEvent){if(g.event.shiftKey||this.valueScaleZooming){if(void 0!==g.event.sourceEvent.deltaY)return void this.valueScaleZoom(e);"1d-horizontal"===e?this.valueScaleMove(g.event.sourceEvent.movementY):"1d-vertical"===e&&this.valueScaleMove(g.event.sourceEvent.movementX)}"1d-horizontal"===e&&g.event.sourceEvent.movementY?this.valueScaleMove(g.event.sourceEvent.movementY):"1d-vertical"===e&&g.event.sourceEvent.movementX&&this.valueScaleMove(g.event.sourceEvent.movementX)}this.zoomTransform=this.currentProps.zoomable?g.event.transform:v.zoomIdentity,this.prevZoomTransform.k!==this.zoomTransform.k||("1d-horizontal"===e?this.zoomTransform=v.zoomIdentity.translate(this.zoomTransform.x,this.prevZoomTransform.y).scale(this.zoomTransform.k):"1d-vertical"===e&&(this.zoomTransform=v.zoomIdentity.translate(this.prevZoomTransform.x,this.zoomTransform.y).scale(this.zoomTransform.k)),this.element.__zoom=this.zoomTransform),this.applyZoomTransform(!0),this.prevZoomTransform=this.zoomTransform,this.props.pubSub.publish("app.zoom",g.event),g.event.sourceEvent&&(g.event.sourceEvent.stopPropagation(),g.event.sourceEvent.preventDefault())}return e}()},{key:"getTracksAtPosition",value:function(){function e(e,t){var n=[],r=[];for(var i in this.trackDefObjects){var o=this.trackDefObjects[i].trackObject;o.childTracks?r=r.concat(o.childTracks):r.push(o)}var a=!0,l=!1,u=void 0;try{for(var c,h=(0,s.default)(r);!(a=(c=h.next()).done);a=!0){var f=c.value,d=f.position[0]<=e&&e<=f.position[0]+f.dimensions[0],p=f.position[1]<=t&&t<=f.position[1]+f.dimensions[1];d&&p&&n.push(f)}}catch(m){l=!0,u=m}finally{try{!a&&h.return&&h.return()}finally{if(l)throw u}}return n}return e}()},{key:"zoomStarted",value:function(){function e(){this.zooming=!0,g.event.sourceEvent&&(this.zoomStartPos=(0,g.clientPoint)(this.props.canvasElement,g.event.sourceEvent),g.event.sourceEvent.shiftKey&&(this.valueScaleZooming=!0)),this.zoomStartTransform=this.zoomTransform,this.props.pubSub.publish("app.zoomStart")}return e}()},{key:"zoomEnded",value:function(){function e(){this.zooming=!1,this.zoomStartPos=null,this.valueScaleZooming&&(this.valueScaleZooming=!1,this.element.__zoom=this.zoomStartTransform),this.props.pubSub.publish("app.zoomEnd")}return e}()},{key:"applyZoomTransform",value:function(){function e(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.currentProps,n=t.paddingLeft+t.leftWidth,r=t.paddingTop+t.topHeight;this.zoomedXScale=this.zoomTransform.rescaleX(this.xScale),this.zoomedYScale=this.zoomTransform.rescaleY(this.yScale);var i=(0,y.scaleLinear)().domain([n,n+t.centerWidth].map(this.zoomedXScale.invert)).range([0,t.centerWidth]),o=(0,y.scaleLinear)().domain([r,r+t.centerHeight].map(this.zoomedYScale.invert)).range([0,t.centerHeight]);for(var a in this.trackDefObjects){var s=this.trackDefObjects[a].trackObject,l=this.trackDefObjects[a].trackDef,u="unknown";if(de.TRACKS_INFO_BY_TYPE[l.track.type]&&(u=de.TRACKS_INFO_BY_TYPE[l.track.type].orientation),"whole"!==u)if("gallery"!==this.trackDefObjects[a].trackDef.track.position)s.zoomed(i.copy(),o.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,t.paddingLeft+t.leftWidth,t.paddingTop+t.topHeight);else{var c=(0,y.scaleLinear)().domain([t.paddingLeft+t.leftWidthNoGallery,t.paddingLeft+t.leftWidth+t.centerWidth+t.galleryDim].map(this.zoomedXScale.invert)).range([0,t.centerWidth+2*t.galleryDim]),h=(0,y.scaleLinear)().domain([t.paddingTop+t.topHeightNoGallery,t.paddingTop+t.topHeight+t.centerHeight+t.galleryDim].map(this.zoomedYScale.invert)).range([0,t.centerHeight-2*t.galleryDim]);s.zoomed(c.copy(),h.copy(),this.zoomTransform.k)}else{var f=(0,y.scaleLinear)().domain([t.paddingLeft,t.width-t.paddingLeft].map(this.zoomedXScale.invert)).range([0,t.width-2*t.paddingLeft]),d=(0,y.scaleLinear)().domain([t.paddingTop,t.height-t.paddingTop].map(this.zoomedYScale.invert)).range([0,t.height-2*t.paddingTop]);s.zoomed(f,d)}}return this.currentXScale=i,this.currentYScale=o,e&&this.currentProps.onScalesChanged(i,o),[i,o]}return e}()},{key:"createMetaTrack",value:function(){function e(e){var t=this;e.type;var n=this.props.pluginTracks[e.type];if(n&&n.isMetaTrack){var r={getTrackObject:this.getTrackObject.bind(this),onNewTilesLoaded:function(){function n(){t.currentProps.onNewTilesLoaded(e.uid)}return n}(),definition:e};try{return new n.track(de.AVAILABLE_FOR_PLUGINS,r,e.options)}catch(i){console.error("Plugin meta track",e.type,"failed to instantiate.",i)}}return console.warn("Unknown meta track of type: "+String(e.type)),new $.default(this.pStage,{name:"Unknown Track Type",type:e.type},(function(){return t.currentProps.onNewTilesLoaded(e.uid)}))}return e}()},{key:"createTrackObject",value:function(){function e(e){var t=this.createLocationAgnosticTrackObject(e);return"left"!==e.position&&"right"!==e.position||"1d-horizontal"!==de.TRACKS_INFO_BY_TYPE[e.type].orientation?t:new j.default(t)}return e}()},{key:"createLocationAgnosticTrackObject",value:function(){function e(e){var t=this,n=function(){function n(n){t.currentProps.onTilesetInfoReceived(e.uid,n)}return n}(),r=e.data;r||(r={server:(0,fe.trimTrailingSlash)(e.server),tilesetUid:e.tilesetUid}),e.coordSystem&&(r.coordSystem=e.coordSystem);var i=(0,ce.default)(r,this.props.pubSub,this.props.pluginDataFetchers),o={id:e.uid,viewUid:this.viewUid,pubSub:this.props.pubSub,scene:this.pStage,dataConfig:r,dataFetcher:i,getLockGroupExtrema:function(){function n(){return t.currentProps.getLockGroupExtrema(e.uid)}return n}(),handleTilesetInfoReceived:n,animate:function(){function n(){t.currentProps.onNewTilesLoaded(e.uid)}return n}(),svgElement:this.svgElement,isValueScaleLocked:function(){function n(){return t.currentProps.isValueScaleLocked(e.uid)}return n}(),onValueScaleChanged:function(){function n(){t.currentProps.onValueScaleChanged(e.uid)}return n}(),onTrackOptionsChanged:function(){function n(n){t.currentProps.onTrackOptionsChanged(e.uid,n)}return n}(),onMouseMoveZoom:this.props.onMouseMoveZoom,chromInfoPath:e.chromInfoPath,isShowGlobalMousePosition:function(){function e(){return t.props.isShowGlobalMousePosition}return e}(),getTheme:function(){function e(){return t.props.theme}return e}()};e.y&&(o.yPosition=e.y),e.x&&(o.xPosition=e.x),e.projectionXDomain&&(o.projectionXDomain=e.projectionXDomain),e.projectionYDomain&&(o.projectionYDomain=e.projectionYDomain);var a=e.options;switch(e.type){case"left-axis":return new k.default(o,a);case"top-axis":return new E.default(o,a);case"heatmap":return new x.default(o,a);case"multivec":case"vector-heatmap":case"horizontal-multivec":case"horizontal-vector-heatmap":case"vertical-multivec":case"vertical-vector-heatmap":return new I.default(o,a);case"1d-heatmap":case"horizontal-1d-heatmap":case"vertical-1d-heatmap":return new D.default(o,a);case"line":case"horizontal-line":case"vertical-line":return new P.default(o,a);case"point":case"horizontal-point":case"vertical-point":return new M.default(o,a);case"bar":case"horizontal-bar":case"vertical-bar":return new R.default(o,a);case"divergent-bar":case"horizontal-divergent-bar":case"vertical-divergent-bar":return new L.default(o,a);case"horizontal-1d-tiles":return new w.default(o,a);case"vertical-1d-tiles":return new S.default(o,a);case"2d-tiles":return new T.default(o,a);case"stacked-interval":case"top-stacked-interval":case"left-stacked-interval":return new N.default(o,a);case"viewport-projection-center":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback,new Q.default(o,a)):new B.default(o,a);case"viewport-projection-horizontal":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback,new J.default(o,a)):new B.default(o,a);case"viewport-projection-vertical":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback,new ee.default(o,a)):new B.default(o,a);case"gene-annotations":case"horizontal-gene-annotations":case"vertical-gene-annotations":return new F.default(o,a);case"2d-rectangle-domains":case"arrowhead-domains":return new H.default(o,a);case"horizontal-1d-annotations":return new U.default(o,a);case"vertical-1d-annotations":return new U.default(o,a,!0);case"2d-annotations":return new z.default(o,a);case"linear-2d-rectangle-domains":case"horizontal-2d-rectangle-domains":case"vertical-2d-rectangle-domains":return new V.default(o,a);case"square-markers":return new G.default(o,a);case"combined":return o.tracks=e.contents,o.createTrackObject=this.createTrackObject.bind(this),new C.default(o,a);case"2d-chromosome-labels":return new X.default(o,a);case"horizontal-chromosome-grid":return o.orientation="1d-horizontal",new Y.default(o,a);case"vertical-chromosome-grid":return o.orientation="1d-vertical",new Y.default(o,a);case"2d-chromosome-grid":return new Y.default(o,a);case"chromosome-labels":case"horizontal-chromosome-labels":case"vertical-chromosome-labels":return new q.default(o,a);case"linear-heatmap":case"horizontal-heatmap":case"vertical-heatmap":return new K.default(o,a);case"2d-chromosome-annotations":return new W.default(o,a);case"1d-value-interval":case"horizontal-1d-value-interval":case"vertical-1d-value-interval":return new Z.default(o,a);case"osm":case"osm-tiles":return new ie.default(o,a);case"osm-2d-tile-ids":return new oe.default(o,a);case"mapbox":case"mapbox-tiles":return new ae.default(o,a);case"raster-tiles":return new se.default(o,a);case"bedlike":case"vertical-bedlike":return new A.default(o,a);case"overlay-track":return new O.default(o,a);case"overlay-chromosome-grid-track":return o.isOverlay=!0,new Y.default(o,a);case"horizontal-rule":return new te.default(o,a);case"vertical-rule":return new ne.default(o,a);case"cross-rule":return o.x=e.x,o.y=e.y,new re.default(o,a);case"simple-svg":return new le.default(o,a);case"empty":return new _.default(o,a);default:var s=this.props.pluginTracks[e.type];if(s&&!s.isMetaTrack){o.AVAILABLE_FOR_PLUGINS=de.AVAILABLE_FOR_PLUGINS,o.baseEl=this.baseEl,o.definition=e,e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback&&(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback);try{return new s.track(de.AVAILABLE_FOR_PLUGINS,o,a)}catch(l){console.error("Plugin track",e.type,"failed to instantiate.",l)}}return console.warn("Unknown track type:",e.type),new $.default(o,{name:"Unknown Track Type",type:e.type})}}return e}()},{key:"zoomToDataPos",value:function(){function e(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3e3,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=(0,fe.scalesCenterAndK)(this.xScale.copy().domain([e,t]),this.yScale.copy().domain([n,r])),l=(0,i.default)(s,3),u=l[0],c=l[1],h=l[2],f=a?a(this.xScale,this.yScale):[this.xScale,this.yScale];this.setCenter(u,c,h,!1,o,f[0],f[1])}return e}()},{key:"forwardContextMenu",value:function(){function e(e){var t=this;this.props.disableTrackMenu||e.altKey||(e.preventDefault(),setTimeout((function(){t.props.pubSub.publish("contextmenu",e)}),0))}return e}()},{key:"addEventTracker",value:function(){function e(){!this.eventTracker||this.eventTracker===this.eventTrackerOld||(this.eventTrackerOld||(this.eventTrackerOld=this.eventTracker),this.eventTracker=this.eventTrackerOld,this.eventTracker.addEventListener("click",this.boundForwardEvent),this.eventTracker.addEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.addEventListener("dblclick",this.boundForwardEvent),this.eventTracker.addEventListener("wheel",this.boundForwardEvent),this.eventTracker.addEventListener("dragstart",this.boundForwardEvent),this.eventTracker.addEventListener("selectstart",this.boundForwardEvent),this.eventTracker.addEventListener("mouseover",this.boundForwardEvent),this.eventTracker.addEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.addEventListener("mousedown",this.boundForwardEvent),this.eventTracker.addEventListener("mouseup",this.boundForwardEvent),this.eventTracker.addEventListener("mouseout",this.boundForwardEvent),this.eventTracker.addEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.addEventListener("touchstart",this.boundForwardEvent),this.eventTracker.addEventListener("touchend",this.boundForwardEvent),this.eventTracker.addEventListener("touchmove",this.boundForwardEvent),this.eventTracker.addEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerover",this.boundForwardEvent),this.eventTracker.addEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.addEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.addEventListener("pointerup",this.boundForwardEvent),this.eventTracker.addEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerout",this.boundForwardEvent),this.eventTracker.addEventListener("pointerleave",this.boundForwardEvent),window.addEventListener("scroll",this.boundScrollEvent))}return e}()},{key:"removeEventTracker",value:function(){function e(){this.eventTracker&&(this.eventTracker.removeEventListener("click",this.boundForwardEvent),this.eventTracker.removeEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.removeEventListener("dblclick",this.boundForwardEvent),this.eventTracker.removeEventListener("wheel",this.boundForwardEvent),this.eventTracker.removeEventListener("dragstart",this.boundForwardEvent),this.eventTracker.removeEventListener("selectstart",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseover",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.removeEventListener("mousedown",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseup",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseout",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.removeEventListener("touchstart",this.boundForwardEvent),this.eventTracker.removeEventListener("touchend",this.boundForwardEvent),this.eventTracker.removeEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerover",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerup",this.boundForwardEvent),this.eventTracker.removeEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerout",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerleave",this.boundForwardEvent),window.removeEventListener("scroll",this.boundScrollEvent))}return e}()},{key:"scrollEvent",value:function(){function e(){this.elementPos=this.element.getBoundingClientRect()}return e}()},{key:"forwardEvent",value:function(){function e(e){e.sourceUid=this.uid,e.forwarded=!0,this.props.pubSub.publish("app.event",e)}return e}()},{key:"onScrollHandler",value:function(){function e(e){this.scrollTop=e}return e}()},{key:"render",value:function(){function e(){var e=this;return p.default.createElement("div",{ref:function(){function t(t){e.baseEl=t}return t}(),className:"track-renderer-div TrackRenderer-module_track-renderer-3TM7n",style:{height:this.currentProps.height,width:this.currentProps.width}},p.default.createElement("div",{ref:function(){function t(t){e.element=t}return t}(),className:"track-renderer-element TrackRenderer-module_track-renderer-element-2i16D"}),p.default.createElement("div",{ref:function(){function t(t){e.eventTracker=t}return t}(),className:"track-renderer-events TrackRenderer-module_track-renderer-events-3tVM2"},this.currentProps.children))}return e}()}]),t}(p.default.Component);ve.defaultProps={pluginDataFetchers:{},pluginTracks:{},canvasElement:null,centerHeight:0,centerWidth:0,children:[],galleryDim:0,height:0,initialXDomain:[],initialYDomain:[],isShowGlobalMousePosition:!1,isRangeSelection:!1,leftWidth:0,leftWidthNoGallery:0,paddingLeft:0,paddingTop:0,positionedTracks:[],topHeight:0,topHeightNoGallery:0,width:0,metaTracks:[]},ve.propTypes={canvasElement:m.default.object,centerHeight:m.default.number,centerWidth:m.default.number,children:m.default.array,disableTrackMenu:m.default.bool,galleryDim:m.default.number,height:m.default.number,initialXDomain:m.default.array,initialYDomain:m.default.array,isShowGlobalMousePosition:m.default.bool,isRangeSelection:m.default.bool,leftWidth:m.default.number,leftWidthNoGallery:m.default.number,paddingLeft:m.default.number,paddingTop:m.default.number,metaTracks:m.default.array,onMouseMoveZoom:m.default.func,onNewTilesLoaded:m.default.func.isRequired,onScalesChanged:m.default.func.isRequired,pixiRenderer:m.default.object.isRequired,pixiStage:m.default.object.isRequired,pluginDataFetchers:m.default.object,pluginTracks:m.default.object,positionedTracks:m.default.array,pubSub:m.default.object.isRequired,setCentersFunction:m.default.func,svgElement:m.default.object.isRequired,theme:m.default.symbol.isRequired,topHeight:m.default.number,topHeightNoGallery:m.default.number,viewOptions:m.default.object,width:m.default.number,xDomainLimits:m.default.array,yDomainLimits:m.default.array,valueScaleZoom:m.default.bool,zoomable:m.default.bool.isRequired,zoomDomain:m.default.array},t.default=(0,ue.default)((0,he.default)(ve))},function(e,t,n){e.exports={default:n(613),__esModule:!0}},function(e,t,n){n(614);var r=n(12).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(48),i=n(228).f;n(126)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(616),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(e,t){!function(t){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=_;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",m={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(I([])));y&&y!==r&&i.call(y,a)&&(v=y);var b=S.prototype=T.prototype=Object.create(v);w.prototype=b.constructor=S,S.constructor=w,S[l]=w.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},E(k.prototype),k.prototype[s]=function(){return this},c.AsyncIterator=k,c.async=function(e,t,n,r){var i=new k(_(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(b),b[l]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=I,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function _(e,t,n,r){var i=t&&t.prototype instanceof T?t:T,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=C(e,n,a),o}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function T(){}function w(){}function S(){}function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function k(e){function t(n,r,o,a){var s=x(e[n],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(u).then((function(e){l.value=e,o(l)}),a)}a(s.arg)}var n;function r(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=r}function C(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=x(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}function A(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,A(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=x(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,r.default)(this,e),this.taskList=[],this.taskHandle=null,this.requestIdleCallbackTimeout=300}return(0,i.default)(e,[{key:"enqueueTask",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n?this.taskList.push({handler:e,data:t}):(this.taskList=this.taskList.filter((function(e){return e.trackId!==n})),this.taskList.push({handler:e,data:t,trackId:n})),this.taskHandle||(this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}))}return e}()},{key:"runTaskQueue",value:function(){function e(e){for(;(e.timeRemaining()>0||e.didTimeout)&&this.taskList.length;){var t=this.taskList.shift();null===t.data?t.handler():t.handler(t.data)}this.taskList.length?this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}):this.taskHandle=0}return e}()}]),e}(),s=new a;t.default=s},function(e,t,n){function r(e,t,n){var i=0|e[n];if(i<=0)return[];var o,a=new Array(i);if(n===e.length-1)for(o=0;o<i;++o)a[o]=t;else for(o=0;o<i;++o)a[o]=r(e,t,n+1);return a}function i(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function o(e,t){switch("undefined"==typeof t&&(t=0),typeof e){case"number":if(e>0)return i(0|e,t);break;case"object":if("number"==typeof e.length)return r(e,t,0)}return[]}e.exports=o},function(e,t,n){e.exports=i;var r=32;function i(e,t){t<=4*r?o(0,t-1,e):f(0,t-1,e)}function o(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function a(e,t,n){t*=2;var r=n[e*=2],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function s(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function l(e,t,n,r){t*=2,n*=2;var i=r[e*=2],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function u(e,t,n,r,i){t*=2,i[e*=2]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function c(e,t,n){t*=2;var r=n[e*=2],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function h(e,t,n,r){var i=r[e*=2];return i<t||i===t&&r[e+1]<n}function f(e,t,n){var i=(t-e+1)/6|0,d=e+i,p=t-i,m=e+t>>1,v=m-i,g=m+i,y=d,b=v,_=m,x=g,T=p,w=e+1,S=t-1,E=0;c(y,b,n)&&(E=y,y=b,b=E),c(x,T,n)&&(E=x,x=T,T=E),c(y,_,n)&&(E=y,y=_,_=E),c(b,_,n)&&(E=b,b=_,_=E),c(y,x,n)&&(E=y,y=x,x=E),c(_,x,n)&&(E=_,_=x,x=E),c(b,T,n)&&(E=b,b=T,T=E),c(b,_,n)&&(E=b,b=_,_=E),c(x,T,n)&&(E=x,x=T,T=E);for(var k=n[2*b],C=n[2*b+1],A=n[2*x],O=n[2*x+1],P=2*y,M=2*_,I=2*T,R=2*d,L=2*m,D=2*p,N=0;N<2;++N){var j=n[P+N],B=n[M+N],F=n[I+N];n[R+N]=j,n[L+N]=B,n[D+N]=F}s(v,e,n),s(g,t,n);for(var H=w;H<=S;++H)if(h(H,k,C,n))H!==w&&a(H,w,n),++w;else if(!h(H,A,O,n))for(;;){if(h(S,A,O,n)){h(S,k,C,n)?(l(H,w,S,n),++w,--S):(a(H,S,n),--S);break}if(--S<H)break}u(e,w-1,k,C,n),u(t,S+1,A,O,n),w-2-e<=r?o(e,w-2,n):f(e,w-2,n),t-(S+2)<=r?o(S+2,t,n):f(S+2,t,n),S-w<=r?o(w,S,n):f(w,S,n)}},function(e,t,n){e.exports=O;var r=n(257),i=n(258),o=n(621),a=o.partial,s=o.full,l=n(353),u=n(622),c=n(354),h=128,f=1<<22,d=1<<22,p=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),m=c("lo===p0",["p0"]),v=c("lo<p0",["p0"]),g=c("hi<=p0",["p0"]),y=c("lo<=p0&&p0<=hi",["p0"]),b=c("lo<p0&&p0<=hi",["p0"]),_=6,x=2,T=1024,w=r.mallocInt32(T),S=r.mallocDouble(T);function E(e,t){var n=8*i.log2(t+1)*(e+1)|0,o=i.nextPow2(_*n);w.length<o&&(r.free(w),w=r.mallocInt32(o));var a=i.nextPow2(x*n);S.length<a&&(r.free(S),S=r.mallocDouble(a))}function k(e,t,n,r,i,o,a,s,l){var u=_*e;w[u]=t,w[u+1]=n,w[u+2]=r,w[u+3]=i,w[u+4]=o,w[u+5]=a;var c=x*e;S[c]=s,S[c+1]=l}function C(e,t,n,r,i,o,a,s,l,u,c){var h=2*e,f=l*h,d=u[f+t];e:for(var p=i,m=i*h;p<o;++p,m+=h){var v=a[m+t],g=a[m+t+e];if(!(d<v||g<d)&&(!r||d!==v)){for(var y=s[p],b=t+1;b<e;++b){v=a[m+b],g=a[m+b+e];var _=u[f+b],x=u[f+b+e];if(g<_||x<v)continue e}var T;if(void 0!==(T=r?n(c,y):n(y,c)))return T}}}function A(e,t,n,r,i,o,a,s,l,u){var c=2*e,h=s*c,f=l[h+t];e:for(var d=r,p=r*c;d<i;++d,p+=c){var m=a[d];if(m!==u){var v=o[p+t],g=o[p+t+e];if(!(f<v||g<f)){for(var y=t+1;y<e;++y){v=o[p+y],g=o[p+y+e];var b=l[h+y],_=l[h+y+e];if(g<b||_<v)continue e}var x=n(m,u);if(void 0!==x)return x}}}}function O(e,t,n,r,i,o,c,T,O){E(e,r+c);var P,M=0,I=2*e;for(k(M++,0,0,r,0,c,n?16:0,-1/0,1/0),n||k(M++,0,0,c,0,r,1,-1/0,1/0);M>0;){var R=(M-=1)*_,L=w[R],D=w[R+1],N=w[R+2],j=w[R+3],B=w[R+4],F=w[R+5],H=M*x,z=S[H],U=S[H+1],V=1&F,G=!!(16&F),X=i,Y=o,W=T,q=O;if(V&&(X=T,Y=O,W=i,q=o),!(2&F&&(N=v(e,L,D,N,X,Y,U),D>=N))&&!(4&F&&(D=g(e,L,D,N,X,Y,z),D>=N))){var K=N-D,$=B-j;if(G){if(e*K*(K+$)<d){if(void 0!==(P=l.scanComplete(e,L,t,D,N,X,Y,j,B,W,q)))return P;continue}}else{if(e*Math.min(K,$)<h){if(void 0!==(P=a(e,L,t,V,D,N,X,Y,j,B,W,q)))return P;continue}if(e*K*$<f){if(void 0!==(P=l.scanBipartite(e,L,t,V,D,N,X,Y,j,B,W,q)))return P;continue}}var Z=p(e,L,D,N,X,Y,z,U);if(D<Z)if(e*(Z-D)<h){if(void 0!==(P=s(e,L+1,t,D,Z,X,Y,j,B,W,q)))return P}else if(L===e-2){if(void 0!==(P=V?l.sweepBipartite(e,t,j,B,W,q,D,Z,X,Y):l.sweepBipartite(e,t,D,Z,X,Y,j,B,W,q)))return P}else k(M++,L+1,D,Z,j,B,V,-1/0,1/0),k(M++,L+1,j,B,D,Z,1^V,-1/0,1/0);if(Z<N){var Q=u(e,L,j,B,W,q),J=W[I*Q+L],ee=m(e,L,Q,B,W,q,J);if(ee<B&&k(M++,L,Z,N,ee,B,(4|V)+(G?16:0),J,U),j<Q&&k(M++,L,Z,N,j,Q,(2|V)+(G?16:0),z,J),Q+1===ee){if(void 0!==(P=G?A(e,L,t,Z,N,X,Y,Q,W,q[Q]):C(e,L,t,V,Z,N,X,Y,Q,W,q[Q])))return P}else if(Q<ee){var te;if(G){if(Z<(te=y(e,L,Z,N,X,Y,J))){var ne=m(e,L,Z,te,X,Y,J);if(L===e-2){if(Z<ne&&void 0!==(P=l.sweepComplete(e,t,Z,ne,X,Y,Q,ee,W,q))||ne<te&&void 0!==(P=l.sweepBipartite(e,t,ne,te,X,Y,Q,ee,W,q)))return P}else Z<ne&&k(M++,L+1,Z,ne,Q,ee,16,-1/0,1/0),ne<te&&(k(M++,L+1,ne,te,Q,ee,0,-1/0,1/0),k(M++,L+1,Q,ee,ne,te,1,-1/0,1/0))}}else Z<(te=V?b(e,L,Z,N,X,Y,J):y(e,L,Z,N,X,Y,J))&&(L===e-2?P=V?l.sweepBipartite(e,t,Q,ee,W,q,Z,te,X,Y):l.sweepBipartite(e,t,Z,te,X,Y,Q,ee,W,q):(k(M++,L+1,Z,te,Q,ee,V,-1/0,1/0),k(M++,L+1,Q,ee,Z,te,1^V,-1/0,1/0)))}}}}}},function(e,t,n){var r="d",i="ax",o="vv",a="fp",s="es",l="rs",u="re",c="rb",h="ri",f="rp",d="bs",p="be",m="bb",v="bi",g="bp",y="rv",b="Q",_=[r,i,o,l,u,c,h,d,p,m,v];function x(e,t,n){var a="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),x=["function ",a,"(",_.join(),"){","var ",s,"=2*",r,";"],T="for(var i="+l+","+f+"="+s+"*"+l+";i<"+u+";++i,"+f+"+="+s+"){var x0="+c+"["+i+"+"+f+"],x1="+c+"["+i+"+"+f+"+"+r+"],xi="+h+"[i];",w="for(var j="+d+","+g+"="+s+"*"+d+";j<"+p+";++j,"+g+"+="+s+"){var y0="+m+"["+i+"+"+g+"],"+(n?"y1="+m+"["+i+"+"+g+"+"+r+"],":"")+"yi="+v+"[j];";return e?x.push(T,b,":",w):x.push(w,b,":",T),n?x.push("if(y1<x0||x1<y0)continue;"):t?x.push("if(y0<=x0||x1<y0)continue;"):x.push("if(y0<x0||x1<y0)continue;"),x.push("for(var k="+i+"+1;k<"+r+";++k){var r0="+c+"[k+"+f+"],r1="+c+"[k+"+r+"+"+f+"],b0="+m+"[k+"+g+"],b1="+m+"[k+"+r+"+"+g+"];if(r1<b0||b1<r0)continue "+b+";}var "+y+"="+o+"("),t?x.push("yi,xi"):x.push("xi,yi"),x.push(");if("+y+"!==void 0)return "+y+";}}}"),{name:a,code:x.join("")}}function T(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],r=_.slice();e||r.splice(3,0,a);var i=["function "+t+"("+r.join()+"){"];function o(t,r){var o=x(t,r,e);n.push(o.code),i.push("return "+o.name+"("+_.join()+");")}i.push("if("+u+"-"+l+">"+p+"-"+d+"){"),e?(o(!0,!1),i.push("}else{"),o(!1,!1)):(i.push("if("+a+"){"),o(!0,!0),i.push("}else{"),o(!0,!1),i.push("}}else{if("+a+"){"),o(!1,!0),i.push("}else{"),o(!1,!1),i.push("}")),i.push("}}return "+t);var s=n.join("")+i.join("");return new Function(s)()}t.partial=T(!1),t.full=T(!0)},function(e,t,n){e.exports=a;var r=n(354)("lo<p0",["p0"]),i=8;function o(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,l=n+1;l<r;++l,s+=a)for(var u=i[s],c=l,h=a*(l-1);c>n&&i[h+t]>u;--c,h-=a){for(var f=h,d=h+a,p=0;p<a;++p,++f,++d){var m=i[f];i[f]=i[d],i[d]=m}var v=o[c];o[c]=o[c-1],o[c-1]=v}}function a(e,t,n,a,s,l){if(a<=n+1)return n;for(var u=n,c=a,h=a+n>>>1,f=2*e,d=h,p=s[f*h+t];u<c;){if(c-u<i){o(e,t,u,c,s,l),p=s[f*h+t];break}var m=c-u,v=Math.random()*m+u|0,g=s[f*v+t],y=Math.random()*m+u|0,b=s[f*y+t],_=Math.random()*m+u|0,x=s[f*_+t];g<=b?x>=b?(d=y,p=b):g>=x?(d=v,p=g):(d=_,p=x):b>=x?(d=y,p=b):x>=g?(d=v,p=g):(d=_,p=x);for(var T=f*(c-1),w=f*d,S=0;S<f;++S,++T,++w){var E=s[T];s[T]=s[w],s[w]=E}var k=l[c-1];for(l[c-1]=l[d],l[d]=k,T=f*(c-1),w=f*(d=r(e,t,u,c-1,s,l,p)),S=0;S<f;++S,++T,++w)E=s[T],s[T]=s[w],s[w]=E;if(k=l[c-1],l[c-1]=l[d],l[d]=k,h<d){for(c=d-1;u<c&&s[f*(c-1)+t]===p;)c-=1;c+=1}else{if(!(d<h))break;for(u=d+1;u<c&&s[f*u+t]===p;)u+=1}}return r(e,t,n,h,s,l,s[f*h+t])}},function(e,t,n){var r=n(356),i=n(624),o=n(625),a=n(627),s=5,l=11102230246251565e-32,u=(3+16*l)*l,c=(7+56*l)*l;function h(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function f(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}function d(e){return 1&e?"-":""}function p(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",p(e.slice(0,t)),",",p(e.slice(t)),")"].join("")}function m(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",p(m(h(e,n))),",",d(n),e[0][n],")"].join(""));return t}function v(e){for(var t=[],n=[],s=f(e),l=[],u=0;u<e;++u)1&u?n.push.apply(n,m(h(s,u))):t.push.apply(t,m(h(s,u))),l.push("m"+u);var c=p(t),d=p(n),v="orientation"+e+"Exact",g=["function ",v,"(",l.join(),"){var p=",c,",n=",d,",d=sub(p,n);\treturn d[d.length-1];};return ",v].join("");return new Function("sum","prod","scale","sub",g)(i,r,o,a)}var g=v(3),y=v(4),b=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),o=(e[0]-n[0])*(t[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=u*r;return a>=s||a<=-s?a:g(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],o=t[0]-r[0],a=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],u=n[1]-r[1],h=e[2]-r[2],f=t[2]-r[2],d=n[2]-r[2],p=o*u,m=a*l,v=a*s,g=i*u,b=i*l,_=o*s,x=h*(p-m)+f*(v-g)+d*(b-_),T=(Math.abs(p)+Math.abs(m))*Math.abs(h)+(Math.abs(v)+Math.abs(g))*Math.abs(f)+(Math.abs(b)+Math.abs(_))*Math.abs(d),w=c*T;return x>w||-x>w?x:y(e,t,n,r)}];function _(e){var t=b[e.length];return t||(t=b[e.length]=v(e.length)),t.apply(void 0,e)}function x(){for(;b.length<=s;)b.push(v(b.length));for(var t=[],n=["slow"],r=0;r<=s;++r)t.push("a"+r),n.push("o"+r);var i=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=s;++r)i.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);for(e.exports=o.apply(void 0,[_].concat(b)),r=0;r<=s;++r)e.exports[r]=b[r]}x()},function(e,t,n){function r(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}function i(e,t){var n=0|e.length,i=0|t.length;if(1===n&&1===i)return r(e[0],t[0]);var o,a,s=new Array(n+i),l=0,u=0,c=0,h=Math.abs,f=e[u],d=h(f),p=t[c],m=h(p);d<m?(a=f,(u+=1)<n&&(d=h(f=e[u]))):(a=p,(c+=1)<i&&(m=h(p=t[c]))),u<n&&d<m||c>=i?(o=f,(u+=1)<n&&(d=h(f=e[u]))):(o=p,(c+=1)<i&&(m=h(p=t[c])));for(var v,g,y=o+a,b=y-o,_=a-b,x=_,T=y;u<n&&c<i;)d<m?(o=f,(u+=1)<n&&(d=h(f=e[u]))):(o=p,(c+=1)<i&&(m=h(p=t[c]))),(_=(a=x)-(b=(y=o+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v;for(;u<n;)(_=(a=x)-(b=(y=(o=f)+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v,(u+=1)<n&&(f=e[u]);for(;c<i;)(_=(a=x)-(b=(y=(o=p)+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v,(c+=1)<i&&(p=t[c]);return x&&(s[l++]=x),T&&(s[l++]=T),l||(s[l++]=0),s.length=l,s}e.exports=i},function(e,t,n){var r=n(356),i=n(626);function o(e,t){var n=e.length;if(1===n){var o=r(e[0],t);return o[0]?o:[o[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(e[0],t,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){r(e[c],t,l);var h=s[1];i(h,l[0],s),s[0]&&(a[u++]=s[0]);var f=l[1],d=s[1],p=f+d,m=d-(p-f);s[1]=p,m&&(a[u++]=m)}return s[1]&&(a[u++]=s[1]),0===u&&(a[u++]=0),a.length=u,a}e.exports=o},function(e,t,n){function r(e,t,n){var r=e+t,i=r-e,o=t-i,a=e-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]}e.exports=r},function(e,t,n){function r(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}function i(e,t){var n=0|e.length,i=0|t.length;if(1===n&&1===i)return r(e[0],-t[0]);var o,a,s=new Array(n+i),l=0,u=0,c=0,h=Math.abs,f=e[u],d=h(f),p=-t[c],m=h(p);d<m?(a=f,(u+=1)<n&&(d=h(f=e[u]))):(a=p,(c+=1)<i&&(m=h(p=-t[c]))),u<n&&d<m||c>=i?(o=f,(u+=1)<n&&(d=h(f=e[u]))):(o=p,(c+=1)<i&&(m=h(p=-t[c])));for(var v,g,y=o+a,b=y-o,_=a-b,x=_,T=y;u<n&&c<i;)d<m?(o=f,(u+=1)<n&&(d=h(f=e[u]))):(o=p,(c+=1)<i&&(m=h(p=-t[c]))),(_=(a=x)-(b=(y=o+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v;for(;u<n;)(_=(a=x)-(b=(y=(o=f)+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v,(u+=1)<n&&(f=e[u]);for(;c<i;)(_=(a=x)-(b=(y=(o=p)+a)-o))&&(s[l++]=_),x=T-((v=T+y)-(g=v-T))+(y-g),T=v,(c+=1)<i&&(p=-t[c]);return x&&(s[l++]=x),T&&(s[l++]=T),l||(s[l++]=0),s.length=l,s}e.exports=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(139));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=0,n=[];return e.forEach((function(e){t+=+e||0,n.push(t)})),Float64Array.from(n)}var a=function(e,t){var n=(0,r.default)(e,t);return o(e.map((function(e){return(Array.isArray(e)&&t?e.length:1)/n})))};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),i=a(n(4)),o=n(11);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,r.default)(this,e),this.scene=t.scene,this.originalTrack=t,this.pBase=new o.GLOBALS.PIXI.Graphics,this.scene.removeChild(t.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new o.GLOBALS.PIXI.Graphics,this.moveToOrigin.addChild(t.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,t.isLeftModified=!0,t.flipText=!0,this.svgOutput=null,t.gBase&&t.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                             rotate(90)\n                             scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}return(0,i.default)(e,[{key:"remove",value:function(){function e(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}return e}()},{key:"setDimensions",value:function(){function e(e){this.dimensions=e;var t=[e[1],e[0]];this.originalTrack.setDimensions(t)}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e,this.originalTrack.setPosition(e),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                                 rotate(90)\n                                 scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}return e}()},{key:"refXScale",value:function(){function e(e){return arguments.length?(this.originalTrack._refXScale=e,this):this.originalTrack._refYScale}return e}()},{key:"refYScale",value:function(){function e(e){return arguments.length?(this.originalTrack._refYScale=e,this):this.originalTrack._refXScale}return e}()},{key:"xScale",value:function(){function e(e){return arguments.length?(this.originalTrack._yScale=e,this):this.originalTrack._xScale}return e}()},{key:"yScale",value:function(){function e(e){return arguments.length?(this.originalTrack._xScale=e,this):this.originalTrack._yScale}return e}()},{key:"getMouseOverHtml",value:function(){function e(e,t){return this.originalTrack.getMouseOverHtml(t,e)}return e}()},{key:"draw",value:function(){function e(){this.originalTrack.draw()}return e}()},{key:"zoomed",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.xScale(e),this.yScale(t),this.originalTrack.leftTrackZoomed)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackZoomed(e,t,n,r,i),void this.originalTrack.draw();var o=this.originalTrack._xScale(0)-n*this.originalTrack._refXScale(0);if(this.originalTrack.pMobile.position.x=o+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=n,this.originalTrack.pMobile.scale.y=n,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-n,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.leftTrackDraw)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),void this.originalTrack.leftTrackDraw();this.originalTrack.zoomed(this.xScale(),this.yScale())}return e}()},{key:"zoomedY",value:function(){function e(e,t){this.originalTrack.zoomedY(e,t)}return e}()},{key:"movedY",value:function(){function e(e){this.originalTrack.movedY(e)}return e}()},{key:"refScalesChanged",value:function(){function e(e,t){this.originalTrack.refScalesChanged(t,e)}return e}()},{key:"rerender",value:function(){function e(e){this.originalTrack.rerender(e)}return e}()},{key:"exportSVG",value:function(){function e(){var e=document.createElement("g");if(e.setAttribute("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                             rotate(90)\n                             scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.exportSVG){var t=document.createElement("g");t.setAttribute("transform","translate("+String(this.originalTrack.pBase.position.x)+", "+String(this.originalTrack.pBase.position.y)+")"),t.appendChild(this.originalTrack.exportSVG()[0]),e.appendChild(t)}return[e,e]}return e}()},{key:"respondsToPosition",value:function(){function e(e,t){return e>=this.position[0]&&e<=this.dimensions[0]+this.position[0]&&t>=this.position[1]&&t<=this.dimensions[1]+this.position[1]}return e}()}]),e}();t.default=s},function(e,t,n){e.exports={default:n(631),__esModule:!0}},function(e,t,n){n(632),e.exports=n(12).Number.isInteger},function(e,t,n){var r=n(16);r(r.S,"Number",{isInteger:n(178)})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(5)),i=l(n(3)),o=l(n(4)),a=l(n(6)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.tilesetInfo={},o.errorTextText="Unknown track type: "+String(n.type),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"zoomed",value:function(){function e(){this.draw()}return e}()}]),t}(l(n(40)).default);t.default=u},function(e,t,n){e.exports={default:n(635),__esModule:!0}},function(e,t,n){n(636),e.exports=n(168).f("hasInstance")},function(e,t,n){var r=n(33),i=n(128),o=n(21)("hasInstance"),a=Function.prototype;o in a||n(32).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){e.exports={default:n(638),__esModule:!0}},function(e,t,n){n(164),n(61),n(76),n(639),n(640),n(641),n(642),e.exports=n(12).Map},function(e,t,n){var r=n(333),i=n(238),o="Map";e.exports=n(334)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(16);r(r.P+r.R,"Map",{toJSON:n(335)("Map")})},function(e,t,n){n(336)("Map")},function(e,t,n){n(337)("Map")},function(e,t,n){var r={};(0,n(82).assign)(r,n(644),n(647),n(388)),e.exports=r},function(e,t,n){var r=n(645),i=n(82),o=n(386),a=n(263),s=n(387),l=Object.prototype.toString,u=0,c=4,h=0,f=1,d=2,p=-1,m=0,v=8;function g(e){if(!(this instanceof g))return new g(e);this.options=i.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==h)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,u))!==h)throw new Error(a[n]);this._dict_set=!0}}function y(e,t){var n=new g(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}function b(e,t){return(t=t||{}).raw=!0,y(e,t)}function _(e,t){return(t=t||{}).gzip=!0,y(e,t)}g.prototype.push=function(e,t){var n,a,s=this.strm,p=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?c:u,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(p),s.next_out=0,s.avail_out=p),(n=r.deflate(s,a))!==f&&n!==h)return this.onEnd(n),this.ended=!0,!1;(0===s.avail_out||0===s.avail_in&&(a===c||a===d))&&("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&n!==f);return a===c?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h):(a===d&&(this.onEnd(h),s.avail_out=0),!0)},g.prototype.onData=function(e){this.chunks.push(e)},g.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=g,t.deflate=y,t.deflateRaw=b,t.gzip=_},function(e,t,n){var r,i=n(82),o=n(646),a=n(384),s=n(385),l=n(263),u=0,c=1,h=3,f=4,d=5,p=0,m=1,v=-2,g=-3,y=-5,b=-1,_=1,x=2,T=3,w=4,S=0,E=2,k=8,C=9,A=15,O=8,P=286,M=30,I=19,R=2*P+1,L=15,D=3,N=258,j=N+D+1,B=32,F=42,H=69,z=73,U=91,V=103,G=113,X=666,Y=1,W=2,q=3,K=4,$=3;function Z(e,t){return e.msg=l[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=a(e.adler,t,o,n):2===e.state.wrap&&(e.adler=s(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function oe(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-j?e.strstart-(e.w_size-j):0,u=e.window,c=e.w_mask,h=e.prev,f=e.strstart+N,d=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=N-(f-o),o=f-N,r>a){if(e.match_start=t,a=r,r>=s)break;d=u[o+a-1],p=u[o+a]}}}while((t=h[t&c])>l&&0!==--i);return a<=e.lookahead?a:e.lookahead}function ae(e){var t,n,r,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-j)){i.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);t=n=s;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=ie(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=D)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+D-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<j&&0!==e.strm.avail_in)}function se(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===u)return Y;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-j&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?q:K):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),Y)}function le(e,t){for(var n,r;;){if(e.lookahead<j){if(ae(e),e.lookahead<j&&t===u)return Y;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-j&&(e.match_length=oe(e,n)),e.match_length>=D)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=e.strstart<D-1?e.strstart:D-1,t===f?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:W}function ue(e,t){for(var n,r,i;;){if(e.lookahead<j){if(ae(e),e.lookahead<j&&t===u)return Y;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-j&&(e.match_length=oe(e,n),e.match_length<=5&&(e.strategy===_||e.match_length===D&&e.strstart-e.match_start>4096)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-D,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=D-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return Y}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Y}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,t===f?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:W}function ce(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=N){if(ae(e),e.lookahead<=N&&t===u)return Y;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=D&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+N;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=N-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(n=o._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:W}function he(e,t){for(var n;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===u)return Y;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:W}function fe(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function de(e){e.window_size=2*e.w_size,J(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=D-1,e.match_available=0,e.ins_h=0}function pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*R),this.dyn_dtree=new i.Buf16(2*(2*M+1)),this.bl_tree=new i.Buf16(2*(2*I+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(L+1),this.heap=new i.Buf16(2*P+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*P+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function me(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=E,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?F:G,e.adler=2===t.wrap?0:1,t.last_flush=u,o._tr_init(t),p):Z(e,v)}function ve(e){var t=me(e);return t===p&&de(e.state),t}function ge(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,p):v}function ye(e,t,n,r,o,a){if(!e)return v;var s=1;if(t===b&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>C||n!==k||r<8||r>15||t<0||t>9||a<0||a>w)return Z(e,v);8===r&&(r=9);var l=new pe;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+D-1)/D),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,ve(e)}function be(e,t){return ye(e,t,k,A,O,S)}function _e(e,t){var n,i,a,l;if(!e||!e.state||t>d||t<0)return e?Z(e,v):v;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===X&&t!==f)return Z(e,0===e.avail_out?y:v);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===F)if(2===i.wrap)e.adler=0,ne(i,31),ne(i,139),ne(i,8),i.gzhead?(ne(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ne(i,255&i.gzhead.time),ne(i,i.gzhead.time>>8&255),ne(i,i.gzhead.time>>16&255),ne(i,i.gzhead.time>>24&255),ne(i,9===i.level?2:i.strategy>=x||i.level<2?4:0),ne(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(ne(i,255&i.gzhead.extra.length),ne(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=H):(ne(i,0),ne(i,0),ne(i,0),ne(i,0),ne(i,0),ne(i,9===i.level?2:i.strategy>=x||i.level<2?4:0),ne(i,$),i.status=G);else{var g=k+(i.w_bits-8<<4)<<8;g|=(i.strategy>=x||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(g|=B),g+=31-g%31,i.status=G,re(i,g),0!==i.strstart&&(re(i,e.adler>>>16),re(i,65535&e.adler)),e.adler=1}if(i.status===H)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending!==i.pending_buf_size));)ne(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=z)}else i.status=z;if(i.status===z)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,ne(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=U)}else i.status=U;if(i.status===U)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,ne(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=V)}else i.status=V;if(i.status===V&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(ne(i,255&e.adler),ne(i,e.adler>>8&255),e.adler=0,i.status=G)):i.status=G),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,p}else if(0===e.avail_in&&Q(t)<=Q(n)&&t!==f)return Z(e,y);if(i.status===X&&0!==e.avail_in)return Z(e,y);if(0!==e.avail_in||0!==i.lookahead||t!==u&&i.status!==X){var b=i.strategy===x?he(i,t):i.strategy===T?ce(i,t):r[i.level].func(i,t);if((b===q||b===K)&&(i.status=X),b===Y||b===q)return 0===e.avail_out&&(i.last_flush=-1),p;if(b===W&&(t===c?o._tr_align(i):t!==d&&(o._tr_stored_block(i,0,0,!1),t===h&&(J(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,p}return t!==f?p:i.wrap<=0?m:(2===i.wrap?(ne(i,255&e.adler),ne(i,e.adler>>8&255),ne(i,e.adler>>16&255),ne(i,e.adler>>24&255),ne(i,255&e.total_in),ne(i,e.total_in>>8&255),ne(i,e.total_in>>16&255),ne(i,e.total_in>>24&255)):(re(i,e.adler>>>16),re(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:m)}function xe(e){var t;return e&&e.state?(t=e.state.status)!==F&&t!==H&&t!==z&&t!==U&&t!==V&&t!==G&&t!==X?Z(e,v):(e.state=null,t===G?Z(e,g):p):v}function Te(e,t){var n,r,o,s,l,u,c,h,f=t.length;if(!e||!e.state||2===(s=(n=e.state).wrap)||1===s&&n.status!==F||n.lookahead)return v;for(1===s&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,f-n.w_size,n.w_size,0),t=h,f=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=f,e.next_in=0,e.input=t,ae(n);n.lookahead>=D;){r=n.strstart,o=n.lookahead-(D-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+D-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=D-1,ae(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=D-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,p}r=[new fe(0,0,0,0,se),new fe(4,4,8,4,le),new fe(4,5,16,8,le),new fe(4,6,32,32,le),new fe(4,4,16,16,ue),new fe(8,16,32,32,ue),new fe(8,16,128,128,ue),new fe(8,32,128,256,ue),new fe(32,128,258,1024,ue),new fe(32,258,258,4096,ue)],t.deflateInit=be,t.deflateInit2=ye,t.deflateReset=ve,t.deflateResetKeep=me,t.deflateSetHeader=ge,t.deflate=_e,t.deflateEnd=xe,t.deflateSetDictionary=Te,t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){var r=n(82),i=4,o=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var u=0,c=1,h=2,f=3,d=258,p=29,m=256,v=m+1+p,g=30,y=19,b=2*v+1,_=15,x=16,T=7,w=256,S=16,E=17,k=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=512,I=new Array(2*(v+2));l(I);var R=new Array(2*g);l(R);var L=new Array(M);l(L);var D=new Array(d-f+1);l(D);var N=new Array(p);l(N);var j,B,F,H=new Array(g);function z(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function U(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function V(e){return e<256?L[e]:L[256+(e>>>7)]}function G(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function X(e,t,n){e.bi_valid>x-n?(e.bi_buf|=t<<e.bi_valid&65535,G(e,e.bi_buf),e.bi_buf=t>>x-e.bi_valid,e.bi_valid+=n-x):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function Y(e,t,n){X(e,n[2*t],n[2*t+1])}function W(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function q(e){16===e.bi_valid?(G(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function K(e,t){var n,r,i,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=_;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<b;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,m++),l[2*r+1]=o,!(r>u)&&(e.bl_count[o]++,a=0,r>=d&&(a=f[r-d]),s=l[2*r],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)!((i=e.heap[--n])>u)&&(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}function $(e,t,n){var r,i,o=new Array(_+1),a=0;for(r=1;r<=_;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=W(o[s]++,s))}}function Z(){var e,t,n,r,i,o=new Array(_+1);for(n=0,r=0;r<p-1;r++)for(N[r]=n,e=0;e<1<<C[r];e++)D[n++]=r;for(D[n-1]=r,i=0,r=0;r<16;r++)for(H[r]=i,e=0;e<1<<A[r];e++)L[i++]=r;for(i>>=7;r<g;r++)for(H[r]=i<<7,e=0;e<1<<A[r]-7;e++)L[256+i++]=r;for(t=0;t<=_;t++)o[t]=0;for(e=0;e<=143;)I[2*e+1]=8,e++,o[8]++;for(;e<=255;)I[2*e+1]=9,e++,o[9]++;for(;e<=279;)I[2*e+1]=7,e++,o[7]++;for(;e<=287;)I[2*e+1]=8,e++,o[8]++;for($(I,v+1,o),e=0;e<g;e++)R[2*e+1]=5,R[2*e]=W(e,5);j=new z(I,C,m+1,v,_),B=new z(R,A,0,g,_),F=new z(new Array(0),O,0,y,T)}function Q(e){var t;for(t=0;t<v;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function J(e){e.bi_valid>8?G(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,i){J(e),i&&(G(e,n),G(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function ne(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!te(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function re(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?Y(e,i,t):(Y(e,(o=D[i])+m+1,t),0!==(a=C[o])&&X(e,i-=N[o],a),Y(e,o=V(--r),n),0!==(a=A[o])&&X(e,r-=H[o],a))}while(s<e.last_lit);Y(e,w,t)}function ie(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=b,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)ne(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,ne(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],K(e,t),$(o,u,e.bl_count)}function oe(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)&&(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*S]++):s<=10?e.bl_tree[2*E]++:e.bl_tree[2*k]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function ae(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)do{Y(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(Y(e,i,e.bl_tree),s--),Y(e,S,e.bl_tree),X(e,s-3,2)):s<=10?(Y(e,E,e.bl_tree),X(e,s-3,3)):(Y(e,k,e.bl_tree),X(e,s-11,7));s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}function se(e){var t;for(oe(e,e.dyn_ltree,e.l_desc.max_code),oe(e,e.dyn_dtree,e.d_desc.max_code),ie(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*P[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,n,r){var i;for(X(e,t-257,5),X(e,n-1,5),X(e,r-4,4),i=0;i<r;i++)X(e,e.bl_tree[2*P[i]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}function ue(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<m;t++)if(0!==e.dyn_ltree[2*t])return a;return o}l(H);var ce=!1;function he(e){ce||(Z(),ce=!0),e.l_desc=new U(e.dyn_ltree,j),e.d_desc=new U(e.dyn_dtree,B),e.bl_desc=new U(e.bl_tree,F),e.bi_buf=0,e.bi_valid=0,Q(e)}function fe(e,t,n,r){X(e,(u<<1)+(r?1:0),3),ee(e,t,n,!0)}function de(e){X(e,c<<1,3),Y(e,w,I),q(e)}function pe(e,t,n,r){var o,a,l=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=ue(e)),ie(e,e.l_desc),ie(e,e.d_desc),l=se(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?fe(e,t,n,r):e.strategy===i||a===o?(X(e,(c<<1)+(r?1:0),3),re(e,I,R)):(X(e,(h<<1)+(r?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),re(e,e.dyn_ltree,e.dyn_dtree)),Q(e),r&&J(e)}function me(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(D[n]+m+1)]++,e.dyn_dtree[2*V(t)]++),e.last_lit===e.lit_bufsize-1}t._tr_init=he,t._tr_stored_block=fe,t._tr_flush_block=pe,t._tr_tally=me,t._tr_align=de},function(e,t,n){var r=n(648),i=n(82),o=n(386),a=n(388),s=n(263),l=n(387),u=n(651),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function f(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}function d(e,t){return(t=t||{}).raw=!0,f(e,t)}h.prototype.push=function(e,t){var n,s,l,u,h,f=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(d),f.next_out=0,f.avail_out=d),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0===f.avail_out||n===a.Z_STREAM_END||0===f.avail_in&&(s===a.Z_FINISH||s===a.Z_SYNC_FLUSH))&&("string"===this.options.to?(l=o.utf8border(f.output,f.next_out),u=f.next_out-l,h=o.buf2string(f.output,l),f.next_out=u,f.avail_out=d-u,u&&i.arraySet(f.output,f.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):(s===a.Z_SYNC_FLUSH&&(this.onEnd(a.Z_OK),f.avail_out=0),!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=f,t.inflateRaw=d,t.ungzip=f},function(e,t,n){var r=n(82),i=n(384),o=n(385),a=n(649),s=n(650),l=0,u=1,c=2,h=4,f=5,d=6,p=0,m=1,v=2,g=-2,y=-3,b=-4,_=-5,x=8,T=1,w=2,S=3,E=4,k=5,C=6,A=7,O=8,P=9,M=10,I=11,R=12,L=13,D=14,N=15,j=16,B=17,F=18,H=19,z=20,U=21,V=22,G=23,X=24,Y=25,W=26,q=27,K=28,$=29,Z=30,Q=31,J=852,ee=592,te=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function re(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=T,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(J),t.distcode=t.distdyn=new r.Buf32(ee),t.sane=1,t.back=-1,p):g}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ie(e)):g}function ae(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15))?g:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,oe(e))}function se(e,t){var n,r;return e?(r=new re,e.state=r,r.window=null,(n=ae(e,t))!==p&&(e.state=null),n):g}function le(e){return se(e,te)}var ue,ce,he=!0;function fe(e){if(he){var t;for(ue=new r.Buf32(512),ce=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(u,e.lens,0,288,ue,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,ce,0,e.work,{bits:5}),he=!1}e.lencode=ue,e.lenbits=9,e.distcode=ce,e.distbits=5}function de(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}function pe(e,t){var n,J,ee,te,re,ie,oe,ae,se,le,ue,ce,he,pe,me,ve,ge,ye,be,_e,xe,Te,we,Se,Ee=0,ke=new r.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return g;(n=e.state).mode===R&&(n.mode=L),re=e.next_out,ee=e.output,oe=e.avail_out,te=e.next_in,J=e.input,ie=e.avail_in,ae=n.hold,se=n.bits,le=ie,ue=oe,Te=p;e:for(;;)switch(n.mode){case T:if(0===n.wrap){n.mode=L;break}for(;se<16;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(2&n.wrap&&35615===ae){n.check=0,ke[0]=255&ae,ke[1]=ae>>>8&255,n.check=o(n.check,ke,2,0),ae=0,se=0,n.mode=w;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&ae)<<8)+(ae>>8))%31){e.msg="incorrect header check",n.mode=Z;break}if((15&ae)!==x){e.msg="unknown compression method",n.mode=Z;break}if(se-=4,xe=8+(15&(ae>>>=4)),0===n.wbits)n.wbits=xe;else if(xe>n.wbits){e.msg="invalid window size",n.mode=Z;break}n.dmax=1<<xe,e.adler=n.check=1,n.mode=512&ae?M:R,ae=0,se=0;break;case w:for(;se<16;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(n.flags=ae,(255&n.flags)!==x){e.msg="unknown compression method",n.mode=Z;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Z;break}n.head&&(n.head.text=ae>>8&1),512&n.flags&&(ke[0]=255&ae,ke[1]=ae>>>8&255,n.check=o(n.check,ke,2,0)),ae=0,se=0,n.mode=S;case S:for(;se<32;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.head&&(n.head.time=ae),512&n.flags&&(ke[0]=255&ae,ke[1]=ae>>>8&255,ke[2]=ae>>>16&255,ke[3]=ae>>>24&255,n.check=o(n.check,ke,4,0)),ae=0,se=0,n.mode=E;case E:for(;se<16;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.head&&(n.head.xflags=255&ae,n.head.os=ae>>8),512&n.flags&&(ke[0]=255&ae,ke[1]=ae>>>8&255,n.check=o(n.check,ke,2,0)),ae=0,se=0,n.mode=k;case k:if(1024&n.flags){for(;se<16;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.length=ae,n.head&&(n.head.extra_len=ae),512&n.flags&&(ke[0]=255&ae,ke[1]=ae>>>8&255,n.check=o(n.check,ke,2,0)),ae=0,se=0}else n.head&&(n.head.extra=null);n.mode=C;case C:if(1024&n.flags&&((ce=n.length)>ie&&(ce=ie),ce&&(n.head&&(xe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,J,te,ce,xe)),512&n.flags&&(n.check=o(n.check,J,ce,te)),ie-=ce,te+=ce,n.length-=ce),n.length))break e;n.length=0,n.mode=A;case A:if(2048&n.flags){if(0===ie)break e;ce=0;do{xe=J[te+ce++],n.head&&xe&&n.length<65536&&(n.head.name+=String.fromCharCode(xe))}while(xe&&ce<ie);if(512&n.flags&&(n.check=o(n.check,J,ce,te)),ie-=ce,te+=ce,xe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=O;case O:if(4096&n.flags){if(0===ie)break e;ce=0;do{xe=J[te+ce++],n.head&&xe&&n.length<65536&&(n.head.comment+=String.fromCharCode(xe))}while(xe&&ce<ie);if(512&n.flags&&(n.check=o(n.check,J,ce,te)),ie-=ce,te+=ce,xe)break e}else n.head&&(n.head.comment=null);n.mode=P;case P:if(512&n.flags){for(;se<16;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(ae!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Z;break}ae=0,se=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=R;break;case M:for(;se<32;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}e.adler=n.check=ne(ae),ae=0,se=0,n.mode=I;case I:if(0===n.havedict)return e.next_out=re,e.avail_out=oe,e.next_in=te,e.avail_in=ie,n.hold=ae,n.bits=se,v;e.adler=n.check=1,n.mode=R;case R:if(t===f||t===d)break e;case L:if(n.last){ae>>>=7&se,se-=7&se,n.mode=q;break}for(;se<3;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}switch(n.last=1&ae,se-=1,3&(ae>>>=1)){case 0:n.mode=D;break;case 1:if(fe(n),n.mode=z,t===d){ae>>>=2,se-=2;break e}break;case 2:n.mode=B;break;case 3:e.msg="invalid block type",n.mode=Z}ae>>>=2,se-=2;break;case D:for(ae>>>=7&se,se-=7&se;se<32;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if((65535&ae)!==(ae>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Z;break}if(n.length=65535&ae,ae=0,se=0,n.mode=N,t===d)break e;case N:n.mode=j;case j:if(ce=n.length){if(ce>ie&&(ce=ie),ce>oe&&(ce=oe),0===ce)break e;r.arraySet(ee,J,te,ce,re),ie-=ce,te+=ce,oe-=ce,re+=ce,n.length-=ce;break}n.mode=R;break;case B:for(;se<14;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(n.nlen=257+(31&ae),ae>>>=5,se-=5,n.ndist=1+(31&ae),ae>>>=5,se-=5,n.ncode=4+(15&ae),ae>>>=4,se-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Z;break}n.have=0,n.mode=F;case F:for(;n.have<n.ncode;){for(;se<3;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.lens[Ce[n.have++]]=7&ae,ae>>>=3,se-=3}for(;n.have<19;)n.lens[Ce[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,we={bits:n.lenbits},Te=s(l,n.lens,0,19,n.lencode,0,n.work,we),n.lenbits=we.bits,Te){e.msg="invalid code lengths set",n.mode=Z;break}n.have=0,n.mode=H;case H:for(;n.have<n.nlen+n.ndist;){for(;ve=(Ee=n.lencode[ae&(1<<n.lenbits)-1])>>>16&255,ge=65535&Ee,!((me=Ee>>>24)<=se);){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(ge<16)ae>>>=me,se-=me,n.lens[n.have++]=ge;else{if(16===ge){for(Se=me+2;se<Se;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(ae>>>=me,se-=me,0===n.have){e.msg="invalid bit length repeat",n.mode=Z;break}xe=n.lens[n.have-1],ce=3+(3&ae),ae>>>=2,se-=2}else if(17===ge){for(Se=me+3;se<Se;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}se-=me,xe=0,ce=3+(7&(ae>>>=me)),ae>>>=3,se-=3}else{for(Se=me+7;se<Se;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}se-=me,xe=0,ce=11+(127&(ae>>>=me)),ae>>>=7,se-=7}if(n.have+ce>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Z;break}for(;ce--;)n.lens[n.have++]=xe}}if(n.mode===Z)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Z;break}if(n.lenbits=9,we={bits:n.lenbits},Te=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,we),n.lenbits=we.bits,Te){e.msg="invalid literal/lengths set",n.mode=Z;break}if(n.distbits=6,n.distcode=n.distdyn,we={bits:n.distbits},Te=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,we),n.distbits=we.bits,Te){e.msg="invalid distances set",n.mode=Z;break}if(n.mode=z,t===d)break e;case z:n.mode=U;case U:if(ie>=6&&oe>=258){e.next_out=re,e.avail_out=oe,e.next_in=te,e.avail_in=ie,n.hold=ae,n.bits=se,a(e,ue),re=e.next_out,ee=e.output,oe=e.avail_out,te=e.next_in,J=e.input,ie=e.avail_in,ae=n.hold,se=n.bits,n.mode===R&&(n.back=-1);break}for(n.back=0;ve=(Ee=n.lencode[ae&(1<<n.lenbits)-1])>>>16&255,ge=65535&Ee,!((me=Ee>>>24)<=se);){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(ve&&!(240&ve)){for(ye=me,be=ve,_e=ge;ve=(Ee=n.lencode[_e+((ae&(1<<ye+be)-1)>>ye)])>>>16&255,ge=65535&Ee,!(ye+(me=Ee>>>24)<=se);){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}ae>>>=ye,se-=ye,n.back+=ye}if(ae>>>=me,se-=me,n.back+=me,n.length=ge,0===ve){n.mode=W;break}if(32&ve){n.back=-1,n.mode=R;break}if(64&ve){e.msg="invalid literal/length code",n.mode=Z;break}n.extra=15&ve,n.mode=V;case V:if(n.extra){for(Se=n.extra;se<Se;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.length+=ae&(1<<n.extra)-1,ae>>>=n.extra,se-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=G;case G:for(;ve=(Ee=n.distcode[ae&(1<<n.distbits)-1])>>>16&255,ge=65535&Ee,!((me=Ee>>>24)<=se);){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(!(240&ve)){for(ye=me,be=ve,_e=ge;ve=(Ee=n.distcode[_e+((ae&(1<<ye+be)-1)>>ye)])>>>16&255,ge=65535&Ee,!(ye+(me=Ee>>>24)<=se);){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}ae>>>=ye,se-=ye,n.back+=ye}if(ae>>>=me,se-=me,n.back+=me,64&ve){e.msg="invalid distance code",n.mode=Z;break}n.offset=ge,n.extra=15&ve,n.mode=X;case X:if(n.extra){for(Se=n.extra;se<Se;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.offset+=ae&(1<<n.extra)-1,ae>>>=n.extra,se-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Z;break}n.mode=Y;case Y:if(0===oe)break e;if(ce=ue-oe,n.offset>ce){if((ce=n.offset-ce)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Z;break}ce>n.wnext?(ce-=n.wnext,he=n.wsize-ce):he=n.wnext-ce,ce>n.length&&(ce=n.length),pe=n.window}else pe=ee,he=re-n.offset,ce=n.length;ce>oe&&(ce=oe),oe-=ce,n.length-=ce;do{ee[re++]=pe[he++]}while(--ce);0===n.length&&(n.mode=U);break;case W:if(0===oe)break e;ee[re++]=n.length,oe--,n.mode=U;break;case q:if(n.wrap){for(;se<32;){if(0===ie)break e;ie--,ae|=J[te++]<<se,se+=8}if(ue-=oe,e.total_out+=ue,n.total+=ue,ue&&(e.adler=n.check=n.flags?o(n.check,ee,ue,re-ue):i(n.check,ee,ue,re-ue)),ue=oe,(n.flags?ae:ne(ae))!==n.check){e.msg="incorrect data check",n.mode=Z;break}ae=0,se=0}n.mode=K;case K:if(n.wrap&&n.flags){for(;se<32;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(ae!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Z;break}ae=0,se=0}n.mode=$;case $:Te=m;break e;case Z:Te=y;break e;case Q:return b;default:return g}return e.next_out=re,e.avail_out=oe,e.next_in=te,e.avail_in=ie,n.hold=ae,n.bits=se,(n.wsize||ue!==e.avail_out&&n.mode<Z&&(n.mode<q||t!==h))&&de(e,e.output,e.next_out,ue-e.avail_out),le-=e.avail_in,ue-=e.avail_out,e.total_in+=le,e.total_out+=ue,n.total+=ue,n.wrap&&ue&&(e.adler=n.check=n.flags?o(n.check,ee,ue,e.next_out-ue):i(n.check,ee,ue,e.next_out-ue)),e.data_type=n.bits+(n.last?64:0)+(n.mode===R?128:0)+(n.mode===z||n.mode===N?256:0),(0===le&&0===ue||t===h)&&Te===p&&(Te=_),Te}function me(e){if(!e||!e.state)return g;var t=e.state;return t.window&&(t.window=null),e.state=null,p}function ve(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?(n.head=t,t.done=!1,p):g}function ge(e,t){var n,r=t.length;return e&&e.state&&(0===(n=e.state).wrap||n.mode===I)?n.mode===I&&i(1,t,r,0)!==n.check?y:de(e,t,r,r)?(n.mode=Q,b):(n.havedict=1,p):g}t.inflateReset=oe,t.inflateReset2=ae,t.inflateResetKeep=ie,t.inflateInit=le,t.inflateInit2=se,t.inflate=pe,t.inflateEnd=me,t.inflateGetHeader=ve,t.inflateSetDictionary=ge,t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){var r=30,i=12;e.exports=function(e,t){var n,o,a,s,l,u,c,h,f,d,p,m,v,g,y,b,_,x,T,w,S,E,k,C,A;n=e.state,o=e.next_in,C=e.input,a=o+(e.avail_in-5),s=e.next_out,A=e.output,l=s-(t-e.avail_out),u=s+(e.avail_out-257),c=n.dmax,h=n.wsize,f=n.whave,d=n.wnext,p=n.window,m=n.hold,v=n.bits,g=n.lencode,y=n.distcode,b=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{v<15&&(m+=C[o++]<<v,v+=8,m+=C[o++]<<v,v+=8),x=g[m&b];t:for(;;){if(m>>>=T=x>>>24,v-=T,0===(T=x>>>16&255))A[s++]=65535&x;else{if(!(16&T)){if(64&T){if(32&T){n.mode=i;break e}e.msg="invalid literal/length code",n.mode=r;break e}x=g[(65535&x)+(m&(1<<T)-1)];continue t}for(w=65535&x,(T&=15)&&(v<T&&(m+=C[o++]<<v,v+=8),w+=m&(1<<T)-1,m>>>=T,v-=T),v<15&&(m+=C[o++]<<v,v+=8,m+=C[o++]<<v,v+=8),x=y[m&_];;){if(m>>>=T=x>>>24,v-=T,16&(T=x>>>16&255)){if(S=65535&x,v<(T&=15)&&(m+=C[o++]<<v,(v+=8)<T&&(m+=C[o++]<<v,v+=8)),(S+=m&(1<<T)-1)>c){e.msg="invalid distance too far back",n.mode=r;break e}if(m>>>=T,v-=T,S>(T=s-l)){if((T=S-T)>f&&n.sane){e.msg="invalid distance too far back",n.mode=r;break e}if(E=0,k=p,0===d){if(E+=h-T,T<w){w-=T;do{A[s++]=p[E++]}while(--T);E=s-S,k=A}}else if(d<T){if(E+=h+d-T,(T-=d)<w){w-=T;do{A[s++]=p[E++]}while(--T);if(E=0,d<w){w-=T=d;do{A[s++]=p[E++]}while(--T);E=s-S,k=A}}}else if(E+=d-T,T<w){w-=T;do{A[s++]=p[E++]}while(--T);E=s-S,k=A}for(;w>2;)A[s++]=k[E++],A[s++]=k[E++],A[s++]=k[E++],w-=3;w&&(A[s++]=k[E++],w>1&&(A[s++]=k[E++]))}else{E=s-S;do{A[s++]=A[E++],A[s++]=A[E++],A[s++]=A[E++],w-=3}while(w>2);w&&(A[s++]=A[E++],w>1&&(A[s++]=A[E++]))}break}if(64&T){e.msg="invalid distance code",n.mode=r;break e}x=y[(65535&x)+(m&(1<<T)-1)]}}break}}while(o<a&&s<u);o-=w=v>>3,m&=(1<<(v-=w<<3))-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?a-o+5:5-(o-a),e.avail_out=s<u?u-s+257:257-(s-u),n.hold=m,n.bits=v}},function(e,t,n){var r=n(82),i=15,o=852,a=592,s=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,p,m,v,g,y){var b,_,x,T,w,S,E,k,C,A=y.bits,O=0,P=0,M=0,I=0,R=0,L=0,D=0,N=0,j=0,B=0,F=null,H=0,z=new r.Buf16(i+1),U=new r.Buf16(i+1),V=null,G=0;for(O=0;O<=i;O++)z[O]=0;for(P=0;P<p;P++)z[t[n+P]]++;for(R=A,I=i;I>=1&&0===z[I];I--);if(R>I&&(R=I),0===I)return m[v++]=20971520,m[v++]=20971520,y.bits=1,0;for(M=1;M<I&&0===z[M];M++);for(R<M&&(R=M),N=1,O=1;O<=i;O++)if(N<<=1,(N-=z[O])<0)return-1;if(N>0&&(e===s||1!==I))return-1;for(U[1]=0,O=1;O<i;O++)U[O+1]=U[O]+z[O];for(P=0;P<p;P++)0!==t[n+P]&&(g[U[t[n+P]]++]=P);if(e===s?(F=V=g,S=19):e===l?(F=c,H-=257,V=h,G-=257,S=256):(F=f,V=d,S=-1),B=0,P=0,O=M,w=v,L=R,D=0,x=-1,T=(j=1<<R)-1,e===l&&j>o||e===u&&j>a)return 1;for(;;){E=O-D,g[P]<S?(k=0,C=g[P]):g[P]>S?(k=V[G+g[P]],C=F[H+g[P]]):(k=96,C=0),b=1<<O-D,M=_=1<<L;do{m[w+(B>>D)+(_-=b)]=E<<24|k<<16|C|0}while(0!==_);for(b=1<<O-1;B&b;)b>>=1;if(0!==b?(B&=b-1,B+=b):B=0,P++,0===--z[O]){if(O===I)break;O=t[n+g[P]]}if(O>R&&(B&T)!==x){for(0===D&&(D=R),w+=M,N=1<<(L=O-D);L+D<I&&!((N-=z[L+D])<=0);)L++,N<<=1;if(j+=1<<L,e===l&&j>o||e===u&&j>a)return 1;m[x=B&T]=R<<24|L<<16|w-v|0}}return 0!==B&&(m[w+B]=O-D<<24|64<<16|0),y.bits=R,0}},function(e,t,n){function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=r},function(e,t,n){var i=n(653);function o(e){if("string"!=typeof e)throw new TypeError("sequence must be a string");var t,n,o,l,u,c=[],h={LOCUS_TAG:"LOCUS",DEFINITION_TAG:"DEFINITION",ACCESSION_TAG:"ACCESSION",VERSION_TAG:"VERSION",KEYWORDS_TAG:"KEYWORDS",SOURCE_TAG:"SOURCE",ORGANISM_TAG:"ORGANISM",REFERENCE_TAG:"REFERENCE",AUTHORS_TAG:"AUTHORS",CONSORTIUM_TAG:"CONSRTM",TITLE_TAG:"TITLE",JOURNAL_TAG:"JOURNAL",PUBMED_TAG:"PUBMED",REMARK_TAG:"REMARK",FEATURES_TAG:"FEATURES",BASE_COUNT_TAG:"BASE COUNT",ORIGIN_TAG:"ORIGIN",END_SEQUENCE_TAG:"//"},f=e.split(/\r?\n/);if(null===f)throw new Error("sequence file is empty");var d,p,m,v=!1,g=(0,r.Z)(f);try{for(g.s();!(d=g.n()).done;){var y=d.value;if(null===y)break;var b=N(y),_=B(y),x=H(y),T=F(y);if(b===h.END_SEQUENCE_TAG||T?(o=b,l=null):x&&(l=b),""!==y.trim()&&";"!==b){if(!v&&o!==h.LOCUS_TAG)break;switch(o){case h.LOCUS_TAG:v=!0,A(y);break;case h.FEATURES_TAG:M(y,b,_);break;case h.ORIGIN_TAG:C(y,b);break;case h.DEFINITION_TAG:case h.ACCESSION_TAG:case h.VERSION_TAG:case h.KEYWORDS_TAG:j(o,y,o.toLowerCase());break;case h.SOURCE_TAG:l===h.ORGANISM_TAG?j(l,y,"organism"):j(b,y,"source");break;case h.REFERENCE_TAG:if(b===h.REFERENCE_TAG){var w=t.references||[];t.references=w,w.push({})}P(y,l);break;case h.END_SEQUENCE_TAG:S()}}}}catch(U){g.e(U)}finally{g.f()}return c[c.length-1]!==t&&S(),c;function S(){k(),c.push(t)}function E(){return t.features[t.features.length-1]}function k(){if(t&&t.features)for(var e=0;e<t.features.length;e++)t.features[e]=z(t.features[e])}function C(e,n){if(n!==h.ORIGIN_TAG){var r=e.replace(/[\s]*[0-9]*/g,"");t.sequence+=r}}function A(e){t={features:[],name:"Untitled sequence",sequence:""};var n=(e=O(h.LOCUS_TAG,e)).match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)$/),r=n[1],o=+n[2],a=n[3],s="circular"===n[4],l=n[5],u=t;u.circular=s,u.moleculeType=a,u.genbankDivision=l;var c=n[6].match(/^(\d{2})-(.{3})-(\d{4})$/),f=new Date;f.setFullYear(+c[3]),f.setUTCMonth(i.indexOf(c[2].toUpperCase())),f.setDate(+c[1]),f.setUTCHours(12),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),u.date=f.toISOString(),u.name=r,u.size=o}function O(e,t){return 0===(t=t.replace(/^\s*/,"")).indexOf(e)&&(t=t.replace(e,"")),t.trim()}function P(e,n){var r=t.references,i=r[r.length-1];n?j(n,e,n.toLowerCase(),i):j(h.REFERENCE_TAG,e,"description",i)}function M(e,t,r){var i;if(t!==h.FEATURES_TAG)if(p&&(u=s(e),p=!1),a(e,u))m?(L(e.trim()),m=!0):(n&&(n[n.length-1]+=e.trim().replace(/"/g,"")),m=!1);else if(R(e))E()&&(D(e),m=!1);else{i=r.match(/complement/g)?-1:1,I();var o=E();o.type=t,o.strand=i,L(r),m=!0}else p=!0}function I(){t.features.push({locations:[],notes:{}})}function R(e){var t=!1;return(e.trim().charAt(0).match(/\//)||e.match(/^[\s]*\/[\w]+=[\S]+/))&&(t=!0),t}function L(e){e=e.trim();var t=[];e.replace(/(\d+)/g,(function(e,n){t.push(n)}));var n=E();n.start=+t[0],n.end=+t[1]}function D(e){var t,r=(t=e.trim().replace(/^\/|"$/g,"").split(/="|=/))[1];r&&(r=r.replace(/\\/g," "),e.match(/="/g)?r=r.replace(/".*/g,""):r.match(/^\d+$/g)&&(r=+r));var i=t[0],o=E().notes;o[i]?o[i].push(r):o[i]=[r],n=o[i]}function N(e){return((e=e.replace(/^[\s]*/,"")).indexOf("=")<0?e.split(/[\s]+/):e.split(/=/))[0]}function j(e,n,r,i){i=i||t;var o=O(e,n);i[r]=i[r]?"".concat(i[r]," "):"",i[r]+=o}function B(e){return e.indexOf("=")<0?e=(e=e.replace(/^[\s]*[\S]+[\s]+|[\s]+$/,"")).trim():e.split(/=/)[1]}function F(e){var t=!1;return e.substr(0,10).match(/^[\S]+/)&&(t=!0),t}function H(e){var t=!1;return e.substr(0,10).match(/^[\s]+[\S]+/)&&(t=!0),t}function z(e){return e.notes.label?e.name=e.notes.label[0]:e.notes.gene?e.name=e.notes.gene[0]:e.notes.ApEinfo_label?e.name=e.notes.ApEinfo_label[0]:e.notes.name?e.name=e.notes.name[0]:e.notes.organism?e.name=e.notes.organism[0]:e.notes.locus_tag?e.name=e.notes.locus_tag[0]:e.notes.note?e.name=e.notes.note[0]:e.name="Untitled Feature",e.name="string"==typeof e.name?e.name:String(e.name),e}}function a(e,t){return t!==s(e)&&!e.trim().charAt(0).match(/\//)}function s(e){var t=/^\s*/.exec(e);return null!==t?t[0].length:0}e.exports=o},function(e,t,n){e.exports=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},function(e,t,n){e.exports={"track-renderer":"TrackRenderer-module_track-renderer-3TM7n","track-renderer-element":"TrackRenderer-module_track-renderer-element-2i16D","track-renderer-events":"TrackRenderer-module_track-renderer-events-3tVM2"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(17)),i=v(n(5)),o=v(n(3)),a=v(n(4)),s=v(n(6)),l=v(n(7)),u=v(n(1)),c=v(n(2)),h=v(n(169)),f=v(n(656)),d=v(n(659)),p=n(11),m=n(10);function v(e){return e&&e.__esModule?e:{default:e}}n(661);var g=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.options={},n.state={selectedTilesets:[{datatype:"none"}],allTracksSameDatatype:!0},n.handleSubmitBound=n.handleSubmit.bind(n),n.handleTilesetPickerDoubleClickBound=n.handleTilesetPickerDoubleClick.bind(n),n.selectedTilesetsChangedBound=n.selectedTilesetsChanged.bind(n),n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"getOrientation",value:function(){function e(e){return"top"===e||"bottom"===e?"1d-horizontal":"left"===e||"right"===e?"1d-vertical":"2d"}return e}()},{key:"handleSubmit",value:function(){function e(e){e&&e.preventDefault(),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}return e}()},{key:"handleTilesetPickerDoubleClick",value:function(){function e(e){this.selectedTilesetsChanged([e]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}return e}()},{key:"handleOptionsChanged",value:function(){function e(e){this.options=e}return e}()},{key:"handlePlotTypeSelected",value:function(){function e(e){var t=this.state.selectedTilesets,n=!0,i=!1,o=void 0;try{for(var a,s=(0,r.default)(t);!(n=(a=s.next()).done);n=!0)a.value.type=e}catch(l){i=!0,o=l}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}this.selectedPlotType=e,this.setState({selectedTilesets:t})}return e}()},{key:"selectedTilesetsChanged",value:function(){function e(e){var t=null,n=!0,i=(t=0===e.length?[{datatype:"none"}]:e)[0].datatype,o=!0,a=!1,s=void 0;try{for(var l,u=(0,r.default)(t);!(o=(l=u.next()).done);o=!0)l.value.datatype!==i&&(n=!1)}catch(C){a=!0,s=C}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}if(n){var c=!0,h=!1,f=void 0;try{for(var d,v=(0,r.default)(t);!(c=(d=v.next()).done);c=!0)d.value.type=this.selectedPlotType}catch(C){h=!0,f=C}finally{try{!c&&v.return&&v.return()}finally{if(h)throw f}}}else{var g=!0,y=!1,b=void 0;try{for(var _,x=(0,r.default)(t);!(g=(_=x.next()).done);g=!0){var T=_.value,w=[T.datatype],S=this.getOrientation(this.props.position);"cooler"===T.filetype&&(w=[T.datatype,"chromsizes"]);var E=(0,p.AVAILABLE_TRACK_TYPES)([w],S),k=(0,m.getDefaultTrackForDatatype)(w[0],this.props.position,E);T.type=k.type}}catch(C){y=!0,b=C}finally{try{!g&&x.return&&x.return()}finally{if(y)throw b}}}this.setState({selectedTilesets:t,allTracksSameDatatype:n})}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.getOrientation(this.props.position),n=u.default.createElement("div",null,u.default.createElement(f.default,{ref:function(){function t(t){e.tilesetFinder=t}return t}(),datatype:this.props.datatype,onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:function(){function t(t){return e.props.onTracksChosen(t,e.props.position)}return t}(),orientation:t,selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return u.default.createElement(h.default,{maxHeight:!0,okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Add Track"},n,u.default.createElement(d.default,{ref:function(){function t(t){e.plotTypeChooser=t}return t}(),allTracksSameDatatype:this.state.allTracksSameDatatype,datatypes:this.state.selectedTilesets.map((function(e){return"cooler"===e.filetype?[e.datatype,"chromsizes"]:[e.datatype]})),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:t,position:this.props.position}))}return e}()}]),t}(u.default.Component);g.defaultProps={position:"top"},g.propTypes={datatype:c.default.string.isRequired,host:c.default.string.isRequired,onCancel:c.default.func.isRequired,onTracksChosen:c.default.func.isRequired,position:c.default.string,trackSourceServers:c.default.array.isRequired},t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(35)),i=x(n(17)),o=x(n(25)),a=x(n(38)),s=x(n(18)),l=x(n(44)),u=x(n(5)),c=x(n(3)),h=x(n(4)),f=x(n(6)),d=x(n(7)),p=x(n(1)),m=x(n(2)),v=x(n(26)),g=x(n(657)),y=n(24);n(658);var b=x(n(69)),_=n(11);function x(e){return e&&e.__esModule?e:{default:e}}var T=function(e){function t(e){(0,c.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));n.localTracks=_.TRACKS_INFO.filter((function(e){return e.local&&!e.hidden})).map((function(e){var t=(0,l.default)({},e);return t.datatype=e.datatype[0],t})),n.augmentedTracksInfo=_.TRACKS_INFO,window.higlassTracksByType&&(0,s.default)(window.higlassTracksByType).forEach((function(e){n.augmentedTracksInfo.push(window.higlassTracksByType[e].config)})),e.datatype?n.localTracks=n.localTracks.filter((function(t){return t.datatype[0]===e.datatype})):n.localTracks=n.localTracks.filter((function(e){return e.orientation===n.props.orientation})),n.localTracks.forEach((function(e){e.uuid=v.default.nice()}));var r=n.prepareNewEntries("",n.localTracks,{}),i=(0,s.default)(r),o=i.length?[i[0]]:null;return n.mounted=!1,n.state={selectedUuid:o,options:r,filter:"",checked:[],expanded:[]},n.requestTilesetLists(),n}return(0,d.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){function e(){this.mounted=!0,this.requestTilesetLists(),this.searchBox.focus()}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.mounted=!1}return e}()},{key:"prepareNewEntries",value:function(){function e(e,t,n){var r=this,i=n;return t.map((function(t){return(0,l.default)({},t,{server:e,tilesetUid:t.uuid,serverUidKey:r.serverUidKey(e,t.uuid),datatype:t.datatype,name:t.name,uid:v.default.nice()})})).forEach((function(e){i[e.serverUidKey]=e})),i}return e}()},{key:"serverUidKey",value:function(){function e(e,t){return String(e)+"/"+String(t)}return e}()},{key:"requestTilesetLists",value:function(){function e(){var e=this,t=null;if(this.props.datatype)t="dt="+String(this.props.datatype);else{var n,r=new a.default((n=[]).concat.apply(n,(0,o.default)(this.augmentedTracksInfo.filter((function(e){return e.datatype})).filter((function(t){return t.orientation===e.props.orientation||"1d-vertical"===e.props.orientation&&"1d-horizontal"===t.orientation})).map((function(e){return e.datatype})))));t=[].concat((0,o.default)(r)).map((function(e){return"dt="+String(e)})).join("&")}this.props.trackSourceServers?this.props.trackSourceServers.forEach((function(n){y.tileProxy.json(String(n)+"/tilesets/?limit=10000&"+String(t),(function(t,r){if(t)console.error("ERROR:",t);else{var i=e.prepareNewEntries(n,r.results,e.state.options),o=(0,s.default)(i),a=e.state.selectedUuid;if(!a){a=o.length?[o[0]]:null;var l=e.state.options[a[0]];e.props.selectedTilesetChanged([l])}e.mounted&&e.setState({selectedUuid:a,options:i})}}),e.props.pubSub)})):console.warn("No track source servers specified in the viewconf")}return e}()},{key:"handleOptionDoubleClick",value:function(){function e(e){var t=this.state.options[e.target.value];this.props.onDoubleClick(t)}return e}()},{key:"handleSelectedOptions",value:function(){function e(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[r]),n.push(this.state.options[e[r]]);this.props.selectedTilesetChanged(n),this.setState({selectedUuid:t})}return e}()},{key:"handleSelect",value:function(){function e(){for(var e=this.multiSelect.selectedOptions,t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.value)}this.handleSelectedOptions(t)}return e}()},{key:"handleSearchChange",value:function(){function e(){var e=this.searchBox;this.setState({filter:e.value})}return e}()},{key:"partitionByGroup",value:function(){function e(e,t){var n={"":{name:"",value:"",children:[]}},r=!0,o=!1,a=void 0;try{for(var l,u=(0,i.default)((0,s.default)(e));!(r=(l=u.next()).done);r=!0){var c=l.value,h=e[c];if(h.name.toLowerCase().includes(t))if("project_name"in h){var f=h.project_name;f in n||(n[f]={value:f,label:f,children:[]}),n[f].children.push({label:h.name,value:c})}else n[""].children.push({label:h.name,value:c})}}catch(_){o=!0,a=_}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}var d=n[""].children,p=!0,m=!1,v=void 0;try{for(var g,y=(0,i.default)((0,s.default)(n));!(p=(g=y.next()).done);p=!0){var b=g.value;""!==b&&(n[b].children.sort((function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase(),"en")})),d.push(n[b]))}}catch(_){m=!0,v=_}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}return d.sort((function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase(),"en")})),d}return e}()},{key:"handleChecked",value:function(){function e(e){this.handleSelectedOptions(e),this.setState({checked:e})}return e}()},{key:"handleExpanded",value:function(){function e(e){this.setState({expanded:e})}return e}()},{key:"render",value:function(){function e(){var e=this,t=[];for(var n in this.state.options)t.push(this.state.options[n]);var i=this.partitionByGroup(this.state.options,this.state.filter),o={width:15,height:15,top:2,right:2,position:"relative"},a=JSON.parse((0,r.default)(o));a.opacity=.5;var s=p.default.createElement("form",{onSubmit:function(){function e(e){e.preventDefault()}return e}()},p.default.createElement("div",{className:"tileset-finder-search-bar"},p.default.createElement("span",{className:"tileset-finder-label"},"Select tileset:"),p.default.createElement("input",{ref:function(){function t(t){e.searchBox=t}return t}(),className:"tileset-finder-search-box",onChange:this.handleSearchChange.bind(this),placeholder:"Search Term",type:"text"})),p.default.createElement("div",{className:"tileset-finder-checkbox-tree TilesetFinder_tileset-finder-checkbox-tree-2MsEs"},p.default.createElement(g.default,{checked:this.state.checked,expanded:this.state.expanded,icons:{uncheck:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#square_o"})),check:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#check_square_o"})),halfCheck:p.default.createElement("svg",{style:a},p.default.createElement("use",{xlinkHref:"#check_square_o"})),leaf:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#file_o"})),expandClose:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#chevron_right"})),expandOpen:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#chevron_down"})),parentClose:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#folder_o"})),parentOpen:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#folder_open_o"}))},nodes:i,onCheck:this.handleChecked.bind(this),onExpand:this.handleExpanded.bind(this)})));return p.default.createElement("div",null,s)}return e}()}]),t}(p.default.Component);T.propTypes={datatype:m.default.string,orientation:m.default.string,onDoubleClick:m.default.func,pubSub:m.default.object.isRequired,selectedTilesetChanged:m.default.func,trackSourceServers:m.default.array},t.default=(0,b.default)(T)},function(e,t,n){var r;window,r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t,n){e.exports=n(96)()},function(t,n){t.exports=e},function(e,t,n){var r=n(16),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(41),i=n(47);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(31),i=n(32),o=n(33),a=n(34),s=n(35);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(14);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(12),i=n(43),o=n(44),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(3)(Object,"create");e.exports=r},function(e,t,n){var r=n(56);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r;!function(){var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(3)(n(2),"Map");e.exports=r},function(e,t,n){var r=n(2).Symbol;e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(6),i=n(17),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==l}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(42))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(r){}}return""}},function(e,t,n){var r=n(48),i=n(55),o=n(57),a=n(58),s=n(59);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(60),i=n(63),o=n(64),a=1,s=2;e.exports=function(e,t,n,l,u,c){var h=n&a,f=e.length,d=t.length;if(f!=d&&!(h&&d>f))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var m=-1,v=!0,g=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<f;){var y=e[m],b=t[m];if(l)var _=h?l(b,y,m,t,e,c):l(y,b,m,e,t,c);if(void 0!==_){if(_)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||u(y,e,n,l,c)))return g.push(t)}))){v=!1;break}}else if(y!==b&&!u(y,b,n,l,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},function(e,t,n){(function(e){var r=n(2),i=n(81),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(22)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(83),i=n(84),o=n(85),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(28);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=self.crypto||self.msCrypto;e.exports=function(e){e=e||21;for(var t="",n=r.getRandomValues(new Uint8Array(e));0<e--;)t+="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-"[63&n[e]];return t}},function(e,t,n){e.exports=n(98).default},function(e,t,n){var r=n(29),i=n(9);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(30),i=n(20),o=n(65),a=n(69),s=n(91),l=n(13),u=n(21),c=n(23),h=1,f="[object Arguments]",d="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var b=l(e),_=l(t),x=b?d:s(e),T=_?d:s(t),w=(x=x==f?p:x)==p,S=(T=T==f?p:T)==p,E=x==T;if(E&&u(e)){if(!u(t))return!1;b=!0,w=!1}if(E&&!w)return y||(y=new r),b||c(e)?i(e,t,n,v,g,y):o(e,t,x,n,v,g,y);if(!(n&h)){var k=w&&m.call(e,"__wrapped__"),C=S&&m.call(t,"__wrapped__");if(k||C){var A=k?e.value():e,O=C?t.value():t;return y||(y=new r),g(A,O,n,v,y)}}return!!E&&(y||(y=new r),a(e,t,n,v,g,y))}},function(e,t,n){var r=n(4),i=n(36),o=n(37),a=n(38),s=n(39),l=n(40);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(5),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(5);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(5);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(5);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(4);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(4),i=n(11),o=n(19),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(15),i=n(45),o=n(17),a=n(18),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(12),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,i=n(46),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(2)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(49),i=n(4),o=n(11);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(50),i=n(51),o=n(52),a=n(53),s=n(54);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(7);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(7),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(7),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(7),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},function(e,t,n){var r=n(8);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(8);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(8);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(19),i=n(61),o=n(62);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(12),i=n(66),o=n(14),a=n(20),s=n(67),l=n(68),u=1,c=2,h="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",T=r?r.prototype:void 0,w=T?T.valueOf:void 0;e.exports=function(e,t,n,r,T,S,E){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!S(new i(e),new i(t)));case h:case f:case m:return o(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case p:var k=s;case g:var C=r&u;if(k||(k=l),e.size!=t.size&&!C)return!1;var A=E.get(e);if(A)return A==t;r|=c,E.set(e,t);var O=a(k(e),k(t),r,T,S,E);return E.delete(e),O;case b:if(w)return w.call(e)==w.call(t)}return!1}},function(e,t,n){var r=n(2).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(70),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,l){var u=n&i,c=r(e),h=c.length;if(h!=r(t).length&&!u)return!1;for(var f=h;f--;){var d=c[f];if(!(u?d in t:o.call(t,d)))return!1}var p=l.get(e);if(p&&l.get(t))return p==t;var m=!0;l.set(e,t),l.set(t,e);for(var v=u;++f<h;){var g=e[d=c[f]],y=t[d];if(a)var b=u?a(y,g,d,t,e,l):a(g,y,d,e,t,l);if(!(void 0===b?g===y||s(g,y,n,a,l):b)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(m=!1)}return l.delete(e),l.delete(t),m}},function(e,t,n){var r=n(71),i=n(73),o=n(76);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(72),i=n(13);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(74),i=n(75),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(77),i=n(86),o=n(90);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r=n(78),i=n(79),o=n(13),a=n(21),s=n(82),l=n(23),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&a(e),f=!n&&!c&&!h&&l(e),d=n||c||h||f,p=d?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||d&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(80),i=n(9),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(6),i=n(9),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(6),i=n(24),o=n(9),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(16),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(22)(e))},function(e,t,n){var r=n(87),i=n(88),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(89)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(15),i=n(24);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(92),i=n(11),o=n(93),a=n(94),s=n(95),l=n(6),u=n(18),c=u(r),h=u(i),f=u(o),d=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(3)(n(2),"DataView");e.exports=r},function(e,t,n){var r=n(3)(n(2),"Promise");e.exports=r},function(e,t,n){var r=n(3)(n(2),"Set");e.exports=r},function(e,t,n){var r=n(3)(n(2),"WeakMap");e.exports=r},function(e,t,n){var r=n(97);function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){n.r(t);var r=n(10),i=n.n(r),o=n(25),a=n.n(o),s=n(26),l=n.n(s),u=n(0),c=n.n(u),h=n(1),f=n.n(h);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,y(t).apply(this,arguments))}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,f.a.PureComponent),(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=m(e,["children","title"]);return f.a.createElement("button",p({"aria-label":n,title:n,type:"button"},r),t)}}])&&v(t.prototype,n),t}();_(x,"propTypes",{children:c.a.node.isRequired,title:c.a.string}),_(x,"defaultProps",{title:null});var T=x;function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.props=t,this.flatNodes=n}var t;return(t=[{key:"setProps",value:function(e){this.props=e}},{key:"clone",value:function(){var t=this,n={};return Object.keys(this.flatNodes).forEach((function(e){var r=t.flatNodes[e];n[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},r)})),new e(this.props,n)}},{key:"getNode",value:function(e){return this.flatNodes[e]}},{key:"flattenNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var i=this.props,o=i.disabled,a=i.noCascade;e.forEach((function(e,i){var s=t.nodeHasChildren(e);t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:n,isParent:s,isLeaf:!s,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,n,o,a),treeDepth:r,index:i},t.flattenNodes(e.children,e,r+1)}))}}},{key:"nodeHasChildren",value:function(e){return Array.isArray(e.children)&&e.children.length>0}},{key:"getDisabledState",value:function(e,t,n,r){return!!n||!(r||!t.disabled)||!!e.disabled}},{key:"deserializeLists",value:function(e){var t=this,n=["checked","expanded"];Object.keys(this.flatNodes).forEach((function(e){n.forEach((function(n){t.flatNodes[e][n]=!1}))})),n.forEach((function(n){e[n].forEach((function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][n]=!0)}))}))}},{key:"serializeList",value:function(e){var t=this,n=[];return Object.keys(this.flatNodes).forEach((function(r){t.flatNodes[r][e]&&n.push(r)})),n}},{key:"expandAllNodes",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach((function(n){t.flatNodes[n].isParent&&(t.flatNodes[n].expanded=e)})),this}},{key:"toggleChecked",value:function(e,t,n){var r=this,i=this.flatNodes[e.value];if(i.isLeaf||n){if(e.disabled)return this;this.toggleNode(e.value,"checked",t)}else i.children.forEach((function(e){r.toggleChecked(e,t,n)}));return this}},{key:"toggleNode",value:function(e,t,n){return this.flatNodes[e][t]=n,this}}])&&S(e.prototype,t),e}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,P(t).apply(this,arguments))}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,f.a.PureComponent),(n=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}({},this.props);return delete t.indeterminate,f.a.createElement("input",C({},t,{ref:function(t){e.checkbox=t},type:"checkbox"}))}}])&&A(t.prototype,n),t}();I(R,"propTypes",{indeterminate:c.a.bool}),I(R,"defaultProps",{indeterminate:!1});var L=R,D=c.a.shape({check:c.a.node,uncheck:c.a.node,halfCheck:c.a.node,expandClose:c.a.node,expandOpen:c.a.node,expandAll:c.a.node,collapseAll:c.a.node,parentClose:c.a.node,parentOpen:c.a.node,leaf:c.a.node}),N=c.a.shape({collapseAll:c.a.string.isRequired,expandAll:c.a.string.isRequired,toggle:c.a.string.isRequired});function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(i=F(t).call(this,e))||"object"!==j(i)&&"function"!=typeof i?z(r):i).onCheck=n.onCheck.bind(z(z(n))),n.onClick=n.onClick.bind(z(z(n))),n.onExpand=n.onExpand.bind(z(z(n))),n}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,f.a.Component),(n=[{key:"onCheck",value:function(){var e=this.props,t=e.value;(0,e.onCheck)({value:t,checked:this.getCheckState({toggle:!0})})}},{key:"onClick",value:function(){var e=this.props,t=e.expandOnClick,n=e.isParent,r=e.value,i=e.onClick;n&&t&&this.onExpand(),i({value:r,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var e=this.props,t=e.expanded,n=e.value;(0,e.onExpand)({value:n,expanded:!t})}},{key:"getCheckState",value:function(e){var t=e.toggle,n=this.props,r=n.checked,i=n.optimisticToggle;return!(0!==r||!t)||1===r&&!t||2===r&&i}},{key:"renderCollapseButton",value:function(){var e=this.props,t=e.expandDisabled,n=e.isLeaf,r=e.lang;return n?f.a.createElement("span",{className:"rct-collapse"},f.a.createElement("span",{className:"rct-icon"})):f.a.createElement(T,{className:"rct-collapse rct-collapse-btn",disabled:t,title:r.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var e=this.props,t=e.expanded,n=e.icons,r=n.expandClose,i=n.expandOpen;return t?i:r}},{key:"renderCheckboxIcon",value:function(){var e=this.props,t=e.checked,n=e.icons,r=n.uncheck,i=n.check,o=n.halfCheck;return 0===t?r:1===t?i:o}},{key:"renderNodeIcon",value:function(){var e=this.props,t=e.expanded,n=e.icon,r=e.icons,i=r.leaf,o=r.parentClose,a=r.parentOpen,s=e.isLeaf;return null!==n?n:s?i:t?a:o}},{key:"renderBareLabel",value:function(e){var t=this.props,n=t.onClick,r=t.title,i=null!==n;return f.a.createElement("span",{className:"rct-bare-label",title:r},i?f.a.createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},e):e)}},{key:"renderCheckboxLabel",value:function(e){var t=this.props,n=t.checked,r=t.disabled,i=t.title,o=t.treeId,a=t.value,s=null!==t.onClick,l="".concat(o,"-").concat(String(a).split(" ").join("_")),u=[f.a.createElement("label",{key:0,htmlFor:l,title:i},f.a.createElement(L,{checked:1===n,disabled:r,id:l,indeterminate:2===n,onClick:this.onCheck,onChange:function(){}}),f.a.createElement("span",{className:"rct-checkbox"},this.renderCheckboxIcon()),s?null:e)];return s&&u.push(f.a.createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},e)),u}},{key:"renderLabel",value:function(){var e=this.props,t=e.label,n=e.showCheckbox,r=[e.showNodeIcon?f.a.createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,f.a.createElement("span",{key:1,className:"rct-title"},t)];return n?this.renderCheckboxLabel(r):this.renderBareLabel(r)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,r=e.expanded,o=e.isLeaf,a=i()({"rct-node":!0,"rct-node-leaf":o,"rct-node-parent":!o,"rct-node-expanded":!o&&r,"rct-node-collapsed":!o&&!r,"rct-disabled":n},t);return f.a.createElement("li",{className:a},f.a.createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&B(t.prototype,n),t}();U(V,"propTypes",{checked:c.a.number.isRequired,disabled:c.a.bool.isRequired,expandDisabled:c.a.bool.isRequired,expanded:c.a.bool.isRequired,icons:D.isRequired,isLeaf:c.a.bool.isRequired,isParent:c.a.bool.isRequired,label:c.a.node.isRequired,lang:N.isRequired,optimisticToggle:c.a.bool.isRequired,showNodeIcon:c.a.bool.isRequired,treeId:c.a.string.isRequired,value:c.a.oneOfType([c.a.string,c.a.number]).isRequired,onCheck:c.a.func.isRequired,onExpand:c.a.func.isRequired,children:c.a.node,className:c.a.string,expandOnClick:c.a.bool,icon:c.a.node,showCheckbox:c.a.bool,title:c.a.string,onClick:c.a.func}),U(V,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});var G=V,X=c.a.oneOfType([c.a.arrayOf(c.a.string),c.a.arrayOf(c.a.number)]);function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W={label:c.a.node.isRequired,value:c.a.oneOfType([c.a.string,c.a.number]).isRequired,disabled:c.a.bool,icon:c.a.node,showCheckbox:c.a.bool,title:c.a.string},q=c.a.oneOfType([c.a.shape(W),c.a.shape(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}({},W,{children:c.a.arrayOf(W).isRequired}))]);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){function t(e){var n,r,i;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),r=this,n=!(i=Q(t).call(this,e))||"object"!==K(i)&&"function"!=typeof i?ee(r):i;var o=new E(e);return o.flattenNodes(e.nodes),o.deserializeLists({checked:e.checked,expanded:e.expanded}),n.state={id:e.id||"rct-".concat(l()(7)),model:o,prevProps:e},n.onCheck=n.onCheck.bind(ee(ee(n))),n.onExpand=n.onExpand.bind(ee(ee(n))),n.onNodeClick=n.onNodeClick.bind(ee(ee(n))),n.onExpandAll=n.onExpandAll.bind(ee(ee(n))),n.onCollapseAll=n.onCollapseAll.bind(ee(ee(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,f.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.model,r=t.prevProps,i=e.disabled,o=e.id,s=e.nodes,l=$({},t,{prevProps:e});return n.setProps(e),a()(r.nodes,s)&&r.disabled===i||n.flattenNodes(s),null!==o&&(l=$({},l,{id:o})),n.deserializeLists({checked:e.checked,expanded:e.expanded}),l}}],(r=[{key:"onCheck",value:function(e){var t=this.props,n=t.noCascade,r=t.onCheck,i=this.state.model.clone(),o=i.getNode(e.value);i.toggleChecked(e,e.checked,n),r(i.serializeList("checked"),$({},o,e))}},{key:"onExpand",value:function(e){var t=this.props.onExpand,n=this.state.model.clone(),r=n.getNode(e.value);n.toggleNode(e.value,"expanded",e.expanded),t(n.serializeList("expanded"),$({},r,e))}},{key:"onNodeClick",value:function(e){(0,this.props.onClick)($({},this.state.model.getNode(e.value),e))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,this.props.onExpand)(this.state.model.clone().expandAllNodes(e).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(e,t){var n=this.state.model.getNode(e.value);return n.isLeaf||t?n.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:"isEveryChildChecked",value:function(e){var t=this;return e.children.every((function(e){return 1===t.state.model.getNode(e.value).checkState}))}},{key:"isSomeChildChecked",value:function(e){var t=this;return e.children.some((function(e){return t.state.model.getNode(e.value).checkState>0}))}},{key:"renderTreeNodes",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.props,o=i.expandDisabled,a=i.expandOnClick,s=i.icons,l=i.lang,u=i.noCascade,c=i.onClick,h=i.onlyLeafCheckboxes,d=i.optimisticToggle,p=i.showNodeTitle,m=i.showNodeIcon,v=this.state,g=v.id,y=v.model,b=t.defaultProps.icons,_=e.map((function(e){var t=e.value,i=y.getNode(e.value),v=i.isParent?n.renderTreeNodes(e.children,e):null;i.checkState=n.determineShallowCheckState(e,u);var _=h?i.isLeaf:i.showCheckbox;return!r.value||y.getNode(r.value).expanded?f.a.createElement(G,{key:t,checked:i.checkState,className:e.className,disabled:i.disabled,expandDisabled:o,expandOnClick:a,expanded:i.expanded,icon:e.icon,icons:$({},b,s),label:e.label,lang:l,optimisticToggle:d,isLeaf:i.isLeaf,isParent:i.isParent,showCheckbox:_,showNodeIcon:m,title:p?e.title||e.label:e.title,treeId:g,value:e.value,onCheck:n.onCheck,onClick:c&&n.onNodeClick,onExpand:n.onExpand},v):null}));return f.a.createElement("ol",null,_)}},{key:"renderExpandAll",value:function(){var e=this.props,t=e.icons,n=t.expandAll,r=t.collapseAll,i=e.lang;return e.showExpandAll?f.a.createElement("div",{className:"rct-options"},f.a.createElement(T,{className:"rct-option rct-option-expand-all",title:i.expandAll,onClick:this.onExpandAll},n),f.a.createElement(T,{className:"rct-option rct-option-collapse-all",title:i.collapseAll,onClick:this.onCollapseAll},r)):null}},{key:"renderHiddenInput",value:function(){var e=this.props,t=e.name,n=e.nameAsArray;return void 0===t?null:n?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name;return t.map((function(e){var t="".concat(n,"[]");return f.a.createElement("input",{key:e,name:t,type:"hidden",value:e})}))}},{key:"renderJoinedHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name,r=t.join(",");return f.a.createElement("input",{name:n,type:"hidden",value:r})}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.nodes,r=e.nativeCheckboxes,o=this.renderTreeNodes(n),a=i()({"react-checkbox-tree":!0,"rct-disabled":t,"rct-native-display":r});return f.a.createElement("div",{className:a},this.renderExpandAll(),this.renderHiddenInput(),o)}}])&&Z(n.prototype,r),o&&Z(n,o),t}();te(ne,"propTypes",{nodes:c.a.arrayOf(q).isRequired,checked:X,disabled:c.a.bool,expandDisabled:c.a.bool,expandOnClick:c.a.bool,expanded:X,icons:D,id:c.a.string,lang:N,name:c.a.string,nameAsArray:c.a.bool,nativeCheckboxes:c.a.bool,noCascade:c.a.bool,onlyLeafCheckboxes:c.a.bool,optimisticToggle:c.a.bool,showExpandAll:c.a.bool,showNodeIcon:c.a.bool,showNodeTitle:c.a.bool,onCheck:c.a.func,onClick:c.a.func,onExpand:c.a.func}),te(ne,"defaultProps",{checked:[],disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:f.a.createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:f.a.createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:f.a.createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:f.a.createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:f.a.createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:f.a.createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:f.a.createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:f.a.createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:f.a.createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:f.a.createElement("span",{className:"rct-icon rct-icon-leaf"})},id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}}),t.default=ne}])},e.exports=r(n(1))},function(e,t,n){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(2)),u=f(n(1)),c=n(11),h=n(10);function f(e){return e&&e.__esModule?e:{default:e}}n(660);var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.DATATYPE_TO_TRACK_TYPE=(0,c.DATATYPE_TO_TRACK_TYPE)(n.props.orientation),n.AVAILABLE_TRACK_TYPES=(0,c.AVAILABLE_TRACK_TYPES)(n.props.datatypes,n.props.orientation),n.state={selectedPlotType:n.AVAILABLE_TRACK_TYPES[0]},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(){function e(e){if(this.AVAILABLE_TRACK_TYPES=(0,c.AVAILABLE_TRACK_TYPES)(e.datatypes,this.props.orientation),this.AVAILABLE_TRACK_TYPES&&e.allTracksSameDatatype&&this.AVAILABLE_TRACK_TYPES.length>0&&!this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)){var t=(0,h.getDefaultTrackForDatatype)(e.datatypes[0][0],this.props.position,this.AVAILABLE_TRACK_TYPES);this.handlePlotTypeSelected(t)}}return e}()},{key:"handlePlotTypeSelected",value:function(){function e(e){this.setState({selectedPlotType:e}),this.props.onPlotTypeSelected(e.type)}return e}()},{key:"render",value:function(){function e(){var e=this,t="No plot types available for track",n={};return c.TRACKS_INFO.forEach((function(e){n[e.type]=e})),this.AVAILABLE_TRACK_TYPES&&(t=this.AVAILABLE_TRACK_TYPES.sort((function(e,t){return e.type<t.type})).map((function(t){var r=n[t.type].thumbnail,i=e.state.selectedPlotType.type===t.type?"plot-type-item plot-type-selected":"plot-type-item",o=n[t.type].thumbnail?u.default.createElement("div",{className:"track-thumbnail",dangerouslySetInnerHTML:{__html:r.outerHTML}}):u.default.createElement("div",{className:"track-thumbnail"},u.default.createElement("svg",{height:20,width:30}));return u.default.createElement("li",{key:t.type,className:i,onClick:function(){function n(n){e.setState({selectedPlotType:t}),e.props.onPlotTypeSelected(t.type)}return n}(),style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},o,u.default.createElement("span",{style:{verticalAlign:"middle"}},t.type))}))),u.default.createElement("div",null,t.length>0&&this.props.allTracksSameDatatype&&u.default.createElement("div",{className:"plot-type-container"},t),!this.props.allTracksSameDatatype&&u.default.createElement("div",{className:"plot-type-container-empty"},"Datasets with multiple datatypes chosen. They will be added with their default track types."))}return e}()}]),t}(u.default.Component);d.propTypes={allTracksSameDatatype:l.default.bool,datatypes:l.default.array,orientation:l.default.string,onPlotTypeSelected:l.default.func,position:l.default.string},t.default=d},function(e,t,n){},function(e,t,n){e.exports={"collapse-toggle-icon":"AddTrackDialog-module_collapse-toggle-icon-1Of5_",collapsed:"AddTrackDialog-module_collapsed-1ifB1","modal-title":"AddTrackDialog-module_modal-title-1Atka","modal-container":"AddTrackDialog-module_modal-container-14d_4",modal:"AddTrackDialog-module_modal-bZqLI","modal-backdrop":"AddTrackDialog-module_modal-backdrop-ZrVQg","modal-dialog":"AddTrackDialog-module_modal-dialog-3bKDk"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(14)),l=g(n(7)),u=g(n(29)),c=g(n(1)),h=n(81),f=g(n(96)),d=g(n(67)),p=g(n(390)),m=n(183),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(68);var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.seriesRefs={},n.seriesListMenu=null,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){function e(){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"componentDidMount",this).call(this)}return e}()},{key:"render",value:function(){function e(){var e=this,t="context-menu";return this.props.theme===v.THEME_DARK&&(t+=" context-menu-dark"),c.default.createElement("div",{ref:function(){function t(t){e.div=t}return t}(),"data-menu-type":"ConfigTrackMenu",style:{left:this.state.left,top:this.state.top},className:(0,u.default)(t,y)},(0,m.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this),null),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(d.default,{contextMenu:this,onClick:function(){function t(){return e.props.onLockValueScale(e.props.tracks[0].uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Lock Value Scale With"),c.default.createElement(d.default,{contextMenu:this,onClick:function(){function t(){return e.props.onUnlockValueScale(e.props.tracks[0].uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Unlock Value Scale"),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(d.default,{contextMenu:this,onClick:function(){function t(){return e.props.onAddSeries(e.props.tracks[0].uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Add Series"),c.default.createElement(d.default,{onClick:function(){function t(){return e.props.onCloseTrack(e.props.tracks[0].uid)}return t}()},"Close Track"),c.default.createElement(d.default,{onClick:function(){function t(){e.props.onReplaceTrack(e.props.tracks[0].uid,e.props.trackOrientation)}return t}()},"Replace Track"),this.getSubmenu())}return e}()}]),t}((0,h.mix)(f.default).with(p.default));t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(37)),i=g(n(18)),o=g(n(17)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(7)),h=g(n(29)),f=g(n(1)),d=g(n(96)),p=g(n(67)),m=g(n(391)),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(68);var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,l.default)(t,[{key:"getConfigureSeriesMenu",value:function(){function e(e,t,n){var r=this,a={},s=window.higlassTracksByType&&window.higlassTracksByType[n.type]&&window.higlassTracksByType[n.type].config&&window.higlassTracksByType[n.type].config.optionsInfo;if(s){var l=!0,u=!1,c=void 0;try{for(var h,d=(0,o.default)((0,i.default)(s));!(l=(h=d.next()).done);l=!0){var p=h.value;v.OPTIONS_INFO[p]=s[p]}}catch(w){u=!0,c=w}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}}if(!v.TRACKS_INFO_BY_TYPE[n.type]||!v.TRACKS_INFO_BY_TYPE[n.type].availableOptions)return null;var g=function(){function e(e){if(e in v.OPTIONS_INFO){if(a[e]={name:v.OPTIONS_INFO[e].name},v.OPTIONS_INFO[e].generateOptions){var t=v.OPTIONS_INFO[e].generateOptions(n);a[e].children||(a[e].children={});var i=function(){function t(t){var i={name:t.name,value:t.value,handler:function(){function i(){n.options[e]=t.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()}return i}()};a[e].children[t.value]=i}return t}(),s=!0,l=!1,u=void 0;try{for(var c,h=(0,o.default)(t);!(s=(c=h.next()).done);s=!0)i(c.value)}catch(p){l=!0,u=p}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}}if(v.OPTIONS_INFO[e].inlineOptions){var f=function(){function t(t){var i=v.OPTIONS_INFO[e].inlineOptions[t];a[e].children||(a[e].children={});var o={name:i.name,value:i.value};i.componentPickers&&i.componentPickers[n.type]?o.handler=function(){r.props.onConfigureTrack(n,i.componentPickers[n.type]),r.props.closeMenu()}:o.handler=function(){n.options[e]=i.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()},a[e].children[t]=o}return t}();for(var d in v.OPTIONS_INFO[e].inlineOptions)f(d)}else v.OPTIONS_INFO[e].componentPickers&&v.OPTIONS_INFO[e].componentPickers[n.type]&&(a[e].handler=function(){r.props.onConfigureTrack(n,v.OPTIONS_INFO[e].componentPickers[n.type]),r.props.closeMenu()})}}return e}(),y=!0,b=!1,_=void 0;try{for(var x,T=(0,o.default)(v.TRACKS_INFO_BY_TYPE[n.type].availableOptions);!(y=(x=T.next()).done);y=!0)g(x.value)}catch(w){b=!0,_=w}finally{try{!y&&T.return&&T.return()}finally{if(b)throw _}}return f.default.createElement(m.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:a,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}return e}()},{key:"getTrackTypeItems",value:function(){function e(e,t,n){var o=this;window.higlassTracksByType&&(0,i.default)(window.higlassTracksByType).forEach((function(e){v.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config}));var a=n.datatype,s=null;n.type in v.TRACKS_INFO_BY_TYPE&&(a||(a=v.TRACKS_INFO_BY_TYPE[n.type].datatype[0]),s=v.TRACKS_INFO_BY_TYPE[n.type].orientation);for(var l=(0,r.default)(v.TRACKS_INFO_BY_TYPE).filter((function(e){return e.datatype})).filter((function(e){return e.orientation})).filter((function(e){return e.datatype.includes(a)})).filter((function(e){return e.orientation===s})).map((function(e){return e.type})),u={},c=function(){function e(e){u[l[e]]={value:l[e],name:l[e],handler:function(){function t(){o.props.onChangeTrackType(n.uid,l[e])}return t}()}}return e}(),h=0;h<l.length;h++)c(h);return f.default.createElement(m.default,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:u,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}return e}()},{key:"getSubmenu",value:function(){function e(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},n=this.state.submenuShown,r=n.value;return"track-type"===n.option?this.getTrackTypeItems(t,e,r):this.getConfigureSeriesMenu(t,e,r)}return f.default.createElement("div",null)}return e}()},{key:"getDivideByMenuItem",value:function(){function e(){var e=this;if(this.props.series.data&&"divided"===this.props.series.data.type){var t={tilesetUid:this.props.series.data.children[0].tilesetUid,server:this.props.series.data.children[0].server};return f.default.createElement(p.default,{onClick:function(){function n(){return e.props.onChangeTrackData(e.props.series.uid,t)}return n}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Remove divisor"))}return f.default.createElement(p.default,{onClick:function(){function t(){return e.props.onAddDivisor(e.props.series)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Divide by"))}return e}()},{key:"componentWillUnmount",value:function(){function e(){}return e}()},{key:"render",value:function(){function e(){var e=this,t=null;v.TRACKS_INFO_BY_TYPE[this.props.series.type]&&v.TRACKS_INFO_BY_TYPE[this.props.series.type].exportable&&(t=f.default.createElement(p.default,{onClick:function(){function t(){return e.props.onExportData(e.props.hostTrack.uid,e.props.track.uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Export Data")));var n=this.props.onAddSeries?f.default.createElement(p.default,{onClick:function(){function t(){e.props.onCloseTrack(e.props.series.uid),e.props.onAddSeries(e.props.hostTrack.uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Replace Series")):null,r="context-menu";return this.props.theme===v.THEME_DARK&&(r+=" context-menu-dark"),f.default.createElement("div",{ref:function(){function t(t){e.div=t}return t}(),"data-menu-type":"SeriesListMenu",onMouseLeave:this.props.handleMouseLeave,style:{left:this.state.left,top:this.state.top},className:(0,h.default)(r,y)},f.default.createElement(p.default,{onClick:function(){function e(){}return e}(),onMouseEnter:function(){function t(t){return e.handleItemMouseEnter(t,{option:"configure-series",value:e.props.track})}return t}(),onMouseLeave:function(){function t(t){return e.handleMouseLeave(t)}return t}()},"Configure Series",f.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},f.default.createElement("use",{xlinkHref:"#play"}))),f.default.createElement(p.default,{onClick:function(){function e(){}return e}(),onMouseEnter:function(){function t(t){return e.handleItemMouseEnter(t,{option:"track-type",value:e.props.track})}return t}(),onMouseLeave:function(){function t(t){return e.handleMouseLeave(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Track Type",f.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},f.default.createElement("use",{xlinkHref:"#play"})))),t,this.getDivideByMenuItem(),f.default.createElement(p.default,{onClick:this.props.onCloseTrack,onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Close Series")),n,this.getSubmenu())}return e}()}]),t}(d.default);t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(2)),i=s(n(1)),o=s(n(67)),a=n(183);function s(e){return e&&e.__esModule?e:{default:e}}n(68);var l=function(e){return i.default.createElement("div",null,(0,a.getSeriesItems)(e.tracks,null,null,e.onCloseTrack),i.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),i.default.createElement(o.default,{onClick:function(){function t(){return e.onCloseTrack(e.tracks[0].uid)}return t}()},"Close all series"))};l.propTypes={onCloseTrack:r.default.func.isRequired,tracks:r.default.array.isRequired},t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=n(125),o=a(n(394));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.SortableElement)((function(e){return r.default.createElement(o.default,{className:e.className,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})}));t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(25)),i=g(n(34)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(7)),c=g(n(29)),h=n(84),f=n(0),d=g(n(2)),p=g(n(1)),m=g(n(78)),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(667);var y={"../styles/DraggableDiv.module.scss":{"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},b=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.dragTopRight=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopRightFunc.bind(n)),n.dragTopLeft=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopLeftFunc.bind(n)),n.dragBottomRight=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomRightFunc.bind(n)),n.dragBottomLeft=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomLeftFunc.bind(n)),n.dragBottom=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomFunc.bind(n)),n.dragTop=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopFunc.bind(n)),n.dragLeft=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragLeftFunc.bind(n)),n.dragRight=(0,h.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragRightFunc.bind(n)),n.minWidth=10,n.minHeight=10,n.bottomHandleWidth=20,n.state={uid:n.props.uid,width:n.props.width,height:n.props.height,top:n.props.top,left:n.props.left},n.domBody=(0,f.select)("body").node(),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){function e(){(0,f.select)(this.bottomHandle).call(this.dragBottom),(0,f.select)(this.topHandle).call(this.dragTop),(0,f.select)(this.leftHandle).call(this.dragLeft),(0,f.select)(this.rightHandle).call(this.dragRight)}return e}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function e(e){"width"in e&&this.setState({width:e.width}),"height"in e&&this.setState({height:e.height})}return e}()},{key:"dragBottomFunc",value:function(){function e(){var e=(0,f.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight,this.setState({height:t}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragLeftFunc",value:function(){function e(){var e=(0,f.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:n,width:t}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragTopFunc",value:function(){function e(){var e=(0,f.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:n,height:t}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragRightFunc",value:function(){function e(){var e=(0,f.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth,this.setState({width:t}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragBottomLeftFunc",value:function(){function e(){var e=(0,f.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth;var r=this.dragStartLeft+e[0]-this.dragStartMousePos[0];r=n>this.minWidth?r:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:r,width:n,height:t}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragBottomRightFunc",value:function(){function e(){var e=(0,f.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight,this.setState({width:t,height:n}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragTopRightFunc",value:function(){function e(){var e=(0,f.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight;var r=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);r=r>this.minWidth?r:this.minWidth,this.setState({top:n,width:r,height:t}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragTopLeftFunc",value:function(){function e(){var e=(0,f.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth;var r=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);r=r>this.minHeight?r:this.minHeight;var i=this.dragStartTop+e[1]-this.dragStartMousePos[1];i=r>this.minHeight?i:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:i,left:n,width:t,height:r}),f.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragStart",value:function(){function e(){this.dragStartMousePos=(0,f.mouse)(this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,f.event.sourceEvent.stopPropagation()}return e}()},{key:"sizeChanged",value:function(){function e(){this.props.sizeChanged&&this.props.sizeChanged(this.state)}return e}()},{key:"rotateClicked",value:function(){function e(){this.props.trackRotated(this.state.uid)}return e}()},{key:"closeClicked",value:function(){function e(){this.props.trackClosed(this.state.uid)}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.theme===v.THEME_DARK?"white":"black",n={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,opacity:this.props.opacity},o=24,a=24,s={left:this.state.width/2-o/2,width:o},l={top:this.state.height/2-a/2,height:a},u={bottom:(0,i.default)({},s,{bottom:1}),top:(0,i.default)({},s,{top:1}),left:(0,i.default)({},l,{left:1}),right:(0,i.default)({},l,{right:1})},h=[].concat((0,r.default)(this.props.resizeHandles)).map((function(n){return p.default.createElement("div",{key:n,ref:function(){function t(t){e[String(n)+"Handle"]=t}return t}(),style:u[n],title:"Resize track",className:(0,c.default)(String(n)+"-draggable-handle",y)},p.default.createElement("div",{style:{borderColor:t},className:(0,c.default)(String(n)+"-draggable-handle-grabber",y)}))}));return p.default.createElement("div",{ref:function(){function t(t){e.divContainer=t}return t}(),className:(this.props.className?this.props.className+" ":"")+"DraggableDiv-module_draggable-div-2eWml",style:n},h)}return e}()}]),t}(p.default.Component);b.propTypes={className:d.default.string,height:d.default.number,left:d.default.number,opacity:d.default.number,resizeHandles:d.default.object,sizeChanged:d.default.func,top:d.default.number,trackClosed:d.default.func,trackRotated:d.default.func,uid:d.default.string,width:d.default.number,theme:d.default.symbol},t.default=(0,m.default)(b)},function(e,t,n){e.exports={"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(2)),u=f(n(1)),c=f(n(42)),h=n(125);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={controlsVisible:!1},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(){function e(){return!this.resizing}return e}()},{key:"handleMouseEnter",value:function(){function e(){this.setState({controlsVisible:!0})}return e}()},{key:"handleMouseLeave",value:function(){function e(){this.setState({controlsVisible:!1})}return e}()},{key:"handleMouseMove",value:function(){function e(){this.setState({controlsVisible:!0})}return e}()},{key:"getControls",value:function(){function e(){var e=this,t=null;return t=this.moveable?(0,h.SortableHandle)((function(){return u.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function e(){}return e}(),style:e.getMoveImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#move"}))})):(0,h.SortableHandle)((function(){return u.default.createElement("div",null)})),u.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},u.default.createElement(t,null),u.default.createElement("svg",{ref:function(){function t(t){e.imgConfig=t}return t}(),className:"no-zoom",height:"10px",onClick:function(){function t(){var t=c.default.findDOMNode(e.imgConfig).getBoundingClientRect();e.props.onConfigTrackMenuOpened(e.props.uid,t)}return t}(),style:this.getSettingsImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#cog"})),u.default.createElement("svg",{ref:function(){function t(t){e.imgAdd=t}return t}(),className:"no-zoom",height:"10px",onClick:function(){function t(){return e.props.onAddSeries(e.props.uid)}return t}(),style:this.getAddImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#plus"})),u.default.createElement("svg",{ref:function(){function t(t){e.imgClose=t}return t}(),className:"no-zoom",height:"10px",onClick:function(){function t(){var t=c.default.findDOMNode(e.imgClose).getBoundingClientRect();e.props.onCloseTrackMenuOpened(e.props.uid,t)}return t}(),style:this.getCloseImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#cross"})))}return e}()}]),t}(u.default.Component);d.propTypes={configMenuOpen:l.default.bool,onConfigTrackMenuOpened:l.default.func,onCloseTrackMenuOpened:l.default.func,onAddSeries:l.default.func,uid:l.default.string},t.default=d},function(e,t,n){e.exports={"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(5)),i=x(n(3)),o=x(n(4)),a=x(n(6)),s=x(n(7)),l=x(n(29)),u=x(n(2)),c=x(n(1)),h=n(83),f=n(0),d=x(n(26)),p=x(n(393)),m=x(n(671)),v=x(n(395)),g=n(10),y=n(11);x(n(672));var b=x(n(176)),_=x(n(175));function x(e){return e&&e.__esModule?e:{default:e}}var T={styles:{"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},w=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.brushBehavior=(0,h.brushY)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){function e(){this.props.isRangeSelectionActive&&this.addBrush()}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==e.rangeSelection&&this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==t;if(this.props.rangeSelection!==e.rangeSelection){var n=this.props.is1dRangeSelection?0:1;return this.moveBrush(e.rangeSelection[n]?e.rangeSelection[n]:null,e.rangeSelectionEnd),this.state!==t}return!0}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}return e}()},{key:"addBrush",value:function(){function e(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,g.resetD3BrushStyle)(this.brushEl,_.default["track-range-selection-group-brush-selection"]))}return e}()},{key:"brushed",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(f.event.selection))}return e}()},{key:"brushStarted",value:function(){function e(){!this.sourceEvent||!f.event.selection||this.props.onRangeSelectionStart()}return e}()},{key:"brushedEnded",value:function(){function e(){if(this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,f.event.selection&&f.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(f.event.selection)),f.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}return e}()},{key:"moveBrush",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl){var n=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}}return e}()},{key:"removeBrush",value:function(){function e(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.tracks.map((function(e){return e.width})).reduce(g.sum,0),n=this.props.tracks.map((function(e){return(0,y.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(g.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return c.default.createElement("div",{className:"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},n&&c.default.createElement("svg",{ref:function(){function t(t){e.brushEl=(0,f.select)(t)}return t}(),style:{height:this.props.height,width:t},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,T)}),c.default.createElement(p.default,{axis:"x",className:String(b.default.list)+" "+String(b.default.stylizedList)+" "+String(b.default.horizontalList),component:v.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:b.default.stylizedHelper,itemClass:String(b.default.stylizedItem)+" "+String(b.default.horizontalItem),itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:m.default,items:this.props.tracks.map((function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||d.default.nice(),height:e.props.height,width:t.width,value:t.value}})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:t}))}return e}()},{key:"sourceEvent",get:function(){function e(){return f.event&&f.event.sourceEvent}return e}()}]),t}(c.default.Component);w.propTypes={configTrackMenuId:u.default.string,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,handleSortEnd:u.default.func,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,height:u.default.number,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onRangeSelection:u.default.func,onRangeSelectionEnd:u.default.func,onRangeSelectionReset:u.default.func,onRangeSelectionStart:u.default.func,rangeSelection:u.default.array,rangeSelectionEnd:u.default.bool,referenceAncestor:u.default.func,resizeHandles:u.default.object,scale:u.default.func,tracks:u.default.array,tracksControlAlignLeft:u.default.bool},t.default=w},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=n(125),o=a(n(396));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.SortableElement)((function(e){return r.default.createElement(o.default,{className:e.className,controlAlignLeft:e.controlAlignLeft,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})}));t.default=s},function(e,t,n){e.exports={"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(5)),i=y(n(3)),o=y(n(4)),a=y(n(6)),s=y(n(7)),l=y(n(29)),u=y(n(1)),c=y(n(2)),h=n(81),f=n(10),d=n(183),p=y(n(67)),m=y(n(96)),v=y(n(390)),g=n(11);function y(e){return e&&e.__esModule?e:{default:e}}n(68);var b={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},_=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){function e(){var e=this,t=(0,d.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this)),n=this.props.customItems?u.default.Children.map(this.props.customItems,(function(t){return u.default.cloneElement(t,{onMouseEnter:function(){function t(t){e.handleOtherMouseEnter(t)}return t}()})})):null,r="context-menu";return this.props.theme===g.THEME_DARK&&(r+=" context-menu-dark"),u.default.createElement("div",{ref:function(){function t(t){e.div=t}return t}(),"data-menu-type":"ViewContextMenu",style:{left:this.state.left,top:this.state.top},className:(0,l.default)(r,b)},n,n&&u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),t,t&&u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(p.default,{onClick:function(){function t(){return e.props.onAddTrack({type:"horizontal-rule",y:e.props.coords[1],position:"whole"})}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Add Horizontal Rule"),u.default.createElement(p.default,{onClick:function(){function t(){return e.props.onAddTrack({type:"vertical-rule",x:e.props.coords[0],position:"whole"})}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Add Vertical Rule"),u.default.createElement(p.default,{onClick:function(){function t(){return e.props.onAddTrack({type:"cross-rule",x:e.props.coords[0],y:e.props.coords[1],position:"whole"})}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Add Cross Rule"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),this.hasMatrixTrack(this.props.tracks)&&u.default.createElement(p.default,{onClick:this.handleAddHorizontalSection.bind(this),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Add Horizontal Cross Section"),this.hasMatrixTrack(this.props.tracks)&&u.default.createElement(p.default,{onClick:this.handleAddVerticalSection.bind(this),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Add Vertical Cross Section"),this.getSubmenu())}return e}()},{key:"hasMatrixTrack",value:function(){function e(e){return(0,f.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type})).length>0}return e}()},{key:"handleAddHorizontalSection",value:function(){function e(){var e=(0,f.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type}))[0];this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),this.props.onAddTrack({data:{type:"horizontal-section",server:e.server,tilesetUid:e.tilesetUid,slicePos:this.props.coords[1]},options:{valueScaling:"log"},type:"horizontal-bar",height:30,position:"top"})}return e}()},{key:"handleAddVerticalSection",value:function(){function e(){var e=(0,f.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type}))[0];this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),this.props.onAddTrack({data:{type:"vertical-section",server:e.server,tilesetUid:e.tilesetUid,slicePos:this.props.coords[0]},options:{valueScaling:"log"},type:"vertical-bar",height:30,position:"left"})}return e}()}]),t}((0,h.mix)(m.default).with(v.default));_.propTypes={coords:c.default.array,customItems:c.default.array},t.default=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=O(n(19)),i=O(n(62)),o=O(n(30)),a=O(n(25)),s=O(n(38)),l=O(n(5)),u=O(n(3)),c=O(n(4)),h=O(n(6)),f=O(n(7)),d=O(n(29)),p=n(0),m=O(n(1)),v=O(n(26)),g=O(n(2)),y=O(n(675)),b=O(n(73)),_=O(n(140)),x=O(n(264)),T=n(24),w=O(n(69)),S=n(10),E=O(n(78)),k=n(266),C=n(11),A=O(n(679));function O(e){return e&&e.__esModule?e:{default:e}}var P={styles:{"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},M=function(e){function t(e){(0,u.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.mounted=!1,n.uid=v.default.nice(),n.chromInfo=null,n.searchField=null,n.autocompleteMenu=null,n.xScale=null,n.yScale=null,n.prevParts=[],n.props.registerViewportChangedListener(n.scalesChanged.bind(n)),n.menuPosition={left:0,top:0},n.positionText="chr4:190,998,876-191,000,255",n.state={genes:[],isFocused:!1,autocompleteServer:n.props.autocompleteServer,autocompleteId:n.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},n.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},n.availableAutocompletes={},n.props.autocompleteId&&(n.availableAutocompletes[n.props.chromInfoId]=new s.default([{server:n.props.autocompleteServer,acId:n.props.autocompleteId}])),n.availableChromSizes={},n}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){function e(){var e=this;this.mounted=!0,(0,p.select)(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.props.chromInfoPath&&(this.searchPosition=!0,(0,b.default)(this.props.chromInfoPath,(function(t){t?(e.chromInfo=t,e.searchField=new _.default(e.chromInfo),e.setPositionText()):e.searchPosition=null}))),this.setPositionText()}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.mounted=!1,this.props.removeViewportChangedListener()}return e}()},{key:"onAutocompleteChange",value:function(){function e(e,t){var n=this;this.positionText=t,this.setState({value:t,loading:!0}),this.changedPart=null;for(var r=t.split(/ /),i=0,o=[],a=!1,s=0;s<r.length;s++)for(var l=r[s].split(/-/),u=0;u<l.length;u++){if(i+=1,o.push(l[u]),a=0===u,u===this.prevParts.length){this.changedPart=i-1;break}if(l[u]!==this.prevParts[u]){this.changedPart=i-1;break}}if(this.prevParts=o,this.state.autocompleteServer&&this.state.autocompleteId&&null!==this.changedPart){this.setState({loading:!0});var c=String(this.state.autocompleteServer)+"/suggest/";c+="?d="+String(this.state.autocompleteId)+"&ac="+String(o[this.changedPart].toLowerCase()),T.tileProxy.json(c,(function(e,t){if(e)n.setState({loading:!1,genes:[]});else if(n.changedPart>0&&!a){var r=String(n.state.autocompleteServer)+"/suggest/?d="+String(n.state.autocompleteId)+"&ac="+String(o[n.changedPart-1].toLowerCase())+"-"+String(o[n.changedPart].toLowerCase());T.tileProxy.json(r,(function(e,r){e?n.setState({loading:!1,genes:t}):n.setState({loading:!1,genes:r.concat(t)})}),n.props.pubSub)}else n.setState({loading:!1,genes:t})}),this.props.pubSub)}}return e}()},{key:"setAvailableAssemblies",value:function(){function e(){var e=new s.default((0,S.dictKeys)(this.availableChromSizes)),t=new s.default([].concat((0,a.default)(e)));this.gpsbForm&&this.setState({availableAssemblies:[].concat((0,a.default)(t))})}return e}()},{key:"setSelectedAssembly",value:function(){function e(e){if(this.mounted&&this.availableChromSizes[e]){var t=[].concat((0,a.default)(this.availableChromSizes[e]))[0];this.setState({autocompleteServer:t.server});var n=t.server;if(this.availableAutocompletes[e]){var r=[].concat((0,a.default)(this.availableAutocompletes[e]))[0].acId;this.props.onSelectedAssemblyChanged(e,r,n),this.gpsbForm&&this.setState({autocompleteId:r})}else this.props.onSelectedAssemblyChanged(e,null,n),this.gpsbForm&&this.setState({autocompleteId:null});this.fetchChromInfo(t.uuid,t.server)}}return e}()},{key:"setPositionText",value:function(){function e(){if(this.mounted&&this.searchField){var e=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=e.split(/[ -]/),this.gpsbForm&&(this.positionText=e,this.origPositionText=e,this.autocompleteMenu.inputEl.value=e)}}return e}()},{key:"scalesChanged",value:function(){function e(e,t){this.xScale=e,this.yScale=t,this.setPositionText()}return e}()},{key:"findAvailableChromSizes",value:function(){function e(){var e=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach((function(t){T.tileProxy.json(String(t)+"/available-chrom-sizes/",(function(n,r){n?console.error(n):(r.results.forEach((function(n){n.coordSystem in e.availableChromSizes||(e.availableChromSizes[n.coordSystem]=new s.default),e.availableChromSizes[n.coordSystem].add({server:t,uuid:n.uuid}),e.setAvailableAssemblies()})),e.searchField||e.fetchChromInfo(e.props.chromInfoId in e.availableChromSizes?[].concat((0,a.default)(e.availableChromSizes[e.props.chromInfoId]))[0].uuid:e.props.chromInfoId,e.props.chromInfoId in e.availableChromSizes?[].concat((0,a.default)(e.availableChromSizes[e.props.chromInfoId]))[0].server:e.props.chromInfoServer))}),e.props.pubSub)}))}return e}()},{key:"findAvailableAutocompleteSources",value:function(){function e(){var e=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach((function(t){T.tileProxy.json(String(t)+"/tilesets/?limit=100&dt=gene-annotation",(function(n,r){n?console.error(n):(r.results.forEach((function(n){n.coordSystem in e.availableAutocompletes||(e.availableAutocompletes[n.coordSystem]=new s.default),e.availableAutocompletes[n.coordSystem].add({server:t,acId:n.uuid}),e.setAvailableAssemblies()})),e.state.autocompleteId||e.gpsbForm&&e.availableAutocompletes[e.props.chromInfoId]&&e.setState({autocompleteId:[].concat((0,a.default)(e.availableAutocompletes[e.props.chromInfoId]))[0].acId}))}),e.props.pubSub)}))}return e}()},{key:"fetchChromInfo",value:function(){function e(e,t){var n=this;(0,b.default)(String(t)+"/chrom-sizes/?id="+String(e),(function(r){r&&(T.tileProxy.json(String(t)+"/tileset_info/?d="+String(e),(function(t,r){t||n.gpsbForm&&n.setState({selectedAssembly:r[e].coordSystem})}),n.props.pubSub),n.chromInfo=r,n.searchField=new _.default(n.chromInfo),n.setPositionText())}),this.props.pubSub)}return e}()},{key:"autocompleteKeyPress",value:function(){function e(){var e=13;p.event.keyCode===e&&this.buttonClick()}return e}()},{key:"genePositionToSearchBarText",value:function(){function e(e){}return e}()},{key:"replaceGenesWithLoadedPositions",value:function(){function e(e){for(var t=this.positionText,n=t.split(" "),r=!1,i=0;i<n.length;i++){for(var o=n[i].split("-"),a=0,s=0,l="";a<o.length;){for(s=o.length;s>a;){var u=o.slice(a,s).join("-");if(e[u.toLowerCase()]){var c=e[u.toLowerCase()],h=Math.floor((c.txEnd-c.txStart)/4);0===a&&s<o.length?l=String(c.chr)+":"+(c.txStart-h):0===a&&s===o.length?l=String(c.chr)+":"+(c.txStart-h)+"-"+String(c.txEnd+h):l+="- "+String(c.chr)+":"+String(c.txEnd+h),r=!0;break}s===a+1&&(l.length&&(l+="-"),l+=u),s-=1}a=s+1}n[i]=l}var f=n.join(" ");return this.prevParts=f.split(/[ -]/),this.positionText=f,this.setState({value:f}),r?t:null}return e}()},{key:"replaceGenesWithPositions",value:function(){function e(e){for(var t=this,n=this.positionText.split(/[ -]/),r=[],a=0;a<n.length;a++)if(0!==n[a].length){var s=this.searchField.parsePosition(n[a])[2];if(null===s||(0,o.default)(+s)){var l=String(this.state.autocompleteServer)+"/suggest/?d="+String(this.state.autocompleteId)+"&ac="+String(n[a].toLowerCase());r.push(T.tileProxy.json(l,S.toVoid,this.props.pubSub))}}i.default.all(r).then((function(n){if(n){for(var r={},i=0;i<n.length;i++)if(n[i][0])for(var o=0;o<n[i].length;o++)r[n[i][o].geneName.toLowerCase()]=n[i][o];var a=t.replaceGenesWithLoadedPositions(r);e(a)}})).catch((function(e){return console.error(e)}))}return e}()},{key:"buttonClick",value:function(){function e(){var e=this;this.setState({genes:[]}),this.replaceGenesWithPositions((function(t){var n=e.positionText;if(null!==e.searchField){var i=e.searchField.searchPosition(n),a=i[0],s=i[1];if(!a)return void e.setPositionText(e.origPositionText);if(a&&((0,o.default)(+a[0])||(0,o.default)(+a[1]))||s&&((0,o.default)(+s[0])||(0,o.default)(+s[1])))return;s||(s=a);var l=e.xScale.copy().domain(a),u=e.yScale.copy().domain(s),c=(0,S.scalesCenterAndK)(l,u),h=(0,r.default)(c,3),f=h[0],d=h[1],p=h[2];t&&e.props.onGeneSearch({geneSymbol:t,range:a,centerX:f,centerY:d}),e.props.setCenters(f,d,p,C.ZOOM_TRANSITION_DURATION)}}))}return e}()},{key:"searchFieldSubmit",value:function(){function e(){this.buttonClick()}return e}()},{key:"pathJoin",value:function(){function e(e,t){var n=t||"/",r=new RegExp(String(n)+"{1,}","g");return e.join(n).replace(r,n)}return e}()},{key:"geneSelected",value:function(){function e(e,t){for(var n=this.positionText.split(" "),r=this.changedPart,i=0;i<n.length;i++){var o=n[i].split("-"),a=t.geneName.split("-");if(!(r>o.length-1)){if(o[r]=t.geneName,2===a.length&&r>0&&o[r-1].toLowerCase()===a[0].toLowerCase()){var s=o.slice(0,r-1);s.push(a.join("-")),r<o.length-1&&s.push(o.slice(r+1)),n[i]=s.join("-")}else n[i]=o.join("-");break}r-=o.length}this.prevParts=n.join(" ").split(/[ -]/),this.positionText=n.join(" "),this.setState({value:n.join(" "),genes:[]})}return e}()},{key:"handleMenuVisibilityChange",value:function(){function e(e,t){var n=t.getBoundingClientRect();this.menuPosition={left:n.left,top:n.top+n.height},this.setState({menuOpened:e})}return e}()},{key:"handleRenderMenu",value:function(){function e(e){return m.default.createElement(x.default,null,m.default.createElement("div",{style:{left:this.menuPosition.left,top:this.menuPosition.top},className:"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU"},e))}return e}()},{key:"handleAssemblySelect",value:function(){function e(e){this.setSelectedAssembly(e),this.setState({selectedAssembly:e})}return e}()},{key:"focusHandler",value:function(){function e(e){this.setState({isFocused:e})}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.state.availableAssemblies.map((function(e){return m.default.createElement("option",{key:e,value:e},e)})),n=this.state.isFocused?"styles.genome-position-search-focus":"styles.genome-position-search";return this.props.theme===C.THEME_DARK&&(n+=" styles.genome-position-search-dark"),m.default.createElement("div",{ref:function(){function t(t){e.gpsbForm=t}return t}(),className:(0,d.default)(n,P)},!this.props.hideAvailableAssemblies&&m.default.createElement("select",{ref:function(){function t(t){e.assemblyPickButton=t}return t}(),className:A.default["genome-position-search-bar-button"],id:this.uid,onSelect:this.handleAssemblySelect.bind(this),title:this.state.selectedAssembly?this.state.selectedAssembly:"(none)"},t),m.default.createElement(y.default,{ref:function(){function t(t){e.autocompleteMenu=t}return t}(),getItemValue:function(){function e(e){return e.geneName}return e}(),inputProps:{className:A.default["genome-position-search-bar"],title:"Current location: enter a symbol or location to change the position of the current view"},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:function(){function t(t,n){return e.geneSelected(t,n)}return t}(),onSubmit:this.searchFieldSubmit.bind(this),renderItem:function(){function t(t,n){return m.default.createElement("div",{key:t.refseqid,id:t.refseqid,style:n?e.styles.highlightedItem:e.styles.item},t.geneName)}return t}(),renderMenu:this.handleRenderMenu.bind(this),value:this.positionText,wrapperStyle:{width:"100%"}}),m.default.createElement(k.SearchIcon,{onClick:this.buttonClick.bind(this),theStyle:"multitrack-header-icon"}))}return e}()}]),t}(m.default.Component);M.propTypes={autocompleteId:g.default.string,autocompleteServer:g.default.string,chromInfoId:g.default.string,chromInfoServer:g.default.string,hideAvailableAssemblies:g.default.bool,isFocused:g.default.bool,pubSub:g.default.func,onFocus:g.default.func,onGeneSearch:g.default.func,onSelectedAssemblyChanged:g.default.func,registerViewportChangedListener:g.default.func,removeViewportChangedListener:g.default.func,setCenters:g.default.func,theme:g.default.symbol.isRequired,trackSourceServers:g.default.array,twoD:g.default.bool},t.default=(0,w.default)((0,E.default)(M))},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(35)),i=p(n(34)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=p(n(1)),h=n(42),f=p(n(676)),d=p(n(2));function p(e){return e&&e.__esModule?e:{default:e}}var m=[],v=function(t){function n(e){(0,a.default)(this,n);var t=(0,l.default)(this,(n.__proto__||(0,o.default)(n)).call(this,e));return t.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},t.keyDownHandlers={ArrowDown:function(){function e(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=null===n||n===t-1?0:n+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}}return e}(),ArrowUp:function(){function e(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=0===n||null===n?t-1:n-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}}return e}(),Enter:function(){function e(e){var t=this;if(!1!==this.state.isOpen)if(null===this.state.highlightedIndex)this.setState({isOpen:!1},(function(){t.inputEl.select()}));else{e.preventDefault();var n=this.getFilteredItems()[this.state.highlightedIndex],r=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},(function(){t.inputEl.setSelectionRange(r.length,r.length),t.props.onSelect(r,n)}))}}return e}(),Escape:function(){function e(){this.setState({highlightedIndex:null,isOpen:!1})}return e}()},t}return(0,u.default)(n,t),(0,s.default)(n,[{key:"getInitialState",value:function(){function e(){return{isOpen:!1,highlightedIndex:null}}return e}()},{key:"UNSAFE_componentWillMount",value:function(){function e(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}return e}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function e(e){this._performAutoCompleteOnUpdate=!0,(this.props.items!==e.items||this.state.highlightedIndex>=e.items.length)&&this.setState({highlightedIndex:null})}return e}()},{key:"componentDidUpdate",value:function(){function e(e,t){!0===this.state.isOpen&&!1===t.isOpen&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}return e}()},{key:"maybeScrollItemIntoView",value:function(){function e(){if(!0===this.state.isOpen&&null!==this.state.highlightedIndex){var e=this.refs["item-"+String(this.state.highlightedIndex)],t=this.refs.menu;e&&(0,f.default)((0,h.findDOMNode)(e),(0,h.findDOMNode)(t),{onlyScrollIfNeeded:!0})}}return e}()},{key:"handleKeyDown",value:function(){function e(e){this.keyDownHandlers[e.key]?this.keyDownHandlers[e.key].call(this,e):this.setState({highlightedIndex:null,isOpen:!0})}return e}()},{key:"handleChange",value:function(){function e(e){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(e,e.target.value)}return e}()},{key:"handleKeyUp",value:function(){function e(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}return e}()},{key:"getFilteredItems",value:function(){function e(){var e=this,t=this.props.items;return this.props.shouldItemRender&&(t=t.filter((function(t){return e.props.shouldItemRender(t,e.props.value)}))),this.props.sortItems&&t.sort((function(t,n){return e.props.sortItems(t,n,e.props.value)})),t}return e}()},{key:"maybeAutoCompleteText",value:function(){function e(){if(this.props.autoHighlight&&""!==this.props.value){var e=this.state.highlightedIndex,t=this.getFilteredItems();if(0!==t.length){var n=null!==e?t[e]:t[0];0===this.props.getItemValue(n).toLowerCase().indexOf(this.props.value.toLowerCase())&&null===e&&this.setState({highlightedIndex:0})}}}return e}()},{key:"setMenuPositions",value:function(){function t(){var t=this.inputEl,n=t.getBoundingClientRect(),r=e.window.getComputedStyle(t),i=parseInt(r.marginBottom,10)||0,o=parseInt(r.marginLeft,10)||0,a=parseInt(r.marginRight,10)||0;this.setState({menuTop:n.bottom+i,menuLeft:n.left+o,menuWidth:n.width+o+a})}return t}()},{key:"highlightItemFromMouse",value:function(){function e(e){this.setState({highlightedIndex:e})}return e}()},{key:"selectItemFromMouse",value:function(){function e(e){var t=this,n=this.props.getItemValue(e);this.setState({isOpen:!1,highlightedIndex:null},(function(){t.props.onSelect(n,e),t.inputEl.focus()}))}return e}()},{key:"setIgnoreBlur",value:function(){function e(e){this._ignoreBlur=e}return e}()},{key:"renderMenu",value:function(){function e(){var e=this,t=this.getFilteredItems().map((function(t,n){var r=e.props.renderItem(t,e.state.highlightedIndex===n,{cursor:"default"});return c.default.cloneElement(r,{onMouseDown:function(){function t(){return e.setIgnoreBlur(!0)}return t}(),onMouseEnter:function(){function t(){return e.highlightItemFromMouse(n)}return t}(),onClick:function(){function n(){return e.selectItemFromMouse(t)}return n}(),ref:"item-"+String(n)})})),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!t.length)return null;var r=this.props.renderMenu(t,this.props.value,n);return c.default.cloneElement(r,{ref:"menu"})}return e}()},{key:"handleInputBlur",value:function(){function e(){this.props.onFocus&&this.props.onFocus(),!this._ignoreBlur&&this.setState({isOpen:!1,highlightedIndex:null})}return e}()},{key:"handleInputFocus",value:function(){function e(){this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur?this.setIgnoreBlur(!1):(this._ignoreClick=!0,this.setState({isOpen:!0}))}return e}()},{key:"isInputFocused",value:function(){function e(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}return e}()},{key:"handleInputClick",value:function(){function e(){this.isInputFocused()&&!1===this.state.isOpen?this.setState({isOpen:!0}):null!==this.state.highlightedIndex&&!this._ignoreClick&&this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}return e}()},{key:"composeEventHandlers",value:function(){function e(e,t){return t?function(n){e(n),t(n)}:e}return e}()},{key:"render",value:function(){function e(){var e=this;this.props.debug&&m.push({id:m.length,state:this.state});var t=this.props.inputProps;return c.default.createElement("div",(0,i.default)({style:(0,i.default)({},this.props.wrapperStyle)},this.props.wrapperProps),c.default.createElement("input",(0,i.default)({},t,{ref:function(){function t(t){e.inputEl=t}return t}(),"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),t.onBlur&&t.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),t.onClick&&t.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),t.onFocus&&t.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),t.onKeyDown&&t.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),t.onKeyUp&&t.onKeyUp.bind(this)),role:"combobox",value:this.props.value})),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&c.default.createElement("pre",{style:{marginLeft:300}},(0,r.default)(m.slice(m.length-5,m.length),null,2)))}return e}()}]),n}(c.default.Component);v.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){function e(){}return e}(),onSelect:function(){function e(){}return e}(),renderMenu:function(){function e(e,t,n){return c.default.createElement("div",{style:(0,i.default)({},n,this.menuStyle)},e)}return e}(),shouldItemRender:function(){function e(){return!0}return e}(),menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){function e(){}return e}()},v.propTypes={autoHighlight:d.default.bool,debug:d.default.bool,getItemValue:d.default.func.isRequired,inputProps:d.default.object,items:d.default.array,menuStyle:d.default.object,onChange:d.default.func,onFocus:d.default.func,onMenuVisibilityChange:d.default.func,onSelect:d.default.func,open:d.default.bool,renderItem:d.default.func.isRequired,renderMenu:d.default.func,shouldItemRender:d.default.func,sortItems:d.default.func,value:d.default.any,wrapperProps:d.default.object,wrapperStyle:d.default.object},t.default=v}).call(this,n(27))},function(e,t,n){e.exports=n(677)},function(e,t,n){var r=n(678);function i(e,t,n){n=n||{},9===t.nodeType&&(t=r.getWindow(t));var i=n.allowHorizontalScroll,o=n.onlyScrollIfNeeded,a=n.alignWithTop,s=n.alignWithLeft,l=n.offsetTop||0,u=n.offsetLeft||0,c=n.offsetBottom||0,h=n.offsetRight||0;i=void 0===i||i;var f=r.isWindow(t),d=r.offset(e),p=r.outerHeight(e),m=r.outerWidth(e),v=void 0,g=void 0,y=void 0,b=void 0,_=void 0,x=void 0,T=void 0,w=void 0,S=void 0,E=void 0;f?(T=t,E=r.height(T),S=r.width(T),w={left:r.scrollLeft(T),top:r.scrollTop(T)},_={left:d.left-w.left-u,top:d.top-w.top-l},x={left:d.left+m-(w.left+S)+h,top:d.top+p-(w.top+E)+c},b=w):(v=r.offset(t),g=t.clientHeight,y=t.clientWidth,b={left:t.scrollLeft,top:t.scrollTop},_={left:d.left-(v.left+(parseFloat(r.css(t,"borderLeftWidth"))||0))-u,top:d.top-(v.top+(parseFloat(r.css(t,"borderTopWidth"))||0))-l},x={left:d.left+m-(v.left+y+(parseFloat(r.css(t,"borderRightWidth"))||0))+h,top:d.top+p-(v.top+g+(parseFloat(r.css(t,"borderBottomWidth"))||0))+c}),_.top<0||x.top>0?!0===a?r.scrollTop(t,b.top+_.top):!1===a?r.scrollTop(t,b.top+x.top):_.top<0?r.scrollTop(t,b.top+_.top):r.scrollTop(t,b.top+x.top):o||((a=void 0===a||!!a)?r.scrollTop(t,b.top+_.top):r.scrollTop(t,b.top+x.top)),i&&(_.left<0||x.left>0?!0===s?r.scrollLeft(t,b.left+_.left):!1===s?r.scrollLeft(t,b.left+x.left):_.left<0?r.scrollLeft(t,b.left+_.left):r.scrollLeft(t,b.left+x.left):o||((s=void 0===s||!!s)?r.scrollLeft(t,b.left+_.left):r.scrollLeft(t,b.left+x.left)))}e.exports=i},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function o(e){var t=void 0,n=void 0,r=void 0,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}function a(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function s(e){return a(e)}function l(e){return a(e,!0)}function u(e){var t=o(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=s(r),t.top+=l(r),t}function c(e,t,n){var r="",i=e.ownerDocument,o=n||i.defaultView.getComputedStyle(e,null);return o&&(r=o.getPropertyValue(t)||o[t]),r}var h=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),f=/^(top|right|bottom|left)$/,d="currentStyle",p="runtimeStyle",m="left",v="px";function g(e,t){var n=e[d]&&e[d][t];if(h.test(n)&&!f.test(t)){var r=e.style,i=r[m],o=e[p][m];e[p][m]=e[d][m],r[m]="fontSize"===t?"1em":n||0,n=r.pixelLeft+v,r[m]=i,e[p][m]=o}return""===n?"auto":n}var y=void 0;function b(e,t){for(var n=0;n<e.length;n++)t(e[n])}function _(e){return"border-box"===y(e,"boxSizing")}"undefined"!=typeof window&&(y=window.getComputedStyle?c:g);var x=["margin","border","padding"],T=-1,w=2,S=1,E=0;function k(e,t,n){var r={},i=e.style,o=void 0;for(o in t)t.hasOwnProperty(o)&&(r[o]=i[o],i[o]=t[o]);for(o in n.call(e),t)t.hasOwnProperty(o)&&(i[o]=r[o])}function C(e,t,n){var r=0,i=void 0,o=void 0,a=void 0;for(o=0;o<t.length;o++)if(i=t[o])for(a=0;a<n.length;a++){var s=void 0;s="border"===i?i+n[a]+"Width":i+n[a],r+=parseFloat(y(e,s))||0}return r}function A(e){return null!=e&&e==e.window}var O={};function P(e,t,n){if(A(e))return"width"===t?O.viewportWidth(e):O.viewportHeight(e);if(9===e.nodeType)return"width"===t?O.docWidth(e):O.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight;y(e);var o=_(e),a=0;(null==i||i<=0)&&(i=void 0,(null==(a=y(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),void 0===n&&(n=o?S:T);var s=void 0!==i||o,l=i||a;if(n===T)return s?l-C(e,["border","padding"],r):a;if(s){var u=n===w?-C(e,["border"],r):C(e,["margin"],r);return l+(n===S?0:u)}return a+C(e,x.slice(n),r)}b(["Width","Height"],(function(e){O["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],O["viewport"+e](n))},O["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var M={position:"absolute",visibility:"hidden",display:"block"};function I(e){var t=void 0,n=arguments;return 0!==e.offsetWidth?t=P.apply(void 0,n):k(e,M,(function(){t=P.apply(void 0,n)})),t}function R(e,t,n){var r=n;if("object"!==("undefined"==typeof t?"undefined":i(t)))return"undefined"!=typeof r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):y(e,t);for(var o in t)t.hasOwnProperty(o)&&R(e,o,t[o])}function L(e,t){"static"===R(e,"position")&&(e.style.position="relative");var n=u(e),r={},i=void 0,o=void 0;for(o in t)t.hasOwnProperty(o)&&(i=parseFloat(R(e,o))||0,r[o]=i+t[o]-n[o]);R(e,r)}b(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);O["outer"+t]=function(t,n){return t&&I(t,e,n?E:S)};var n="width"===e?["Left","Right"]:["Top","Bottom"];O[e]=function(t,r){return void 0!==r?t?(y(t),_(t)&&(r+=C(t,["padding","border"],n)),R(t,e,r)):void 0:t&&I(t,e,T)}})),e.exports=r({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if("undefined"==typeof t)return u(e);L(e,t)},isWindow:A,each:b,css:R,clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(A(e)){if(void 0===t)return s(e);window.scrollTo(t,l(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(A(e)){if(void 0===t)return l(e);window.scrollTo(s(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},O)},function(e,t,n){e.exports={"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(1)),u=f(n(2)),c=f(n(170)),h=f(n(169));function f(e){return e&&e.__esModule?e:{default:e}}n(681);var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){function e(){var e=this;return l.default.createElement(h.default,{okayOnly:!0,okayTitle:"Done",onOkay:this.props.onDone,title:"Share view link"},l.default.createElement("div",{className:"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"},l.default.createElement("input",{ref:function(){function t(t){t&&(e.input=t,t.focus(),t.select())}return t}(),onClick:function(){function e(e){e.target.select()}return e}(),placeholder:"Generating the link...",readOnly:!0,value:this.props.url}),l.default.createElement(c.default,{onClick:function(){function t(t){e.input.select(),document.execCommand("copy")}return t}()},"Copy")))}return e}()}]),t}(l.default.Component);d.defaultProps={onDone:function(){function e(){}return e}(),url:""},d.propTypes={onDone:u.default.func,url:u.default.string},t.default=d},function(e,t,n){e.exports={"export-link-dialog-wrapper":"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(7)),l=g(n(29)),u=g(n(1)),c=g(n(2)),h=g(n(264)),f=g(n(96)),d=g(n(683)),p=g(n(684)),m=g(n(78)),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(267);var y={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},b=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.configImg=null,n.plusImg=null,n.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},n.handleTrackPositionChosenBound=n.handleTrackPositionChosen.bind(n),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){function e(){this.setState({width:this.el.clientWidth})}return e}()},{key:"checkWidth",value:function(){function e(){var e=this.el.clientWidth;e!==this.state.width&&this.setState({width:e})}return e}()},{key:"handleConfigMenuOpened",value:function(){function e(e){this.setState({configMenuUid:e,configMenuPosition:this.configImg.getBoundingClientRect()})}return e}()},{key:"handleAddTrackPositionMenuOpened",value:function(){function e(e){this.setState({addTrackPositionMenuUid:e,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}return e}()},{key:"handleTrackPositionChosen",value:function(){function e(e){this.props.onTrackPositionChosen(e),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}return e}()},{key:"render",value:function(){function e(){var e=this,t=null,n=null;this.state.addTrackPositionMenuPosition&&(n=u.default.createElement(h.default,{onMenuClosed:function(){function t(){e.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}return t}()},u.default.createElement(f.default,{orientation:"left",position:this.state.addTrackPositionMenuPosition,theme:this.props.theme},u.default.createElement(p.default,{onTrackPositionChosen:this.handleTrackPositionChosenBound})))),this.state.configMenuUid&&(t=u.default.createElement(h.default,{onMenuClosed:function(){function t(){return e.setState({configMenuUid:null})}return t}()},u.default.createElement(d.default,{onClearView:function(){function t(){e.setState({configMenuUid:null}),e.props.onClearView()}return t}(),onEditViewConfig:function(){function t(){e.setState({configMenuUid:null}),e.props.onEditViewConfig(e.state.configMenuUid)}return t}(),onExportPNG:function(){function t(){e.setState({configMenuUid:null}),e.props.onExportPNG()}return t}(),onExportSVG:function(){function t(){e.setState({configMenuUid:null}),e.props.onExportSVG()}return t}(),onExportViewAsJSON:function(){function t(){e.setState({configMenuUid:null}),e.props.onExportViewsAsJSON()}return t}(),onExportViewAsLink:function(){function t(){e.setState({configMenuUid:null}),e.props.onExportViewsAsLink()}return t}(),onLockLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onLockLocation(e.state.configMenuUid)}return t}(),onLockZoom:function(){function t(){e.setState({configMenuUid:null}),e.props.onLockZoom(e.state.configMenuUid)}return t}(),onLockZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onLockZoomAndLocation(e.state.configMenuUid)}return t}(),onOptionsChanged:function(){function t(t){e.props.onViewOptionsChanged(t),e.setState({configMenuUid:null})}return t}(),onProjectViewport:function(){function t(){e.setState({configMenuUid:null}),e.props.onProjectViewport(e.state.configMenuUid)}return t}(),onTakeAndLockZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onTakeAndLockZoomAndLocation(e.state.configMenuUid)}return t}(),onTogglePositionSearchBox:function(){function t(){e.setState({configMenuUid:null}),e.props.onTogglePositionSearchBox(e.state.configMenuUid)}return t}(),onUnlockLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onUnlockLocation(e.state.configMenuUid)}return t}(),onUnlockZoom:function(){function t(){e.setState({configMenuUid:null}),e.props.onUnlockZoom(e.state.configMenuUid)}return t}(),onUnlockZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onUnlockZoomAndLocation(e.state.configMenuUid)}return t}(),onYankLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onYankLocation(e.state.configMenuUid)}return t}(),onYankZoom:function(){function t(){e.setState({configMenuUid:null}),e.props.onYankZoom(e.state.configMenuUid)}return t}(),onYankZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onYankZoomAndLocation(e.state.configMenuUid)}return t}(),onZoomToData:function(){function t(){e.setState({configMenuUid:null}),e.props.onZoomToData(e.state.configMenuUid)}return t}(),orientation:"left",position:this.state.configMenuPosition,theme:this.props.theme})));var r=this.props.getGenomePositionSearchBox(this.state.isFocused,(function(t){e.setState({isFocused:t})})),i=this.state.isFocused?"multitrack-header-focus":"multitrack-header",o=this.state.width<=v.VIEW_HEADER_MED_WIDTH_SEARCH_BAR?"multitrack-header-icon-squeazed":"multitrack-header-icon";return this.props.theme===v.THEME_DARK&&(i+=" multitrack-header-dark"),u.default.createElement("div",{ref:function(){function t(t){e.el=t}return t}(),className:(0,l.default)(i,y)},u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-left-Qj9Sm"},this.props.mouseTool===v.MOUSE_TOOL_SELECT&&u.default.createElement("svg",{title:"Selection tool active",className:(0,l.default)("mouse-tool-selection "+o,y)},u.default.createElement("use",{xlinkHref:"#select"})),u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-grabber-3jrIz",title:"Drag to move the view"},u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),this.state.width>v.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR&&u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-search-1X_3_"},this.props.isGenomePositionSearchBoxVisible&&r)),u.default.createElement("nav",{className:"ViewHeader-module_multitrack-header-nav-list-2nvcu"},u.default.createElement("svg",{onClick:this.props.onAddView,className:(0,l.default)(o,y)},u.default.createElement("title",null,"Add new view (clone this view)"),u.default.createElement("use",{xlinkHref:"#copy"})),u.default.createElement("svg",{ref:function(){function t(t){e.configImg=t}return t}(),onClick:function(){function t(){return e.handleConfigMenuOpened(e.props.viewUid)}return t}(),className:(0,l.default)(o,y)},u.default.createElement("title",null,"Configure this view"),u.default.createElement("use",{xlinkHref:"#cog"})),u.default.createElement("svg",{ref:function(){function t(t){e.plusImg=t}return t}(),onClick:function(){function t(){return e.handleAddTrackPositionMenuOpened(e.props.viewUid)}return t}(),className:(0,l.default)(o,y)},u.default.createElement("title",null,"Add Track"),u.default.createElement("use",{xlinkHref:"#plus"})),u.default.createElement("svg",{onClick:this.props.onCloseView,className:(0,l.default)(o,y)},u.default.createElement("title",null,"Close View"),u.default.createElement("use",{xlinkHref:"#cross"}))),t,n)}return e}()}]),t}(u.default.Component);b.defaultProps={isGenomePositionSearchBoxVisible:!1},b.propTypes={getGenomePositionSearchBox:c.default.func.isRequired,isGenomePositionSearchBoxVisible:c.default.bool,mouseTool:c.default.string.isRequired,onAddView:c.default.func.isRequired,onClearView:c.default.func.isRequired,onCloseView:c.default.func.isRequired,onEditViewConfig:c.default.func.isRequired,onExportSVG:c.default.func.isRequired,onExportPNG:c.default.func.isRequired,onExportViewsAsJSON:c.default.func.isRequired,onExportViewsAsLink:c.default.func.isRequired,onLockLocation:c.default.func.isRequired,onLockZoom:c.default.func.isRequired,onLockZoomAndLocation:c.default.func.isRequired,onProjectViewport:c.default.func.isRequired,onTakeAndLockZoomAndLocation:c.default.func.isRequired,onTogglePositionSearchBox:c.default.func.isRequired,onTrackPositionChosen:c.default.func.isRequired,onUnlockLocation:c.default.func.isRequired,onUnlockZoom:c.default.func.isRequired,onUnlockZoomAndLocation:c.default.func.isRequired,onViewOptionsChanged:c.default.func.isRequired,onYankLocation:c.default.func.isRequired,onYankZoom:c.default.func.isRequired,onYankZoomAndLocation:c.default.func.isRequired,onZoomToData:c.default.func.isRequired,theme:c.default.symbol.isRequired,viewUid:c.default.string.isRequired},t.default=(0,m.default)(b)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(17)),i=g(n(18)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(7)),c=g(n(29)),h=g(n(1)),f=g(n(2)),d=g(n(96)),p=g(n(67)),m=g(n(391));n(68);var v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={submenuShown:!1},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"getConfigureViewMenu",value:function(){function e(e,t){var n=this,o=["backgroundColor"],a={},s={},l=function(){function e(e){if(e in(0,i.default)(v.OPTIONS_INFO)&&(a[e]={name:v.OPTIONS_INFO[e].name},v.OPTIONS_INFO[e].inlineOptions)){var t=function(){function t(t){var r=v.OPTIONS_INFO[e].inlineOptions[t];a[e].children||(a[e].children={});var i={name:r.name,value:r.value,handler:function(){s[e]=r.value,n.props.onOptionsChanged(s)}};a[e].children[t]=i}return t}();for(var r in v.OPTIONS_INFO[e].inlineOptions)t(r)}}return e}(),u=!0,c=!1,f=void 0;try{for(var d,p=(0,r.default)(o);!(u=(d=p.next()).done);u=!0)l(d.value)}catch(g){c=!0,f=g}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}return h.default.createElement(m.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:a,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}return e}()},{key:"getSubmenu",value:function(){function e(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top};return"options"===this.state.submenuShown.option?this.getConfigureViewMenu(t,e):h.default.createElement("div",null)}return h.default.createElement("div",null)}return e}()},{key:"render",value:function(){function e(){var e=this,t="context-menu";return this.props.theme===v.THEME_DARK&&(t+=" context-menu-dark"),h.default.createElement("div",{ref:function(){function t(t){e.div=t}return t}(),"data-menu-type":"ConfigViewMenu",style:{left:this.state.left,top:this.state.top},className:(0,c.default)(t,y)},h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onTogglePositionSearchBox(t)}return t}()},"Toggle position search box"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onZoomToData(t)}return t}()},"Zoom to data extent"),h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onClearView(t)}return t}()},"Clear View"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onYankZoom(t)}return t}()},"Take zoom from"),h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onYankLocation(t)}return t}()},"Take location from"),h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onYankZoomAndLocation(t)}return t}()},"Take zoom and location from"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:this.props.onLockZoom},"Lock zoom with"),h.default.createElement(p.default,{onClick:this.props.onLockLocation},"Lock location with"),h.default.createElement(p.default,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onUnlockZoom(t)}return t}()},"Unlock zoom"),h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onUnlockLocation(t)}return t}()},"Unlock location"),h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onUnlockZoomAndLocation(t)}return t}()},"Unlock zoom and location"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onProjectViewport(t)}return t}()},"Show this viewport on"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function t(t){return e.props.onEditViewConfig(t)}return t}()},"Edit view config"),h.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),h.default.createElement(p.default,{onClick:function(){function t(){return e.props.onExportSVG()}return t}()},"Export views as SVG"),h.default.createElement(p.default,{onClick:function(){function t(){return e.props.onExportPNG()}return t}()},"Export views as PNG"),h.default.createElement(p.default,{onClick:function(){function t(){return e.props.onExportViewAsJSON()}return t}()},"Export views as JSON"),h.default.createElement(p.default,{onClick:function(){function t(){return e.props.onExportViewAsLink()}return t}()},"Export views as Link"),this.getSubmenu())}return e}()}]),t}(d.default);b.propTypes={onEditViewConfig:f.default.func.isRequired,onExportSVG:f.default.func,onExportPNG:f.default.func,onExportViewAsJSON:f.default.func,onExportViewAsLink:f.default.func,onLockLocation:f.default.func,onLockZoom:f.default.func,onLockZoomAndLocation:f.default.func,onProjectViewport:f.default.func,onTakeAndLockZoomAndLocation:f.default.func,onTogglePositionSearchBox:f.default.func,onUnlockLocation:f.default.func,onUnlockZoom:f.default.func,onUnlockZoomAndLocation:f.default.func,onYankLocation:f.default.func,onYankZoom:f.default.func,onYankZoomAndLocation:f.default.func,onZoomToData:f.default.func,theme:f.default.symbol},t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(29)),i=l(n(2)),o=l(n(1)),a=l(n(78)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}n(685);var u={"../styles/AddTrackPositionMenu.module.scss":{"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}};function c(e){var t="add-track-position-table";return e.theme===s.THEME_DARK&&(t+=" add-track-position-table-dark"),o.default.createElement("div",null,o.default.createElement("div",{className:"AddTrackPositionMenu-module_add-track-position-span-2hbwE"},"Add Track..."),o.default.createElement("table",{className:(0,r.default)(t,u)},o.default.createElement("tbody",null,o.default.createElement("tr",{style:{height:"30px"}},o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),o.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("top")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e"},"top"),o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})),o.default.createElement("tr",{style:{height:"80px"}},o.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("left")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN"},"left"),o.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("center")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd"},"center"),o.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("right")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn"},"right")),o.default.createElement("tr",{style:{height:"30px"}},o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),o.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("bottom")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE"},"bottom"),o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})))))}c.propTypes={onTrackPositionChosen:i.default.func.isRequired,theme:i.default.symbol.isRequired},t.default=(0,a.default)(c)},function(e,t,n){e.exports={"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(35)),i=w(n(246)),o=w(n(247)),a=w(n(5)),s=w(n(3)),l=w(n(4)),u=w(n(6)),c=w(n(7)),h=w(n(29)),f=w(n(2)),d=w(n(1)),p=w(n(687)),m=n(688);n(689);var v=w(n(397)),g=w(n(271)),y=w(n(170)),b=w(n(169)),_=w(n(132)),x=w(n(69)),T=n(10);function w(e){return e&&e.__esModule?e:{default:e}}n(722);var S={"../styles/ViewConfigEditor.module.scss":{"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN","view-config-log":"ViewConfigEditor-module_view-config-log-1mYmL","view-config-log-header":"ViewConfigEditor-module_view-config-log-header-3EbEM","view-config-log-msg":"ViewConfigEditor-module_view-config-log-msg-2-CJZ",title:"ViewConfigEditor-module_title-3nLH_",Warning:"ViewConfigEditor-module_Warning-_sgiB",Success:"ViewConfigEditor-module_Success-nclFo",Error:"ViewConfigEditor-module_Error-3enaC"}},E=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={code:e.viewConfig,hide:!1,showLog:!1,logMsgs:n.getLogMsgs(e.viewConfig)},n.handleChangeBound=n.handleChange.bind(n),n.handleKeyDownBound=n.handleKeyDown.bind(n),n.handleKeyUpBound=n.handleKeyUp.bind(n),n.handleSubmitBound=n.handleSubmit.bind(n),n.hideBound=n.hide.bind(n),n.showBound=n.show.bind(n),n.toggleLogBound=n.toggleLog.bind(n),n.pubSubs=[],n.pubSubs.push(n.props.pubSub.subscribe("keydown",n.handleKeyDownBound)),n.pubSubs.push(n.props.pubSub.subscribe("keyup",n.handleKeyUpBound)),n}return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=(0,o.default)(i.default.mark(function(){function e(){return i.default.wrap(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:if(!this.editor){e.next=6;break}return this.editor._input.focus(),this.editor._input.setSelectionRange(0,0),e.next=5,(0,T.timeout)(0);case 5:this.editorWrap.scrollTop=0;case 6:case"end":return e.stop()}}return e}(),e,this)}return e}()));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function(){function e(){var e=this;this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)})),this.pubSubs=[]}return e}()},{key:"handleChange",value:function(){function e(e){var t=this.getLogMsgs(e);this.setState({code:e,logMsgs:t})}return e}()},{key:"handleKeyDown",value:function(){function e(e){"s"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.onChange(this.state.code)),"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.onChange(this.state.code),this.props.modal.close())}return e}()},{key:"handleKeyUp",value:function(){function e(e){this.setState({hide:!1}),"Escape"===e.key&&(e.preventDefault(),this.props.modal.close(),this.props.onCancel())}return e}()},{key:"handleSubmit",value:function(){function e(e){e&&e.preventDefault(),this.props.onSave(this.state.code)}return e}()},{key:"getLogMsgs",value:function(){function e(e){var t=[],n=void 0;try{n=JSON.parse(e)}catch(o){return console.warn(o),t.push({type:"Error",msg:o.toString()}),t}var i=(new v.default).compile(g.default);return i(n)||(console.warn("Invalid viewconf"),t.push({type:"Warning",msg:"Invalid viewconf"})),i.errors&&(console.warn((0,r.default)(i.errors,null,2)),i.errors.forEach((function(e){t.push({type:"Warning",msg:(0,r.default)(e,null,2)})}))),0===t.length&&t.push({type:"Success",msg:"No error or warnings"}),t}return e}()},{key:"hide",value:function(){function e(){this.setState({hide:!0})}return e}()},{key:"show",value:function(){function e(){this.setState({hide:!1})}return e}()},{key:"hideLog",value:function(){function e(){this.setState({showLog:!1})}return e}()},{key:"showLog",value:function(){function e(){this.setState({showLog:!0})}return e}()},{key:"toggleLog",value:function(){function e(){this.state.showLog?this.hideLog():this.showLog()}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.state.logMsgs.map((function(e,t){var n=String(t)+"-"+String(e.msg);return d.default.createElement("tr",{key:n},d.default.createElement("td",{className:(0,h.default)("title "+String(e.type),S)},"["+String(t)+"] "+String(e.type)),d.default.createElement("td",null,d.default.createElement("pre",null,e.msg)))}));return d.default.createElement(b.default,{cancelShortcut:"ESC",cancelTitle:"Discard Changes",hide:this.state.hide,maxHeight:!0,okayShortcut:"\u2318+Enter",okayTitle:"Save and Close",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Edit View Config"},d.default.createElement("header",{className:"ViewConfigEditor-module_view-config-editor-header-2nTtX"},d.default.createElement(y.default,{onBlur:this.showBound,onMouseDown:this.hideBound,onMouseOut:this.showBound,onMouseUp:this.showBound},"Hide While Mousedown"),d.default.createElement(y.default,{onClick:function(){function t(){e.props.onChange(e.state.code)}return t}(),shortcut:"\u2318+S"},"Save")),d.default.createElement("div",{ref:function(){function t(t){e.editorWrap=t}return t}(),className:"ViewConfigEditor-module_view-config-editor-2HAFN"},d.default.createElement(p.default,{ref:function(){function t(t){e.editor=t}return t}(),highlight:function(){function e(e){return(0,m.highlight)(e,m.languages.json)}return e}(),onValueChange:this.handleChangeBound,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:"inherit"},value:this.state.code})),d.default.createElement("div",{style:{height:this.state.showLog?"50%":"30px"},className:"ViewConfigEditor-module_view-config-log-1mYmL"},d.default.createElement("div",{onClick:function(){function t(){return e.toggleLogBound()}return t}(),className:"ViewConfigEditor-module_view-config-log-header-3EbEM"},"Log Messages ("+String(this.state.logMsgs.filter((function(e){return"Success"!==e.type})).length)+")"),d.default.createElement("div",{style:{padding:this.state.showLog?"10px":0},className:"ViewConfigEditor-module_view-config-log-msg-2-CJZ"},d.default.createElement("table",null,d.default.createElement("tbody",null,t)))))}return e}()}]),t}(d.default.Component);E.propTypes={modal:f.default.object.isRequired,onCancel:f.default.func.isRequired,onChange:f.default.func.isRequired,onSave:f.default.func.isRequired,pubSub:f.default.object.isRequired,viewConfig:f.default.object.isRequired},t.default=(0,x.default)((0,_.default)(E))},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(1));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=13,f=9,d=8,p=89,m=90,v=77,g=57,y=219,b=222,_=192,x=100,T=3e3,w="navigator"in e&&/Win/i.test(navigator.platform),S="navigator"in e&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),E="npm__react-simple-code-editor__textarea",k="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n."+E+":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  ."+E+" {\n    color: transparent !important;\n  }\n\n  ."+E+"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n",C=function(e){function t(){var e,n,i;l(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.state={capture:!0},i._recordCurrentState=function(){var e=i._input;if(e){var t=e.value,n=e.selectionStart,r=e.selectionEnd;i._recordChange({value:t,selectionStart:n,selectionEnd:r})}},i._getLines=function(e,t){return e.substring(0,t).split("\n")},i._recordChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i._history,o=n.stack,a=n.offset;if(o.length&&a>-1){i._history.stack=o.slice(0,a+1);var s=i._history.stack.length;if(s>x){var l=s-x;i._history.stack=o.slice(l,s),i._history.offset=Math.max(i._history.offset-l,0)}}var u=Date.now();if(t){var c=i._history.stack[i._history.offset];if(c&&u-c.timestamp<T){var h=/[^a-z0-9]([a-z0-9]+)$/i,f=i._getLines(c.value,c.selectionStart).pop().match(h),d=i._getLines(e.value,e.selectionStart).pop().match(h);if(f&&d&&d[1].startsWith(f[1]))return void(i._history.stack[i._history.offset]=r({},e,{timestamp:u}))}}i._history.stack.push(r({},e,{timestamp:u})),i._history.offset++},i._updateInput=function(e){var t=i._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,i.props.onValueChange(e.value))},i._applyEdits=function(e){var t=i._input,n=i._history.stack[i._history.offset];n&&t&&(i._history.stack[i._history.offset]=r({},n,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),i._recordChange(e),i._updateInput(e)},i._undoEdit=function(){var e=i._history,t=e.stack,n=e.offset,r=t[n-1];r&&(i._updateInput(r),i._history.offset=Math.max(n-1,0))},i._redoEdit=function(){var e=i._history,t=e.stack,n=e.offset,r=t[n+1];r&&(i._updateInput(r),i._history.offset=Math.min(n+1,t.length-1))},i._handleKeyDown=function(e){var t=i.props,n=t.tabSize,r=t.insertSpaces,o=t.ignoreTabKey,a=t.onKeyDown;if(!a||(a(e),!e.defaultPrevented)){var s=e.target,l=s.value,u=s.selectionStart,c=s.selectionEnd,x=(r?" ":"\t").repeat(n);if(e.keyCode===f&&!o&&i.state.capture)if(e.preventDefault(),e.shiftKey){var T=i._getLines(l,u),E=T.length-1,k=i._getLines(l,c).length-1,C=l.split("\n").map((function(e,t){return t>=E&&t<=k&&e.startsWith(x)?e.substring(x.length):e})).join("\n");if(l!==C){var A=T[E];i._applyEdits({value:C,selectionStart:A.startsWith(x)?u-x.length:u,selectionEnd:c-(l.length-C.length)})}}else if(u!==c){var O=i._getLines(l,u),P=O.length-1,M=i._getLines(l,c).length-1,I=O[P];i._applyEdits({value:l.split("\n").map((function(e,t){return t>=P&&t<=M?x+e:e})).join("\n"),selectionStart:/\S/.test(I)?u+x.length:u,selectionEnd:c+x.length*(M-P+1)})}else{var R=u+x.length;i._applyEdits({value:l.substring(0,u)+x+l.substring(c),selectionStart:R,selectionEnd:R})}else if(e.keyCode===d){var L=u!==c;if(l.substring(0,u).endsWith(x)&&!L){e.preventDefault();var D=u-x.length;i._applyEdits({value:l.substring(0,u-x.length)+l.substring(c),selectionStart:D,selectionEnd:D})}}else if(e.keyCode===h){if(u===c){var N=i._getLines(l,u).pop().match(/^\s+/);if(N&&N[0]){e.preventDefault();var j="\n"+N[0],B=u+j.length;i._applyEdits({value:l.substring(0,u)+j+l.substring(c),selectionStart:B,selectionEnd:B})}}}else if(e.keyCode===g||e.keyCode===y||e.keyCode===b||e.keyCode===_){var F=void 0;e.keyCode===g&&e.shiftKey?F=["(",")"]:e.keyCode===y?F=e.shiftKey?["{","}"]:["[","]"]:e.keyCode===b?F=e.shiftKey?['"','"']:["'","'"]:e.keyCode===_&&!e.shiftKey&&(F=["`","`"]),u!==c&&F&&(e.preventDefault(),i._applyEdits({value:l.substring(0,u)+F[0]+l.substring(u,c)+F[1]+l.substring(c),selectionStart:u,selectionEnd:c+2}))}else!(S?e.metaKey&&e.keyCode===m:e.ctrlKey&&e.keyCode===m)||e.shiftKey||e.altKey?(S?e.metaKey&&e.keyCode===m&&e.shiftKey:w?e.ctrlKey&&e.keyCode===p:e.ctrlKey&&e.keyCode===m&&e.shiftKey)&&!e.altKey?(e.preventDefault(),i._redoEdit()):e.keyCode===v&&e.ctrlKey&&(!S||e.shiftKey)&&(e.preventDefault(),i.setState((function(e){return{capture:!e.capture}}))):(e.preventDefault(),i._undoEdit())}},i._handleChange=function(e){var t=e.target,n=t.value,r=t.selectionStart,o=t.selectionEnd;i._recordChange({value:n,selectionStart:r,selectionEnd:o},!0),i.props.onValueChange(n)},i._history={stack:[],offset:-1},u(i,n)}return c(t,e),i(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,i=t.style,a=t.padding,l=t.highlight,u=t.textareaId,c=t.autoFocus,h=t.disabled,f=t.form,d=t.maxLength,p=t.minLength,m=t.name,v=t.placeholder,g=t.readOnly,y=t.required,b=t.onClick,_=t.onFocus,x=t.onBlur,T=t.onKeyUp;t.onKeyDown,t.onValueChange,t.tabSize,t.insertSpaces,t.ignoreTabKey;var w=s(t,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"]),S={paddingTop:a,paddingRight:a,paddingBottom:a,paddingLeft:a},C=l(n);return o.createElement("div",r({},w,{style:r({},A.container,i)}),o.createElement("textarea",{ref:function(t){return e._input=t},style:r({},A.editor,A.textarea,S),className:E,id:u,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:b,onKeyUp:T,onFocus:_,onBlur:x,disabled:h,form:f,maxLength:d,minLength:p,name:m,placeholder:v,readOnly:g,required:y,autoFocus:c,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),o.createElement("pre",r({"aria-hidden":"true",style:r({},A.editor,A.highlight,S)},"string"==typeof C?{dangerouslySetInnerHTML:{__html:C+"<br />"}}:{children:C})),o.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:k}}))}},{key:"session",get:function(){return{history:this._history}},set:function(e){this._history=e.history}}]),t}(o.Component);C.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t.default=C;var A={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}).call(this,n(27))},function(e,t,n){(function(t){var n=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof i?new i(e.type,r.util.encode(e.content),e.alias):Array.isArray(e)?e.map(r.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var i,o,a=r.util.type(t);switch(n=n||{},a){case"Object":if(o=r.util.objId(t),n[o])return n[o];for(var s in i={},n[o]=i,t)t.hasOwnProperty(s)&&(i[s]=e(t[s],n));return i;case"Array":return o=r.util.objId(t),n[o]?n[o]:(i=[],n[o]=i,t.forEach((function(t,r){i[r]=e(t,n)})),i);default:return t}}},languages:{extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){var o=(i=i||r.languages)[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var u=i[e];return i[e]=a,r.languages.DFS(r.languages,(function(t,n){n===u&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,i,o){o=o||{};var a=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],i||s);var l=t[s],u=r.util.type(l);"Object"!==u||o[a(l)]?"Array"===u&&!o[a(l)]&&(o[a(l)]=!0,e(l,n,s,o)):(o[a(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",i);for(var o,a=i.elements||e.querySelectorAll(i.selector),s=0;o=a[s++];)r.highlightElement(o,!0===t,i.callback)},highlightElement:function(n,i,o){for(var a,s,l=n;l&&!t.test(l.className);)l=l.parentNode;l&&(a=(l.className.match(t)||[,""])[1].toLowerCase(),s=r.languages[a]),n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+a,n.parentNode&&(l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+a));var u={element:n,language:a,grammar:s,code:n.textContent},c=function(e){u.highlightedCode=e,r.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r.hooks.run("after-highlight",u),r.hooks.run("complete",u),o&&o.call(u.element)};if(r.hooks.run("before-sanity-check",u),u.code)if(r.hooks.run("before-highlight",u),u.grammar)if(i&&e.Worker){var h=new Worker(r.filename);h.onmessage=function(e){c(e.data)},h.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else c(r.highlight(u.code,u.grammar,u.language));else c(r.util.encode(u.code));else r.hooks.run("complete",u)},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",o),o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),i.stringify(r.util.encode(o.tokens),o.language)},matchGrammar:function(e,t,n,o,a,s,l){for(var u in n)if(n.hasOwnProperty(u)&&n[u]){if(u==l)return;var c=n[u];c="Array"===r.util.type(c)?c:[c];for(var h=0;h<c.length;++h){var f=c[h],d=f.inside,p=!!f.lookbehind,m=!!f.greedy,v=0,g=f.alias;if(m&&!f.pattern.global){var y=f.pattern.toString().match(/[imuy]*$/)[0];f.pattern=RegExp(f.pattern.source,y+"g")}f=f.pattern||f;for(var b=o,_=a;b<t.length;_+=t[b].length,++b){var x=t[b];if(t.length>e.length)return;if(!(x instanceof i)){if(m&&b!=t.length-1){if(f.lastIndex=_,!(C=f.exec(e)))break;for(var T=C.index+(p?C[1].length:0),w=C.index+C[0].length,S=b,E=_,k=t.length;S<k&&(E<w||!t[S].type&&!t[S-1].greedy);++S)T>=(E+=t[S].length)&&(++b,_=E);if(t[b]instanceof i)continue;A=S-b,x=e.slice(_,E),C.index-=_}else{f.lastIndex=0;var C=f.exec(x),A=1}if(!C){if(s)break;continue}p&&(v=C[1]?C[1].length:0),w=(T=C.index+v)+(C=C[0].slice(v)).length;var O=x.slice(0,T),P=x.slice(w),M=[b,A];O&&(++b,_+=O.length,M.push(O));var I=new i(u,d?r.tokenize(C,d):C,g,C,m);if(M.push(I),P&&M.push(P),Array.prototype.splice.apply(t,M),1!=A&&r.matchGrammar(e,t,n,b,_,!0,u),s)break}}}}},tokenize:function(e,t){var n=[e],i=t.rest;if(i){for(var o in i)t[o]=i[o];delete t.rest}return r.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var i,o=0;i=n[o++];)i(t)}},Token:i};function i(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}if(e.Prism=r,i.stringify=function(e,t,n){if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(n){return i.stringify(n,t,e)})).join("");var o={type:e.type,content:i.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n};if(e.alias){var a=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}r.hooks.run("wrap",o);var s=Object.keys(o.attributes).map((function(e){return e+'="'+(o.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+(s?" "+s:"")+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener&&(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),i=n.language,o=n.code,a=n.immediateClose;e.postMessage(r.highlight(o,r.languages[i],i)),a&&e.close()}),!1)),r;var o=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return o&&(r.filename=o.src,!r.manual&&!o.hasAttribute("data-manual")&&("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=n),"undefined"!=typeof t&&(t.Prism=n)}).call(this,n(27))},function(e,t){Prism.languages.json={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},number:/-?\d+\.?\d*(e[+-]?\d+)?/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}}},function(e,t,n){var r=n(268),i=n(117),o=n(270),a=n(399),s=n(400),l=i.ucs2length,u=n(269),c=o.Validation;function h(e,t,n,p){var _=this,x=this._opts,T=[void 0],w={},S=[],E={},k=[],C={},A=[];t=t||{schema:e,refVal:T,refs:w};var O=f.call(this,e,t,p),P=this._compilations[O.index];if(O.compiling)return P.callValidate=D;var M=this._formats,I=this.RULES;try{var R=N(e,t,n,p);P.validate=R;var L=P.callValidate;return L&&(L.schema=R.schema,L.errors=null,L.refs=R.refs,L.refVal=R.refVal,L.root=R.root,L.$async=R.$async,x.sourceCode&&(L.source=R.source)),R}finally{d.call(this,e,t,p)}function D(){var e=P.validate,t=e.apply(this,arguments);return D.errors=e.errors,t}function N(e,n,a,f){var d=!n||n&&n.schema==e;if(n.schema!=t.schema)return h.call(_,e,n,a,f);var p,E=!0===e.$async,C=s({isTop:!0,schema:e,isRoot:d,baseId:f,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:I,validate:s,util:i,resolve:r,resolveRef:j,usePattern:U,useDefault:V,useCustomRule:G,opts:x,formats:M,logger:_.logger,self:_});C=b(T,g)+b(S,m)+b(k,v)+b(A,y)+C,x.processCode&&(C=x.processCode(C));try{p=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",C)(_,I,M,t,T,k,A,u,l,c),T[0]=p}catch(O){throw _.logger.error("Error compiling schema, function code:",C),O}return p.schema=e,p.errors=null,p.refs=w,p.refVal=T,p.root=d?p:n,E&&(p.$async=!0),!0===x.sourceCode&&(p.source={code:C,patterns:S,defaults:k}),p}function j(e,i,o){i=r.url(e,i);var a,s,l=w[i];if(void 0!==l)return z(a=T[l],s="refVal["+l+"]");if(!o&&t.refs){var u=t.refs[i];if(void 0!==u)return z(a=t.refVal[u],s=B(i,a))}s=B(i);var c=r.call(_,N,t,i);if(void 0===c){var f=n&&n[i];f&&(c=r.inlineRef(f,x.inlineRefs)?f:h.call(_,f,t,n,e))}if(void 0!==c)return H(i,c),z(c,s);F(i)}function B(e,t){var n=T.length;return T[n]=t,w[e]=n,"refVal"+n}function F(e){delete w[e]}function H(e,t){var n=w[e];T[n]=t}function z(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function U(e){var t=E[e];return void 0===t&&(t=E[e]=S.length,S[t]=e),"pattern"+t}function V(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),n=C[t];return void 0===n&&(n=C[t]=k.length,k[n]=e),"default"+n}}function G(e,t,n,r){if(!1!==_._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o&&!o(t)){var a="keyword schema is invalid: "+_.errorsText(o.errors);if("log"!=_._opts.validateSchema)throw new Error(a);_.logger.error(a)}}var s,l=e.definition.compile,u=e.definition.inline,c=e.definition.macro;if(l)s=l.call(_,t,n,r);else if(c)s=c.call(_,t,n,r),!1!==x.validateSchema&&_.validateSchema(s,!0);else if(u)s=u.call(_,r,e.keyword,t,n);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var h=A.length;return A[h]=s,{code:"customRule"+h,validate:s}}}function f(e,t,n){var r=p.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function d(e,t,n){var r=p.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function p(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function m(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function v(e){return"var default"+e+" = defaults["+e+"];"}function g(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function y(e){return"var customRule"+e+" = customRules["+e+"];"}function b(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=h},function(e,t,n){var r;r=function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function a(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}function s(e){var r="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),a=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",s),u=e?"[\\uE000-\\uF8FF]":"[]",c=t(r,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n(r+t(r,i,"[\\+\\-\\.]")+"*"),n(n(a+"|"+t(c,s,"[\\:]"))+"*");var h=n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i),f=n(h+"\\."+h+"\\."+h+"\\."+h),d=n(o+"{1,4}"),p=n(n(d+"\\:"+d)+"|"+f),m=n(n(d+"\\:")+"{6}"+p),v=n("\\:\\:"+n(d+"\\:")+"{5}"+p),g=n(n(d)+"?\\:\\:"+n(d+"\\:")+"{4}"+p),y=n(n(n(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+n(d+"\\:")+"{3}"+p),b=n(n(n(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+n(d+"\\:")+"{2}"+p),_=n(n(n(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+p),x=n(n(n(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+p),T=n(n(n(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),w=n(n(n(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),S=n([m,v,g,y,b,_,x,T,w].join("|")),E=n(n(c+"|"+a)+"+");n("[vV]"+o+"+\\."+t(c,s,"[\\:]")+"+"),n(n(a+"|"+t(c,s))+"*");var k=n(a+"|"+t(c,s,"[\\:\\@]"));return n(n(a+"|"+t(c,s,"[\\@]"))+"+"),n(n(k+"|"+t("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(t("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,s,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,s),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,l),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+E+")")+"?\\]?$")}}var l=s(!1),u=s(!0),c=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},f=2147483647,d=36,p=1,m=26,v=38,g=700,y=72,b=128,_="-",x=/^xn--/,T=/[^\0-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=d-p,k=Math.floor,C=String.fromCharCode;function A(e){throw new RangeError(S[e])}function O(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}function P(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+O((e=e.replace(w,".")).split("."),t).join(".")}function M(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var I=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d},R=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},L=function(e,t,n){var r=0;for(e=n?k(e/g):e>>1,e+=k(e/t);e>E*m>>1;r+=d)e=k(e/E);return k(r+(E+1)*e/(e+v))},D=function(e){var t=[],n=e.length,r=0,i=b,o=y,a=e.lastIndexOf(_);a<0&&(a=0);for(var s=0;s<a;++s)e.charCodeAt(s)>=128&&A("not-basic"),t.push(e.charCodeAt(s));for(var l=a>0?a+1:0;l<n;){for(var u=r,c=1,h=d;;h+=d){l>=n&&A("invalid-input");var v=I(e.charCodeAt(l++));(v>=d||v>k((f-r)/c))&&A("overflow"),r+=v*c;var g=h<=o?p:h>=o+m?m:h-o;if(v<g)break;var x=d-g;c>k(f/x)&&A("overflow"),c*=x}var T=t.length+1;o=L(r-u,T,0==u),k(r/T)>f-i&&A("overflow"),i+=k(r/T),r%=T,t.splice(r++,0,i)}return String.fromCodePoint.apply(String,t)},N=function(e){var t=[],n=(e=M(e)).length,r=b,i=0,o=y,a=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;h<128&&t.push(C(h))}}catch(Y){s=!0,l=Y}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}var v=t.length,g=v;for(v&&t.push(_);g<n;){var x=f,T=!0,w=!1,S=void 0;try{for(var E,O=e[Symbol.iterator]();!(T=(E=O.next()).done);T=!0){var P=E.value;P>=r&&P<x&&(x=P)}}catch(Y){w=!0,S=Y}finally{try{!T&&O.return&&O.return()}finally{if(w)throw S}}var I=g+1;x-r>k((f-i)/I)&&A("overflow"),i+=(x-r)*I,r=x;var D=!0,N=!1,j=void 0;try{for(var B,F=e[Symbol.iterator]();!(D=(B=F.next()).done);D=!0){var H=B.value;if(H<r&&++i>f&&A("overflow"),H==r){for(var z=i,U=d;;U+=d){var V=U<=o?p:U>=o+m?m:U-o;if(z<V)break;var G=z-V,X=d-V;t.push(C(R(V+G%X,0))),z=k(G/X)}t.push(C(R(z,0))),o=L(i,I,g==v),i=0,++g}}}catch(Y){N=!0,j=Y}finally{try{!D&&F.return&&F.return()}finally{if(N)throw j}}++i,++r}return t.join("")},j=function(e){return P(e,(function(e){return x.test(e)?D(e.slice(4).toLowerCase()):e}))},B=function(e){return P(e,(function(e){return T.test(e)?"xn--"+N(e):e}))},F={version:"2.1.0",ucs2:{decode:M,encode:function(e){return String.fromCodePoint.apply(String,h(e))}},decode:D,encode:N,toASCII:B,toUnicode:j},H={};function z(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function U(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var a=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function V(e,t){function n(e){var n=U(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,z).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,z).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,z).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,z).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,z).replace(t.PCT_ENCODED,i)),e}function G(e){return e.replace(/^0*(.*)/,"$1")||"0"}function X(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=c(n,2)[1];return r?r.split(".").map(G).join("."):e}function Y(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=c(n,3),i=r[1],o=r[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=c(a,2),l=s[0],u=s[1],h=u?u.split(":").map(G):[],f=l.split(":").map(G),d=t.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,m=f.length-p,v=Array(p),g=0;g<p;++g)v[g]=h[g]||f[m+g]||"";d&&(v[p-1]=X(v[p-1],t));var y=v.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var _=v.slice(0,y.index),x=v.slice(y.index+y.length);b=_.join(":")+"::"+x.join(":")}else b=v.join(":");return o&&(b+="%"+o),b}return e}var W=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,q=void 0==="".match(/(){0}/)[1];function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?u:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(W);if(i){q?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=Y(X(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=H[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)V(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=F.toASCII(n.host.replace(r.PCT_ENCODED,U).toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+a}V(n,l)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function $(e,t){var n=!1!==t.iri?u:l,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(Y(X(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var Z=/^\.\.?\//,Q=/^\/\.(\/|$)/,J=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(Z))e=e.replace(Z,"");else if(e.match(Q))e=e.replace(Q,"/");else if(e.match(J))e=e.replace(J,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?u:l,r=[],i=H[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host&&!n.IPV6ADDRESS.test(e.host)&&(t.domainHost||i&&i.domainHost))try{e.host=t.iri?F.toUnicode(e.host):F.toASCII(e.host.replace(n.PCT_ENCODED,U).toLowerCase())}catch(s){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+s}V(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=$(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var a=e.path;!t.absolutePath&&(!i||!i.absolutePath)&&(a=te(a)),void 0===o&&(a=a.replace(/^\/\//,"/%2F")),r.push(a)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=K(ne(e,n),n),t=K(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=te(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function ie(e,t,n){var r=a({scheme:"null"},n);return ne(re(K(e,r),K(t,r),r,!0),r)}function oe(e,t){return"string"==typeof e?e=ne(K(e,t),t):"object"===r(e)&&(e=K(ne(e,t),t)),e}function ae(e,t,n){return"string"==typeof e?e=ne(K(e,n),n):"object"===r(e)&&(e=ne(e,n)),"string"==typeof t?t=ne(K(t,n),n):"object"===r(t)&&(t=ne(t,n)),e===t}function se(e,t){return e&&e.toString().replace(t&&t.iri?u.ESCAPE:l.ESCAPE,z)}function le(e,t){return e&&e.toString().replace(t&&t.iri?u.PCT_ENCODED:l.PCT_ENCODED,U)}var ue={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return(e.port===("https"!==String(e.scheme).toLowerCase()?80:443)||""===e.port)&&(e.port=void 0),e.path||(e.path="/"),e}},ce={scheme:"https",domainHost:ue.domainHost,parse:ue.parse,serialize:ue.serialize},he={},fe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",de="[0-9A-Fa-f]",pe=n(n("%[EFef]"+de+"%"+de+de+"%"+de+de)+"|"+n("%[89A-Fa-f]"+de+"%"+de+de)+"|"+n("%"+de+de)),me="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ve=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ge="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ye=new RegExp(fe,"g"),be=new RegExp(pe,"g"),_e=new RegExp(t("[^]",me,"[\\.]",'[\\"]',ve),"g"),xe=new RegExp(t("[^]",fe,ge),"g"),Te=xe;function we(e){var t=U(e);return t.match(ye)?t:e}var Se={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},a=n.query.split("&"),s=0,l=a.length;s<l;++s){var u=a[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),h=0,f=c.length;h<f;++h)r.push(c[h]);break;case"subject":n.subject=le(u[1],t);break;case"body":n.body=le(u[1],t);break;default:i=!0,o[le(u[0],t)]=le(u[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var d=0,p=r.length;d<p;++d){var m=r[d].split("@");if(m[0]=le(m[0]),t.unicodeSupport)m[1]=le(m[1],t).toLowerCase();else try{m[1]=F.toASCII(le(m[1],t).toLowerCase())}catch(v){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+v}r[d]=m.join("@")}return n},serialize:function(e,t){var n=e,r=o(e.to);if(r){for(var a=0,s=r.length;a<s;++a){var l=String(r[a]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(be,we).replace(be,i).replace(_e,z),h=l.slice(u+1);try{h=t.iri?F.toUnicode(h):F.toASCII(le(h,t).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}r[a]=c+"@"+h}n.path=r.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var d=[];for(var p in f)f[p]!==he[p]&&d.push(p.replace(be,we).replace(be,i).replace(xe,z)+"="+f[p].replace(be,we).replace(be,i).replace(Te,z));return d.length&&(n.query=d.join("&")),n}},Ee=/^([^\:]+)\:(.*)/,ke={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(Ee),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=i+":"+(t.nid||o),l=H[s];r.nid=o,r.nss=a,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=H[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(r||t.nid)+":"+s,a}},Ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ae={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,!t.tolerant&&(!n.uuid||!n.uuid.match(Ce))&&(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};H[ue.scheme]=ue,H[ce.scheme]=ce,H[Se.scheme]=Se,H[ke.scheme]=ke,H[Ae.scheme]=Ae,e.SCHEMES=H,e.pctEncChar=z,e.pctDecChars=U,e.parse=K,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=re,e.resolve=ie,e.normalize=oe,e.equal=ae,e.escapeComponent=se,e.unescapeComponent=le,Object.defineProperty(e,"__esModule",{value:!0})},r(t)},function(e,t,n){e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n}},function(e,t,n){var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),i(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function i(e,t,n,a,s,l,u,c,h,f){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var d in t(a,s,l,u,c,h,f),a){var p=a[d];if(Array.isArray(p)){if(d in r.arrayKeywords)for(var m=0;m<p.length;m++)i(e,t,n,p[m],s+"/"+d+"/"+m,l,s,d,a,m)}else if(d in r.propsKeywords){if(p&&"object"==typeof p)for(var v in p)i(e,t,n,p[v],s+"/"+d+"/"+o(v),l,s,d,a,v)}else(d in r.keywords||e.allKeys&&!(d in r.skipKeywords))&&i(e,t,n,p,s+"/"+d,l,s,d,a)}n(a,s,l,u,c,h,f)}}function o(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},function(e,t,n){var r=n(117),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,s=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,h=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,f=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,d=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function v(e){return e="full"==e?"full":"fast",r.copy(v[e])}function g(e){return e%4===0&&(e%100!==0||e%400===0)}function y(e){var t=e.match(i);if(!t)return!1;var n=+t[1],r=+t[2],a=+t[3];return r>=1&&r<=12&&a>=1&&a<=(2==r&&g(n)?29:o[r])}function b(e,t){var n=e.match(a);if(!n)return!1;var r=n[1],i=n[2],o=n[3],s=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!t||s)}e.exports=v,v.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:h,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:k,uuid:f,"json-pointer":d,"json-pointer-uri-fragment":p,"relative-json-pointer":m},v.full={date:y,time:b,"date-time":x,uri:S,"uri-reference":u,"uri-template":c,url:h,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:T,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:k,uuid:f,"json-pointer":d,"json-pointer-uri-fragment":p,"relative-json-pointer":m};var _=/t|\s/i;function x(e){var t=e.split(_);return 2==t.length&&y(t[0])&&b(t[1],!0)}function T(e){return e.length<=255&&s.test(e)}var w=/\/|:/;function S(e){return w.test(e)&&l.test(e)}var E=/[^\\]\\Z/;function k(e){if(E.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},function(e,t,n){var r=n(697),i=n(117).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],o=["number","integer","string","array","object","boolean","null"];return e.all=i(t),e.types=i(o),e.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:i}})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=i(t.concat(n)),e.custom={},e}},function(e,t,n){e.exports={$ref:n(698),allOf:n(699),anyOf:n(700),$comment:n(701),const:n(702),contains:n(703),dependencies:n(704),enum:n(705),format:n(706),if:n(707),items:n(708),maximum:n(401),minimum:n(401),maxItems:n(402),minItems:n(402),maxLength:n(403),minLength:n(403),maxProperties:n(404),minProperties:n(404),multipleOf:n(709),not:n(710),oneOf:n(711),pattern:n(712),properties:n(713),propertyNames:n(714),required:n(715),uniqueItems:n(716),validate:n(400)}},function(e,t,n){e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),f="valid"+a;if("#"==l||"#/"==l)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var d=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===d){var p=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(p),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&c?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,p);e.logger.warn(p),c&&(o+=" if (true) { ")}}else if(d.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=d.schema,v.schemaPath="",v.errSchemaPath=l,o+=" "+e.validate(v).replace(/validate\.schema/g,d.code)+" ",c&&(o+=" if ("+g+") { ")}else r=!0===d.$async||e.async&&!1!==d.$async,i=d.code}if(i){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+h+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(o+=" var "+f+"; "),o+=" try { await "+b+"; ",c&&(o+=" "+f+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(o+=" "+f+" = false; "),o+=" } ",c&&(o+=" if ("+f+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(o+=" else { ")}return o}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,h=l.baseId,f=!0,d=i;if(d)for(var p,m=-1,v=d.length-1;m<v;)p=d[m+=1],e.util.schemaHasRules(p,e.RULES.all)&&(f=!1,l.schema=p,l.schemaPath=o+"["+m+"]",l.errSchemaPath=a+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=h,s&&(r+=" if ("+c+") { ",u+="}"));return s&&(r+=f?" if (true) { ":" "+u.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level;if(a.every((function(t){return e.util.schemaHasRules(t,e.RULES.all)}))){var v=d.baseId;r+=" var "+f+" = errors; var "+h+" = false;  ";var g=e.compositeRule;e.compositeRule=d.compositeRule=!0;var y=a;if(y)for(var b,_=-1,x=y.length-1;_<x;)b=y[_+=1],d.schema=b,d.schemaPath=s+"["+_+"]",d.errSchemaPath=l+"/"+_,r+="  "+e.validate(d)+" ",d.baseId=v,r+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",p+="}";e.compositeRule=d.compositeRule=g,r+=" "+p+" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t;e.opts.allErrors;var a=e.util.toQuotedString(i);return!0===e.opts.$comment?r+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f=e.opts.$data&&a&&a.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),f||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+h+" = equal("+c+", schema"+i+"); if (!"+h+") {   ";var d=d||[];d.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;return r=d.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,v="i"+i,g=d.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId,_=e.util.schemaHasRules(a,e.RULES.all);if(r+="var "+f+" = errors;var "+h+";",_){var x=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+m+" = false; for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var T=c+"["+v+"]";d.dataPathArr[g]=v;var w=e.validate(d);d.baseId=b,e.util.varOccurences(w,y)<2?r+=" "+e.util.varReplace(w,y,T)+" ":r+=" var "+y+" = "+T+"; "+w+" ",r+=" if ("+m+") break; }  ",e.compositeRule=d.compositeRule=x,r+=" "+p+" if (!"+m+") {"}else r+=" if ("+c+".length == 0) {";var S=S||[];S.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var E=r;return r=S.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",_&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,m={},v={},g=e.opts.ownProperties;for(x in a){var y=a[x],b=Array.isArray(y)?v:m;b[x]=y}r+="var "+h+" = errors;";var _=e.errorPath;for(var x in r+="var missing"+i+";",v)if((b=v[x]).length){if(r+=" if ( "+c+e.util.getProperty(x)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),u){r+=" && ( ";var T=b;if(T)for(var w=-1,S=T.length-1;w<S;)P=T[w+=1],w&&(r+=" || "),r+=" ( ( "+(L=c+(R=e.util.getProperty(P)))+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:R)+") ) ";r+=")) {  ";var E="missing"+i,k="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,E,!0):_+" + "+E);var C=C||[];C.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var A=r;r=C.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var O=b;if(O)for(var P,M=-1,I=O.length-1;M<I;){P=O[M+=1];var R=e.util.getProperty(P),L=(k=e.util.escapeQuotes(P),c+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,P,e.opts.jsonPointers)),r+=" if ( "+L+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(d+="}",r+=" else { ")}e.errorPath=_;var D=f.baseId;for(var x in m)y=m[x],e.util.schemaHasRules(y,e.RULES.all)&&(r+=" "+p+" = true; if ( "+c+e.util.getProperty(x)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),r+=") { ",f.schema=y,f.schemaPath=s+e.util.getProperty(x),f.errSchemaPath=l+"/"+e.util.escapeFragment(x),r+="  "+e.validate(f)+" ",f.baseId=D,r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}"));return u&&(r+="   "+d+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f=e.opts.$data&&a&&a.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var d="i"+i,p="schema"+i;f||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+h+";",f&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=h+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+c+", "+p+"["+d+"])) { "+h+" = true; break; }",f&&(r+="  }  "),r+=" if (!"+h+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var v=r;return r=m.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||"");if(!1===e.opts.format)return u&&(r+=" if (true) { "),r;var h,f=e.opts.$data&&a&&a.$data;f?(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",h="schema"+i):h=a;var d=e.opts.unknownFormats,p=Array.isArray(d);if(f)r+=" var "+(m="format"+i)+" = formats["+h+"]; var "+(v="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+i)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",f&&(r+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),r+=" (","ignore"!=d&&(r+=" ("+h+" && !"+m+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),r+=") || "),r+=" ("+m+" && "+g+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":r+=" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {";else{var m;if(!(m=e.formats[a])){if("ignore"==d)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(p&&d.indexOf(a)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(g!=n)return u&&(r+=" if (true) { "),r;if(y){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+e.util.getProperty(a)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(a);v&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var _=_||[];_.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=f?""+h:""+e.util.toQuotedString(a),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=f?"' + "+h+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+s:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var x=r;return r=_.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level,m=e.schema.then,v=e.schema.else,g=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),y=void 0!==v&&e.util.schemaHasRules(v,e.RULES.all),b=d.baseId;if(g||y){var _;d.createErrors=!1,d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+f+" = errors; var "+h+" = true;  ";var x=e.compositeRule;e.compositeRule=d.compositeRule=!0,r+="  "+e.validate(d)+" ",d.baseId=b,d.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=x,g?(r+=" if ("+p+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(d)+" ",d.baseId=b,r+=" "+h+" = "+p+"; ",g&&y?r+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+p+") { ",y&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(d)+" ",d.baseId=b,r+=" "+h+" = "+p+"; ",g&&y?r+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",r+=" } "),r+=" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,v="i"+i,g=d.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId;if(r+="var "+f+" = errors;var "+h+";",Array.isArray(a)){var _=e.schema.additionalItems;if(!1===_){r+=" "+h+" = "+c+".length <= "+a.length+"; ";var x=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+h+") {   ";var T=T||[];T.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var w=r;r=T.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=x,u&&(p+="}",r+=" else { ")}var S=a;if(S)for(var E,k=-1,C=S.length-1;k<C;)if(E=S[k+=1],e.util.schemaHasRules(E,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+k+") { ";var A=c+"["+k+"]";d.schema=E,d.schemaPath=s+"["+k+"]",d.errSchemaPath=l+"/"+k,d.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),d.dataPathArr[g]=k;var O=e.validate(d);d.baseId=b,e.util.varOccurences(O,y)<2?r+=" "+e.util.varReplace(O,y,A)+" ":r+=" var "+y+" = "+A+"; "+O+" ",r+=" }  ",u&&(r+=" if ("+m+") { ",p+="}")}"object"==typeof _&&e.util.schemaHasRules(_,e.RULES.all)&&(d.schema=_,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+a.length+") {  for (var "+v+" = "+a.length+"; "+v+" < "+c+".length; "+v+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),A=c+"["+v+"]",d.dataPathArr[g]=v,O=e.validate(d),d.baseId=b,e.util.varOccurences(O,y)<2?r+=" "+e.util.varReplace(O,y,A)+" ":r+=" var "+y+" = "+A+"; "+O+" ",u&&(r+=" if (!"+m+") break; "),r+=" } }  ",u&&(r+=" if ("+m+") { ",p+="}"))}else e.util.schemaHasRules(a,e.RULES.all)&&(d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+="  for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),A=c+"["+v+"]",d.dataPathArr[g]=v,O=e.validate(d),d.baseId=b,e.util.varOccurences(O,y)<2?r+=" "+e.util.varReplace(O,y,A)+" ":r+=" var "+y+" = "+A+"; "+O+" ",u&&(r+=" if (!"+m+") break; "),r+=" }");return u&&(r+=" "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="var division"+o+";if (",f&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+h+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",f&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=f?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=e.util.copy(e);f.level++;var d="valid"+f.level;if(e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=l,r+=" var "+h+" = errors;  ";var p,m=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(p=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+e.validate(f)+" ",f.createErrors=!0,p&&(f.opts.allErrors=p),e.compositeRule=f.compositeRule=m,r+=" if ("+d+") {   ";var v=v||[];v.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var g=r;r=v.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,v=d.baseId,g="prevValid"+i,y="passingSchemas"+i;r+="var "+f+" = errors , "+g+" = false , "+h+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=d.compositeRule=!0;var _=a;if(_)for(var x,T=-1,w=_.length-1;T<w;)x=_[T+=1],e.util.schemaHasRules(x,e.RULES.all)?(d.schema=x,d.schemaPath=s+"["+T+"]",d.errSchemaPath=l+"/"+T,r+="  "+e.validate(d)+" ",d.baseId=v):r+=" var "+m+" = true; ",T&&(r+=" if ("+m+" && "+g+") { "+h+" = false; "+y+" = ["+y+", "+T+"]; } else { ",p+="}"),r+=" if ("+m+") { "+h+" = "+g+" = true; "+y+" = "+T+"; }";return e.compositeRule=d.compositeRule=b,r+=p+"if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(f?"(new RegExp("+r+"))":e.usePattern(s))+".test("+h+") ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=f?""+r:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,m="key"+i,v="idx"+i,g=f.dataLevel=e.dataLevel+1,y="data"+g,b="dataProperties"+i,_=Object.keys(a||{}),x=e.schema.patternProperties||{},T=Object.keys(x),w=e.schema.additionalProperties,S=_.length||T.length,E=!1===w,k="object"==typeof w&&Object.keys(w).length,C=e.opts.removeAdditional,A=E||k||C,O=e.opts.ownProperties,P=e.baseId,M=e.schema.required;if(M&&(!e.opts.$data||!M.$data)&&M.length<e.opts.loopRequired)var I=e.util.toHash(M);if(r+="var "+h+" = errors;var "+p+" = true;",O&&(r+=" var "+b+" = undefined;"),A){if(r+=O?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+c+") { ",S){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var R=_;if(R)for(var L=-1,D=R.length-1;L<D;)q=R[L+=1],r+=" || "+m+" == "+e.util.toQuotedString(q)+" "}if(T.length){var N=T;if(N)for(var j=-1,B=N.length-1;j<B;)ie=N[j+=1],r+=" || "+e.usePattern(ie)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==C)r+=" delete "+c+"["+m+"]; ";else{var F=e.errorPath,H="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),E)if(C)r+=" delete "+c+"["+m+"]; ";else{r+=" "+p+" = false; ";var z=l;l=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+H+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var U=r;r=te.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+U+"]); ":r+=" validate.errors = ["+U+"]; return false; ":r+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,u&&(r+=" break; ")}else if(k)if("failing"==C){r+=" var "+h+" = errors;  ";var V=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=w,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var G=c+"["+m+"]";f.dataPathArr[g]=m;var X=e.validate(f);f.baseId=P,e.util.varOccurences(X,y)<2?r+=" "+e.util.varReplace(X,y,G)+" ":r+=" var "+y+" = "+G+"; "+X+" ",r+=" if (!"+p+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=f.compositeRule=V}else f.schema=w,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),G=c+"["+m+"]",f.dataPathArr[g]=m,X=e.validate(f),f.baseId=P,e.util.varOccurences(X,y)<2?r+=" "+e.util.varReplace(X,y,G)+" ":r+=" var "+y+" = "+G+"; "+X+" ",u&&(r+=" if (!"+p+") break; ");e.errorPath=F}S&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}")}var Y=e.opts.useDefaults&&!e.compositeRule;if(_.length){var W=_;if(W)for(var q,K=-1,$=W.length-1;K<$;){var Z=a[q=W[K+=1]];if(e.util.schemaHasRules(Z,e.RULES.all)){var Q=e.util.getProperty(q),J=(G=c+Q,Y&&void 0!==Z.default);if(f.schema=Z,f.schemaPath=s+Q,f.errSchemaPath=l+"/"+e.util.escapeFragment(q),f.errorPath=e.util.getPath(e.errorPath,q,e.opts.jsonPointers),f.dataPathArr[g]=e.util.toQuotedString(q),X=e.validate(f),f.baseId=P,e.util.varOccurences(X,y)<2){X=e.util.varReplace(X,y,G);var ee=G}else ee=y,r+=" var "+y+" = "+G+"; ";if(J)r+=" "+X+" ";else{if(I&&I[q]){r+=" if ( "+ee+" === undefined ",O&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(q)+"') "),r+=") { "+p+" = false; ",F=e.errorPath,z=l;var te,ne=e.util.escapeQuotes(q);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(F,q,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ne+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",U=r,r=te.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+U+"]); ":r+=" validate.errors = ["+U+"]; return false; ":r+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,e.errorPath=F,r+=" } else { "}else u?(r+=" if ( "+ee+" === undefined ",O&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(q)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+ee+" !== undefined ",O&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(q)+"') "),r+=" ) { ");r+=" "+X+" } "}}u&&(r+=" if ("+p+") { ",d+="}")}}if(T.length){var re=T;if(re)for(var ie,oe=-1,ae=re.length-1;oe<ae;)Z=x[ie=re[oe+=1]],e.util.schemaHasRules(Z,e.RULES.all)&&(f.schema=Z,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),r+=O?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+e.usePattern(ie)+".test("+m+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),G=c+"["+m+"]",f.dataPathArr[g]=m,X=e.validate(f),f.baseId=P,e.util.varOccurences(X,y)<2?r+=" "+e.util.varReplace(X,y,G)+" ":r+=" var "+y+" = "+G+"; "+X+" ",u&&(r+=" if (!"+p+") break; "),r+=" } ",u&&(r+=" else "+p+" = true; "),r+=" }  ",u&&(r+=" if ("+p+") { ",d+="}"))}return u&&(r+=" "+d+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="errs__"+i,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level;if(r+="var "+h+" = errors;",e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=l;var m="key"+i,v="idx"+i,g="i"+i,y="' + "+m+" + '",b="data"+(f.dataLevel=e.dataLevel+1),_="dataProperties"+i,x=e.opts.ownProperties,T=e.baseId;x&&(r+=" var "+_+" = undefined; "),r+=x?" "+_+" = "+_+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+_+".length; "+v+"++) { var "+m+" = "+_+"["+v+"]; ":" for (var "+m+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var w=m,S=e.compositeRule;e.compositeRule=f.compositeRule=!0;var E=e.validate(f);f.baseId=T,e.util.varOccurences(E,b)<2?r+=" "+e.util.varReplace(E,b,w)+" ":r+=" var "+b+" = "+w+"; "+E+" ",e.compositeRule=f.compositeRule=S,r+=" if (!"+p+") { for (var "+g+"=startErrs"+i+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+m+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+y+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+y+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+=" "+d+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),h="valid"+i,f=e.opts.$data&&a&&a.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var d="schema"+i;if(!f)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=a;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var b=e.schema.properties[v];b&&e.util.schemaHasRules(b,e.RULES.all)||(p[p.length]=v)}}else p=a;if(f||p.length){var _=e.errorPath,x=f||p.length>=e.opts.loopRequired,T=e.opts.ownProperties;if(u)if(r+=" var missing"+i+"; ",x){f||(r+=" var "+d+" = validate.schema"+s+"; ");var w="' + "+(O="schema"+i+"["+(C="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,O,e.opts.jsonPointers)),r+=" var "+h+" = true; ",f&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=" for (var "+C+" = 0; "+C+" < "+d+".length; "+C+"++) { "+h+" = "+c+"["+d+"["+C+"]] !== undefined ",T&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+d+"["+C+"]) "),r+="; if (!"+h+") break; } ",f&&(r+="  }  "),r+="  if (!"+h+") {   ",(E=E||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var S=r;r=E.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var E,k=p;if(k)for(var C=-1,A=k.length-1;C<A;)M=k[C+=1],C&&(r+=" || "),r+=" ( ( "+(D=c+(L=e.util.getProperty(M)))+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?M:L)+") ) ";r+=") {  ",w="' + "+(O="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,O,!0):_+" + "+O),(E=E||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",S=r,r=E.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(x){var O;f||(r+=" var "+d+" = validate.schema"+s+"; "),w="' + "+(O="schema"+i+"["+(C="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,O,e.opts.jsonPointers)),f&&(r+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),r+=" for (var "+C+" = 0; "+C+" < "+d+".length; "+C+"++) { if ("+c+"["+d+"["+C+"]] === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+d+"["+C+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var P=p;if(P)for(var M,I=-1,R=P.length-1;I<R;){M=P[I+=1];var L=e.util.getProperty(M),D=(w=e.util.escapeQuotes(M),c+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,M,e.opts.jsonPointers)),r+=" if ( "+D+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+w+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else u&&(r+=" if (true) {");return r}},function(e,t,n){e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(a||""),f="valid"+o,d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,(s||d)&&!1!==e.opts.uniqueItems){d&&(i+=" var "+f+"; if ("+r+" === false || "+r+" === undefined) "+f+" = true; else if (typeof "+r+" != 'boolean') "+f+" = false; else { "),i+=" var i = "+h+".length , "+f+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+f+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var v="checkDataType"+(m?"s":"");i+=" if ("+e.util[v](p,"item",!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",d&&(i+="  }  "),i+=" if (!"+f+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,t,n){var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,o=t[n].split("/"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<r.length;i++){var s=r[i],l=a[s];l&&(a[s]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){var r=n(270).MissingRef;function i(e,t,n){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(n=t,t=void 0);var a=s(e).then((function(){var n=o._addSchema(e,void 0,t);return n.validate||l(n)}));return n&&a.then((function(e){n(null,e)}),n),a;function s(e){var t=e.$schema;return t&&!o.getSchema(t)?i.call(o,{$ref:t},!0):Promise.resolve()}function l(e){try{return o._compile(e)}catch(i){if(i instanceof r)return n(i);throw i}function n(n){var r=n.missingSchema;if(u(r))throw new Error("Schema "+r+" is loaded but "+n.missingRef+" cannot be resolved");var i=o._loadingSchemas[r];return i||(i=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(a,a),i.then((function(e){if(!u(r))return s(e).then((function(){u(r)||o.addSchema(e,r,void 0,t)}))})).then((function(){return l(e)}));function a(){delete o._loadingSchemas[r]}function u(e){return o._refs[e]||o._schemas[e]}}}}e.exports=i},function(e,t,n){var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(720),o=n(405);e.exports={add:s,get:l,remove:u,validate:c};var a={definitions:{simpleTypes:o.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:o.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}};function s(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)l(e,o[a],t);else l(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function l(e,t,r){for(var o,a=0;a<n.length;a++){var s=n[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},n.push(o));var l={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(l),n.custom[e]=l}return n.keywords[e]=n.all[e]=!0,this}function l(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function u(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this}function c(e,t){c.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(a,!0);if(n(e))return!0;if(c.errors=n.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}},function(e,t,n){e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),d="valid"+a,p="errs__"+a,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+a+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=l;var v,g,y,b,_,x=this,T="definition"+a,w=x.definition,S="";if(m&&w.$data){_="keywordValidate"+a;var E=w.validateSchema;o+=" var "+T+" = RULES.custom['"+t+"'].definition; var "+_+" = "+T+".validate;"}else{if(!(b=e.useCustomRule(x,l,e.schema,e)))return;i="validate.schema"+u,_=b.code,v=w.compile,g=w.inline,y=w.macro}var k=_+".errors",C="i"+a,A="ruleErr"+a,O=w.async;if(O&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(o+=k+" = null;"),o+="var "+p+" = errors;var "+d+";",m&&w.$data&&(S+="}",o+=" if ("+i+" === undefined) { "+d+" = true; } else { ",E&&(S+="}",o+=" "+d+" = "+T+".validateSchema("+i+"); if ("+d+") { ")),g)w.statements?o+=" "+b.validate+" ":o+=" "+d+" = "+b.validate+"; ";else if(y){var P=e.util.copy(e);S="",P.level++;var M="valid"+P.level;P.schema=b.validate,P.schemaPath="";var I=e.compositeRule;e.compositeRule=P.compositeRule=!0;var R=e.validate(P).replace(/validate\.schema/g,_);e.compositeRule=P.compositeRule=I,o+=" "+R}else{(j=j||[]).push(o),o="",o+="  "+_+".call( ",e.opts.passContext?o+="this":o+="self",v||!1===w.schema?o+=" , "+f+" ":o+=" , "+i+" , "+f+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var L=s?"data"+(s-1||""):"parentData",D=s?e.dataPathArr[s]:"parentDataProperty",N=o+=" , "+L+" , "+D+" , rootData )  ";o=j.pop(),!1===w.errors?(o+=" "+d+" = ",O&&(o+="await "),o+=N+"; "):o+=O?" var "+(k="customErrors"+a)+" = null; try { "+d+" = await "+N+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } ":" "+k+" = null; "+d+" = "+N+"; "}if(w.modifying&&(o+=" if ("+L+") "+f+" = "+L+"["+D+"];"),o+=""+S,w.valid)h&&(o+=" if (true) { ");else{var j;o+=" if ( ",void 0===w.valid?(o+=" !",o+=y?""+M:""+d):o+=" "+!w.valid+" ",o+=") { ",r=x.keyword,(j=j||[]).push(o),o="",(j=j||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+x.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var B=o;o=j.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+B+"]); ":o+=" validate.errors = ["+B+"]; return false; ":o+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var F=o;o=j.pop(),g?w.errors?"full"!=w.errors&&(o+="  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+f+"; "),o+=" } "):!1===w.errors?o+=" "+F+" ":(o+=" if ("+p+" == errors) { "+F+" } else {  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+f+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+x.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===w.errors?o+=" "+F+" ":(o+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+C+"="+p+"; "+C+"<errors; "+C+"++) { var "+A+" = vErrors["+C+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+";  "+A+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+f+"; "),o+=" } } else { "+F+" } "),o+=" } ",h&&(o+=" else { ")}return o}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(e,t,n){e.exports={"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN","view-config-log":"ViewConfigEditor-module_view-config-log-1mYmL","view-config-log-header":"ViewConfigEditor-module_view-config-log-header-3EbEM","view-config-log-msg":"ViewConfigEditor-module_view-config-log-msg-2-CJZ",title:"ViewConfigEditor-module_title-3nLH_",Warning:"ViewConfigEditor-module_Warning-_sgiB",Success:"ViewConfigEditor-module_Success-nclFo",Error:"ViewConfigEditor-module_Error-3enaC"}},function(e,t,n){function r(e,t,n,r){var i=e.append("symbol").attr("id",t).attr("viewBox",r);n.forEach((function(e){return i.append("path").attr("d",e).attr("fill","currentColor")}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(94)),i=g(n(37)),o=g(n(35)),a=g(n(62)),s=g(n(18)),l=g(n(17)),u=g(n(725)),c=g(n(42)),h=g(n(134)),f=g(n(397)),d=g(n(271)),p=n(24),m=n(10),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){e.setState(e.state)},b=function(){function e(e,t){var n=e,g=[],b=(0,h.default)(),_=function(){function e(){g.forEach((function(e){return t.unsubscribe(e)})),g=[]}return e}();return{destroy:_,publish:b.publish,stack:b.stack,public:(0,u.default)({setBroadcastMousePositionGlobally:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setBroadcastMousePositionGlobally(e)}return e}(),setShowGlobalMousePosition:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setShowGlobalMousePosition(e)}return e}(),setGlobalMousePosition:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setBroadcastMousePositionGlobally(e),n.setShowGlobalMousePosition(e)}return e}(),setAuthHeader:function(){function e(e){(0,p.setTileProxyAuthHeader)(e),n.reload()}return e}(),getAuthHeader:function(){function e(){return(0,p.setTileProxyAuthHeader)()}return e}(),getComponent:function(){function e(){return n}return e}(),reload:function(){function e(e){var t=void 0;t=e?e.flatMap((function(e){return"string"==typeof e?n.iterateOverTracksInView(e):e})):n.iterateOverTracks();var r=!0,i=!1,o=void 0;try{for(var a,u=(0,l.default)(t);!(r=(a=u.next()).done);r=!0){var c=a.value,h=c.viewId,f=c.trackId,d=n.getTrackObject(h,f),p=!0,m=!1,v=void 0;try{for(var g,y=(0,l.default)(d.childTracks||[d]);!(p=(g=y.next()).done);p=!0){var b=g.value;b.fetchedTiles&&(b.removeTiles((0,s.default)(b.fetchedTiles)),b.fetching.clear(),b.refreshTiles()),b.rerender(b.options,!0)}}catch(_){m=!0,v=_}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}}catch(_){i=!0,o=_}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}}return e}(),destroy:function(){function e(){_(),c.default.unmountComponentAtNode(n.topDiv.parentNode)}return e}(),setRangeSelectionToInt:function(){function e(){n.setState({rangeSelectionToInt:!0})}return e}(),setRangeSelectionToFloat:function(){function e(){n.setState({rangeSelectionToInt:!1})}return e}(),setRangeSelection1dSize:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;n.setState({rangeSelection1dSize:[e,t]})}return e}(),setViewConfig:function(){function e(e){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=n.processViewConfig(e);return new a.default((function(a){r.requestsInFlight=0,g.push(t.subscribe("requestSent",(function(){r.requestsInFlight+=1}))),g.push(t.subscribe("requestReceived",(function(){r.requestsInFlight-=1,0===r.requestsInFlight&&a()}))),n.setState({viewConfig:e,views:o},(function(){i&&a()}))}))}return e}(),getViewConfig:function(){function e(){return n.getViewsAsJson()}return e}(),validateViewConfig:function(){function e(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).verbose,n=void 0!==t&&t,r=(new f.default).compile(d.default),i=r(e);return n&&r.errors&&console.warn((0,o.default)(r.errors,null,2)),i}return e}(),getMinMaxValue:function(){function e(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n.getMinMaxValue(e,t,r,i)}return e}(),shareViewConfigAsLink:function(){function e(e){return n.handleExportViewsAsLink(e,!0)}return e}(),showAvailableTrackPositions:function(){function e(e){n.setState({draggingHappening:e})}return e}(),hideAvailableTrackPositions:function(){function e(){n.setState({draggingHappening:null})}return e}(),showTrackChooser:function(){function e(e){n.setState({chooseTrackHandler:function(){function t(){n.setState({chooseTrackHandler:null}),e.apply(void 0,arguments)}return t}()})}return e}(),hideTrackChooser:function(){function e(){this.setState({chooseTrackHandler:null})}return e}(),setTrackValueScaleLimits:function(){function e(e,t,r,i){n.setTrackValueScaleLimits(e,t,r,i)}return e}(),setDarkTheme:function(){function e(e){console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');var t=e?"dark":"light";n.setTheme(t)}return e}(),setTheme:function(){function e(e){console.warn("Please note that theming is still in beta!"),n.setTheme(e)}return e}(),zoomTo:function(){function e(e,t,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n.zoomTo(e,t,r,i,o,a)}return e}(),zoomToGene:function(){function e(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n.zoomToGene(e,t,r,i)}return e}(),suggestGene:function(){function e(e,t,r){return n.suggestGene(e,t,r)}return e}(),zoomToDataExtent:function(){function e(e){n.handleZoomToData(e)}return e}(),resetViewport:function(){function e(e){n.resetViewport(e)}return e}(),activateTool:function(){function e(e){"select"===e?n.setMouseTool(v.MOUSE_TOOL_SELECT):n.setMouseTool(v.MOUSE_TOOL_MOVE)}return e}(),exportAsPngBlobPromise:function(){function e(){return n.createPNGBlobPromise()}return e}(),exportAsSvg:function(){function e(){return n.createSVGString()}return e}(),exportAsViewConfString:function(){function e(){return n.getViewsAsString()}return e}(),getRangeSelection:function(){function e(){return n.rangeSelection}return e}(),getLocation:function(){function e(e){var t=e?n.xScales[e]&&n.yScales[e]&&e:(0,i.default)(n.tiledPlots)[0]&&(0,i.default)(n.tiledPlots)[0].props.uid;return t?{xDomain:n.xScales[t].domain(),yDomain:n.yScales[t].domain(),xRange:n.xScales[t].range(),yRange:n.yScales[t].range()}:"Please provide a valid view UUID sweetheart \ud83d\ude19"}return e}(),getTrackObject:function(){function e(e,t){var r=e,o=t;return t||(r=(0,i.default)(n.state.views)[0].uid,o=e),(0,m.getTrackObjectFromHGC)(n,r,o)}return e}(),option:function(){function e(e,t){if("undefined"==typeof t)return n.props.options[e];"sizeMode"===e?(n.props.options[e]=t,y(n)):console.warn('This option "'+String(e)+'" is either unknown or not settable.')}return e}(),off:function(){function e(e,t,i){var o="object"===("undefined"==typeof t?"undefined":(0,r.default)(t))?t.callback:t;switch(e){case"click":b.unsubscribe("click",o);break;case"cursorLocation":b.unsubscribe("cursorLocation",o);break;case"location":n.offLocationChange(i,t);break;case"mouseMoveZoom":b.unsubscribe("mouseMoveZoom",o);break;case"wheel":b.unsubscribe("wheel",o);break;case"rangeSelection":b.unsubscribe("rangeSelection",o);break;case"viewConfig":n.offViewChange(t);break;case"createSVG":n.offPostCreateSVG();break;case"geneSearch":b.unsubscribe("geneSearch",o)}}return e}(),on:function(){function e(e,t,r,i){switch(e){case"click":return b.subscribe("click",t);case"cursorLocation":return b.subscribe("cursorLocation",t);case"location":return n.onLocationChange(r,t,i);case"mouseMoveZoom":return b.subscribe("mouseMoveZoom",t);case"wheel":return b.subscribe("wheel",t);case"rangeSelection":return b.subscribe("rangeSelection",t);case"viewConfig":return n.onViewChange(t);case"createSVG":return n.onPostCreateSVG(t);case"geneSearch":return b.subscribe("geneSearch",t);default:return}}return e}()},{version:{get:function(){function e(){return"1.11.11"}return e}(),configurable:!0,enumerable:!0}})}}return e}();t.default=b},function(e,t,n){e.exports={default:n(726),__esModule:!0}},function(e,t,n){n(727);var r=n(12).Object;e.exports=function(e,t){return r.defineProperties(e,t)}},function(e,t,n){var r=n(16);r(r.S+r.F*!n(36),"Object",{defineProperties:n(162)})},function(e,t,n){e.exports={higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"}},function(e,t,n){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(2)),u=n(9),c=d(n(1)),h=d(n(13)),f=n(820);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),o=(0,u.rgb)(e.color);return n.state={displayColorPicker:!1,color:{r:o.r,g:o.g,b:o.b,a:o.opacity}},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"handleClick",value:function(){function e(){this.setState((function(e){return{displayColorPicker:!e.displayColorPicker}}))}return e}()},{key:"handleClose",value:function(){function e(){this.setState({displayColorPicker:!1})}return e}()},{key:"handleChange",value:function(){function e(e){var t=e.rgb,n="rgba("+String(t.r)+","+String(t.g)+","+String(t.b)+","+String(t.a)+")";this.props.onChange(n),this.setState({color:e.rgb})}return e}()},{key:"render",value:function(){function e(){var e=(0,h.default)({default:{color:{width:"32px",height:"14px",borderRadius:"2px",background:"rgba("+String(this.state.color.r)+", "+String(this.state.color.g)+", "+String(this.state.color.b)+", "+String(this.state.color.a)+")"},swatch:{padding:"5px",background:"#fff",cursor:"pointer",borderRadius:"1px"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return c.default.createElement("div",null,c.default.createElement("div",{onClick:this.handleClick.bind(this),style:e.swatch},c.default.createElement("div",{style:e.color})),this.state.displayColorPicker?c.default.createElement("div",{style:e.popover},c.default.createElement("div",{onClick:this.handleClose.bind(this),style:e.cover}),c.default.createElement(f.SketchPicker,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}return e}()}]),t}(c.default.Component);p.propTypes={color:l.default.string,onChange:l.default.func},t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(732)),i=s(n(272)),o=s(n(412)),a=s(n(70));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},function(e,t,n){var r=n(97),i=n(31),o=n(56),a="[object String]";function s(e){return"string"==typeof e||!i(e)&&o(e)&&r(e)==a}e.exports=s},function(e,t,n){var r=n(118),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;function l(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}e.exports=l},function(e,t){var n=Object.prototype.toString;function r(e){return n.call(e)}e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){var r=n(97),i=n(56),o="[object Arguments]";function a(e){return i(e)&&r(e)==o}e.exports=a},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){var r=n(97),i=n(274),o=n(56),a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",m="[object RegExp]",v="[object Set]",g="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",x="[object Float64Array]",T="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",O={};function P(e){return o(e)&&i(e.length)&&!!O[r(e)]}O["[object Float32Array]"]=O[x]=O[T]=O[w]=O[S]=O[E]=O[k]=O[C]=O[A]=!0,O[a]=O[s]=O[b]=O[l]=O[_]=O[u]=O[c]=O[h]=O[f]=O[d]=O[p]=O[m]=O[v]=O[g]=O[y]=!1,e.exports=P},function(e,t,n){var r=n(186),i=n(741),o=Object.prototype.hasOwnProperty;function a(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}e.exports=a},function(e,t,n){var r=n(410)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(743),i=n(782),o=n(424);function a(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}e.exports=a},function(e,t,n){var r=n(187),i=n(415),o=1,a=2;function s(e,t,n,s){var l=n.length,u=l,c=!s;if(null==e)return!u;for(e=Object(e);l--;){var h=n[l];if(c&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++l<u;){var f=(h=n[l])[0],d=e[f],p=h[1];if(c&&h[2]){if(void 0===d&&!(f in e))return!1}else{var m=new r;if(s)var v=s(d,p,f,e,t,m);if(!(void 0===v?i(p,d,o|a,s,m):v))return!1}}return!0}e.exports=s},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){var r=n(189),i=Array.prototype.splice;function o(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}e.exports=o},function(e,t,n){var r=n(189);function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=i},function(e,t,n){var r=n(189);function i(e){return r(this.__data__,e)>-1}e.exports=i},function(e,t,n){var r=n(189);function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}e.exports=i},function(e,t,n){var r=n(188);function i(){this.__data__=new r,this.size=0}e.exports=i},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){var r=n(188),i=n(279),o=n(280),a=200;function s(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}e.exports=s},function(e,t,n){var r=n(277),i=n(755),o=n(45),a=n(414),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,f=c.hasOwnProperty,d=RegExp("^"+h.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(e){return!(!o(e)||i(e))&&(r(e)?d:l).test(a(e))}e.exports=p},function(e,t,n){var r=n(756),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o(e){return!!i&&i in e}e.exports=o},function(e,t,n){var r=n(41)["__core-js_shared__"];e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){var r=n(759),i=n(188),o=n(279);function a(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}e.exports=a},function(e,t,n){var r=n(760),i=n(761),o=n(762),a=n(763),s=n(764);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(190);function i(){this.__data__=r?r(null):{},this.size=0}e.exports=i},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){var r=n(190),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;function a(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}e.exports=a},function(e,t,n){var r=n(190),i=Object.prototype.hasOwnProperty;function o(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}e.exports=o},function(e,t,n){var r=n(190),i="__lodash_hash_undefined__";function o(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}e.exports=o},function(e,t,n){var r=n(191);function i(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}e.exports=i},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){var r=n(191);function i(e){return r(this,e).get(e)}e.exports=i},function(e,t,n){var r=n(191);function i(e){return r(this,e).has(e)}e.exports=i},function(e,t,n){var r=n(191);function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}e.exports=i},function(e,t,n){var r=n(187),i=n(416),o=n(775),a=n(778),s=n(192),l=n(31),u=n(185),c=n(273),h=1,f="[object Arguments]",d="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;function v(e,t,n,v,g,y){var b=l(e),_=l(t),x=b?d:s(e),T=_?d:s(t),w=(x=x==f?p:x)==p,S=(T=T==f?p:T)==p,E=x==T;if(E&&u(e)){if(!u(t))return!1;b=!0,w=!1}if(E&&!w)return y||(y=new r),b||c(e)?i(e,t,n,v,g,y):o(e,t,x,n,v,g,y);if(!(n&h)){var k=w&&m.call(e,"__wrapped__"),C=S&&m.call(t,"__wrapped__");if(k||C){var A=k?e.value():e,O=C?t.value():t;return y||(y=new r),g(A,O,n,v,y)}}return!!E&&(y||(y=new r),a(e,t,n,v,g,y))}e.exports=v},function(e,t,n){var r=n(280),i=n(772),o=n(773);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){var n="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,n),this}e.exports=r},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){var r=n(118),i=n(418),o=n(120),a=n(416),s=n(776),l=n(777),u=1,c=2,h="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",T=r?r.prototype:void 0,w=T?T.valueOf:void 0;function S(e,t,n,r,T,S,E){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!S(new i(e),new i(t)));case h:case f:case m:return o(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case p:var k=s;case g:var C=r&u;if(k||(k=l),e.size!=t.size&&!C)return!1;var A=E.get(e);if(A)return A==t;r|=c,E.set(e,t);var O=a(k(e),k(t),r,T,S,E);return E.delete(e),O;case b:if(w)return w.call(e)==w.call(t)}return!1}e.exports=S},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}e.exports=n},function(e,t,n){var r=n(419),i=1,o=Object.prototype.hasOwnProperty;function a(e,t,n,a,s,l){var u=n&i,c=r(e),h=c.length;if(h!=r(t).length&&!u)return!1;for(var f=h;f--;){var d=c[f];if(!(u?d in t:o.call(t,d)))return!1}var p=l.get(e);if(p&&l.get(t))return p==t;var m=!0;l.set(e,t),l.set(t,e);for(var v=u;++f<h;){var g=e[d=c[f]],y=t[d];if(a)var b=u?a(y,g,d,t,e,l):a(g,y,d,e,t,l);if(!(void 0===b?g===y||s(g,y,n,a,l):b)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(m=!1)}return l.delete(e),l.delete(t),m}e.exports=a},function(e,t,n){var r=n(99)(n(41),"DataView");e.exports=r},function(e,t,n){var r=n(99)(n(41),"Promise");e.exports=r},function(e,t,n){var r=n(99)(n(41),"Set");e.exports=r},function(e,t,n){var r=n(423),i=n(119);function o(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}e.exports=o},function(e,t,n){var r=n(415),i=n(784),o=n(425),a=n(285),s=n(423),l=n(424),u=n(145),c=1,h=2;function f(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,c|h)}}e.exports=f},function(e,t,n){var r=n(284);function i(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}e.exports=i},function(e,t,n){var r=n(786),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(787),i=500;function o(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}e.exports=o},function(e,t,n){var r=n(280),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(789);function i(e){return null==e?"":r(e)}e.exports=i},function(e,t,n){var r=n(118),i=n(413),o=n(31),a=n(194),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;function c(e){if("string"==typeof e)return e;if(o(e))return i(e,c)+"";if(a(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=c},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){var r=n(193),i=n(184),o=n(31),a=n(142),s=n(274),l=n(145);function u(e,t,n){for(var u=-1,c=(t=r(t,e)).length,h=!1;++u<c;){var f=l(t[u]);if(!(h=null!=e&&n(e,f)))break;e=e[f]}return h||++u!=c?h:!!(c=null==e?0:e.length)&&s(c)&&a(f,c)&&(o(e)||i(e))}e.exports=u},function(e,t,n){var r=n(793),i=n(794),o=n(285),a=n(145);function s(e){return o(e)?r(a(e)):i(e)}e.exports=s},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){var r=n(284);function i(e){return function(t){return r(t,e)}}e.exports=i},function(e,t,n){var r=n(146),i=n(98);function o(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}e.exports=o},function(e,t,n){var r=n(98);function i(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}e.exports=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(272)),i=a(n(798)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],i[t])})),t})),n};t.default=s},function(e,t,n){var r=n(799),i=1,o=4;function a(e){return r(e,i|o)}e.exports=a},function(e,t,n){var r=n(187),i=n(286),o=n(195),a=n(800),s=n(801),l=n(427),u=n(196),c=n(804),h=n(805),f=n(419),d=n(806),p=n(192),m=n(807),v=n(808),g=n(430),y=n(31),b=n(185),_=n(812),x=n(45),T=n(814),w=n(119),S=1,E=2,k=4,C="[object Arguments]",A="[object Array]",O="[object Boolean]",P="[object Date]",M="[object Error]",I="[object Function]",R="[object GeneratorFunction]",L="[object Map]",D="[object Number]",N="[object Object]",j="[object RegExp]",B="[object Set]",F="[object String]",H="[object Symbol]",z="[object WeakMap]",U="[object ArrayBuffer]",V="[object DataView]",G="[object Float32Array]",X="[object Float64Array]",Y="[object Int8Array]",W="[object Int16Array]",q="[object Int32Array]",K="[object Uint8Array]",$="[object Uint8ClampedArray]",Z="[object Uint16Array]",Q="[object Uint32Array]",J={};function ee(e,t,n,A,O,P){var M,L=t&S,D=t&E,j=t&k;if(n&&(M=O?n(e,A,O,P):n(e)),void 0!==M)return M;if(!x(e))return e;var B=y(e);if(B){if(M=m(e),!L)return u(e,M)}else{var F=p(e),H=F==I||F==R;if(b(e))return l(e,L);if(F==N||F==C||H&&!O){if(M=D||H?{}:g(e),!L)return D?h(e,s(M,e)):c(e,a(M,e))}else{if(!J[F])return O?e:{};M=v(e,F,L)}}P||(P=new r);var z=P.get(e);if(z)return z;P.set(e,M),T(e)?e.forEach((function(r){M.add(ee(r,t,n,r,e,P))})):_(e)&&e.forEach((function(r,i){M.set(i,ee(r,t,n,i,e,P))}));var U=j?D?d:f:D?keysIn:w,V=B?void 0:U(e);return i(V||e,(function(r,i){V&&(r=e[i=r]),o(M,i,ee(r,t,n,i,e,P))})),M}J[C]=J[A]=J[U]=J[V]=J[O]=J[P]=J[G]=J[X]=J[Y]=J[W]=J[q]=J[L]=J[D]=J[N]=J[j]=J[B]=J[F]=J[H]=J[K]=J[$]=J[Z]=J[Q]=!0,J[M]=J[I]=J[z]=!1,e.exports=ee},function(e,t,n){var r=n(100),i=n(119);function o(e,t){return e&&r(t,i(t),e)}e.exports=o},function(e,t,n){var r=n(100),i=n(121);function o(e,t){return e&&r(t,i(t),e)}e.exports=o},function(e,t,n){var r=n(45),i=n(186),o=n(803),a=Object.prototype.hasOwnProperty;function s(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)"constructor"==s&&(t||!a.call(e,s))||n.push(s);return n}e.exports=s},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){var r=n(100),i=n(282);function o(e,t){return r(e,i(e),t)}e.exports=o},function(e,t,n){var r=n(100),i=n(428);function o(e,t){return r(e,i(e),t)}e.exports=o},function(e,t,n){var r=n(420),i=n(428),o=n(121);function a(e){return r(e,o,i)}e.exports=a},function(e,t){var n=Object.prototype.hasOwnProperty;function r(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}e.exports=r},function(e,t,n){var r=n(288),i=n(809),o=n(810),a=n(811),s=n(429),l="[object Boolean]",u="[object Date]",c="[object Map]",h="[object Number]",f="[object RegExp]",d="[object Set]",p="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",T="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",k="[object Uint32Array]";function C(e,t,n){var C=e.constructor;switch(t){case v:return r(e);case l:case u:return new C(+e);case g:return i(e,n);case y:case b:case _:case x:case T:case w:case S:case E:case k:return s(e,n);case c:return new C;case h:case p:return new C(e);case f:return o(e);case d:return new C;case m:return a(e)}}e.exports=C},function(e,t,n){var r=n(288);function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}e.exports=i},function(e,t){var n=/\w*$/;function r(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}e.exports=r},function(e,t,n){var r=n(118),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;function a(e){return o?Object(o.call(e)):{}}e.exports=a},function(e,t,n){var r=n(813),i=n(275),o=n(276),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(192),i=n(56),o="[object Map]";function a(e){return i(e)&&r(e)==o}e.exports=a},function(e,t,n){var r=n(815),i=n(275),o=n(276),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(192),i=n(56),o="[object Set]";function a(e){return i(e)&&r(e)==o}e.exports=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r=o(n(272)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var a={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){return t[e]||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,r.default)(e,(function(e,n){var o={};(0,r.default)(e,(function(e,t){var n=a[t];n?o=i({},o,n(e)):o[t]=e})),t[n]=o})),t};t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function o(){var n,l,u;a(this,o);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=u=s(this,(n=o.__proto__||Object.getPrototypeOf(o)).call.apply(n,[this].concat(h))),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return i.default.createElement(t,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},i.default.createElement(e,r({},u.props,u.state)))},s(u,l)}return l(o,n),o}(i.default.Component)};t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function o(){var n,l,u;a(this,o);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=u=s(this,(n=o.__proto__||Object.getPrototypeOf(o)).call.apply(n,[this].concat(h))),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return i.default.createElement(t,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},i.default.createElement(e,r({},u.props,u.state)))},s(u,l)}return l(o,n),o}(i.default.Component)};t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(821);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return y(r).default}});var i=n(844);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return y(i).default}});var o=n(846);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return y(o).default}});var a=n(848);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return y(a).default}});var s=n(853);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return y(s).default}});var l=n(856);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return y(l).default}});var u=n(858);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return y(u).default}});var c=n(860);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return y(c).default}});var h=n(861);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return y(h).default}});var f=n(867);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return y(f).default}});var d=n(870);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return y(d).default}});var p=n(874);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return y(p).default}});var m=n(878);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return y(m).default}});var v=n(437);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return y(v).default}});var g=y(a);function y(e){return e&&e.__esModule?e:{default:e}}t.default=g.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(13)),a=n(22),s=l(n(843));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,l=e.height,u=e.onChange,c=e.direction,h=e.style,f=e.renderers,d=e.pointer,p=e.className,m=void 0===p?"":p,v=(0,o.default)({default:{picker:{position:"relative",width:s,height:l},alpha:{radius:"2px",style:h}}});return i.default.createElement("div",{style:v.picker,className:"alpha-picker "+m},i.default.createElement(a.Alpha,r({},v.alpha,{rgb:t,hsl:n,pointer:d,renderers:f,onChange:u,direction:c})))};u.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,a.ColorWrap)(u)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=h(o),s=h(n(13)),l=c(n(823)),u=h(n(289));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=t.Alpha=function(e){function t(){var e,n,r;f(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=l.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},d(r,n)}return p(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:n.alpha},a.default.createElement("div",{style:n.checkboard},a.default.createElement(u.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:n.gradient}),a.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:n.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:n.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?0:u>o?1:Math.round(100*u/o)/100,n.hsl.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}else{var h=void 0;if(h=l<0?0:l>i?1:Math.round(100*l/i)/100,n.a!==h)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:h,source:"rgb"}}return null}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={},i=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null};t.get=function(e,t,n,o){var a=e+"-"+t+"-"+n+(o?"-server":""),s=i(e,t,n,o);return r[a]?r[a]:(r[a]=s,s)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=t.EditableInput=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,i=Number(t.replace(/%/g,""));if(!isNaN(i)){var o=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,i+o),e):n.props.onChange&&n.props.onChange(i+o,e),r?n.setState({value:i+o+"%"}):n.setState({value:i+o})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,i-o),e):n.props.onChange&&n.props.onChange(i-o,e),r?n.setState({value:i-o+"%"}):n.setState({value:i-o}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(l({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return h(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(i.PureComponent||i.Component);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=u(i),a=u(n(13)),s=l(n(827));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=t.Hue=function(e){function t(){var e,n,r;c(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=s.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},h(r,n)}return f(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:r.hue},o.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:r.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:r.slider}))))}}]),t}(i.PureComponent||i.Component);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?359:u>o?0:360*(-100*u/o+100)/100,n.hsl.h!==c)return{h:c,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var h=void 0;if(h=l<0?0:l>i?359:100*l/i*360/100,n.hsl.h!==h)return{h:h,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=s(n(1)),i=s(n(2)),o=s(n(13)),a=s(n(46));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Raised=function(e){var t=e.zDepth,n=e.radius,i=e.background,s=e.children,l=e.styles,u=void 0===l?{}:l,c=(0,o.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":1===t});return r.default.createElement("div",{style:c.wrap},r.default.createElement("div",{style:c.bg}),r.default.createElement("div",{style:c.content},s))};l.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object},l.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=l},function(e,t,n){var r=n(187),i=n(431),o=n(408),a=n(830),s=n(45),l=n(121),u=n(432);function c(e,t,n,h,f){e!==t&&o(t,(function(o,l){if(f||(f=new r),s(o))a(e,t,l,n,c,h,f);else{var d=h?h(u(e,l),o,l+"",e,t,f):void 0;void 0===d&&(d=o),i(e,l,d)}}),l)}e.exports=c},function(e,t,n){var r=n(431),i=n(427),o=n(429),a=n(196),s=n(430),l=n(184),u=n(31),c=n(831),h=n(185),f=n(277),d=n(45),p=n(412),m=n(273),v=n(432),g=n(832);function y(e,t,n,y,b,_,x){var T=v(e,n),w=v(t,n),S=x.get(w);if(S)r(e,n,S);else{var E=_?_(T,w,n+"",e,t,x):void 0,k=void 0===E;if(k){var C=u(w),A=!C&&h(w),O=!C&&!A&&m(w);E=w,C||A||O?u(T)?E=T:c(T)?E=a(T):A?(k=!1,E=i(w,!0)):O?(k=!1,E=o(w,!0)):E=[]:p(w)||l(w)?(E=T,l(T)?E=g(T):(!d(T)||f(T))&&(E=s(w))):k=!1}k&&(x.set(w,E),b(E,w,y,_,x),x.delete(w)),r(e,n,E)}}e.exports=y},function(e,t,n){var r=n(98),i=n(56);function o(e){return i(e)&&r(e)}e.exports=o},function(e,t,n){var r=n(100),i=n(121);function o(e){return r(e,i(e))}e.exports=o},function(e,t,n){var r=n(834),i=n(426),o=n(143),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=c(i),a=c(n(13)),s=c(n(836)),l=u(n(838));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=t.Saturation=function(e){function t(e){h(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,l.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(e,t,n){e(t,n)}),50),n}return d(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,s=t.pointer,l=t.circle,u=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement("div",{style:u.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:u.white,className:"saturation-white"},o.default.createElement("div",{style:u.black,className:"saturation-black"}),o.default.createElement("div",{style:u.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:u.circle}))))}}]),t}(i.PureComponent||i.Component);t.default=p},function(e,t,n){var r=n(435),i=n(45),o="Expected a function";function a(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}e.exports=a},function(e,t,n){var r=n(41),i=function(){return r.Date.now()};e.exports=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.getBoundingClientRect(),o=i.width,a=i.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=s-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o?u=o:c<0?c=0:c>a&&(c=a);var h=100*u/o,f=-100*c/a+100;return{h:n.hsl.h,s:h,v:f,a:n.hsl.a,source:"rgb"}}},function(e,t,n){e.exports=n(147)},function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,u=i.min,c=i.max,h=i.random;function f(e,t){if(t=t||{},(e=e||"")instanceof f)return e;if(!(this instanceof f))return new f(e,t);var n=d(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function d(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"==typeof e&&(e=$(e)),"object"==typeof e&&(K(e.r)&&K(e.g)&&K(e.b)?(t=p(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):K(e.h)&&K(e.s)&&K(e.v)?(r=X(e.s),i=X(e.v),t=y(e.h,r,i),a=!0,s="hsv"):K(e.h)&&K(e.s)&&K(e.l)&&(r=X(e.s),o=X(e.l),t=v(e.h,r,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=B(n),{ok:a,format:e.format||s,r:u(255,c(t.r,0)),g:u(255,c(t.g,0)),b:u(255,c(t.b,0)),a:n}}function p(e,t,n){return{r:255*F(e,255),g:255*F(t,255),b:255*F(n,255)}}function m(e,t,n){e=F(e,255),t=F(t,255),n=F(n,255);var r,i,o=c(e,t,n),a=u(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function v(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=F(e,360),t=F(t,100),n=F(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function g(e,t,n){e=F(e,255),t=F(t,255),n=F(n,255);var r,i,o=c(e,t,n),a=u(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function y(e,t,n){e=6*F(e,360),t=F(t,100),n=F(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),u=r%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}function b(e,t,n,r){var i=[G(l(e).toString(16)),G(l(t).toString(16)),G(l(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function _(e,t,n,r,i){var o=[G(l(e).toString(16)),G(l(t).toString(16)),G(l(n).toString(16)),G(Y(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function x(e,t,n,r){return[G(Y(r)),G(l(e).toString(16)),G(l(t).toString(16)),G(l(n).toString(16))].join("")}function T(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s-=t/100,n.s=H(n.s),f(n)}function w(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s+=t/100,n.s=H(n.s),f(n)}function S(e){return f(e).desaturate(100)}function E(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l+=t/100,n.l=H(n.l),f(n)}function k(e,t){t=0===t?0:t||10;var n=f(e).toRgb();return n.r=c(0,u(255,n.r-l(-t/100*255))),n.g=c(0,u(255,n.g-l(-t/100*255))),n.b=c(0,u(255,n.b-l(-t/100*255))),f(n)}function C(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l-=t/100,n.l=H(n.l),f(n)}function A(e,t){var n=f(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,f(n)}function O(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)}function P(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]}function M(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]}function I(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]}function R(e,t,n){t=t||6,n=n||30;var r=f(e).toHsl(),i=360/n,o=[f(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(f(r));return o}function L(e,t){t=t||6;for(var n=f(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(f({h:r,s:i,v:o})),o=(o+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=B(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=g(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=g(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=m(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=m(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return b(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return _(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*F(this._r,255))+"%",g:l(100*F(this._g,255))+"%",b:l(100*F(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*F(this._r,255))+"%, "+l(100*F(this._g,255))+"%, "+l(100*F(this._b,255))+"%)":"rgba("+l(100*F(this._r,255))+"%, "+l(100*F(this._g,255))+"%, "+l(100*F(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(N[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+x(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=f(e);n="#"+x(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(T,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(L,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(M,arguments)}},f.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:X(e[r]));e=n}return f(e,t)},f.equals=function(e,t){return!(!e||!t)&&f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:h(),g:h(),b:h()})},f.mix=function(e,t,n){n=0===n?0:n||50;var r=f(e).toRgb(),i=f(t).toRgb(),o=n/100;return f({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},f.readability=function(e,t){var n=f(e),r=f(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(e,t,n){var r,i,o=f.readability(e,t);switch(i=!1,(r=Z(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},f.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<t.length;u++)(r=f.readability(e,t[u]))>l&&(l=r,s=f(t[u]));return f.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,f.mostReadable(e,["#fff","#000"],n))};var D=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=f.hexNames=j(D);function j(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function B(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function F(e,t){U(e)&&(e="100%");var n=V(e);return e=u(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function H(e){return u(1,c(0,e))}function z(e){return parseInt(e,16)}function U(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function V(e){return"string"==typeof e&&-1!=e.indexOf("%")}function G(e){return 1==e.length?"0"+e:""+e}function X(e){return e<=1&&(e=100*e+"%"),e}function Y(e){return i.round(255*parseFloat(e)).toString(16)}function W(e){return z(e)/255}var q=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function K(e){return!!q.CSS_UNIT.exec(e)}function $(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(D[e])e=D[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=q.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=q.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=q.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=q.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=q.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=q.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=q.hex8.exec(e))?{r:z(t[1]),g:z(t[2]),b:z(t[3]),a:W(t[4]),format:n?"name":"hex8"}:(t=q.hex6.exec(e))?{r:z(t[1]),g:z(t[2]),b:z(t[3]),format:n?"name":"hex"}:(t=q.hex4.exec(e))?{r:z(t[1]+""+t[1]),g:z(t[2]+""+t[2]),b:z(t[3]+""+t[3]),a:W(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=q.hex3.exec(e))&&{r:z(t[1]+""+t[1]),g:z(t[2]+""+t[2]),b:z(t[3]+""+t[3]),format:n?"name":"hex"}}function Z(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}e.exports?e.exports=f:void 0!==(r=function(){return f}.call(t,n,t,e))&&(e.exports=r)}(Math)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(13)),a=n(842),s=l(n(289));function l(e){return e&&e.__esModule?e:{default:e}}var u=13,c=t.Swatch=function(e){var t=e.color,n=e.style,a=e.onClick,l=void 0===a?function(){}:a,c=e.onHover,h=e.title,f=void 0===h?t:h,d=e.children,p=e.focus,m=e.focusStyle,v=void 0===m?{}:m,g="transparent"===t,y=(0,o.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,p?v:{})}}),b=function(e){return l(t,e)},_=function(e){return e.keyCode===u&&l(t,e)},x=function(e){return c(t,e)},T={};return c&&(T.onMouseOver=x),i.default.createElement("div",r({style:y.swatch,onClick:b,title:f,tabIndex:0,onKeyDown:_},T),d,g&&i.default.createElement(s.default,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,a.handleFocus)(c)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var e,t,n;s(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=l(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},l(n,t)}return u(a,n),i(a,[{key:"render",value:function(){return o.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},o.default.createElement(e,r({},this.props,this.state)))}}]),a}(o.default.Component)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.AlphaPointer=function(e){var t=e.direction,n=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(46)),s=c(n(57)),l=n(22),u=c(n(845));function c(e){return e&&e.__esModule?e:{default:e}}var h=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,c=e.colors,h=e.width,f=e.triangle,d=e.styles,p=void 0===d?{}:d,m=e.className,v=void 0===m?"":m,g="transparent"===i,y=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},b=(0,o.default)((0,a.default)({default:{card:{width:h,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:s.default.getContrastingColor(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},p),{"hide-triangle":"hide"===f});return r.default.createElement("div",{style:b.card,className:"block-picker "+v},r.default.createElement("div",{style:b.triangle}),r.default.createElement("div",{style:b.head},g&&r.default.createElement(l.Checkboard,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:b.label},i)),r.default.createElement("div",{style:b.body},r.default.createElement(u.default,{colors:c,onClick:y,onSwatchHover:n}),r.default.createElement(l.EditableInput,{style:{input:b.input},value:i,onChange:y})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["top","hide"]),styles:i.default.object},h.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},t.default=(0,l.ColorWrap)(h)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(70)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,l=(0,i.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:l.swatches},(0,o.default)(t,(function(e){return r.default.createElement(a.Swatch,{key:e,color:e,style:l.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:l.clear}))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=f(n(1)),i=f(n(2)),o=f(n(13)),a=f(n(70)),s=f(n(46)),l=h(n(438)),u=n(22),c=f(n(847));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var d=t.Circle=function(e){var t=e.width,n=e.onChange,i=e.onSwatchHover,l=e.colors,u=e.hex,h=e.circleSize,f=e.styles,d=void 0===f?{}:f,p=e.circleSpacing,m=e.className,v=void 0===m?"":m,g=(0,o.default)((0,s.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-p,marginBottom:-p}}},d)),y=function(e,t){return n({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:g.card,className:"circle-picker "+v},(0,a.default)(l,(function(e){return r.default.createElement(c.default,{key:e,color:e,onClick:y,onSwatchHover:i,active:u===e.toLowerCase(),circleSize:h,circleSpacing:p})})))};d.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),circleSize:i.default.number,circleSpacing:i.default.number,styles:i.default.object},d.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[l.red[500],l.pink[500],l.purple[500],l.deepPurple[500],l.indigo[500],l.blue[500],l.lightBlue[500],l.cyan[500],l.teal[500],l.green[500],l.lightGreen[500],l.lime[500],l.yellow[500],l.amber[500],l.orange[500],l.deepOrange[500],l.brown[500],l.blueGrey[500]],styles:{}},t.default=(0,u.ColorWrap)(d)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=s(n(1)),i=n(13),o=s(i),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,i=e.onSwatchHover,s=e.hover,l=e.active,u=e.circleSize,c=e.circleSpacing,h=(0,o.default)({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+u/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:l});return r.default.createElement("div",{style:h.swatch},r.default.createElement(a.Swatch,{style:h.Swatch,color:t,onClick:n,onHover:i,focusStyle:{boxShadow:h.Swatch.boxShadow+", 0 0 5px "+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,i.handleHover)(l)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=h(n(1)),i=h(n(2)),o=h(n(13)),a=h(n(46)),s=n(22),l=h(n(849)),u=h(n(851)),c=h(n(852));function h(e){return e&&e.__esModule?e:{default:e}}var f=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,i=e.rgb,h=e.hsl,f=e.hsv,d=e.hex,p=e.renderers,m=e.styles,v=void 0===m?{}:m,g=e.className,y=void 0===g?"":g,b=(0,o.default)((0,a.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},v),{disableAlpha:n});return r.default.createElement("div",{style:b.picker,className:"chrome-picker "+y},r.default.createElement("div",{style:b.saturation},r.default.createElement(s.Saturation,{style:b.Saturation,hsl:h,hsv:f,pointer:c.default,onChange:t})),r.default.createElement("div",{style:b.body},r.default.createElement("div",{style:b.controls,className:"flexbox-fix"},r.default.createElement("div",{style:b.color},r.default.createElement("div",{style:b.swatch},r.default.createElement("div",{style:b.active}),r.default.createElement(s.Checkboard,{renderers:p}))),r.default.createElement("div",{style:b.toggles},r.default.createElement("div",{style:b.hue},r.default.createElement(s.Hue,{style:b.Hue,hsl:h,pointer:u.default,onChange:t})),r.default.createElement("div",{style:b.alpha},r.default.createElement(s.Alpha,{style:b.Alpha,rgb:i,hsl:h,pointer:u.default,renderers:p,onChange:t})))),r.default.createElement(l.default,{rgb:i,hsl:h,hex:d,onChange:t,disableAlpha:n})))};f.propTypes={disableAlpha:i.default.bool,styles:i.default.object},f.defaultProps={disableAlpha:!1,styles:{}},t.default=(0,s.ColorWrap)(f)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),o=u(n(13)),a=u(n(57)),s=n(22),l=u(n(850));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=t.ChromeFields=function(e){function t(){var e,n,r;c(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?a.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:"hsl"},t))},r.showHighlight=function(e){e.currentTarget.style.background="#eee"},r.hideHighlight=function(e){e.currentTarget.style.background="transparent"},h(r,n)}return f(t,e),r(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,i.default.createElement("div",{style:t.toggle},i.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.default.createElement(l.default,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}]),t}(i.default.Component);t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var s=24;t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,o=e.width,l=void 0===o?s:o,u=e.height,c=void 0===u?s:u,h=e.style,f=void 0===h?{}:h,d=a(e,["fill","width","height","style"]);return i.default.createElement("svg",r({viewBox:"0 0 "+s+" "+s,style:r({fill:n,width:l,height:c},f)},d),i.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointer=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointerCircle=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=f(n(1)),i=f(n(2)),o=f(n(13)),a=f(n(70)),s=f(n(46)),l=f(n(57)),u=n(22),c=f(n(854)),h=f(n(855));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.colors,f=e.hex,d=e.rgb,p=e.styles,m=void 0===p?{}:p,v=e.className,g=void 0===v?"":v,y=(0,o.default)((0,s.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},m)),b=function(e,n){e.hex?l.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return r.default.createElement(u.Raised,{style:y.Compact,styles:m},r.default.createElement("div",{style:y.compact,className:"compact-picker "+g},r.default.createElement("div",null,(0,a.default)(i,(function(e){return r.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===f,onClick:b,onSwatchHover:n})})),r.default.createElement("div",{style:y.clear})),r.default.createElement(h.default,{hex:f,rgb:d,onChange:b})))};d.propTypes={colors:i.default.arrayOf(i.default.string),styles:i.default.object},d.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},t.default=(0,u.ColorWrap)(d)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,u=e.active,c=(0,i.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(a.Swatch,{style:c.color,color:t,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:c.dot}))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=a(n(1)),i=a(n(13)),o=n(22);function a(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,a=e.onChange,s=(0,i.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(e,t){e.r||e.g||e.b?a({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):a({hex:e.hex,source:"hex"},t)};return r.default.createElement("div",{style:s.fields,className:"flexbox-fix"},r.default.createElement("div",{style:s.active}),r.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:l}))};t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(70)),s=c(n(46)),l=n(22),u=c(n(857));function c(e){return e&&e.__esModule?e:{default:e}}var h=t.Github=function(e){var t=e.width,n=e.colors,i=e.onChange,l=e.onSwatchHover,c=e.triangle,h=e.styles,f=void 0===h?{}:h,d=e.className,p=void 0===d?"":d,m=(0,o.default)((0,s.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},f),{"hide-triangle":"hide"===c,"top-left-triangle":"top-left"===c,"top-right-triangle":"top-right"===c,"bottom-left-triangle":"bottom-left"==c,"bottom-right-triangle":"bottom-right"===c}),v=function(e,t){return i({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:m.card,className:"github-picker "+p},r.default.createElement("div",{style:m.triangleShadow}),r.default.createElement("div",{style:m.triangle}),(0,a.default)(n,(function(e){return r.default.createElement(u.default,{color:e,key:e,onClick:v,onSwatchHover:l})})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:i.default.object},h.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},t.default=(0,l.ColorWrap)(h)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=s(n(1)),i=n(13),o=s(i),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.GithubSwatch=function(e){var t=e.hover,n=e.color,i=e.onClick,s=e.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=(0,o.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:t});return r.default.createElement("div",{style:u.swatch},r.default.createElement(a.Swatch,{color:n,onClick:i,onHover:s,focusStyle:l}))};t.default=(0,i.handleHover)(l)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(13)),s=c(n(46)),l=n(22),u=c(n(859));function c(e){return e&&e.__esModule?e:{default:e}}var h=t.HuePicker=function(e){var t=e.width,n=e.height,o=e.onChange,u=e.hsl,c=e.direction,h=e.pointer,f=e.styles,d=void 0===f?{}:f,p=e.className,m=void 0===p?"":p,v=(0,a.default)((0,s.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},d)),g=function(e){return o({a:1,h:e.h,l:.5,s:1})};return i.default.createElement("div",{style:v.picker,className:"hue-picker "+m},i.default.createElement(l.Hue,r({},v.hue,{hsl:u,pointer:h,onChange:g,direction:c})))};h.propTypes={styles:o.default.object},h.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:u.default,styles:{}},t.default=(0,l.ColorWrap)(h)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(e){var t=e.direction,n=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=l(n(1)),i=l(n(13)),o=l(n(46)),a=l(n(57)),s=n(22);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Material=function(e){var t=e.onChange,n=e.hex,l=e.rgb,u=e.styles,c=void 0===u?{}:u,h=e.className,f=void 0===h?"":h,d=(0,i.default)((0,o.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},c)),p=function(e,n){e.hex?a.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||l.r,g:e.g||l.g,b:e.b||l.b,source:"rgb"},n)};return r.default.createElement(s.Raised,{styles:c},r.default.createElement("div",{style:d.material,className:"material-picker "+f},r.default.createElement(s.EditableInput,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:"hex",value:n,onChange:p}),r.default.createElement("div",{style:d.split,className:"flexbox-fix"},r.default.createElement("div",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"r",value:l.r,onChange:p})),r.default.createElement("div",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"g",value:l.g,onChange:p})),r.default.createElement("div",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"b",value:l.b,onChange:p})))))};t.default=(0,s.ColorWrap)(u)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(1)),o=p(n(2)),a=p(n(13)),s=p(n(46)),l=n(22),u=p(n(862)),c=p(n(863)),h=p(n(864)),f=p(n(865)),d=p(n(866));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=t.Photoshop=function(e){function t(e){m(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return g(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,o=void 0===r?"":r,p=(0,a.default)((0,s.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return i.default.createElement("div",{style:p.picker,className:"photoshop-picker "+o},i.default.createElement("div",{style:p.head},this.props.header),i.default.createElement("div",{style:p.body,className:"flexbox-fix"},i.default.createElement("div",{style:p.saturation},i.default.createElement(l.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),i.default.createElement("div",{style:p.hue},i.default.createElement(l.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:h.default,onChange:this.props.onChange})),i.default.createElement("div",{style:p.controls},i.default.createElement("div",{style:p.top,className:"flexbox-fix"},i.default.createElement("div",{style:p.previews},i.default.createElement(d.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.default.createElement("div",{style:p.actions},i.default.createElement(f.default,{label:"OK",onClick:this.props.onAccept,active:!0}),i.default.createElement(f.default,{label:"Cancel",onClick:this.props.onCancel}),i.default.createElement(u.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(i.default.Component);y.propTypes={header:o.default.string,styles:o.default.object},y.defaultProps={header:"Color Picker",styles:{}},t.default=(0,l.ColorWrap)(y)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,l=e.hex,u=(0,i.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),c=function(e,r){e["#"]?o.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},r)};return r.default.createElement("div",{style:u.fields},r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(s.h),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(a.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:l.replace("#",""),onChange:c}),r.default.createElement("div",{style:u.fieldSymbols},r.default.createElement("div",{style:u.symbol},"\xb0"),r.default.createElement("div",{style:u.symbol},"%"),r.default.createElement("div",{style:u.symbol},"%")))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(){var e=(0,i.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:e.pointer},r.default.createElement("div",{style:e.left},r.default.createElement("div",{style:e.leftInside})),r.default.createElement("div",{style:e.right},r.default.createElement("div",{style:e.rightInside})))};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,o=e.children,a=e.active,s=(0,i.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return r.default.createElement("div",{style:s.button,onClick:t},n||o)};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,o=(0,i.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:o.label},"new"),r.default.createElement("div",{style:o.swatches},r.default.createElement("div",{style:o.new}),r.default.createElement("div",{style:o.current})),r.default.createElement("div",{style:o.label},"current"))};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=h(n(1)),o=h(n(2)),a=h(n(13)),s=h(n(46)),l=n(22),u=h(n(868)),c=h(n(869));function h(e){return e&&e.__esModule?e:{default:e}}var f=t.Sketch=function(e){var t=e.width,n=e.rgb,o=e.hex,h=e.hsv,f=e.hsl,d=e.onChange,p=e.onSwatchHover,m=e.disableAlpha,v=e.presetColors,g=e.renderers,y=e.styles,b=void 0===y?{}:y,_=e.className,x=void 0===_?"":_,T=(0,a.default)((0,s.default)({default:r({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},b),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},b),{disableAlpha:m});return i.default.createElement("div",{style:T.picker,className:"sketch-picker "+x},i.default.createElement("div",{style:T.saturation},i.default.createElement(l.Saturation,{style:T.Saturation,hsl:f,hsv:h,onChange:d})),i.default.createElement("div",{style:T.controls,className:"flexbox-fix"},i.default.createElement("div",{style:T.sliders},i.default.createElement("div",{style:T.hue},i.default.createElement(l.Hue,{style:T.Hue,hsl:f,onChange:d})),i.default.createElement("div",{style:T.alpha},i.default.createElement(l.Alpha,{style:T.Alpha,rgb:n,hsl:f,renderers:g,onChange:d}))),i.default.createElement("div",{style:T.color},i.default.createElement(l.Checkboard,null),i.default.createElement("div",{style:T.activeColor}))),i.default.createElement(u.default,{rgb:n,hsl:f,hex:o,onChange:d,disableAlpha:m}),i.default.createElement(c.default,{colors:v,onClick:d,onSwatchHover:p}))};f.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number]),styles:o.default.object},f.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,l.ColorWrap)(f)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(57)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,l=e.hex,u=e.disableAlpha,c=(0,i.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),h=function(e,r){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:c.fields,className:"flexbox-fix"},r.default.createElement("div",{style:c.double},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"hex",value:l.replace("#",""),onChange:h})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"r",value:n.r,onChange:h,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"g",value:n.g,onChange:h,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"b",value:n.b,onChange:h,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.alpha},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"a",value:Math.round(100*n.a),onChange:h,dragLabel:"true",dragMax:"100"})))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(2)),a=l(n(13)),s=n(22);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,o=void 0===n?function(){}:n,l=e.onSwatchHover,u=(0,a.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),c=function(e,t){o({hex:e,source:"hex"},t)};return i.default.createElement("div",{style:u.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return i.default.createElement("div",{key:n,style:u.swatchWrap},i.default.createElement(s.Swatch,r({},t,{style:u.swatch,onClick:c,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};u.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(46)),s=n(22),l=c(n(871)),u=c(n(873));function c(e){return e&&e.__esModule?e:{default:e}}var h=t.Slider=function(e){var t=e.hsl,n=e.onChange,i=e.pointer,u=e.styles,c=void 0===u?{}:u,h=e.className,f=void 0===h?"":h,d=(0,o.default)((0,a.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},c));return r.default.createElement("div",{style:d.wrap||"",className:"slider-picker "+f},r.default.createElement("div",{style:d.hue},r.default.createElement(s.Hue,{style:d.Hue,hsl:t,pointer:i,onChange:n})),r.default.createElement("div",{style:d.swatches},r.default.createElement(l.default,{hsl:t,onClick:n})))};h.propTypes={styles:i.default.object},h.defaultProps={pointer:u.default,styles:{}},t.default=(0,s.ColorWrap)(h)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=a(n(1)),i=a(n(13)),o=a(n(872));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,a=(0,i.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:a.swatches},r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100===.8&&Math.round(100*n.s)/100===.5,onClick:t,first:!0})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100===.65&&Math.round(100*n.s)/100===.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100===.5&&Math.round(100*n.s)/100===.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100===.35&&Math.round(100*n.s)/100===.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100===.2&&Math.round(100*n.s)/100===.5,onClick:t,last:!0})),r.default.createElement("div",{style:a.clear}))};t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,o=e.onClick,a=void 0===o?function(){}:o,s=e.active,l=e.first,u=e.last,c=(0,i.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:u}),h=function(e){return a({h:t.h,s:.5,l:n,source:"hsl"},e)};return r.default.createElement("div",{style:c.swatch,onClick:h})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(1)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(){var e=(0,i.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=d(n(1)),i=d(n(2)),o=d(n(13)),a=d(n(70)),s=d(n(46)),l=d(n(57)),u=f(n(438)),c=n(22),h=d(n(875));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Swatches=function(e){var t=e.width,n=e.height,i=e.onChange,u=e.onSwatchHover,f=e.colors,d=e.hex,p=e.styles,m=void 0===p?{}:p,v=e.className,g=void 0===v?"":v,y=(0,o.default)((0,s.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},m)),b=function(e,t){l.default.isValidHex(e)&&i({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:y.picker,className:"swatches-picker "+g},r.default.createElement(c.Raised,null,r.default.createElement("div",{style:y.overflow},r.default.createElement("div",{style:y.body},(0,a.default)(f,(function(e){return r.default.createElement(h.default,{key:e.toString(),group:e,active:d,onClick:b,onSwatchHover:u})})),r.default.createElement("div",{style:y.clear})))))};p.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.arrayOf(i.default.string)),styles:i.default.object},p.defaultProps={width:320,height:240,colors:[[u.red[900],u.red[700],u.red[500],u.red[300],u.red[100]],[u.pink[900],u.pink[700],u.pink[500],u.pink[300],u.pink[100]],[u.purple[900],u.purple[700],u.purple[500],u.purple[300],u.purple[100]],[u.deepPurple[900],u.deepPurple[700],u.deepPurple[500],u.deepPurple[300],u.deepPurple[100]],[u.indigo[900],u.indigo[700],u.indigo[500],u.indigo[300],u.indigo[100]],[u.blue[900],u.blue[700],u.blue[500],u.blue[300],u.blue[100]],[u.lightBlue[900],u.lightBlue[700],u.lightBlue[500],u.lightBlue[300],u.lightBlue[100]],[u.cyan[900],u.cyan[700],u.cyan[500],u.cyan[300],u.cyan[100]],[u.teal[900],u.teal[700],u.teal[500],u.teal[300],u.teal[100]],["#194D33",u.green[700],u.green[500],u.green[300],u.green[100]],[u.lightGreen[900],u.lightGreen[700],u.lightGreen[500],u.lightGreen[300],u.lightGreen[100]],[u.lime[900],u.lime[700],u.lime[500],u.lime[300],u.lime[100]],[u.yellow[900],u.yellow[700],u.yellow[500],u.yellow[300],u.yellow[100]],[u.amber[900],u.amber[700],u.amber[500],u.amber[300],u.amber[100]],[u.orange[900],u.orange[700],u.orange[500],u.orange[300],u.orange[100]],[u.deepOrange[900],u.deepOrange[700],u.deepOrange[500],u.deepOrange[300],u.deepOrange[100]],[u.brown[900],u.brown[700],u.brown[500],u.brown[300],u.brown[100]],[u.blueGrey[900],u.blueGrey[700],u.blueGrey[500],u.blueGrey[300],u.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},t.default=(0,c.ColorWrap)(p)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=s(n(1)),i=s(n(13)),o=s(n(70)),a=s(n(876));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,l=e.active,u=(0,i.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:u.group},(0,o.default)(s,(function(e,i){return r.default.createElement(a.default,{key:e,color:e,active:e.toLowerCase()===l,first:0===i,last:i===s.length-1,onClick:t,onSwatchHover:n})})))};t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=l(n(1)),i=l(n(13)),o=l(n(57)),a=n(22),s=l(n(877));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,l=void 0===n?function(){}:n,u=e.onSwatchHover,c=e.first,h=e.last,f=e.active,d=(0,i.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:o.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:c,last:h,active:f,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(a.Swatch,{color:t,style:d.color,onClick:l,onHover:u,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:d.check},r.default.createElement(s.default,null)))};t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var s=24;t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,o=e.width,l=void 0===o?s:o,u=e.height,c=void 0===u?s:u,h=e.style,f=void 0===h?{}:h,d=a(e,["fill","width","height","style"]);return i.default.createElement("svg",r({viewBox:"0 0 "+s+" "+s,style:r({fill:n,width:l,height:c},f)},d),i.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(13)),a=c(n(70)),s=c(n(46)),l=c(n(57)),u=n(22);function c(e){return e&&e.__esModule?e:{default:e}}var h=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,c=e.colors,h=e.width,f=e.triangle,d=e.styles,p=void 0===d?{}:d,m=e.className,v=void 0===m?"":m,g=(0,o.default)((0,s.default)({default:{card:{width:h,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},p),{"hide-triangle":"hide"===f,"top-left-triangle":"top-left"===f,"top-right-triangle":"top-right"===f}),y=function(e,n){l.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:g.card,className:"twitter-picker "+v},r.default.createElement("div",{style:g.triangleShadow}),r.default.createElement("div",{style:g.triangle}),r.default.createElement("div",{style:g.body},(0,a.default)(c,(function(e,t){return r.default.createElement(u.Swatch,{key:t,color:e,hex:e,style:g.swatch,onClick:y,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:g.hash},"#"),r.default.createElement(u.EditableInput,{style:{input:g.input},value:i.replace("#",""),onChange:y}),r.default.createElement("div",{style:g.clear})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),triangle:i.default.oneOf(["hide","top-left","top-right"]),colors:i.default.arrayOf(i.default.string),styles:i.default.object},h.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},t.default=(0,u.ColorWrap)(h)},function(e,t,n){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO=void 0;var r=s(n(881)),i=s(n(44)),o=n(327),a=n(266);function s(e){return e&&e.__esModule?e:{default:e}}var l={type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},u={type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["style","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{style:"mapbox.streets",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},c=t.TRACKS_INFO=[l,(0,i.default)({},l,{type:"osm"}),u,(0,i.default)({},u,{type:"mapbox"}),{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:a.svgVertical1DAxisIcon,availableOptions:["minWidth"],defaultOptions:{minWidth:100}},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:a.svg1DAxisIcon,defaultOptions:{}},{type:"horizontal-rule",datatype:["x-coord"],local:!0,orientation:"whole",name:"Horizontal Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"vertical-rule",datatype:["y-coord"],local:!0,orientation:"whole",name:"Vertical Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"cross-rule",datatype:["xy-coord"],local:!0,orientation:"whole",name:"Cross Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"simple-svg",datatype:[],local:!1,orientation:"2d",exportable:!0,availableOptions:["minWidth","minHeight"],defaultOptions:{minWidth:100,minHeight:100}},{type:"heatmap",datatype:["matrix"],local:!1,orientation:"2d",thumbnail:a.svg2DHeatmapIcon,exportable:!0,availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","colorbarBackgroundColor","maxZoom","minWidth","minHeight","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling","showMousePosition","mousePositionColor","showTooltip","extent","zeroValueColor"],defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],colorbarBackgroundColor:"#ffffff",maxZoom:null,minWidth:100,minHeight:100,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1,extent:"full",zeroValueColor:null},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{backgroundColor:"#000000",colorRange:["black","rgba(208,2,27,1.0)","rgba(245,166,35,1.0)","white"],colorbarBackgroundColor:"#000000",labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"linear-heatmap",aliases:["horizontal-heatmap","vertical-heatmap"],datatype:["matrix"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svg2DHeatmapIcon,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,minWidth:100,minHeight:40,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","minWidth","minHeight","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"line",aliases:["horizontal-line","vertical-line"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svgHorizontalLineIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode","minHeight"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,minHeight:20,mousePositionColor:"#000000",showTooltip:!1},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"1d-heatmap",aliases:["horizontal-1d-heatmap","vertical-1d-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:a.svgHorizontal1dHeatmap,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"vector-heatmap",aliases:["horizontal-vector-heatmap","vertical-vector-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,minHeight:1,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"multivec",aliases:["horizontal-multivec","vertical-multivec"],datatype:["multivec"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minHeight","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling","selectRows","selectRowsAggregationMode","selectRowsAggregationWithRelativeHeight","selectRowsAggregationMethod","colorbarBackgroundColor","colorbarPosition","zeroValueColor"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minHeight:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",selectRows:null,selectRowsAggregationMode:"mean",selectRowsAggregationWithRelativeHeight:!0,selectRowsAggregationMethod:"client",colorbarBackgroundColor:"#ffffff",colorbarPosition:"topRight",zeroValueColor:null},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{colorbarBackgroundColor:"#000000"})},{type:"point",aliases:["horizontal-point","vertical-point"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"divergent-bar",aliases:["horizontal-divergent-bar","vertical-divergent-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"bar",aliases:["horizontal-bar","vertical-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"[glyph-color]",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:a.svg2DTilesIcon},{type:"1d-value-interval",aliases:["horizontal-1d-value-interval","vertical-1d-value-interval"],datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],rotatable:!0,name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"stacked-interval",aliases:["top-stacked-interval","left-stacked-interval"],datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,projection:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"gene-annotations",aliases:["horizontal-gene-annotations","vertical-gene-annotations"],datatype:["gene-annotation"],local:!1,defaultHeight:90,defaultWidth:90,rotatable:!0,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:a.svgGeneAnnotationsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","minHeight","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelBackgroundColor:"#ffffff",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"})},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"linear-2d-rectangle-domains",aliases:["horizontal-2d-rectangle-domains","vertical-2d-rectangle-domains"],datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"Horizontal 2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["flipDiagonal","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainFillOpacity","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{flipDiagonal:"none",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainFillOpacity:.4,rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokePos","regions"],defaultOptions:{fill:"red",fillOpacity:.2,stroke:"red",strokeOpacity:0,strokeWidth:1,regions:[],strokePos:[]}},{type:"vertical-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","regions"],defaultOptions:{fill:"red",fillOpacity:"0.2",stroke:"red",strokeOpacity:"0",regions:[]}},{type:"2d-annotations",datatype:["2d-annotations"],local:!1,orientation:"2d",name:"2D Annotations",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize","isClickable","hoverColor","selectColor","exclude","trackBorderBgWidth","trackBorderBgColor","trackBorderBgAlpha"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none",isClickable:!1,hoverColor:"orange",selectColor:"fuchsia",exclude:[],trackBorderBgWidth:0,trackBorderBgColor:"black",trackBorderBgAlpha:.33}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"horizontal-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-horizontal",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"vertical-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-vertical",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",datatype:["chromsizes"],local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"chromosome-labels",aliases:["horizontal-chromosome-labels","vertical-chromosome-labels"],datatype:["chromsizes"],orientation:"1d-horizontal",rotatable:!0,minHeight:35,defaultHeight:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","showMousePosition","mousePositionColor","tickPositions","tickFormat","reverseOrientation"],defaultOptions:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"})},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:a.svgVertical1DTilesIcon},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:a.svg1DTilesIcon},{type:"osm-2d-tile-ids",datatype:["map-tiles"],local:!1,orientation:"2d",name:"OSM Tile Outlines",thumbnail:a.svg2DTilesIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"raster-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Raster Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"image-tiles",datatype:["image-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Image Tiles",thumbnail:null},{type:"bedlike",datatype:["bedlike"],aliases:["vertical-bedlike"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelBottomMargin","labelColor","labelLeftMargin","labelPosition","labelRightMargin","labelTopMargin","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minHeight","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","separatePlusMinusStrands","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",fillColor:"blue",fillOpacity:.3,fontSize:"10",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:20,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:"itemRgb",showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,separatePlusMinusStrands:!0,annotationHeight:16}},{type:"empty",datatype:[],orientation:"1d-horizontal",name:"Empty track",thumbnail:null,availableOptions:[],defaultOptions:{}}];t.default=c},function(e,t,n){t.__esModule=!0;var r=i(n(131));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO_BY_TYPE=void 0;var r=o(n(17)),i=n(11);function o(e){return e&&e.__esModule?e:{default:e}}var a=t.TRACKS_INFO_BY_TYPE=i.TRACKS_INFO.reduce((function(e,t){if(e[t.type]=t,t.aliases){var n=!0,i=!1,o=void 0;try{for(var a,s=(0,r.default)(t.aliases);!(n=(a=s.next()).done);n=!0)e[a.value]=t}catch(l){i=!0,o=l}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}return e}),{});t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.POSITIONS_BY_DATATYPE=void 0;var r=o(n(38)),i=n(11);function o(e){return e&&e.__esModule?e:{default:e}}var a=t.POSITIONS_BY_DATATYPE=i.TRACKS_INFO.reduce((function(e,t){for(var n=0;n<t.datatype.length;n++){var i=t.datatype[n];return e[i]?e[i].add(t.orientation):e[i]=new r.default,e}return{}}),{});t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.DEFAULT_TRACKS_FOR_DATATYPE={chromsizes:{center:"2d-chromosome-grid",top:"chromosome-labels",left:"chromosome-labels",bottom:"chromosome-labels",right:"chromosome-labels"},matrix:{center:"heatmap",top:"linear-heatmap",left:"linear-heatmap",right:"linear-heatmap",bottom:"linear-heatmap"},vector:{top:"bar",bottom:"bar",left:"bar",right:"bar"},"geo-json":{center:"geo-json"},"gene-annotation":{top:"gene-annotations",bottom:"gene-annotations",left:"gene-annotations",right:"gene-annotations"},bedlike:{top:"bedlike",bottom:"bedlike",left:"vertical-bedlike",right:"vertical-bedlike"}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Ce(n(8)),i=Ce(n(316)),o=Ce(n(83)),a=Ce(n(9)),s=Ce(n(84)),l=Ce(n(104)),u=Ce(n(20)),c=Ce(n(1080)),h=Ce(n(1082)),f=Ce(n(1081)),d=Ce(n(28)),p=Ce(n(0)),m=Ce(n(85)),v=Ce(n(157)),g=ke(n(26)),y=n(81),b=Ce(n(11)),_=Ce(n(10)),x=ke(n(365)),T=ke(n(364)),w=ke(n(363)),S=ke(n(259)),E=ke(n(352)),k=ke(n(362)),C=ke(n(370)),A=ke(n(368)),O=ke(n(369)),P=ke(n(256)),M=ke(n(378)),I=ke(n(360)),R=ke(n(135)),L=ke(n(361)),D=ke(n(366)),N=ke(n(371)),j=ke(n(260)),B=ke(n(372)),F=ke(n(116)),H=ke(n(359)),z=ke(n(358)),U=ke(n(377)),V=ke(n(115)),G=ke(n(392)),X=ke(n(394)),Y=ke(n(254)),W=ke(n(347)),q=ke(n(348)),K=ke(n(351)),$=ke(n(380)),Z=ke(n(265)),Q=ke(n(379)),J=ke(n(141)),ee=ke(n(357)),te=ke(n(40)),ne=ke(n(381)),re=ke(n(80)),ie=ke(n(367)),oe=ke(n(255)),ae=ke(n(79)),se=ke(n(350)),le=ke(n(177)),ue=ke(n(373)),ce=ke(n(262)),he=ke(n(349)),fe=ke(n(396)),de=ke(n(374)),pe=ke(n(886)),me=ke(n(375)),ve=ke(n(376)),ge=ke(n(67)),ye=ke(n(245)),be=ke(n(887)),_e=Ce(n(24)),xe=ke(n(73)),Te=ke(n(140)),we=ke(n(383)),Se=ke(n(389)),Ee=ke(n(382));function ke(e){return e&&e.__esModule?e:{default:e}}function Ce(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var Ae={d3Array:r,d3Axis:i,d3Brush:o,d3Color:a,d3Drag:s,d3Dsv:l,d3Format:u,d3Geo:c,d3Queue:h,d3Request:f,d3Scale:d,d3Selection:p,d3Transition:m,d3Zoom:v,PIXI:b.GLOBALS.PIXI,mix:y.mix,slugid:g.default},Oe={Annotations1dTrack:x.default,Annotations2dTrack:T.default,ArrowheadDomainsTrack:w.default,BarTrack:S.default,BedLikeTrack:E.default,CNVIntervalTrack:k.default,Chromosome2DAnnotations:C.default,Chromosome2DLabels:A.default,ChromosomeGrid:O.default,CombinedTrack:P.default,CrossRule:M.default,DivergentBarTrack:I.default,HeatmapTiledPixiTrack:R.default,Horizontal1dHeatmapTrack:L.default,Horizontal2DDomainsTrack:D.default,HorizontalChromosomeLabels:N.default,HorizontalGeneAnnotationsTrack:j.default,HorizontalHeatmapTrack:B.default,HorizontalLine1DPixiTrack:F.default,HorizontalMultivecTrack:H.default,HorizontalPoint1DPixiTrack:z.default,HorizontalRule:U.default,HorizontalTiled1DPixiTrack:V.default,HorizontalTiledPlot:G.default,HorizontalTrack:X.default,Id2DTiledPixiTrack:Y.default,IdHorizontal1DTiledPixiTrack:W.default,IdVertical1DTiledPixiTrack:q.default,LeftAxisTrack:K.default,MapboxTilesTrack:$.default,MoveableTrack:Z.default,OSMTileIdsTrack:Q.default,OSMTilesTrack:J.default,OverlayTrack:ee.default,PixiTrack:te.default,RasterTilesTrack:ne.default,SVGTrack:re.default,SquareMarkersTrack:ie.default,Tiled1DPixiTrack:oe.default,TiledPixiTrack:ae.default,TopAxisTrack:se.default,Track:le.default,ValueIntervalTrack:ue.default,VerticalRule:ce.default,VerticalTiled1DPixiTrack:he.default,VerticalTrack:fe.default,ViewportTracker2D:de.default,ViewportTracker2DPixi:pe.default,ViewportTrackerHorizontal:me.default,ViewportTrackerVertical:ve.default},Pe={ContextMenuItem:ge.default,DataFetcher:ye.default,LruCache:be.default},Me={ChromosomeInfo:xe.default,SearchField:Te.default},Ie={DataFetcher:ye.default,GBKDataFetcher:we.default,LocalDataFetcher:Se.default,getDataFetcher:Ee.default};t.default={chromosomes:Me,libraries:Ae,tracks:Oe,dataFetchers:Ie,factories:Pe,services:_e,utils:_,configs:b,VERSION:"1.11.11"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(14)),l=c(n(7)),u=c(n(26));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,c=u.default.nice();return o.uid=c,o.removeViewportChanged=l,o.viewportXDomain=null,o.viewportYDomain=null,s(c,o.viewportChanged.bind(o)),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"viewportChanged",value:function(){function e(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return e}()},{key:"draw",value:function(){function e(){var e=this.pMain;if(this.viewportXDomain&&this.viewportYDomain){e.clear(),e.lineStyle(1,255,1),e.beginFill(16740363,1);var t=this._xScale(this.viewportXDomain[0]),n=this._yScale(this.viewportYDomain[0]),r=this._xScale(this.viewportXDomain[1])-this._xScale(this.viewportXDomain[0]),i=this._yScale(this.viewportYDomain[1])-this._yScale(this.viewportYDomain[0]);this.pMain.drawRect(t,n,r,i)}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.draw()}return e}()}]),t}(c(n(40)).default);t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(888);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"default",{enumerable:!0,get:function(){function e(){return i(r).default}return e}()})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(44)),i=a(n(94)),o=a(n(18));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){this.size=0,this.limit=e,this._keymap={}}function l(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size+=1}function u(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):(this.head=void 0,this.tail=void 0),e.newer=void 0,e.older=void 0,delete this._keymap[e.key],this.size-=1),e}function c(e,t){var n=this._keymap[e];if(void 0!==n)return n===this.tail||(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n),t?n:n.value}function h(e){return this._keymap[e]}function f(e,t){var n=this.get(e,!0),r=void 0;return n?(r=n.value,n.value=t):(r=this.put(e,t))&&(r=r.value),r}function d(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):(this.head=void 0,this.tail=void 0),this.size-=1,t.value}function p(){this.head=void 0,this.tail=void 0,this.size=0,this._keymap={}}function m(){return(0,o.default)(this._keymap)}function v(e,t,n){var r=void 0;if(!0===t?(n=!0,t=void 0):"object"!==("undefined"==typeof t?"undefined":(0,i.default)(t))&&(t=this),n)for(r=this.tail;r;)e.call(t,r.key,r.value,this),r=r.older;else for(r=this.head;r;)e.call(t,r.key,r.value,this),r=r.newer}function g(){for(var e=[],t=this.head;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e}function y(){for(var e="",t=this.head;t;)e+=String(String(t.key))+":"+String(t.value),(t=t.newer)&&(e+=" < ");return e}(0,r.default)(s.prototype,{put:l,get:c,find:h,keys:m,set:f,shift:u,remove:d,removeAll:p,forEach:v,toJSON:g,toString:y}),t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AVAILABLE_TRACK_TYPES=void 0;var r=l(n(17)),i=l(n(25)),o=l(n(37)),a=l(n(38)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.AVAILABLE_TRACK_TYPES=function(e,t){var n=(0,s.DATATYPE_TO_TRACK_TYPE)(t),l=new a.default((0,o.default)(n).flatMap((function(e){return e}))),u=function(e){var t=new a.default(e);l=new a.default([].concat((0,i.default)(l)).filter((function(e){return e.datatype.filter((function(e){return t.has(e)})).length>0})))},c=!0,h=!1,f=void 0;try{for(var d,p=(0,r.default)(e);!(c=(d=p.next()).done);c=!0)u(d.value)}catch(m){h=!0,f=m}finally{try{!c&&p.return&&p.return()}finally{if(h)throw f}}return[].concat((0,i.default)(l))};t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=(0,r(n(439)).default)((function(e,t){return e.concat(t)}),[]);t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(t){return Array.prototype.forEach.call(t,e)}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(323));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){t.dispatchEvent((0,r.default)(e))};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=function(e,t){return[(0,r.chrToAbs)(e[0],e[1],t),(0,r.chrToAbs)(e[2],e[3],t)]};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(19));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,i,o){var a=t.chr,s=t.pos,l=n.chr,u=n.pos,c=[];if(a===l){var h=a,f=Math.floor(s/i),d=Math.min(f+o,Math.ceil(u/i));c.push([h,f,d])}else for(var p=o,m=e.findIndex((function(e){return(0,r.default)(e,1)[0]===a})),v=e.findIndex((function(e){return(0,r.default)(e,1)[0]===l})),g=m;g<=v;g++){var y=void 0,b=void 0,_=(0,r.default)(e[g],2),x=_[0],T=_[1];g<v?(y=g===m?s:0,b=T):(y=0,b=u);var w=Math.floor(y/i),S=Math.min(w+p,Math.ceil(b/i));c.push([x,w,S]),p-=S-w}return c}t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=function(e,t,n){if(0!==n.length){if(1===n.length)return n[0];var i=n[0],o=void 0!==r.DEFAULT_TRACKS_FOR_DATATYPE[e]?r.DEFAULT_TRACKS_FOR_DATATYPE[e][t]:void 0;return void 0!==o&&(i=n.find((function(e){return e.type===o}))||i),i}};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(440));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){return r.default.listen(),[e.clientWidth,e.clientHeight]};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(18));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n=null,i=function e(r){return r.uid===t&&(n=r),"combined"===r.type.substr(0,8)&&r.contents.forEach(e),null};return(0,r.default)(e).map((function(t){return e[t]})).filter((function(e){return e.filter})).reduce((function(e,t){return e.concat(t)}),[]).forEach(i),n};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(18));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,n){var i=e.state.views[t];if(!i)return null;var o=null,a=function e(t){return t.uid===n&&(o=t),"combined"===t.type.substr(0,8)&&t.contents.forEach(e),null},s=i.tracks;return(0,r.default)(s).map((function(e){return s[e]})).filter((function(e){return e.filter})).reduce((function(e,t){return e.concat(t)}),[]).forEach(a),o};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(37));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,n){var i=t?e[t]:(0,r.default)(e)[0];if(i){var o=i.trackRenderer.trackDefObjects[n];return o?o=o.trackObject:(0,r.default)(i.trackRenderer.trackDefObjects).map((function(e){return e.trackObject})).filter((function(e){return e.childTracks})).forEach((function(e){e.createdTracks[n]&&(o=e.createdTracks[n])})),o}console.warn(t?"Could't find view with id \""+String(t)+'"':"No views available.")};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(443));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n=null;return(0,r.default)(e,(function(e,r){e.uid===t&&(n=r)})),n};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,s=document.createElement("canvas");s.width=t,s.height=n;var l=s.getContext("2d"),u=l.createLinearGradient(r,i,o,a);return e.forEach((function(e){u.addColorStop(e.from,e.color)})),l.fillStyle=u,l.fillRect(0,0,t,n),s};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){for(var n=e;n&&n!==t&&"HTML"!==n.tagName;)n=n.parentNode;return n===t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return parseInt(e.replace(/^#/,""),16)};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(18)),i=o(n(256));function o(e){return e&&e.__esModule?e:{default:e}}var a=function e(t,n){return n===t||n instanceof i.default&&(0,r.default)(n.createdTracks).map((function(e){return n.createdTracks[e]})).some((function(n){return e(t,n)}))};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r,i,o){return arguments.length>6&&void 0!==arguments[6]&&arguments[6]?e>=n&&e<=r||t>=i&&t<=o:e>=n&&e<=r&&t>=i&&t<=o};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.invGudermannian=function(e){return Math.log(Math.tan((e+Math.PI/2)/2))},i=function(e,t){var n=e*Math.PI/180;return n=r(n),Math.pow(2,t)*(Math.PI-n)/(2*Math.PI)};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),i=n(10),o=function(e){return(0,i.objVals)(e).map((function(e){return e.chromInfoPath})).forEach((function(e){return r.chromInfo.get(e)}))};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Math.pow(2,t)*(e+180)/360};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return e>t?e:t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(63));function i(e){return e&&e.__esModule?e:{default:e}}t.default=a;var o=1e-7;function a(e){for(var t=r.default,n=0;n<e.length;n++){var i=e[n];i<o&&i>-o||i>t&&(t=i)}return t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return e<t?e:t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(55));function i(e){return e&&e.__esModule?e:{default:e}}t.default=a;var o=1e-7;function a(e){for(var t=r.default,n=0;n<e.length;n++){var i=e[n];i<o&&i>-o||i<t&&(t=i)}return t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return(e%t+t)%t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(30));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n=+t;if((0,r.default)(n)){var i=e.shape[0],o=e.shape[1],a=t.shape[0],s=t.shape[1];if(i!==a||o!==s)return void console.warn("Cannot assign source to target ndarray as the dimensions do not match",i,a,o,s);if(1===e.dimension)for(var l=0;l<e.shape[0];++l)e.set(l,t.get(l));else for(var u=0;u<e.shape[0];++u)for(var c=0;c<e.shape[1];++c)e.set(u,c,t.get(u,c))}else if(1===e.dimension)for(var h=0;h<e.shape[0];++h)e.set(h,n);else for(var f=0;f<e.shape[0];++f)for(var d=0;d<e.shape[1];++d)e.set(f,d,n)};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(136)),i=o(n(445));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return 1===e.shape.length?e:(0,r.default)((0,i.default)(e))};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.split("."),n=t.slice(1).join("").length;return+t.join("")/Math.pow(10,n)};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(18)),i=n(10);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return(0,i.map)((function(t){return e[t]}))((0,r.default)(e))};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return e||t};t.default=r},function(e,t,n){function r(e){for(var t=[],n={},r={},i=0,o=0;o<e.length;o++){var a=Number(e[o][1]);i+=a;var s={id:o,chr:e[o][0],pos:i-a};t.push(s),r[s.chr]=s,n[e[o][0]]=a}return{cumPositions:t,chrPositions:r,totalLength:i,chromLengths:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.pixiTextToSvg=function(e){var t=document.createElement("g"),n=document.createElement("text");return 0===e.anchor.x?n.setAttribute("text-anchor","start"):1===e.anchor.x?n.setAttribute("text-anchor","end"):n.setAttribute("text-anchor","middle"),n.setAttribute("font-family",e.style.fontFamily),n.setAttribute("font-size",e.style.fontSize),t.setAttribute("transform","scale("+String(e.scale.x)+",1)"),n.setAttribute("fill",e.style.fill),n.innerHTML=e.text,t.appendChild(n),t.setAttribute("transform","translate("+String(e.x)+","+String(e.y)+")scale("+String(e.scale.x)+",1)"),t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){try{var t=e.split(".");return function(e){var n=e;return t.forEach((function(e){n=n[e]})),n}}catch(n){return}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=function(e,t,n,i,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments[8],c=a?o:i,h=a?i:o,f=a?l:s,d=a?s:l,p=Math.max(0,+c[0]||0),m=Math.max(0,+c[1]||0),v=Math.max(0,+h[0]||0),g=Math.max(0,+h[1]||0),y=[];ArrayBuffer.isView(u)||console.warn("Not supported yet");try{for(var b=new u.constructor(u.length),_=0+d,x=v;x<g;x++)b.set(e.slice(x*t+p,x*t+m),f+_*n),_+=1;var T=a?(0,r.accessorTransposition)(n,n):void 0;y=(0,r.addArrays)(u,b,T)}catch(w){}return y};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){return[r.chrPositions[e].pos+ +t,r.chrPositions[e].pos+ +n]};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(221));function i(e){return e&&e.__esModule?e:{default:e}}var o="http://www.w3.org/2000/svg",a=function(e,t){var n=new RegExp("(\\s|^)"+String(t)+"(\\s|$)");if(e.namespaceURI===o){var i=e.getAttribute("class")||"";e.setAttribute("class",i.replace(n," "))}else e.classList?e.classList.remove(t):(0,r.default)(e,t)&&(e.className=e.className.replace(n," "))};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){e.select(".selection").attr("fill",null).attr("fill-opacity",null).attr("stroke",null).classed(t,!0)};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.toString(16);return 1===t.length?"0"+String(t):t},i=function(e,t,n){return"#"+String(r(e))+String(r(t))+String(r(n))};t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return[e.invert((e.range()[0]+e.range()[1])/2),t.invert((t.range()[0]+t.range()[1])/2),e.invert(1)-e.invert(0)]};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.scalesToGenomeLoci=void 0;var r=o(n(25)),i=o(n(326));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.scalesToGenomeLoci=function(e,t,n){if(null!==n&&e&&t){var o=e.domain()[0],a=e.domain()[1],s=t.domain()[0],l=t.domain()[1];return[].concat((0,r.default)((0,i.default)(o,a,n)),(0,r.default)((0,i.default)(s,l,n)))}};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(134),i=n(10),o=n(11),a=11184810,s=1,l=function(e,t,n,l,u,c,h,f,d){e.publish("app.animateOnMouseMove",!0);var p=n.mousePositionColor?(0,i.hexStrToInt)(n.mousePositionColor):a,m=n.mousePositionAlpha||s,v=new o.GLOBALS.PIXI.Graphics,g=function(){v.clear()},y=function(e,t,n){if(n||g(),v.lineStyle(1,p,m),t){var r=f?u()[0]:0;v.moveTo(0,e),v.lineTo(c()[0]+r,e)}else{var i=f?u()[1]:0;v.moveTo(e,0),v.lineTo(e,c()[1]+i)}},b=function(e){if(e.noHoveredTracks)return g(),v;var t=void 0,n=void 0;e.isFromVerticalTrack?(t=e.dataY,n=e.dataY):(t=e.dataX,n=e.isFrom2dTrack?e.dataY:e.dataX);var r=f?u():[0,0],i=h()?l()[0](n)+r[1]:l()[0](t)+r[0];return y(i),f&&y(l()[1](n)+r[1],!0,!0),v};return t.push(e.subscribe("app.mouseMove",b)),t.push(e.subscribe("app.mouseLeave",g)),t.push(e.subscribe("blur",g)),d&&t.push(r.globalPubSub.subscribe("higlass.mouseMove",b)),v},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t?e.pMasked:e.pForeground||e.pMain,i=function(){return[e.xScale(),e.yScale()]},o=l(e.pubSub,e.pubSubs,e.options,i,e.getPosition.bind(e),e.getDimensions.bind(e),e.getProp("flipText"),t,n);return r.addChild(o),function(){r.removeChild(o)}};t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(t){return Array.prototype.some.call(t,e)}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return e+t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.svgLine=function(e,t,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",n),a.setAttribute("y1",t),a.setAttribute("y2",r),i&&a.setAttribute("stroke-width",i),o&&a.setAttribute("stroke",o),a};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){var r=void 0,i=0,o=function(){r=null},a=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=function(){i>0&&(e.apply(void 0,o),i=0)};clearTimeout(r),r=setTimeout(s,n)};a.cancel=function(){clearTimeout(r),o()},a.immediate=function(){e.apply(void 0,arguments)};var s=!1,l=function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];s?i++:(e.apply(void 0,o),a.apply(void 0,o),s=!0,i=0,setTimeout((function(){s=!1}),t))};return l};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,r=document.createElement("canvas");r.width=t,r.height=n;var i=r.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,r.width,r.height);var o=new ImageData(e,r.width,r.height);return i.putImageData(o,0,0),r};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(62));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){return new r.default((function(t){return setTimeout(t,e)}))};t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(!e.tracks)return 0;var t=0;return e.tracks.top&&(t+=e.tracks.top.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),e.tracks.center&&(t+=e.tracks.center.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),e.tracks.bottom&&(t+=e.tracks.bottom.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return(e||"").replace(/\/$/,"")};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return function(i){var o=255;return i>r&&(o=Math.max(0,Math.min(255,Math.floor(e(i+n))))),t[o]}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){for(var t=[],n=0;n<e.length;n++)e[n].contents?t=t.concat(e[n].contents):t.push(e[n]);return t};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(942));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){e.sort((function(e,t){return t.to-t.from-(e.to-e.from)}));for(var t=[[]],n=[new r.default],i=0;i<e.length;i++){for(var o=!1,a=0;a<t.length;a++){var s=n[a],l=[+e[i].from,+e[i].to];if(!s.intersects(l)){s.add(l),t[a].push(e[i]),o=!0;break}}if(!o){var u=new r.default;u.add([e[i].from,e[i].to]),t.push([e[i]]),n.push(u)}}return t}t.default=o},function(e,t,n){function r(e,t,n,r){this.interval=[e,t],this.max=-1/0,this.parentNode=null,this.left=n,this.right=r}function i(){this.root=null}function o(e,t,n){var i=new r(n[0],n[1]);if(i.max=n[1],i.parentNode=e,e[t]=i,e.max<n[1])for(;i;)i.max<n[1]&&(i.max=n[1]),i=i.parentNode}function a(e,t){e.interval[0]>t[0]?e.left?a(e.left,t):o(e,"left",t):e.right?a(e.right,t):o(e,"right",t)}function s(e,t){if(!t)return!1;if(t.interval[0]<=e&&t.interval[1]>=e)return!0;var n=!1,r=void 0;return["left","right"].forEach((function(i){(r=t[i])&&r.max>e&&(n=n||s(e,r))})),n}function l(e,t){return e[0]===t[0]&&e[1]===t[1]||e[0]<t[0]&&e[1]>t[0]||e[0]<t[1]&&e[1]>t[1]||t[0]<e[0]&&t[1]>e[0]||t[0]<e[1]&&t[1]>e[1]}function u(e,t){if(!t)return!1;if(l(t.interval,e))return!0;var n=!1,r=void 0;return["left","right"].forEach((function(i){(r=t[i])&&r.max>=e[0]&&(n=n||u(e,r))})),n}function c(e){return e?1+Math.max(c(e.left),c(e.right)):0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.prototype.add=function(){function e(e){if(!this.root)return this.root=new r(e[0],e[1]),void(this.root.max=e[1]);a(this.root,e)}return e}(),i.prototype.contains=function(){function e(e){return s(e,this.root)}return e}(),i.prototype.intersects=function(){function e(e){return u(e,this.root)}return e}(),i.prototype.height=function(){function e(){return c(this.root)}return e}(),i.prototype.findMax=function(){function e(e){for(var t=[e],n=void 0,r=-1/0,i=void 0;t.length;)(n=t.pop()).left&&t.push(n.left),n.right&&t.push(n.right),n.interval[1]>r&&(r=n.interval[1],i=n);return i}return e}(),i.prototype._removeHelper=function(){function e(e,t){if(t)if(t.interval[0]===e[0]&&t.interval[1]===e[1]){if(t.left&&t.right){for(var n=t.left;n.left;)n=n.left;var r=n.interval;n.interval=t.interval,t.interval=r,this._removeHelper(n.interval,t)}else{var i="left";t.right&&(i="right");var o=t.parentNode;o?(o.left===t?o.left=t[i]:o.right=t[i],t[i]&&(t[i].parentNode=o)):(this.root=t[i],this.root&&(this.root.parentNode=null))}var a=t.parentNode;if(a)for(var s=this.findMax(a),l=s.interval[1];s;)s.max===t.interval[1]?(s.max=l,s=s.parentNode):s=!1}else this._removeHelper(e,t.left),this._removeHelper(e,t.right)}return e}(),i.prototype.remove=function(){function e(e){return this._removeHelper(e,this.root)}return e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(17)),i=l(n(37)),o=l(n(55)),a=n(157),s=l(n(179));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},c=function(e,t){var n=e.map((function(e){return+e})).sort((function(e,t){return t-e})),r=t.range()[1]-t.range()[0],i=n.map((function(e){return(t.domain()[1]-t.domain()[0])/e})).map((function(e){return e/r})),o=i.filter((function(e){return e<1}));return 0===o.length?0:i.indexOf(o[o.length-1])},h=function(e,t,n,r){var i=e.range()[1]-e.range()[0],o=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),a=384,s=Math.max(0,Math.ceil(Math.log(i/a)/Math.LN2)),l=Math.round(Math.log(o)/Math.LN2)+s,u=0;return r&&(u=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),l+=u},f=function(e,t,n){if("undefined"==typeof n&&(n=o.default),e.resolutions)return c(e.resolutions,t,e.min_pos[0],e.max_pos[0]-2);var r=h(t,e.min_pos[0],e.max_pos[0],e.bins_per_dimension||e.tile_size),i=Math.min(r,n);return Math.max(i,0)},d=function(e,t,n,r,i,o){var a=Math.min(e,i),s=o/Math.pow(2,a),l=1e-7;return u(Math.max(0,Math.floor((t.domain()[0]-n)/s)),Math.min(Math.pow(2,a),Math.ceil((t.domain()[1]-n-l)/s)))},p=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.MAX_VALUE,i=1e-7,o=e*(arguments.length>4&&void 0!==arguments[4]?arguments[4]:256),a=20,s=Math.max(0,Math.floor((t.domain()[0]-n)/o)),l=Math.ceil(Math.min(r,t.domain()[1]-n-i)/o),c=u(s,l);return c.length>a&&(console.warn("Too many visible tiles: "+String(c.length)+" truncating to "+a),c=c.slice(0,a)),c};function m(e,t){(0,i.default)(e.fetchedTiles).forEach((function(n){if(n.drawnAtScale){var i=n.drawnAtScale.range(),o=e._xScale.range();if(i[0]!==o[0]||i[1]!==o[1])return void e.renderTile(n);var a=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]);if(a>2||a<.5)e.renderTile(n);else{var s=e._xScale.domain().map(n.drawnAtScale)[0],l=!0,u=!1,c=void 0;try{for(var h,f=(0,r.default)(t);!(l=(h=f.next()).done);l=!0){var d=h.value;d(n).scale.x=a,d(n).x=-s*a}}catch(p){u=!0,c=p}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}}}}))}var v={calculate1DVisibleTiles:function(e,t){if(!e)return[];var n=f(e,t,e.max_zoom);if(e.resolutions){var r=e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));return p(r[n],t,e.min_pos[0],e.max_pos[0]).map((function(e){return[n,e]}))}return d(n,t,e.min_pos[0],e.max_pos[0],e.max_zoom,e.max_width).map((function(e){return[n,e]}))},calculate1DZoomLevel:f,drawAxis:function(e,t){if(e.axis||(e.axis=new s.default(e),e.pBase.addChild(e.axis.pAxis)),e.options.axisPositionVertical||e.options.axisPositionHorizontal)if(e.options.axisPositionVertical&&"hidden"===e.options.axisPositionVertical)e.axis.clearAxis();else if(e.options.axisPositionHorizontal&&"hidden"===e.options.axisPositionHorizontal)e.axis.clearAxis();else{var n=e.options.axisMargin||0;"left"===e.options.axisPositionHorizontal||"top"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1])):"outsideLeft"===e.options.axisPositionHorizontal||"outsideTop"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):"right"===e.options.axisPositionHorizontal||"bottom"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):("outsideRight"===e.options.axisPositionHorizontal||"outsideBottom"===e.options.axisPositionVertical)&&(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1]))}else e.axis.clearAxis()},movedY:function(e,t){var n=e.valueScaleTransform,r=n.y,o=n.k;r+t/o>-(o-1)*e.dimensions[1]&&r+t/o<0&&(e.valueScaleTransform=n.translate(0,t/o)),(0,i.default)(e.fetchedTiles).forEach((function(t){t.graphics.position.y=e.valueScaleTransform.y})),e.animate()},getTilePosAndDimensions:function(e,t){var n=+t.split(".")[0],r=+t.split(".")[1],i=e.max_width,o=e.min_pos[0],a=i/Math.pow(2,n);return{tileX:o+r*a,tileWidth:a}},stretchRects:m,zoomedY:function(e,t,n,r){var i=n.k,o=n.y,s=(e-o)/i,l=Math.max(i/t,1),u=i*s+o-l*s;return u=Math.max(u,-(l-1)*r),u=Math.min(u,0),a.zoomIdentity.translate(0,u).scale(l)}};t.default=v},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.removeHGComponent=t.mountHGComponent=t.waitForTilesLoaded=t.isWaitingOnTiles=t.waitForJsonComplete=t.waitForTransitionsFinished=t.areTransitionsActive=t.changeOptions=void 0;var r=h(n(34)),i=h(n(17)),o=h(n(1)),a=h(n(42)),s=n(945),l=n(24),u=n(446),c=h(n(232));function h(e){return e&&e.__esModule?e:{default:e}}var f=100;t.changeOptions=function(e,t,n,o){var a=!0,s=!1,l=void 0;try{for(var u,c=(0,i.default)(e.instance().iterateOverTracks());!(a=(u=c.next()).done);a=!0){var h=u.value,f=h.viewId,d=h.trackId,p=h.track;f===t&&d===n&&(p.options=(0,r.default)({},p.options,o))}}catch(m){s=!0,l=m}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}e.setState(e.instance().state)};var d=t.areTransitionsActive=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=(0,i.default)(e.iterateOverTracks());!(t=(o=a.next()).done);t=!0){var s=o.value;if((0,u.getTrackRenderer)(e,s.viewId,s.trackId).activeTransitions>0)return!0}}catch(l){n=!0,r=l}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return!1};t.waitForTransitionsFinished=function e(t,n){d(t)?setTimeout((function(){e(t,n)}),f):n()};var p=t.waitForJsonComplete=function e(t){l.requestsInFlight>0?setTimeout((function(){return e(t)}),f):t()},m=t.isWaitingOnTiles=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=(0,i.default)(e.iterateOverTracks());!(t=(o=a.next()).done);t=!0){var s=o.value,l=(0,u.getTrackObjectFromHGC)(e,s.viewId,s.trackId);if(s.track.server||s.track.tilesetUid||s.track.data&&"divided"===s.track.data.type){if(!(s.track.data&&"divided"===s.track.data.type||s.track.server&&s.track.tilesetUid))throw Error('"server" and "tilesetUid" belong together');if(l.originalTrack&&(l=l.originalTrack),!l.tilesetInfo&&!l.chromInfo||l.fetching&&l.fetching.size)return!0}}}catch(c){n=!0,r=c}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return!1},v=t.waitForTilesLoaded=function e(t,n){m(t)?setTimeout((function(){e(t,n)}),f):n()};t.mountHGComponent=function(t,n,r,i,a){n&&(n.unmount(),n.detach()),t&&e.document.body.removeChild(t);var l=a&&a.style||"width:800px; background-color: lightgreen;",u=a&&a.bounded||!1,h=e.document.createElement("div");e.document.body.appendChild(h),h.setAttribute("style",l),h.setAttribute("id","simple-hg-component");var f=(0,s.mount)(o.default.createElement(c.default,{options:{bounded:u},viewConfig:r}),{attachTo:h});return f.update(),p((function(){if(a&&a.extendedDelay){var e=function(){return setTimeout((function(){i()}),1e3)};v(f.instance(),e)}else v(f.instance(),i)})),[h,f]},t.removeHGComponent=function(e){e&&(a.default.unmountComponentAtNode(e),document.body.removeChild(e))}}).call(this,n(27))},function(e,t,n){var r=c(n(447)),i=c(n(515)),o=c(n(510)),a=c(n(1074)),s=c(n(1075)),l=c(n(1076)),u=n(315);function c(e){return e&&e.__esModule?e:{default:e}}e.exports={render:l.default,shallow:s.default,mount:a.default,ShallowWrapper:i.default,ReactWrapper:r.default,configure:u.merge,EnzymeAdapter:o.default}},function(e,t,n){var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(448),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(t){return!0}}catch(n){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!d)return h(e);try{return h(e)}catch(t){return!1}};r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),h=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=u&&n;if(s&&e.length>0&&!i.call(e,0))for(var d=0;d<e.length;++d)h.push(String(d));if(r&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var v in e)(!f||"prototype"!==v)&&i.call(e,v)&&h.push(String(v));if(l)for(var g=p(e),y=0;y<c.length;++y)(!g||"constructor"!==c[y])&&i.call(e,c[y])&&h.push(c[y]);return h}}e.exports=r},function(e,t,n){var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";e.exports=function(e){var t=this;if("function"!=typeof t||o.call(t)!==a)throw new TypeError(r+t);for(var n,s=i.call(arguments,1),l=function(){if(this instanceof n){var r=t.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(i.call(arguments)))},u=Math.max(0,t.length-s.length),c=[],h=0;h<u;h++)c.push("$"+h);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var f=function(){};f.prototype=t.prototype,n.prototype=new f,f.prototype=null}return n}},function(e,t,n){var r=n(52),i=n(451);e.exports=function(){var e=i();return r(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},function(e){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,n){var r=n(458),i=e.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach((function(e){var t=o[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,n){var r=n(457),i=n(101);function o(e,t){this.init(e,t)}function a(e,t){return i.getElementsByTagName(e,t,!0)}function s(e,t){return i.getElementsByTagName(e,t,!0,1)[0]}function l(e,t,n){return i.getText(i.getElementsByTagName(e,t,n,1)).trim()}function u(e,t,n,r,i){var o=l(n,r,i);o&&(e[t]=o)}n(58)(o,r),o.prototype.init=r;var c=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};o.prototype.onend=function(){var e,t,n={},i=s(c,this.dom);i&&("feed"===i.name?(t=i.children,n.type="atom",u(n,"id","id",t),u(n,"title","title",t),(e=s("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),u(n,"description","subtitle",t),(e=l("updated",t))&&(n.updated=new Date(e)),u(n,"author","email",t,!0),n.items=a("entry",t).map((function(e){var t,n={};return u(n,"id","id",e=e.children),u(n,"title","title",e),(t=s("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=l("summary",e)||l("content",e))&&(n.description=t),(t=l("updated",e))&&(n.pubDate=new Date(t)),n}))):(t=s("channel",i.children).children,n.type=i.name.substr(0,3),n.id="",u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t),(e=l("lastBuildDate",t))&&(n.updated=new Date(e)),u(n,"author","managingEditor",t,!0),n.items=a("item",i.children).map((function(e){var t,n={};return u(n,"id","guid",e=e.children),u(n,"title","title",e),u(n,"link","link",e),u(n,"description","description",e),(t=l("pubDate",e))&&(n.pubDate=new Date(t)),n})))),this.dom=n,r.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},e.exports=o},function(e,t,n){var r=n(123),i=n(299),o=r.isTag;function a(e,t){return e.children?e.children.map((function(e){return i(e,t)})).join(""):""}function s(e){return Array.isArray(e)?e.map(s).join(""):o(e)||e.type===r.CDATA?s(e.children):e.type===r.Text?e.data:""}e.exports={getInnerHTML:a,getOuterHTML:i,getText:s}},function(e,t,n){var r=n(954),i=n(955);t.decode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?i.XML:i.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=i.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=i.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=i.HTMLStrict,t.escape=r.escape},function(e,t,n){var r=s(n(298)),i=l(r);t.XML=d(r,i);var o=s(n(297)),a=l(o);function s(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function l(e){var t=[],n=[];return Object.keys(e).forEach((function(e){1===e.length?t.push("\\"+e):n.push(e)})),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=d(o,a);var u=/[^\0-\x7F]/g,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function h(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function f(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function d(e,t){function n(t){return e[t]}return function(e){return e.replace(t,n).replace(c,f).replace(u,h)}}var p=l(r);function m(e){return e.replace(p,h).replace(c,f).replace(u,h)}t.escape=m},function(e,t,n){var r=n(297),i=n(456),o=n(298),a=n(455),s=u(o),l=u(r);function u(e){var t=Object.keys(e).join("|"),n=f(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}var c=function(){for(var e=Object.keys(i).sort(h),t=Object.keys(r).sort(h),n=0,o=0;n<t.length;n++)e[o]===t[n]?(t[n]+=";?",o++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=f(r);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}();function h(e,t){return e<t?1:-1}function f(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?a(parseInt(t.substr(3),16)):a(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}e.exports={XML:s,HTML:c,HTMLStrict:l}},function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var o=i.children;o[o.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,n){var r=n(123).isTag;function i(e,t,n,r){return Array.isArray(t)||(t=[t]),("number"!=typeof r||!isFinite(r))&&(r=1/0),o(e,t,!1!==n,r)}function o(e,t,n,r){for(var i,a=[],s=0,l=t.length;s<l&&!(e(t[s])&&(a.push(t[s]),--r<=0)||(i=t[s].children,n&&i&&i.length>0&&(i=o(e,i,n,r),a=a.concat(i),r-=i.length,r<=0)));s++);return a}function a(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null}function s(e,t){for(var n=null,i=0,o=t.length;i<o&&!n;i++)r(t[i])&&(e(t[i])?n=t[i]:t[i].children.length>0&&(n=s(e,t[i].children)));return n}function l(e,t){for(var n=0,i=t.length;n<i;n++)if(r(t[n])&&(e(t[n])||t[n].children.length>0&&l(e,t[n].children)))return!0;return!1}function u(e,t){for(var n=[],i=0,o=t.length;i<o;i++)r(t[i])&&(e(t[i])&&n.push(t[i]),t[i].children.length>0&&(n=n.concat(u(e,t[i].children))));return n}e.exports={filter:i,find:o,findOneChild:a,findOne:s,existsOne:l,findAll:u}},function(e,t,n){var r=n(123),i=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n))if("tag_name"===n){if(!i(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(i(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1;return!0};var o={tag_name:function(e){return"function"==typeof e?function(t){return i(t)&&e(t.name)}:"*"===e?i:function(t){return i(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!i(t)&&e(t.data)}:function(t){return!i(t)&&t.data===e}}};function a(e,t){return"function"==typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function s(e,t){return function(n){return e(n)||t(n)}}t.getElements=function(e,t,n,r){var i=Object.keys(e).map((function(t){var n=e[t];return t in o?o[t](n):a(t,n)}));return 0===i.length?[]:this.filter(i.reduce(s),t,n,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(a("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(o.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(o.tag_type(e),t,n,r)}},function(e,t){t.removeSubsets=function(e){for(var t,n,r,i=e.length;--i>-1;){for(t=n=e[i],e[i]=null,r=!0;n;){if(e.indexOf(n)>-1){r=!1,e.splice(i,1);break}n=n.parent}r&&(e[i]=t)}return e};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},r=t.compareDocumentPosition=function(e,t){var r,i,o,a,s,l,u=[],c=[];if(e===t)return 0;for(r=e;r;)u.unshift(r),r=r.parent;for(r=t;r;)c.unshift(r),r=r.parent;for(l=0;u[l]===c[l];)l++;return 0===l?n.DISCONNECTED:(o=(i=u[l-1]).children,a=u[l],s=c[l],o.indexOf(a)>o.indexOf(s)?i===t?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:i===e?n.PRECEDING|n.CONTAINS:n.PRECEDING)};t.uniqueSort=function(e){var t,i,o=e.length;for(e=e.slice();--o>-1;)t=e[o],(i=e.indexOf(t))>-1&&i<o&&e.splice(o,1);return e.sort((function(e,t){var i=r(e,t);return i&n.PRECEDING?-1:i&n.FOLLOWING?1:0})),e}},function(e,t,n){e.exports=i;var r=n(459);function i(e){r.call(this,new o(this),e)}function o(e){this.scope=e}n(58)(i,r),i.prototype.readable=!0;var a=n(148).EVENTS;Object.keys(a).forEach((function(e){if(0===a[e])o.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===a[e])o.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==a[e])throw Error("wrong number of arguments!");o.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}}))},function(e,t){},function(e,t,n){function r(e){this._cbs=e||{}}e.exports=r;var i=n(148).EVENTS;Object.keys(i).forEach((function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}}))},function(e,t,n){function r(e){this._cbs=e||{},this.events=[]}e.exports=r;var i=n(148).EVENTS;Object.keys(i).forEach((function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}})),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t,n){var r=n(460),i=n(464);t.parse=function(e,t){return new r(t).parse(e)},t.parseFragment=function(e,t,n){return"string"==typeof e&&(n=t,t=e,e=null),new r(n).parseFragment(t,e)},t.serialize=function(e,t){return new i(e,t).serialize()},t.treeAdapters={default:n(301),htmlparser2:n(973)},t.ParserStream=n(465),t.PlainTextConversionStream=n(985),t.SerializerStream=n(986),t.SAXParser=n(987)},function(e,t,n){var r=n(149).CODE_POINTS;function i(e,t){return e>=55296&&e<=56319&&t>=56320&&t<=57343}function o(e,t){return 1024*(e-55296)+9216+t}var a=65536,s=e.exports=function(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=a};s.prototype.dropParsedChunk=function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])},s.prototype._addGap=function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos},s.prototype._processHighRangeCodePoint=function(e){if(this.pos!==this.lastCharPos){var t=this.html.charCodeAt(this.pos+1);i(e,t)&&(this.pos++,e=o(e,t),this._addGap())}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,r.EOF;return e},s.prototype.write=function(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t},s.prototype.insertHtmlAtCurrentPos=function(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1},s.prototype.advance=function(){if(this.pos++,this.pos>this.lastCharPos)return this.lastChunkWritten||(this.endOfChunkHit=!0),r.EOF;var e=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&e===r.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):e===r.CARRIAGE_RETURN?(this.skipNextNewLine=!0,r.LINE_FEED):(this.skipNextNewLine=!1,e>=55296?this._processHighRangeCodePoint(e):e)},s.prototype.retreat=function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}},function(e,t,n){e.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},function(e,t,n){var r=n(64),i=r.TAG_NAMES,o=r.NAMESPACES;function a(e){switch(e.length){case 1:return e===i.P;case 2:return e===i.RB||e===i.RP||e===i.RT||e===i.DD||e===i.DT||e===i.LI;case 3:return e===i.RTC;case 6:return e===i.OPTION;case 8:return e===i.OPTGROUP||e===i.MENUITEM}return!1}function s(e,t){switch(e.length){case 2:if(e===i.TD||e===i.TH)return t===o.HTML;if(e===i.MI||e===i.MO||e===i.MN||e===i.MS)return t===o.MATHML;break;case 4:if(e===i.HTML)return t===o.HTML;if(e===i.DESC)return t===o.SVG;break;case 5:if(e===i.TABLE)return t===o.HTML;if(e===i.MTEXT)return t===o.MATHML;if(e===i.TITLE)return t===o.SVG;break;case 6:return(e===i.APPLET||e===i.OBJECT)&&t===o.HTML;case 7:return(e===i.CAPTION||e===i.MARQUEE)&&t===o.HTML;case 8:return e===i.TEMPLATE&&t===o.HTML;case 13:return e===i.FOREIGN_OBJECT&&t===o.SVG;case 14:return e===i.ANNOTATION_XML&&t===o.MATHML}return!1}var l=e.exports=function(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t};l.prototype._indexOf=function(e){for(var t=-1,n=this.stackTop;n>=0;n--)if(this.items[n]===e){t=n;break}return t},l.prototype._isInTemplate=function(){return this.currentTagName===i.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===o.HTML},l.prototype._updateCurrentElement=function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null},l.prototype.push=function(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++},l.prototype.pop=function(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()},l.prototype.replace=function(e,t){var n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&this._updateCurrentElement()},l.prototype.insertAfter=function(e,t){var n=this._indexOf(e)+1;this.items.splice(n,0,t),n===++this.stackTop&&this._updateCurrentElement()},l.prototype.popUntilTagNamePopped=function(e){for(;this.stackTop>-1;){var t=this.currentTagName,n=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&n===o.HTML)break}},l.prototype.popUntilElementPopped=function(e){for(;this.stackTop>-1;){var t=this.current;if(this.pop(),t===e)break}},l.prototype.popUntilNumberedHeaderPopped=function(){for(;this.stackTop>-1;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.H1||e===i.H2||e===i.H3||e===i.H4||e===i.H5||e===i.H6&&t===o.HTML)break}},l.prototype.popUntilTableCellPopped=function(){for(;this.stackTop>-1;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.TD||e===i.TH&&t===o.HTML)break}},l.prototype.popAllUpToHtmlElement=function(){this.stackTop=0,this._updateCurrentElement()},l.prototype.clearBackToTableContext=function(){for(;this.currentTagName!==i.TABLE&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.clearBackToTableBodyContext=function(){for(;this.currentTagName!==i.TBODY&&this.currentTagName!==i.TFOOT&&this.currentTagName!==i.THEAD&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.clearBackToTableRowContext=function(){for(;this.currentTagName!==i.TR&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.remove=function(e){for(var t=this.stackTop;t>=0;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}},l.prototype.tryPeekProperlyNestedBodyElement=function(){var e=this.items[1];return e&&this.treeAdapter.getTagName(e)===i.BODY?e:null},l.prototype.contains=function(e){return this._indexOf(e)>-1},l.prototype.getCommonAncestor=function(e){var t=this._indexOf(e);return--t>=0?this.items[t]:null},l.prototype.isRootHtmlElementCurrent=function(){return 0===this.stackTop&&this.currentTagName===i.HTML},l.prototype.hasInScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if(s(n,r))return!1}return!0},l.prototype.hasNumberedHeaderInScope=function(){for(var e=this.stackTop;e>=0;e--){var t=this.treeAdapter.getTagName(this.items[e]),n=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===i.H1||t===i.H2||t===i.H3||t===i.H4||t===i.H5||t===i.H6)&&n===o.HTML)return!0;if(s(t,n))return!1}return!0},l.prototype.hasInListItemScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if((n===i.UL||n===i.OL)&&r===o.HTML||s(n,r))return!1}return!0},l.prototype.hasInButtonScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if(n===i.BUTTON&&r===o.HTML||s(n,r))return!1}return!0},l.prototype.hasInTableScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(n===e)return!0;if(n===i.TABLE||n===i.TEMPLATE||n===i.HTML)return!1}}return!0},l.prototype.hasTableBodyContextInTableScope=function(){for(var e=this.stackTop;e>=0;e--){var t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===o.HTML){if(t===i.TBODY||t===i.THEAD||t===i.TFOOT)return!0;if(t===i.TABLE||t===i.HTML)return!1}}return!0},l.prototype.hasInSelectScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(n===e)return!0;if(n!==i.OPTION&&n!==i.OPTGROUP)return!1}}return!0},l.prototype.generateImpliedEndTags=function(){for(;a(this.currentTagName);)this.pop()},l.prototype.generateImpliedEndTagsWithExclusion=function(e){for(;a(this.currentTagName)&&this.currentTagName!==e;)this.pop()}},function(e,t,n){var r=3,i=e.exports=function(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null};i.MARKER_ENTRY="MARKER_ENTRY",i.ELEMENT_ENTRY="ELEMENT_ENTRY",i.prototype._getNoahArkConditionCandidates=function(e){var t=[];if(this.length>=r)for(var n=this.treeAdapter.getAttrList(e).length,o=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e),s=this.length-1;s>=0;s--){var l=this.entries[s];if(l.type===i.MARKER_ENTRY)break;var u=l.element,c=this.treeAdapter.getAttrList(u);this.treeAdapter.getTagName(u)===o&&this.treeAdapter.getNamespaceURI(u)===a&&c.length===n&&t.push({idx:s,attrs:c})}return t.length<r?[]:t},i.prototype._ensureNoahArkCondition=function(e){var t=this._getNoahArkConditionCandidates(e),n=t.length;if(n){for(var i=this.treeAdapter.getAttrList(e),o=i.length,a=Object.create(null),s=0;s<o;s++){var l=i[s];a[l.name]=l.value}for(s=0;s<o;s++)for(var u=0;u<n;u++){var c=t[u].attrs[s];if(a[c.name]!==c.value&&(t.splice(u,1),n--),t.length<r)return}for(s=n-1;s>=r-1;s--)this.entries.splice(t[s].idx,1),this.length--}},i.prototype.insertMarker=function(){this.entries.push({type:i.MARKER_ENTRY}),this.length++},i.prototype.pushElement=function(e,t){this._ensureNoahArkCondition(e),this.entries.push({type:i.ELEMENT_ENTRY,element:e,token:t}),this.length++},i.prototype.insertElementAfterBookmark=function(e,t){for(var n=this.length-1;n>=0&&this.entries[n]!==this.bookmark;n--);this.entries.splice(n+1,0,{type:i.ELEMENT_ENTRY,element:e,token:t}),this.length++},i.prototype.removeEntry=function(e){for(var t=this.length-1;t>=0;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}},i.prototype.clearToLastMarker=function(){for(;this.length;){var e=this.entries.pop();if(this.length--,e.type===i.MARKER_ENTRY)break}},i.prototype.getElementEntryInScopeWithTagName=function(e){for(var t=this.length-1;t>=0;t--){var n=this.entries[t];if(n.type===i.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(n.element)===e)return n}return null},i.prototype.getElementEntry=function(e){for(var t=this.length-1;t>=0;t--){var n=this.entries[t];if(n.type===i.ELEMENT_ENTRY&&n.element===e)return n}return null}},function(e,t,n){var r=n(201),i=n(124),o=n(461),a=n(462),s=n(972),l=n(64),u=n(71).inherits,c=l.TAG_NAMES,h=e.exports=function(e){r.call(this,e),this.parser=e,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null};u(h,r),h.prototype._setStartLocation=function(e){this.lastStartTagToken?(e.__location=Object.create(this.lastStartTagToken.location),e.__location.startTag=this.lastStartTagToken.location):e.__location=null},h.prototype._setEndLocation=function(e,t){var n=e.__location;if(n)if(t.location){var r=t.location,o=this.parser.treeAdapter.getTagName(e);t.type===i.END_TAG_TOKEN&&o===t.tagName?(n.endTag=Object.create(r),n.endOffset=r.endOffset):n.endOffset=r.startOffset}else t.type===i.EOF_TOKEN&&(n.endOffset=this.posTracker.offset)},h.prototype._getOverriddenMethods=function(e,t){return{_bootstrap:function(n,r){t._bootstrap.call(this,n,r),e.lastStartTagToken=null,e.lastFosterParentingLocation=null,e.currentToken=null,e.posTracker=new a(this.tokenizer.preprocessor),new o(this.tokenizer),new s(this.openElements,{onItemPop:function(t){e._setEndLocation(t,e.currentToken)}})},_runParsingLoop:function(n){t._runParsingLoop.call(this,n);for(var r=this.openElements.stackTop;r>=0;r--)e._setEndLocation(this.openElements.items[r],e.currentToken)},_processTokenInForeignContent:function(n){e.currentToken=n,t._processTokenInForeignContent.call(this,n)},_processToken:function(n){if(e.currentToken=n,t._processToken.call(this,n),n.type===i.END_TAG_TOKEN&&(n.tagName===c.HTML||n.tagName===c.BODY&&this.openElements.hasInScope(c.BODY)))for(var r=this.openElements.stackTop;r>=0;r--){var o=this.openElements.items[r];if(this.treeAdapter.getTagName(o)===n.tagName){e._setEndLocation(o,n);break}}},_setDocumentType:function(e){t._setDocumentType.call(this,e);for(var n=this.treeAdapter.getChildNodes(this.document),r=n.length,i=0;i<r;i++){var o=n[i];if(this.treeAdapter.isDocumentTypeNode(o)){o.__location=e.location;break}}},_attachElementToTree:function(n){e._setStartLocation(n),e.lastStartTagToken=null,t._attachElementToTree.call(this,n)},_appendElement:function(n,r){e.lastStartTagToken=n,t._appendElement.call(this,n,r)},_insertElement:function(n,r){e.lastStartTagToken=n,t._insertElement.call(this,n,r)},_insertTemplate:function(n){e.lastStartTagToken=n,t._insertTemplate.call(this,n),this.treeAdapter.getTemplateContent(this.openElements.current).__location=null},_insertFakeRootElement:function(){t._insertFakeRootElement.call(this),this.openElements.current.__location=null},_appendCommentNode:function(e,n){t._appendCommentNode.call(this,e,n);var r=this.treeAdapter.getChildNodes(n);r[r.length-1].__location=e.location},_findFosterParentingLocation:function(){return e.lastFosterParentingLocation=t._findFosterParentingLocation.call(this),e.lastFosterParentingLocation},_insertCharacters:function(n){t._insertCharacters.call(this,n);var r=this._shouldFosterParentOnInsertion(),i=r&&e.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,o=this.treeAdapter.getChildNodes(i),a=r&&e.lastFosterParentingLocation.beforeElement?o.indexOf(e.lastFosterParentingLocation.beforeElement)-1:o.length-1,s=o[a];s.__location?s.__location.endOffset=n.location.endOffset:s.__location=n.location}}}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){var r=n(201),i=n(71).inherits,o=e.exports=function(e,t){r.call(this,e),this.onItemPop=t.onItemPop};i(o,r),o.prototype._getOverriddenMethods=function(e,t){return{pop:function(){e.onItemPop(this.current),t.pop.call(this)},popAllUpToHtmlElement:function(){for(var n=this.stackTop;n>0;n--)e.onItemPop(this.items[n]);t.popAllUpToHtmlElement.call(this)},remove:function(n){e.onItemPop(this.current),t.remove.call(this,n)}}}},function(e,t,n){var r=n(303),i=n(64).DOCUMENT_MODE,o={element:1,text:3,cdata:4,comment:8},a={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},s=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};s.prototype={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return o[this.type]||o.element}},Object.keys(a).forEach((function(e){var t=a[e];Object.defineProperty(s.prototype,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})),t.createDocument=function(){return new s({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":i.NO_QUIRKS})},t.createDocumentFragment=function(){return new s({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},t.createElement=function(e,t,n){for(var r=Object.create(null),i=Object.create(null),o=Object.create(null),a=0;a<n.length;a++){var l=n[a].name;r[l]=n[a].value,i[l]=n[a].namespace,o[l]=n[a].prefix}return new s({type:"script"===e||"style"===e?e:"tag",name:e,namespace:t,attribs:r,"x-attribsNamespace":i,"x-attribsPrefix":o,children:[],parent:null,prev:null,next:null})},t.createCommentNode=function(e){return new s({type:"comment",data:e,parent:null,prev:null,next:null})};var l=function(e){return new s({type:"text",data:e,parent:null,prev:null,next:null})},u=t.appendChild=function(e,t){var n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},c=t.insertBefore=function(e,t,n){var r=e.children.indexOf(n),i=n.prev;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e};t.setTemplateContent=function(e,t){u(e,t)},t.getTemplateContent=function(e){return e.children[0]},t.setDocumentType=function(e,t,n,i){for(var o=r.serializeContent(t,n,i),a=null,l=0;l<e.children.length;l++)if("directive"===e.children[l].type&&"!doctype"===e.children[l].name){a=e.children[l];break}a?(a.data=o,a["x-name"]=t,a["x-publicId"]=n,a["x-systemId"]=i):u(e,new s({type:"directive",name:"!doctype",data:o,"x-name":t,"x-publicId":n,"x-systemId":i}))},t.setDocumentMode=function(e,t){e["x-mode"]=t},t.getDocumentMode=function(e){return e["x-mode"]},t.detachNode=function(e){if(e.parent){var t=e.parent.children.indexOf(e),n=e.prev,r=e.next;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},t.insertText=function(e,t){var n=e.children[e.children.length-1];n&&"text"===n.type?n.data+=t:u(e,l(t))},t.insertTextBefore=function(e,t,n){var r=e.children[e.children.indexOf(n)-1];r&&"text"===r.type?r.data+=t:c(e,l(t),n)},t.adoptAttributes=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].name;"undefined"==typeof e.attribs[r]&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},t.getFirstChild=function(e){return e.children[0]},t.getChildNodes=function(e){return e.children},t.getParentNode=function(e){return e.parent},t.getAttrList=function(e){var t=[];for(var n in e.attribs)t.push({name:n,value:e.attribs[n],namespace:e["x-attribsNamespace"][n],prefix:e["x-attribsPrefix"][n]});return t},t.getTagName=function(e){return e.name},t.getNamespaceURI=function(e){return e.namespace},t.getTextNodeContent=function(e){return e.data},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e["x-name"]},t.getDocumentTypeNodePublicId=function(e){return e["x-publicId"]},t.getDocumentTypeNodeSystemId=function(e){return e["x-systemId"]},t.isTextNode=function(e){return"text"===e.type},t.isCommentNode=function(e){return"comment"===e.type},t.isDocumentTypeNode=function(e){return"directive"===e.type&&"!doctype"===e.name},t.isElementNode=function(e){return!!e.attribs}},function(e,t){},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(200).Buffer,o=n(976);function a(e,t,n){e.copy(t,n)}e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)a(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r="undefined"!=typeof e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(978),t.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(27))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?d():p()?m():e.MessageChannel?v():s&&"onreadystatechange"in s.createElement("script")?g():y(),l.setImmediate=u,l.clearImmediate=c}function u(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++}function c(e){delete o[e]}function h(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function f(e){if(a)setTimeout(f,0,e);else{var t=o[e];if(t){a=!0;try{h(t)}finally{c(e),a=!1}}}}function d(){r=function(e){t.nextTick((function(){f(e)}))}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function m(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){f(e.data)},r=function(t){e.port2.postMessage(t)}}function g(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){f(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function y(){r=function(e){setTimeout(f,0,e)}}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(this,n(27),n(150))},function(e,t,n){(function(t){function n(e,t){if(r("noDeprecation"))return e;var n=!1;function i(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return i}function r(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(this,n(27))},function(e,t,n){e.exports=o;var r=n(469),i=n(151);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(58),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(305)},function(e,t,n){e.exports=n(102)},function(e,t,n){e.exports=n(304).Transform},function(e,t,n){e.exports=n(304).PassThrough},function(e,t,n){var r=n(465),i=n(71).inherits,o=n(64).TAG_NAMES;i(e.exports=function(e){r.call(this,e),this.parser._insertFakeElement(o.HTML),this.parser._insertFakeElement(o.HEAD),this.parser.openElements.pop(),this.parser._insertFakeElement(o.BODY),this.parser._insertFakeElement(o.PRE),this.parser.treeAdapter.insertText(this.parser.openElements.current,"\n"),this.parser.switchToPlaintextParsing()},r)},function(e,t,n){var r=n(202).Readable,i=n(71).inherits,o=n(464),a=e.exports=function(e,t){r.call(this),this.serializer=new o(e,t),Object.defineProperty(this.serializer,"html",{get:function(){return""},set:this.push.bind(this)})};i(a,r),a.prototype._read=function(){this.serializer.serialize(),this.push(null)}},function(e,t,n){var r=n(202).Transform,i=n(988),o=n(71).inherits,a=n(124),s=n(461),l=n(989),u=n(302),c={locationInfo:!1},h=e.exports=function(e){r.call(this),this.options=u(c,e),this.tokenizer=new a(e),this.options.locationInfo&&new s(this.tokenizer),this.parserFeedbackSimulator=new l(this.tokenizer),this.pendingText=null,this.currentTokenLocation=void 0,this.lastChunkWritten=!1,this.stopped=!1,this.pipe(new i)};o(h,r),h.prototype._transform=function(e,t,n){this.stopped||(this.tokenizer.write(e.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()),this.push(e),n()},h.prototype._flush=function(e){e()},h.prototype.end=function(e,t,n){this.lastChunkWritten=!0,r.prototype.end.call(this,e,t,n)},h.prototype.stop=function(){this.stopped=!0},h.prototype._runParsingLoop=function(){do{var e=this.parserFeedbackSimulator.getNextToken();if(e.type===a.HIBERNATION_TOKEN)break;e.type===a.CHARACTER_TOKEN||e.type===a.WHITESPACE_CHARACTER_TOKEN||e.type===a.NULL_CHARACTER_TOKEN?(this.options.locationInfo&&(null===this.pendingText?this.currentTokenLocation=e.location:this.currentTokenLocation.endOffset=e.location.endOffset),this.pendingText=(this.pendingText||"")+e.chars):(this._emitPendingText(),this._handleToken(e))}while(!this.stopped&&e.type!==a.EOF_TOKEN)},h.prototype._handleToken=function(e){this.options.locationInfo&&(this.currentTokenLocation=e.location),e.type===a.START_TAG_TOKEN?this.emit("startTag",e.tagName,e.attrs,e.selfClosing,this.currentTokenLocation):e.type===a.END_TAG_TOKEN?this.emit("endTag",e.tagName,this.currentTokenLocation):e.type===a.COMMENT_TOKEN?this.emit("comment",e.data,this.currentTokenLocation):e.type===a.DOCTYPE_TOKEN&&this.emit("doctype",e.name,e.publicId,e.systemId,this.currentTokenLocation)},h.prototype._emitPendingText=function(){null!==this.pendingText&&(this.emit("text",this.pendingText,this.currentTokenLocation),this.pendingText=null)}},function(e,t,n){var r=n(202).Writable,i=n(71),o=e.exports=function(){r.call(this)};i.inherits(o,r),o.prototype._write=function(e,t,n){n()}},function(e,t,n){var r=n(124),i=n(463),o=n(149),a=n(64),s=a.TAG_NAMES,l=a.NAMESPACES,u=e.exports=function(e){this.tokenizer=e,this.namespaceStack=[],this.namespaceStackTop=-1,this._enterNamespace(l.HTML)};u.prototype.getNextToken=function(){var e=this.tokenizer.getNextToken();if(e.type===r.START_TAG_TOKEN)this._handleStartTagToken(e);else if(e.type===r.END_TAG_TOKEN)this._handleEndTagToken(e);else if(e.type===r.NULL_CHARACTER_TOKEN&&this.inForeignContent)e.type=r.CHARACTER_TOKEN,e.chars=o.REPLACEMENT_CHARACTER;else if(this.skipNextNewLine&&(e.type!==r.HIBERNATION_TOKEN&&(this.skipNextNewLine=!1),e.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===e.chars[0])){if(1===e.chars.length)return this.getNextToken();e.chars=e.chars.substr(1)}return e},u.prototype._enterNamespace=function(e){this.namespaceStackTop++,this.namespaceStack.push(e),this.inForeignContent=e!==l.HTML,this.currentNamespace=e,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._leaveCurrentNamespace=function(){this.namespaceStackTop--,this.namespaceStack.pop(),this.currentNamespace=this.namespaceStack[this.namespaceStackTop],this.inForeignContent=this.currentNamespace!==l.HTML,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._ensureTokenizerMode=function(e){e===s.TEXTAREA||e===s.TITLE?this.tokenizer.state=r.MODE.RCDATA:e===s.PLAINTEXT?this.tokenizer.state=r.MODE.PLAINTEXT:e===s.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:(e===s.STYLE||e===s.IFRAME||e===s.XMP||e===s.NOEMBED||e===s.NOFRAMES||e===s.NOSCRIPT)&&(this.tokenizer.state=r.MODE.RAWTEXT)},u.prototype._handleStartTagToken=function(e){var t=e.tagName;if(t===s.SVG?this._enterNamespace(l.SVG):t===s.MATH&&this._enterNamespace(l.MATHML),this.inForeignContent){if(i.causesExit(e))return void this._leaveCurrentNamespace();var n=this.currentNamespace;n===l.MATHML?i.adjustTokenMathMLAttrs(e):n===l.SVG&&(i.adjustTokenSVGTagName(e),i.adjustTokenSVGAttrs(e)),i.adjustTokenXMLAttrs(e),t=e.tagName,!e.selfClosing&&i.isIntegrationPoint(t,n,e.attrs)&&this._enterNamespace(l.HTML)}else t===s.PRE||t===s.TEXTAREA||t===s.LISTING?this.skipNextNewLine=!0:t===s.IMAGE&&(e.tagName=s.IMG),this._ensureTokenizerMode(t)},u.prototype._handleEndTagToken=function(e){var t=e.tagName;if(this.inForeignContent)(t===s.SVG&&this.currentNamespace===l.SVG||t===s.MATH&&this.currentNamespace===l.MATHML)&&this._leaveCurrentNamespace();else{var n=this.namespaceStack[this.namespaceStackTop-1];n===l.SVG&&i.SVG_TAG_NAMES_ADJUSTMENT_MAP[t]&&(t=i.SVG_TAG_NAMES_ADJUSTMENT_MAP[t]),i.isIntegrationPoint(t,n,e.attrs)&&this._leaveCurrentNamespace()}this.currentNamespace===l.SVG&&i.adjustTokenSVGTagName(e)}},function(e,t,n){var r=n(472),i=n(991),o=n(992),a=n(474),s=n(1009),l=n(478),u=n(1010),c=n(480),h=n(481),f=n(1011),d="Expected a function",p=1,m=2,v=8,g=16,y=32,b=64,_=Math.max;function x(e,t,n,x,T,w,S,E){var k=t&m;if(!k&&"function"!=typeof e)throw new TypeError(d);var C=x?x.length:0;if(C||(t&=~(y|b),x=T=void 0),S=void 0===S?S:_(f(S),0),E=void 0===E?E:f(E),C-=T?T.length:0,t&b){var A=x,O=T;x=T=void 0}var P=k?void 0:l(e),M=[e,t,n,x,T,A,O,w,S,E];if(P&&u(M,P),e=M[0],t=M[1],n=M[2],x=M[3],T=M[4],!(E=M[9]=void 0===M[9]?k?0:e.length:_(M[9]-C,0))&&t&(v|g)&&(t&=~(v|g)),t&&t!=p)I=t==v||t==g?o(e,t,E):t!=y&&t!=(p|y)||T.length?a.apply(void 0,M):s(e,t,n,x);else var I=i(e,t,n);return h((P?r:c)(I,M),e,t)}e.exports=x},function(e,t,n){var r=n(205),i=n(41),o=1;function a(e,t,n){var a=t&o,s=r(e);function l(){return(this&&this!==i&&this instanceof l?s:e).apply(a?n:this,arguments)}return l}e.exports=a},function(e,t,n){var r=n(292),i=n(205),o=n(474),a=n(477),s=n(309),l=n(206),u=n(41);function c(e,t,n){var c=i(e);function h(){for(var i=arguments.length,f=Array(i),d=i,p=s(h);d--;)f[d]=arguments[d];var m=i<3&&f[0]!==p&&f[i-1]!==p?[]:l(f,p);return(i-=m.length)<n?a(e,t,o,h.placeholder,void 0,f,m,void 0,void 0,n-i):r(this&&this!==u&&this instanceof h?c:e,this,f)}return h}e.exports=c},function(e,t){function n(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}e.exports=n},function(e,t,n){var r=n(307),i=n(478),o=n(996),a=n(998);function s(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}e.exports=s},function(e,t){function n(){}e.exports=n},function(e,t,n){var r=n(997),i=Object.prototype.hasOwnProperty;function o(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}e.exports=o},function(e,t){var n={};e.exports=n},function(e,t,n){var r=n(307),i=n(479),o=n(308),a=n(31),s=n(56),l=n(999),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return l(e)}return new i(e)}c.prototype=o.prototype,c.prototype.constructor=c,e.exports=c},function(e,t,n){var r=n(307),i=n(479),o=n(196);function a(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}e.exports=a},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;function i(e){var t=e.match(n);return t?t[1].split(r):[]}e.exports=i},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function r(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}e.exports=r},function(e,t,n){var r=n(286),i=n(1003),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function a(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}e.exports=a},function(e,t,n){var r=n(1004);function i(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}e.exports=i},function(e,t,n){var r=n(1005),i=n(1006),o=n(1007);function a(e,t,n){return t===t?o(e,t,n):r(e,i,n)}e.exports=a},function(e,t){function n(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t){function n(e){return e!==e}e.exports=n},function(e,t){function n(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t,n){var r=n(196),i=n(142),o=Math.min;function a(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var l=t[a];e[a]=i(l,n)?s[l]:void 0}return e}e.exports=a},function(e,t,n){var r=n(292),i=n(205),o=n(41),a=1;function s(e,t,n,s){var l=t&a,u=i(e);function c(){for(var t=-1,i=arguments.length,a=-1,h=s.length,f=Array(h+i),d=this&&this!==o&&this instanceof c?u:e;++a<h;)f[a]=s[a];for(;i--;)f[a++]=arguments[++t];return r(d,l?n:this,f)}return c}e.exports=s},function(e,t,n){var r=n(475),i=n(476),o=n(206),a="__lodash_placeholder__",s=1,l=2,u=4,c=8,h=128,f=256,d=Math.min;function p(e,t){var n=e[1],p=t[1],m=n|p,v=m<(s|l|h),g=p==h&&n==c||p==h&&n==f&&e[7].length<=t[8]||p==(h|f)&&t[7].length<=t[8]&&n==c;if(!v&&!g)return e;p&s&&(e[2]=t[2],m|=n&s?0:u);var y=t[3];if(y){var b=e[3];e[3]=b?r(b,y,t[4]):y,e[4]=b?o(e[3],a):t[4]}return(y=t[5])&&(b=e[5],e[5]=b?i(b,y,t[6]):y,e[6]=b?o(e[5],a):t[6]),(y=t[7])&&(e[7]=y),p&h&&(e[8]=null==e[8]?t[8]:d(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}e.exports=p},function(e,t,n){var r=n(1012);function i(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}e.exports=i},function(e,t,n){var r=n(436),i=1/0,o=17976931348623157e292;function a(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*o:e===e?e:0:0===e?e:0}e.exports=a},function(e,t,n){var r=n(310),i=n(152),o=i.isTag,a=i.domEach,s=Object.prototype.hasOwnProperty,l=i.camelCase,u=i.cssCase,c=/\s+/,h="data-",f={forEach:n(147),extend:n(471),some:n(1021)},d={null:null,true:!0,false:!1},p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,m=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,v=function(e,t){if(e&&o(e)){if(e.attribs||(e.attribs={}),!t)return e.attribs;if(s.call(e.attribs,t))return p.test(t)?t:e.attribs[t];if("option"===e.name&&"value"===t)return r.text(e.children);if("input"===e.name&&("radio"===e.attribs.type||"checkbox"===e.attribs.type)&&"value"===t)return"on"}},g=function(e,t,n){null===n?T(e,t):e.attribs[t]=n+""};t.attr=function(e,t){return"object"==typeof e||void 0!==t?a(this,"function"==typeof t?function(n,r){g(r,e,t.call(r,n,r.attribs[e]))}:function(n,r){o(r)&&("object"==typeof e?f.forEach(e,(function(e,t){g(r,t,e)})):g(r,e,t))}):v(this[0],e)};var y=function(e,t){if(e&&o(e))return s.call(e,t)?e[t]:p.test(t)?void 0!==v(e,t):v(e,t)},b=function(e,t,n){e[t]=p.test(t)?!!n:n};t.prop=function(e,t){var n,r=0;if("string"==typeof e&&void 0===t){switch(e){case"style":n=this.css(),f.forEach(n,(function(e,t){n[r++]=t})),n.length=r;break;case"tagName":case"nodeName":n=this[0].name.toUpperCase();break;default:n=y(this[0],e)}return n}if("object"==typeof e||void 0!==t)return a(this,"function"==typeof t?function(n,r){b(r,e,t.call(r,n,y(r,e)))}:function(n,r){o(r)&&("object"==typeof e?f.forEach(e,(function(e,t){b(r,t,e)})):b(r,e,t))})};var _=function(e,t,n){if(e.data||(e.data={}),"object"==typeof t)return f.extend(e.data,t);"string"==typeof t&&void 0!==n&&(e.data[t]=n)},x=function(e,t){var n,r,i,o,a,c,f,p=1===arguments.length;for(p?i=(n=Object.keys(e.attribs).filter((function(e){return e.slice(0,h.length)===h}))).map((function(e){return l(e.slice(h.length))})):(n=[h+u(t)],i=[t]),c=0,f=n.length;c<f;++c)if(r=n[c],o=i[c],s.call(e.attribs,r)){if(a=e.attribs[r],s.call(d,a))a=d[a];else if(a===String(Number(a)))a=Number(a);else if(m.test(a))try{a=JSON.parse(a)}catch(v){}e.data[o]=a}return p?e.data:a};t.data=function(e,t){var n=this[0];if(n&&o(n))return n.data||(n.data={}),e?"object"==typeof e||void 0!==t?(a(this,(function(n,r){_(r,e,t)})),this):s.call(n.data,e)?n.data[e]:x(n,e):x(n)},t.val=function(e){var t=0===arguments.length,n=this[0];if(n)switch(n.name){case"textarea":return this.text(e);case"input":return"radio"===this.attr("type")?t?this.attr("value"):(this.attr("value",e),this):this.attr("value",e);case"select":var r,i=this.find("option:selected");if(void 0===i)return;if(!t){if(!s.call(this.attr(),"multiple")&&"object"==typeof e)return this;"object"!=typeof e&&(e=[e]),this.find("option").removeAttr("selected");for(var o=0;o<e.length;o++)this.find('option[value="'+e[o]+'"]').attr("selected","");return this}return r=i.attr("value"),s.call(this.attr(),"multiple")&&(r=[],a(i,(function(e,t){r.push(v(t,"value"))}))),r;case"option":return t?this.attr("value"):(this.attr("value",e),this)}};var T=function(e,t){!e.attribs||!s.call(e.attribs,t)||delete e.attribs[t]};t.removeAttr=function(e){return a(this,(function(t,n){T(n,e)})),this},t.hasClass=function(e){return f.some(this,(function(t){var n,r=t.attribs,i=r&&r.class,o=-1;if(i&&e.length)for(;(o=i.indexOf(e,o+1))>-1;)if(n=o+e.length,(0===o||c.test(i[o-1]))&&(n===i.length||c.test(i[n])))return!0}))},t.addClass=function(e){if("function"==typeof e)return a(this,(function(n,r){var i=r.attribs.class||"";t.addClass.call([r],e.call(r,n,i))}));if(!e||"string"!=typeof e)return this;for(var n=e.split(c),r=this.length,i=0;i<r;i++)if(o(this[i])){var s,l,u=v(this[i],"class");if(u){l=" "+u+" ",s=n.length;for(var h=0;h<s;h++){var f=n[h]+" ";l.indexOf(" "+f)<0&&(l+=f)}g(this[i],"class",l.trim())}else g(this[i],"class",n.join(" ").trim())}return this};var w=function(e){return e?e.trim().split(c):[]};t.removeClass=function(e){var n,r,i;return"function"==typeof e?a(this,(function(n,r){t.removeClass.call([r],e.call(r,n,r.attribs.class||""))})):(n=w(e),r=n.length,i=0===arguments.length,a(this,(function(e,t){if(o(t))if(i)t.attribs.class="";else{for(var a,s,l=w(t.attribs.class),u=0;u<r;u++)(a=l.indexOf(n[u]))>=0&&(l.splice(a,1),s=!0,u--);s&&(t.attribs.class=l.join(" "))}})))},t.toggleClass=function(e,n){if("function"==typeof e)return a(this,(function(r,i){t.toggleClass.call([i],e.call(i,r,i.attribs.class||"",n),n)}));if(!e||"string"!=typeof e)return this;for(var r,i,s=e.split(c),l=s.length,u="boolean"==typeof n?n?1:-1:0,h=this.length,f=0;f<h;f++)if(o(this[f])){r=w(this[f].attribs.class);for(var d=0;d<l;d++)i=r.indexOf(s[d]),u>=0&&i<0?r.push(s[d]):u<=0&&i>=0&&r.splice(i,1);this[f].attribs.class=r.join(" ")}return this},t.is=function(e){return!!e&&this.filter(e).length>0}},function(e,t,n){var r=n(1015),i=n(1016);e.exports=function(e){return i(r(e))},e.exports.parse=r,e.exports.compile=i},function(e,t){e.exports=r;var n=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;function r(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];var t,r=e.match(n);if(!r)throw new SyntaxError("n-th rule couldn't be parsed ('"+e+"')");return r[1]?(t=parseInt(r[1],10),isNaN(t)&&(t="-"===r[1].charAt(0)?-1:1)):t=0,[t,r[3]?parseInt((r[2]||"")+r[3],10):0]}},function(e,t,n){e.exports=a;var r=n(153),i=r.trueFunc,o=r.falseFunc;function a(e){var t=e[0],n=e[1]-1;if(n<0&&t<=0)return o;if(-1===t)return function(e){return e<=n};if(0===t)return function(e){return e===n};if(1===t)return n<0?i:function(e){return e>=n};var r=n%t;return r<0&&(r+=t),t>1?function(e){return e>=n&&e%t===r}:(t*=-1,function(e){return e<=n&&e%t===r})}},function(e,t,n){e.exports=f,e.exports.compileUnsafe=p,e.exports.compileToken=x;var r=n(1018),i=n(101),o=i.isTag,a=n(1019),s=n(1020),l=n(153),u=l.trueFunc,c=l.falseFunc,h=n(485);function f(e,t,n){return d(p(e,t,n))}function d(e){return function(t){return o(t)&&e(t)}}function p(e,t,n){return x(r(e,t),t,n)}function m(e){return"pseudo"===e.type&&("scope"===e.name||Array.isArray(e.data)&&e.data.some((function(e){return e.some(m)})))}var v={type:"descendant"},g={type:"pseudo",name:"scope"},y={},b=i.getParent;function _(e,t){var n=!!t&&!!t.length&&t.every((function(e){return e===y||!!b(e)}));e.forEach((function(e){if(!(e.length>0&&T(e[0])&&"descendant"!==e[0].type)){if(!n||m(e))return;e.unshift(v)}e.unshift(g)}))}function x(e,t,n){(e=e.filter((function(e){return e.length>0}))).forEach(s);var r=Array.isArray(n);return(n=t&&t.context||n)&&!r&&(n=[n]),_(e,n),e.map((function(e){return w(e,t,n,r)})).reduce(S,c)}function T(e){return h[e.type]<0}function w(e,t,n,r){var i=r&&"scope"===e[0].name&&"descendant"===e[1].type;return e.reduce((function(e,r,o){return e===c?e:a[r.type](e,r,t,n,i&&1===o)}),t&&t.rootFunc||u)}function S(e,t){return t===c||e===u?e:e===c||t===u?t:function(n){return e(n)||t(n)}}var E=n(311).filters,k=i.existsOne,C=(o=i.isTag,i.getChildren);function A(e){return e.some(T)}E.not=function(e,t,n,r){var i={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)};if(i.strict&&(t.length>1||t.some(A)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var o=x(t,i,r);return o===c?e:o===u?c:function(t){return!o(t)&&e(t)}},E.has=function(e,t,n){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)},i=t.some(A)?[y]:null,a=x(t,r,i);return a===c?c:a===u?function(t){return C(t).some(o)&&e(t)}:(a=d(a),i?function(t){return e(t)&&(i[0]=t,k(a,C(t)))}:function(t){return e(t)&&k(a,C(t))})},E.matches=function(e,t,n,r){return x(t,{xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict),rootFunc:e},r)}},function(e,t,n){e.exports=m;var r=/^(?:\\.|[\w\-\u00b0-\uFFFF])+/,i=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,o=/^\s*((?:\\.|[\w\u00b0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF\-])*)|)|)\s*(i)?\]/,a={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},s={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},l={__proto__:null,"#":["id","equals"],".":["class","element"]},u={__proto__:null,has:!0,not:!0,matches:!0},c={__proto__:null,contains:!0,icontains:!0},h={__proto__:null,'"':!0,"'":!0};function f(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function d(e){return e.replace(i,f)}function p(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function m(e,t){var n=[];if(""!==(e=v(n,e+"",t)))throw new SyntaxError("Unmatched selector: "+e);return n}function v(e,t,n){var i,f,m,y,b=[],_=!1;function x(){var e=t.match(r)[0];return t=t.substr(e.length),d(e)}function T(e){for(;p(t.charAt(e));)e++;t=t.substr(e)}function w(e){for(var n=0;"\\"===t.charAt(--e);)n++;return 1===(1&n)}for(T(0);""!==t;)if(p(f=t.charAt(0)))_=!0,T(1);else if(f in s)b.push({type:s[f]}),_=!1,T(1);else if(","===f){if(0===b.length)throw new SyntaxError("empty sub-selector");e.push(b),b=[],_=!1,T(1)}else if(_&&(b.length>0&&b.push({type:"descendant"}),_=!1),"*"===f)t=t.substr(1),b.push({type:"universal"});else if(f in l)t=t.substr(1),b.push({type:"attribute",name:l[f][0],action:l[f][1],value:x(),ignoreCase:!1});else if("["===f){if(!(i=(t=t.substr(1)).match(o)))throw new SyntaxError("Malformed attribute selector: "+t);t=t.substr(i[0].length),m=d(i[1]),(!n||("lowerCaseAttributeNames"in n?n.lowerCaseAttributeNames:!n.xmlMode))&&(m=m.toLowerCase()),b.push({type:"attribute",name:m,action:a[i[2]],value:d(i[4]||i[5]||""),ignoreCase:!!i[6]})}else if(":"===f){if(":"===t.charAt(1)){t=t.substr(2),b.push({type:"pseudo-element",name:x().toLowerCase()});continue}if(t=t.substr(1),m=x().toLowerCase(),i=null,"("===t.charAt(0))if(m in u){var S=(y=t.charAt(1))in h;if(t=v(i=[],t=t.substr(S+1),n),S){if(t.charAt(0)!==y)throw new SyntaxError("unmatched quotes in :"+m);t=t.substr(1)}if(")"!==t.charAt(0))throw new SyntaxError("missing closing parenthesis in :"+m+" "+t);t=t.substr(1)}else{for(var E=1,k=1;k>0&&E<t.length;E++)"("!==t.charAt(E)||w(E)?")"===t.charAt(E)&&!w(E)&&k--:k++;if(k)throw new SyntaxError("parenthesis not matched");i=t.substr(1,E-2),t=t.substr(E),m in c&&((y=i.charAt(0))===i.slice(-1)&&y in h&&(i=i.slice(1,-1)),i=d(i))}b.push({type:"pseudo",name:m,data:i})}else{if(!r.test(t))return b.length&&"descendant"===b[b.length-1].type&&b.pop(),g(e,b),t;m=x(),(!n||("lowerCaseTags"in n?n.lowerCaseTags:!n.xmlMode))&&(m=m.toLowerCase()),b.push({type:"tag",name:m})}return g(e,b),t}function g(e,t){if(e.length>0&&0===t.length)throw new SyntaxError("empty sub-selector");e.push(t)}},function(e,t,n){var r=n(101),i=r.isTag,o=r.getParent,a=r.getChildren,s=r.getSiblings,l=r.getName;e.exports={__proto__:null,attribute:n(484).compile,pseudo:n(311).compile,tag:function(e,t){var n=t.name;return function(t){return l(t)===n&&e(t)}},descendant:function(e,t,n,r,i){return function(t){if(i&&e(t))return!0;for(var n=!1;!n&&(t=o(t));)n=e(t);return n}},parent:function(e,t,n){if(n&&n.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(e){return a(e).some(r)};function r(t){return i(t)&&e(t)}},child:function(e){return function(t){var n=o(t);return!!n&&e(n)}},sibling:function(e){return function(t){for(var n=s(t),r=0;r<n.length;r++)if(i(n[r])){if(n[r]===t)break;if(e(n[r]))return!0}return!1}},adjacent:function(e){return function(t){for(var n,r=s(t),o=0;o<r.length;o++)if(i(r[o])){if(r[o]===t)break;n=r[o]}return!!n&&e(n)}},universal:function(e){return e}}},function(e,t,n){e.exports=o;var r=n(485),i={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function o(e){for(var t=e.map(a),n=1;n<e.length;n++){var r=t[n];if(!(r<0))for(var i=n-1;i>=0&&r<t[i];i--){var o=e[i+1];e[i+1]=e[i],e[i]=o,t[i+1]=t[i],t[i]=r}}}function a(e){var t=r[e.type];if(t===r.attribute)(t=i[e.action])===i.equals&&"id"===e.name&&(t=9),e.ignoreCase&&(t>>=1);else if(t===r.pseudo)if(e.data)if("has"===e.name||"contains"===e.name)t=0;else if("matches"===e.name||"not"===e.name){t=0;for(var n=0;n<e.data.length;n++)if(1===e.data[n].length){var o=a(e.data[n][0]);if(0===o){t=0;break}o>t&&(t=o)}e.data.length>1&&t>0&&(t-=1)}else t=1;else t=3;return t}},function(e,t,n){var r=n(417),i=n(144),o=n(1022),a=n(31),s=n(294);function l(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}e.exports=l},function(e,t,n){var r=n(146);function i(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}e.exports=i},function(e,t,n){var r=n(483),i=n(152),o=i.domEach,a=n(148).DomUtils.uniqueSort,s=i.isTag,l={bind:n(306),forEach:n(147),reject:n(1024),filter:n(1026),reduce:n(1027)};t.find=function(e){var t,n=l.reduce(this,(function(e,t){return e.concat(l.filter(t.children,s))}),[]),i=this.constructor.contains;if(e&&"string"!=typeof e)return t=e.cheerio?e.get():[e],this._make(t.filter((function(e){var t,n;for(t=0,n=this.length;t<n;++t)if(i(this[t],e))return!0}),this));var o={__proto__:this.options,context:this.toArray()};return this._make(r(e,n,o))},t.parent=function(e){var n=[];return o(this,(function(e,t){var r=t.parent;r&&n.indexOf(r)<0&&n.push(r)})),arguments.length&&(n=t.filter.call(n,e,this)),this._make(n)},t.parents=function(e){var t=[];return this.get().reverse().forEach((function(n){c(this,n.parent,e,1/0).forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))}),this),this._make(t)},t.parentsUntil=function(e,t){var n,i,o=[];return"string"==typeof e?n=r(e,this.parents().toArray(),this.options)[0]:e&&e.cheerio?i=e.toArray():e&&(n=e),this.toArray().reverse().forEach((function(e){for(;(e=e.parent)&&(n&&e!==n||i&&-1===i.indexOf(e)||!n&&!i);)s(e)&&-1===o.indexOf(e)&&o.push(e)}),this),this._make(t?r(t,o,this.options):o)},t.closest=function(e){var t=[];return e?(o(this,function(n,r){var i=c(this,r,e,1)[0];i&&t.indexOf(i)<0&&t.push(i)}.bind(this)),this._make(t)):this._make(t)},t.next=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.next;)if(s(e))return void n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.nextAll=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.next;)s(e)&&-1===n.indexOf(e)&&n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.nextUntil=function(e,n){if(!this[0])return this;var i,o,a=[];return"string"==typeof e?i=r(e,this.nextAll().get(),this.options)[0]:e&&e.cheerio?o=e.get():e&&(i=e),l.forEach(this,(function(e){for(;(e=e.next)&&(i&&e!==i||o&&-1===o.indexOf(e)||!i&&!o);)s(e)&&-1===a.indexOf(e)&&a.push(e)})),n?t.filter.call(a,n,this):this._make(a)},t.prev=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.prev;)if(s(e))return void n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.prevAll=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.prev;)s(e)&&-1===n.indexOf(e)&&n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.prevUntil=function(e,n){if(!this[0])return this;var i,o,a=[];return"string"==typeof e?i=r(e,this.prevAll().get(),this.options)[0]:e&&e.cheerio?o=e.get():e&&(i=e),l.forEach(this,(function(e){for(;(e=e.prev)&&(i&&e!==i||o&&-1===o.indexOf(e)||!i&&!o);)s(e)&&-1===a.indexOf(e)&&a.push(e)})),n?t.filter.call(a,n,this):this._make(a)},t.siblings=function(e){var n=this.parent(),r=l.filter(n?n.children():this.siblingsAndMe(),l.bind((function(e){return s(e)&&!this.is(e)}),this));return void 0!==e?t.filter.call(r,e,this):this._make(r)},t.children=function(e){var n=l.reduce(this,(function(e,t){return e.concat(l.filter(t.children,s))}),[]);return void 0===e?this._make(n):t.filter.call(n,e,this)},t.contents=function(){return this._make(l.reduce(this,(function(e,t){return e.push.apply(e,t.children),e}),[]))},t.each=function(e){for(var t=0,n=this.length;t<n&&!1!==e.call(this[t],t,this[t]);)++t;return this},t.map=function(e){return this._make(l.reduce(this,(function(t,n,r){var i=e.call(n,r,n);return null==i?t:t.concat(i)}),[]))};var u=function(e){return function(t,n){var i;return n=n||this,i="string"==typeof t?r.compile(t,n.options):"function"==typeof t?function(e,n){return t.call(e,n,e)}:t.cheerio?t.is.bind(t):function(e){return t===e},n._make(e(this,i))}};function c(e,n,r,i){for(var o=[];n&&o.length<i;)(!r||t.filter.call([n],r,e).length)&&o.push(n),n=n.parent;return o}t.filter=u(l.filter),t.not=u(l.reject),t.has=function(e){var n=this;return t.filter.call(this,(function(){return n._make(this).find(e).length>0}))},t.first=function(){return this.length>1?this._make(this[0]):this},t.last=function(){return this.length>1?this._make(this[this.length-1]):this},t.eq=function(e){return 0===(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this[e]?this._make(this[e]):this._make([]))},t.get=function(e){return null==e?Array.prototype.slice.call(this):this[e<0?this.length+e:e]},t.index=function(e){var t,n;return 0===arguments.length?(t=this.parent().children(),n=this[0]):"string"==typeof e?(t=this._make(e),n=this[0]):(t=this,n=e.cheerio?e[0]:e),t.get().indexOf(n)},t.slice=function(){return this._make([].slice.apply(this,arguments))},t.end=function(){return this.prevObject||this._make([])},t.add=function(e,t){for(var n=this._make(e,t),r=a(n.get().concat(this.get())),i=0;i<r.length;++i)n[i]=r[i];return n.length=r.length,n},t.addBack=function(e){return this.add(arguments.length?this.prevObject.filter(e):this.prevObject)}},function(e,t,n){var r=n(283),i=n(486),o=n(144),a=n(31),s=n(1025);function l(e,t){return(a(e)?r:i)(e,s(o(t,3)))}e.exports=l},function(e,t){var n="Expected a function";function r(e){if("function"!=typeof e)throw new TypeError(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}e.exports=r},function(e,t,n){var r=n(283),i=n(486),o=n(144),a=n(31);function s(e,t){return(a(e)?r:i)(e,o(t,3))}e.exports=s},function(e,t,n){var r=n(1028),i=n(146),o=n(144),a=n(1029),s=n(31);function l(e,t,n){var l=s(e)?r:a,u=arguments.length<3;return l(e,o(t,4),n,u,i)}e.exports=l},function(e,t){function n(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}e.exports=n},function(e,t){function n(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}e.exports=n},function(e,t,n){var r=n(198),i=n(310),o=r.update,a=r.evaluate,s=n(152),l=s.domEach,u=s.cloneDom,c=s.isHtml,h=Array.prototype.slice,f={flatten:n(487),bind:n(306),forEach:n(147)};t._makeDomArray=function(e,t){return null==e?[]:e.cheerio?t?u(e.get(),e.options):e.get():Array.isArray(e)?f.flatten(e.map((function(e){return this._makeDomArray(e,t)}),this)):"string"==typeof e?a(e,this.options,!1):t?u([e]):[e]};var d=function(e){return function(){var t=h.call(arguments),n=this.length-1;return l(this,(function(r,o){var a,s;s="function"==typeof t[0]?t[0].call(o,r,i.html(o.children)):t,a=this._makeDomArray(s,r<n),e(a,o.children,o)}))}},p=function(e,t,n,r,i){var o,a,s,l,u,c=[t,n].concat(r),h=e[t-1]||null,f=e[t]||null;for(o=0,a=r.length;o<a;++o)s=(u=(l=r[o]).parent||l.root)&&u.children.indexOf(r[o]),u&&s>-1&&(u.children.splice(s,1),i===u&&t>s&&c[0]--),l.root=null,l.parent=i,l.prev&&(l.prev.next=l.next||null),l.next&&(l.next.prev=l.prev||null),l.prev=r[o-1]||h,l.next=r[o+1]||f;return h&&(h.next=r[0]),f&&(f.prev=r[r.length-1]),e.splice.apply(e,c)};t.appendTo=function(e){return e.cheerio||(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e.append(this),this},t.prependTo=function(e){return e.cheerio||(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e.prepend(this),this},t.append=d((function(e,t,n){p(t,t.length,0,e,n)})),t.prepend=d((function(e,t,n){p(t,0,0,e,n)})),t.wrap=function(e){var t="function"==typeof e&&e,n=this.length-1;return f.forEach(this,f.bind((function(r,i){var a,s,l,u,h=r.parent||r.root,f=h.children;if(h){for(t&&(e=t.call(r,i)),"string"==typeof e&&!c(e)&&(e=this.parents().last().find(e).clone()),s=(a=this._makeDomArray(e,i<n).slice(0,1))[0],l=0;s&&s.children&&!(l>=s.children.length);)"tag"===s.children[l].type?(s=s.children[l],l=0):l++;u=f.indexOf(r),o([r],s),p(f,u,0,a,h)}}),this)),this},t.after=function(){var e=h.call(arguments),t=this.length-1;return l(this,(function(n,r){var o=r.parent||r.root;if(o){var a,s,l=o.children,u=l.indexOf(r);u<0||(a="function"==typeof e[0]?e[0].call(r,n,i.html(r.children)):e,s=this._makeDomArray(a,n<t),p(l,u+1,0,s,o))}})),this},t.insertAfter=function(e){var t=[],n=this;return"string"==typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),n.remove(),l(e,(function(e,r){var i=n._makeDomArray(n.clone()),o=r.parent||r.root;if(o){var a=o.children,s=a.indexOf(r);s<0||(p(a,s+1,0,i,o),t.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(t))},t.before=function(){var e=h.call(arguments),t=this.length-1;return l(this,(function(n,r){var o=r.parent||r.root;if(o){var a,s,l=o.children,u=l.indexOf(r);u<0||(a="function"==typeof e[0]?e[0].call(r,n,i.html(r.children)):e,s=this._makeDomArray(a,n<t),p(l,u,0,s,o))}})),this},t.insertBefore=function(e){var t=[],n=this;return"string"==typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),n.remove(),l(e,(function(e,r){var i=n._makeDomArray(n.clone()),o=r.parent||r.root;if(o){var a=o.children,s=a.indexOf(r);s<0||(p(a,s,0,i,o),t.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(t))},t.remove=function(e){var t=this;return e&&(t=t.filter(e)),l(t,(function(e,t){var n=t.parent||t.root;if(n){var r=n.children,i=r.indexOf(t);i<0||(r.splice(i,1),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.prev=t.next=t.parent=t.root=null)}})),this},t.replaceWith=function(e){var t=this;return l(this,(function(n,r){var i=r.parent||r.root;if(i){var a,s=i.children,l=t._makeDomArray("function"==typeof e?e.call(r,n,r):e);o(l,null),a=s.indexOf(r),p(s,a,1,l,i),r.parent=r.prev=r.next=r.root=null}})),this},t.empty=function(){return l(this,(function(e,t){f.forEach(t.children,(function(e){e.next=e.prev=e.parent=null})),t.children.length=0})),this},t.html=function(e){if(void 0===e)return this[0]&&this[0].children?i.html(this[0].children,this.options):null;var t=this.options;return l(this,(function(n,r){f.forEach(r.children,(function(e){e.next=e.prev=e.parent=null}));var i=e.cheerio?e.clone().get():a(""+e,t,!1);o(i,r)})),this},t.toString=function(){return i.html(this,this.options)},t.text=function(e){return void 0===e?i.text(this):"function"==typeof e?l(this,(function(n,r){var o=[r];return t.text.call(o,e.call(r,n,i.text(o)))})):(l(this,(function(t,n){f.forEach(n.children,(function(e){e.next=e.prev=e.parent=null})),o({data:""+e,type:"text",parent:n,prev:null,next:null,children:[]},n)})),this)},t.clone=function(){return this._make(u(this.get(),this.options))}},function(e,t,n){var r=n(281),i=n(1032);function o(e,t,n,a,s){var l=-1,u=e.length;for(n||(n=i),s||(s=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?o(c,t-1,n,a,s):r(s,c):a||(s[s.length]=c)}return s}e.exports=o},function(e,t,n){var r=n(118),i=n(184),o=n(31),a=r?r.isConcatSpreadable:void 0;function s(e){return o(e)||i(e)||!!(a&&e&&e[a])}e.exports=s},function(e,t,n){var r=n(152).domEach,i={pick:n(1034)},o=Object.prototype.toString;function a(e,t,n,r){if("string"==typeof t){var i=s(e);"function"==typeof n&&(n=n.call(e,r,i[t])),""===n?delete i[t]:null!=n&&(i[t]=n),e.attribs.style=l(i)}else"object"==typeof t&&Object.keys(t).forEach((function(n){a(e,n,t[n])}))}function s(e,t){var n=u(e.attribs.style);return"string"==typeof t?n[t]:Array.isArray(t)?i.pick(n,t):n}function l(e){return Object.keys(e||{}).reduce((function(t,n){return t+(t?" ":"")+n+": "+e[n]+";"}),"")}function u(e){return(e=(e||"").trim())?e.split(";").reduce((function(e,t){var n=t.indexOf(":");return n<1||n===t.length-1||(e[t.slice(0,n).trim()]=t.slice(n+1).trim()),e}),{}):{}}t.css=function(e,t){return 2===arguments.length||"[object Object]"===o.call(e)?r(this,(function(n,r){a(r,e,t,n)})):s(this[0],e)}},function(e,t,n){var r=n(1035),i=n(1038)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},function(e,t,n){var r=n(1036),i=n(425);function o(e,t){return r(e,t,(function(t,n){return i(e,n)}))}e.exports=o},function(e,t,n){var r=n(284),i=n(1037),o=n(193);function a(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var u=t[a],c=r(e,u);n(c,u)&&i(l,o(u,e),c)}return l}e.exports=a},function(e,t,n){var r=n(195),i=n(193),o=n(142),a=n(45),s=n(145);function l(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=i(t,e)).length,h=c-1,f=e;null!=f&&++u<c;){var d=s(t[u]),p=n;if(u!=h){var m=f[d];void 0===(p=l?l(m,d,f):void 0)&&(p=a(m)?m:o(t[u+1])?[]:{})}r(f,d,p),f=f[d]}return e}e.exports=l},function(e,t,n){var r=n(487),i=n(433),o=n(293);function a(e){return o(i(e,void 0,r),e+"")}e.exports=a},function(e,t,n){var r="input,select,textarea,keygen",i=/%20/g,o=/\r?\n/g,a={map:n(70)};t.serialize=function(){var e=this.serializeArray();return a.map(e,(function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)})).join("&").replace(i,"+")},t.serializeArray=function(){var e=this.constructor;return this.map((function(){var t=this,n=e(t);return"form"===t.name?n.find(r).toArray():n.filter(r).toArray()})).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((function(t,n){var r=e(n),i=r.attr("name"),s=r.val();return null==s&&(s=""),Array.isArray(s)?a.map(s,(function(e){return{name:i,value:e.replace(o,"\r\n")}})):{name:i,value:s.replace(o,"\r\n")}})).get()}},function(e){e.exports={name:"cheerio",version:"1.0.0-rc.3",description:"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server",author:"Matt Mueller <mattmuelle@gmail.com> (mat.io)",license:"MIT",keywords:["htmlparser","jquery","selector","scraper","parser","html"],repository:{type:"git",url:"git://github.com/cheeriojs/cheerio.git"},main:"./index.js",files:["index.js","lib"],engines:{node:">= 0.6"},dependencies:{"css-select":"~1.2.0","dom-serializer":"~0.1.1",entities:"~1.1.1",htmlparser2:"^3.9.1",lodash:"^4.15.0",parse5:"^3.0.1"},devDependencies:{benchmark:"^2.1.0",coveralls:"^2.11.9","expect.js":"~0.3.1",istanbul:"^0.4.3",jquery:"^3.0.0",jsdom:"^9.2.1",jshint:"^2.9.2",mocha:"^3.1.2",xyz:"~1.1.0"},scripts:{test:"make test"},_resolved:"https://registry.npmjs.org/cheerio/-/cheerio-1.0.0-rc.3.tgz",_integrity:"sha512-0td5ijfUPuubwLUu0OBoe98gZj8C/AA+RW3v67GPlGOrvxWjZmBXiBCRU+I8VEiNyJzjth40POfHiz2RB3gImA==",_from:"cheerio@1.0.0-rc.3"}},function(e,t,n){var r=n(53),i=n(489),o=n(312),a=n(1050),s=n(207),l=s("%TypeError%"),u=r.call(Function.call,s("%ObjectPrototype%").propertyIsEnumerable),c=r.call(Function.apply,s("%ArrayPrototype%").push),h=o(o({},i),{ToIndex:function(e){if("undefined"==typeof e)return 0;var t=this.ToInteger(e);if(t<0)throw new RangeError("index must be >= 0");var n=this.ToLength(t);if(!this.SameValueZero(t,n))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return n},EnumerableOwnProperties:function(e,t){var n=i.EnumerableOwnNames(e);if("key"===t)return n;if("value"===t||"key+value"===t){var r=[];return a(n,(function(n){u(e,n)&&c(r,["value"===t?e[n]:[n,e[n]]])})),r}throw new l('Assertion failed: "kind" is not "key", "value", or "key+value": '+t)}});delete h.EnumerableOwnNames,e.exports=h},function(e,t,n){var r=n(59),i=n(1043),o=n(295),a=n(207),s=a("%TypeError%"),l=a("%SyntaxError%"),u=a("%Array%"),c=a("%String%"),h=a("%Object%"),f=a("%Number%"),d=a("%Symbol%",!0),p=a("%RegExp%"),m=!!d,v=n(491),g=n(492),y=n(493),b=f.MAX_SAFE_INTEGER||Math.pow(2,53)-1,_=n(312),x=n(494),T=n(495),w=n(1048),S=parseInt,E=n(53),k=E.call(Function.call,u.prototype.slice),C=E.call(Function.call,c.prototype.slice),A=E.call(Function.call,p.prototype.test,/^0b[01]+$/i),O=E.call(Function.call,p.prototype.test,/^0o[0-7]+$/i),P=E.call(Function.call,p.prototype.exec),M=new p("["+["\x85","\u200b","\ufffe"].join("")+"]","g"),I=E.call(Function.call,p.prototype.test,M),R=/^[-+]0x[0-9a-f]+$/i,L=E.call(Function.call,p.prototype.test,R),D=E.call(Function.call,c.prototype.charCodeAt),N=E.call(Function.call,Object.prototype.toString),j=E.call(Function.call,a("%NumberPrototype%").valueOf),B=E.call(Function.call,a("%BooleanPrototype%").valueOf),F=E.call(Function.call,a("%StringPrototype%").valueOf),H=E.call(Function.call,a("%DatePrototype%").valueOf),z=Math.floor,U=Math.abs,V=Object.create,G=h.getOwnPropertyDescriptor,X=h.isExtensible,Y=h.defineProperty,W=["\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(""),q=new RegExp("(^["+W+"]+)|(["+W+"]+$)","g"),K=E.call(Function.call,c.prototype.replace),$=function(e){return K(e,q,"")},Z=n(496),Q=n(497),J=_(_({},Z),{Call:function(e,t){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new s(e+" is not a function");return e.apply(t,n)},ToPrimitive:i,ToNumber:function(e){var t=w(e)?e:i(e,f);if("symbol"==typeof t)throw new s("Cannot convert a Symbol value to a number");if("string"==typeof t){if(A(t))return this.ToNumber(S(C(t,2),2));if(O(t))return this.ToNumber(S(C(t,2),8));if(I(t)||L(t))return NaN;var n=$(t);if(n!==t)return this.ToNumber(n)}return f(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);if(g(t)||0===t||!y(t))return 0;var n=x(t)*z(U(t));return T(n,256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(g(t)||t<=0)return 0;if(t>=255)return 255;var n=z(e);return n+.5<t?n+1:t<n+.5?n:n%2!==0?n+1:n},ToString:function(e){if("symbol"==typeof e)throw new s("Cannot convert a Symbol value to a string");return c(e)},ToObject:function(e){return this.RequireObjectCoercible(e),h(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,c);return"symbol"==typeof t?t:this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return t<=0?0:t>b?b:t},CanonicalNumericIndexString:function(e){if("[object String]"!==N(e))throw new s("must be a string");if("-0"===e)return-0;var t=this.ToNumber(e);return this.SameValue(this.ToString(t),e)?t:void 0},RequireObjectCoercible:Z.CheckObjectCoercible,IsArray:u.isArray||function(e){return"[object Array]"===N(e)},IsConstructor:function(e){return"function"==typeof e&&!!e.prototype},IsExtensible:Object.preventExtensions?function(e){return!w(e)&&X(e)}:function(e){return!0},IsInteger:function(e){if("number"!=typeof e||g(e)||!y(e))return!1;var t=U(e);return z(t)===t},IsPropertyKey:function(e){return"string"==typeof e||"symbol"==typeof e},IsRegExp:function(e){if(!e||"object"!=typeof e)return!1;if(m){var t=e[d.match];if("undefined"!=typeof t)return Z.ToBoolean(t)}return Q(e)},SameValueZero:function(e,t){return e===t||g(e)&&g(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(e)[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(e,t);if(null!=n){if(!this.IsCallable(n))throw new s(t+"is not a function");return n}},Get:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return e[t]},Type:function(e){return"symbol"==typeof e?"Symbol":Z.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");var n=e.constructor;if("undefined"==typeof n)return t;if("Object"!==this.Type(n))throw new s("O.constructor is not an Object");var r=m&&d.species?n[d.species]:void 0;if(null==r)return t;if(this.IsConstructor(r))return r;throw new s("no constructor found")},CompletePropertyDescriptor:function(e){return v(this,"Property Descriptor","Desc",e),this.IsGenericDescriptor(e)||this.IsDataDescriptor(e)?(r(e,"[[Value]]")||(e["[[Value]]"]=void 0),r(e,"[[Writable]]")||(e["[[Writable]]"]=!1)):(r(e,"[[Get]]")||(e["[[Get]]"]=void 0),r(e,"[[Set]]")||(e["[[Set]]"]=void 0)),r(e,"[[Enumerable]]")||(e["[[Enumerable]]"]=!1),r(e,"[[Configurable]]")||(e["[[Configurable]]"]=!1),e},Set:function(e,t,n,r){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");if("Boolean"!==this.Type(r))throw new s("Throw must be a Boolean");if(r)return e[t]=n,!0;try{e[t]=n}catch(i){return!1}},HasOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return r(e,t)},HasProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return t in e},IsConcatSpreadable:function(e){if("Object"!==this.Type(e))return!1;if(m&&"symbol"==typeof d.isConcatSpreadable){var t=this.Get(e,Symbol.isConcatSpreadable);if("undefined"!=typeof t)return this.ToBoolean(t)}return this.IsArray(e)},Invoke:function(e,t){if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");var n=k(arguments,2),r=this.GetV(e,t);return this.Call(r,e,n)},GetIterator:function(e,t){if(!m)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var n=t;arguments.length<2&&(n=this.GetMethod(e,d.iterator));var r=this.Call(n,e);if("Object"!==this.Type(r))throw new s("iterator must return an object");return r},IteratorNext:function(e,t){var n=this.Invoke(e,"next",arguments.length<2?[]:[t]);if("Object"!==this.Type(n))throw new s("iterator next must return an object");return n},IteratorComplete:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(e,"done"))},IteratorValue:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.Get(e,"value")},IteratorStep:function(e){var t=this.IteratorNext(e);return!0!==this.IteratorComplete(t)&&t},IteratorClose:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(t))throw new s("Assertion failed: completion is not a thunk for a Completion Record");var n,r=t,i=this.GetMethod(e,"return");if("undefined"==typeof i)return r();try{var o=this.Call(i,e,[])}catch(a){throw n=r(),r=null,a}if(n=r(),r=null,"Object"!==this.Type(o))throw new s("iterator .return must return an object");return n},CreateIterResultObject:function(e,t){if("Boolean"!==this.Type(t))throw new s("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}},RegExpExec:function(e,t){if("Object"!==this.Type(e))throw new s("R must be an Object");if("String"!==this.Type(t))throw new s("S must be a String");var n=this.Get(e,"exec");if(this.IsCallable(n)){var r=this.Call(n,e,[t]);if(null===r||"Object"===this.Type(r))return r;throw new s('"exec" method must return `null` or an Object')}return P(e,t)},ArraySpeciesCreate:function(e,t){if(!this.IsInteger(t)||t<0)throw new s("Assertion failed: length must be an integer >= 0");var n,r=0===t?0:t;if(this.IsArray(e)&&(n=this.Get(e,"constructor"),"Object"===this.Type(n)&&m&&d.species&&null===(n=this.Get(n,d.species))&&(n=void 0)),"undefined"==typeof n)return u(r);if(!this.IsConstructor(n))throw new s("C must be a constructor");return new n(r)},CreateDataProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=G(e,t),i=r||"function"!=typeof X||X(e);return!(!(!r||r.writable&&r.configurable)||!i)&&(Y(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}),!0)},CreateDataPropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=this.CreateDataProperty(e,t,n);if(!r)throw new s("unable to create data property");return r},ObjectCreate:function(e,t){if(null!==e&&"Object"!==this.Type(e))throw new s("Assertion failed: proto must be null or an object");if((arguments.length<2?[]:t).length>0)throw new l("es-abstract does not yet support internal slots");if(null===e&&!V)throw new l("native Object.create support is required to create null objects");return V(e)},AdvanceStringIndex:function(e,t,n){if("String"!==this.Type(e))throw new s("S must be a String");if(!this.IsInteger(t)||t<0||t>b)throw new s("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(n))throw new s("Assertion failed: unicode must be a Boolean");if(!n)return t+1;if(t+1>=e.length)return t+1;var r=D(e,t);if(r<55296||r>56319)return t+1;var i=D(e,t+1);return i<56320||i>57343?t+1:t+2},CreateMethodProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!Y(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0})},DefinePropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!Y(e,t,n)},DeletePropertyOrThrow:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=delete e[t];if(!n)throw new TypeError("Attempt to delete property failed.");return n},EnumerableOwnNames:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");return o(e)},thisNumberValue:function(e){return"Number"===this.Type(e)?e:j(e)},thisBooleanValue:function(e){return"Boolean"===this.Type(e)?e:B(e)},thisStringValue:function(e){return"String"===this.Type(e)?e:F(e)},thisTimeValue:function(e){return H(e)}});delete J.CheckObjectCoercible,e.exports=J},function(e,t,n){e.exports=n(1044)},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,i=n(490),o=n(155),a=n(1045),s=n(1046),l=function(e,t){if("undefined"==typeof e||null===e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n=e[s[a]],o(n)&&(r=n.call(e),i(r)))return r;throw new TypeError("No default value")},u=function(e,t){var n=e[t];if(null!==n&&"undefined"!=typeof n){if(!o(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}};e.exports=function(e){if(i(e))return e;var t,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?t=u(e,Symbol.toPrimitive):s(e)&&(t=Symbol.prototype.valueOf)),"undefined"!=typeof t){var o=t.call(e,n);if(i(o))return o;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(a(e)||s(e))&&(n="string"),l(e,"default"===n?"number":n)}},function(e,t,n){var r=Date.prototype.getDay,i=function(e){try{return r.call(e),!0}catch(t){return!1}},o=Object.prototype.toString,a="[object Date]",s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(s?i(e):o.call(e)===a)}},function(e,t,n){var r=Object.prototype.toString;if(n(1047)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/,a=function(e){return"symbol"==typeof e.valueOf()&&o.test(i.call(e))};e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return a(e)}catch(t){return!1}}}else e.exports=function(e){return!1}},function(e,t,n){(function(t){var r=t.Symbol,i=n(450);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}}).call(this,n(27))},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){var r=Object.prototype.toString,i=n(490),o=n(155),a={"[[DefaultValue]]":function(e){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number)===String||t===Number){var n,a,s=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(o(e[s[a]])&&(n=e[s[a]](),i(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(e){return i(e)?e:arguments.length>1?a["[[DefaultValue]]"](e,arguments[1]):a["[[DefaultValue]]"](e)}},function(e,t,n){e.exports=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}},function(e,t,n){var r=n(52),i=n(498);e.exports=function(){var e=i();return r(Array.prototype,{flat:e},{flat:function(){return Array.prototype.flat!==e}}),e}},function(e,t,n){var r=n(503),i=n(52);e.exports=function(){var e=r();return i(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}},function(e,t,n){var r=n(52).supportsDescriptors,i=n(505),o=n(506),a=Object.defineProperty,s=TypeError;e.exports=function(){var e=o();if(i)return e;if(!r)throw new s("Shimming Function.prototype.name support requires ES5 property descriptor support.");var t=Function.prototype;return a(t,"name",{configurable:!0,enumerable:!1,get:function(){var n=e.call(this);return this!==t&&a(this,"name",{configurable:!0,enumerable:!1,value:n,writable:!1}),n}}),e}},function(e,t,n){var r=n(53),i=n(52),o=n(507),a=n(508),s=n(1055),l=r.call(Function.call,a());i(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},function(e,t,n){var r=n(52),i=n(508);e.exports=function(){var e=i();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&Object.keys(t).every((function(n){if(!e.propertyIsEnumerable(n))return!1;var i=t[n],o=e[n];return!("object"==typeof i&&null!==i?!r(o,i):o!==i)}))}));t.default=r,e.exports=t.default},function(e,t,n){(function(t){var n=1/0,r="[object Symbol]",i=/[&<>"'`]/g,o=RegExp(i.source),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")();function c(e){return function(t){return null==e?void 0:e[t]}}var h=c(a),f=Object.prototype.toString,d=u.Symbol,p=d?d.prototype:void 0,m=p?p.toString:void 0;function v(e){if("string"==typeof e)return e;if(y(e))return m?m.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}function g(e){return!!e&&"object"==typeof e}function y(e){return"symbol"==typeof e||g(e)&&f.call(e)==r}function b(e){return null==e?"":v(e)}function _(e){return(e=b(e))&&o.test(e)?e.replace(i,h):e}e.exports=_}).call(this,n(27))},function(e,t,n){var r=String.prototype.valueOf,i=function(e){try{return r.call(e),!0}catch(t){return!1}},o=Object.prototype.toString,a="[object String]",s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(s?i(e):o.call(e)===a)}},function(e,t,n){var r=Number.prototype.toString,i=function(e){try{return r.call(e),!0}catch(t){return!1}},o=Object.prototype.toString,a="[object Number]",s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(s?i(e):o.call(e)===a)}},function(e,t,n){var r=Boolean.prototype.toString,i=function(e){try{return r.call(e),!0}catch(t){return!1}},o=Object.prototype.toString,a="[object Boolean]",s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||"object"==typeof e&&(s?i(e):o.call(e)===a)}},function(e,t,n){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,c=s&&Set.prototype.forEach,h=Boolean.prototype.valueOf,f=Object.prototype.toString,d="function"==typeof BigInt?BigInt.prototype.valueOf:null,p=n(1062).custom,m=p&&T(p)?p:null;function v(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function g(e){return String(e).replace(/"/g,"&quot;")}function y(e){return"[object Array]"===O(e)}function b(e){return"[object Date]"===O(e)}function _(e){return"[object RegExp]"===O(e)}function x(e){return"[object Error]"===O(e)}function T(e){return"[object Symbol]"===O(e)}function w(e){return"[object String]"===O(e)}function S(e){return"[object Number]"===O(e)}function E(e){return"[object BigInt]"===O(e)}function k(e){return"[object Boolean]"===O(e)}e.exports=function e(t,n,r,i){if(n||(n={}),A(n,"quoteStyle")&&"single"!==n.quoteStyle&&"double"!==n.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if("undefined"==typeof t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return D(t,n);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var s="undefined"==typeof n.depth?5:n.depth;if("undefined"==typeof r&&(r=0),r>=s&&s>0&&"object"==typeof t)return"[Object]";if("undefined"==typeof i)i=[];else if(M(i,t)>=0)return"[Circular]";function l(t,o){return o&&(i=i.slice()).push(o),e(t,n,r+1,i)}if("function"==typeof t){var f=P(t);return"[Function"+(f?": "+f:"")+"]"}if(T(t)){var p=Symbol.prototype.toString.call(t);return"object"==typeof t?j(p):p}if(L(t)){for(var C="<"+String(t.nodeName).toLowerCase(),O=t.attributes||[],N=0;N<O.length;N++)C+=" "+O[N].name+"="+v(g(O[N].value),"double",n);return C+=">",t.childNodes&&t.childNodes.length&&(C+="..."),C+="</"+String(t.nodeName).toLowerCase()+">"}if(y(t))return 0===t.length?"[]":"[ "+F(t,l).join(", ")+" ]";if(x(t))return 0===(H=F(t,l)).length?"["+String(t)+"]":"{ ["+String(t)+"] "+H.join(", ")+" }";if("object"==typeof t){if(m&&"function"==typeof t[m])return t[m]();if("function"==typeof t.inspect)return t.inspect()}if(I(t)){var H=[];return a.call(t,(function(e,n){H.push(l(n,t)+" => "+l(e,t))})),B("Map",o.call(t),H)}if(R(t))return H=[],c.call(t,(function(e){H.push(l(e,t))})),B("Set",u.call(t),H);if(S(t))return j(l(Number(t)));if(E(t))return j(l(d.call(t)));if(k(t))return j(h.call(t));if(w(t))return j(l(String(t)));if(!b(t)&&!_(t)){var z=F(t,l);return 0===z.length?"{}":"{ "+z.join(", ")+" }"}return String(t)};var C=Object.prototype.hasOwnProperty||function(e){return e in this};function A(e,t){return C.call(e,t)}function O(e){return f.call(e)}function P(e){if(e.name)return e.name;var t=String(e).match(/^function\s*([\w$]+)/);return t?t[1]:void 0}function M(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function I(e){if(!o)return!1;try{o.call(e);try{u.call(e)}catch(t){return!0}return e instanceof Map}catch(n){}return!1}function R(e){if(!u)return!1;try{u.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}function L(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function D(e,t){return v(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,N),"single",t)}function N(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16)}function j(e){return"Object("+e+")"}function B(e,t,n){return e+" ("+t+") {"+n.join(", ")+"}"}function F(e,t){var n=y(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=A(e,i)?t(e[i],e):""}for(var o in e)A(e,o)&&(n&&String(Number(o))===o&&o<e.length||(/[^\w$]/.test(o)?r.push(t(o,e)+": "+t(e[o],e)):r.push(o+": "+t(e[o],e))));return r}},function(e,t){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createParser=t.createGenerator=void 0;var r=o(n(1064)),i=o(n(1065));function o(e){return e&&e.__esModule?e:{default:e}}t.createGenerator=r.default,t.createParser=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return JSON.stringify(e)},i=function(e){var t=e.body,n=[],i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=void 0;if("universalSelector"===u.type)c="*";else if("typeSelector"===u.type)c=u.name;else if("idSelector"===u.type)c="#"+u.name;else if("classSelector"===u.type)c="."+u.name;else if("attributePresenceSelector"===u.type)c="["+u.name+"]";else if("attributeValueSelector"===u.type)c="["+u.name+u.operator+r(u.value)+"]";else if("pseudoClassSelector"===u.type)c=":"+u.name,u.parameters.length&&(c+="("+u.parameters.map(r).join(", ")+")");else{if("pseudoElementSelector"!==u.type)throw new Error("Unknown token.");c="::"+u.name}n.push(c)}}catch(h){o=!0,a=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n.join("")};t.default=function(){return{generate:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if("selector"===l.type)t.push(i(l));else if("descendantCombinator"===l.type)t.push(" ");else if("childCombinator"===l.type)t.push(" > ");else if("adjacentSiblingCombinator"===l.type)t.push(" + ");else{if("generalSiblingCombinator"!==l.type)throw new Error("Unknown token.");t.push(" ~ ")}}}catch(u){r=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t.join("")}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1066),i=o(n(1067));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return{parse:function(e){var t=new r.Parser(i.default.ParserRules,i.default.ParserStart).feed(e).results;if(0===t.length)throw new Error("Found no parsings.");if(t.length>1)throw new Error("Ambiguous results.");return t[0]}}}},function(e,t,n){var r,i;r=this,i=function(){function e(t,n,r){return this.id=++e.highestId,this.name=t,this.symbols=n,this.postprocess=r,this}function t(e,t,n,r){this.rule=e,this.dot=t,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===e.symbols.length}function n(e,t){this.grammar=e,this.index=t,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(e,t){this.rules=e,this.start=t||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(e){n.hasOwnProperty(e.name)||(n[e.name]=[]),n[e.name].push(e)}))}function i(){this.reset("")}function o(e,t,o){if(e instanceof r){var a=e;o=t}else a=r.fromCompiled(e,t);for(var s in this.grammar=a,this.options={keepHistory:!1,lexer:a.lexer||new i},o||{})this.options[s]=o[s];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new n(a,0);this.table=[l],l.wants[a.start]=[],l.predict(a.start),l.process(),this.current=0}return e.highestId=0,e.prototype.toString=function(e){function t(e){return e.literal?JSON.stringify(e.literal):e.type?"%"+e.type:e.toString()}var n="undefined"==typeof e?this.symbols.map(t).join(" "):this.symbols.slice(0,e).map(t).join(" ")+" \u25cf "+this.symbols.slice(e).map(t).join(" ");return this.name+" \u2192 "+n},t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(e){var n=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=e,n.isComplete&&(n.data=n.build()),n},t.prototype.build=function(){var e=[],t=this;do{e.push(t.right.data),t=t.left}while(t.left);return e.reverse(),e},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(e){for(var t=this.states,n=this.wants,r=this.completed,i=0;i<t.length;i++){var a=t[i];if(a.isComplete){if(a.finish(),a.data!==o.fail){for(var s=a.wantedBy,l=s.length;l--;){var u=s[l];this.complete(u,a)}if(a.reference===this.index){var c=a.rule.name;(this.completed[c]=this.completed[c]||[]).push(a)}}}else{if("string"!=typeof(c=a.rule.symbols[a.dot])){this.scannable.push(a);continue}if(n[c]){if(n[c].push(a),r.hasOwnProperty(c)){var h=r[c];for(l=0;l<h.length;l++){var f=h[l];this.complete(a,f)}}}else n[c]=[a],this.predict(c)}}},n.prototype.predict=function(e){for(var n=this.grammar.byName[e]||[],r=0;r<n.length;r++){var i=n[r],o=this.wants[e],a=new t(i,0,this.index,o);this.states.push(a)}},n.prototype.complete=function(e,t){var n=e.nextState(t);this.states.push(n)},r.fromCompiled=function(t,n){var i=t.Lexer;t.ParserStart&&(n=t.ParserStart,t=t.ParserRules);var o=new r(t=t.map((function(t){return new e(t.name,t.symbols,t.postprocess)})),n);return o.lexer=i,o},i.prototype.reset=function(e,t){this.buffer=e,this.index=0,this.line=t?t.line:1,this.lastLineBreak=t?-t.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(e,t){var n=this.buffer;if("string"==typeof n){var r=n.indexOf("\n",this.index);-1===r&&(r=n.length);var i=n.substring(this.lastLineBreak,r),o=this.index-this.lastLineBreak;return t+=" at line "+this.line+" col "+o+":\n\n",t+="  "+i+"\n",t+="  "+Array(o).join(" ")+"^"}return t+" at index "+(this.index-1)},o.fail={},o.prototype.feed=function(e){var t,r=this.lexer;for(r.reset(e,this.lexerState);t=r.next();){var o=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var a=this.current+1,s=new n(this.grammar,a);this.table.push(s);for(var l=void 0!==t.text?t.text:t.value,u=r.constructor===i?t.value:t,c=o.scannable,h=c.length;h--;){var f=c[h],d=f.rule.symbols[f.dot];if(d.test?d.test(u):d.type?d.type===t.type:d.literal===l){var p=f.nextState({data:u,token:t,isToken:!0,reference:a-1});s.states.push(p)}}if(s.process(),0===s.states.length){var m=this.lexer.formatError(t,"invalid syntax")+"\n";m+="Unexpected "+(t.type?t.type+" token: ":""),m+=JSON.stringify(void 0!==t.value?t.value:t)+"\n";var v=new Error(m);throw v.offset=this.current,v.token=t,v}this.options.keepHistory&&(o.lexerState=r.save()),this.current++}return o&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},o.prototype.restore=function(e){var t=e.index;this.current=t,this.table[t]=e,this.table.splice(t+1),this.lexerState=e.lexerState,this.results=this.finish()},o.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},o.prototype.finish=function(){var e=[],t=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===t&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&e.push(n)})),e.map((function(e){return e.data}))},{Parser:o,Grammar:r,Rule:e}},e.exports?e.exports=i():r.nearley=i()},function(e,t,n){!function(){function t(e){return e[0]}var r,i,o=n(1068),a=function(e){return e=e.filter((function(e){return null!==e})),o(e)},s={" ":"descendantCombinator","+":"adjacentSiblingCombinator",">":"childCombinator","~":"generalSiblingCombinator"},l=function(e,t,n){var r=o(e).join(""),i=parseFloat(r);return isNaN(i)?n:i},u=function(e,t,n){return"true"===e[0]||"false"!==e[0]&&n},c=function(e,t,n){return"NaN"===e[0]?NaN:"undefined"!==e[0]?"null"===e[0]?null:n:void 0},h={Lexer:void 0,ParserRules:[{name:"combinator",symbols:["selector"]},{name:"combinator",symbols:["combinator","_",/[>+~ ]/,"_","selector"],postprocess:function(e){return(Array.isArray(e[0])?e[0]:[e[0]]).concat({type:s[e[2]]}).concat(e[4])}},{name:"selector",symbols:["selectorBody"],postprocess:function(e){return{type:"selector",body:e[0]}}},{name:"selectorBody$ebnf$1",symbols:["typeSelector"],postprocess:t},{name:"selectorBody$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"selectorBody$ebnf$2",symbols:[]},{name:"selectorBody$ebnf$2",symbols:["selectorBody$ebnf$2","simpleSelector"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"selectorBody",symbols:["selectorBody$ebnf$1","selectorBody$ebnf$2"],postprocess:function(e,t,n){var r=a(e);return r.length?r:n}},{name:"selectorBody$ebnf$3",symbols:[]},{name:"selectorBody$ebnf$3",symbols:["selectorBody$ebnf$3","simpleSelector"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"selectorBody",symbols:["universalSelector","selectorBody$ebnf$3"],postprocess:a},{name:"simpleSelector",symbols:["idSelector"]},{name:"simpleSelector",symbols:["classSelector"]},{name:"simpleSelector",symbols:["attributeValueSelector"]},{name:"simpleSelector",symbols:["attributePresenceSelector"]},{name:"simpleSelector",symbols:["pseudoClassSelector"]},{name:"simpleSelector",symbols:["pseudoElementSelector"]},{name:"typeSelector",symbols:["attributeName"],postprocess:function(e){return{type:"typeSelector",name:e[0]}}},{name:"className$ebnf$1",symbols:[{literal:"-"}],postprocess:t},{name:"className$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"className$ebnf$2",symbols:[]},{name:"className$ebnf$2",symbols:["className$ebnf$2",/[_a-zA-Z0-9-]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"className",symbols:["className$ebnf$1",/[_a-zA-Z]/,"className$ebnf$2"],postprocess:function(e){return(e[0]||"")+e[1]+e[2].join("")}},{name:"attributeName$ebnf$1",symbols:[]},{name:"attributeName$ebnf$1",symbols:["attributeName$ebnf$1",/[_a-zA-Z()0-9-]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"attributeName",symbols:[/[_a-z()A-Z]/,"attributeName$ebnf$1"],postprocess:function(e){return e[0]+e[1].join("")}},{name:"classSelector",symbols:[{literal:"."},"className"],postprocess:function(e){return{type:"classSelector",name:e[1]}}},{name:"idSelector",symbols:[{literal:"#"},"attributeName"],postprocess:function(e){return{type:"idSelector",name:e[1]}}},{name:"universalSelector",symbols:[{literal:"*"}],postprocess:function(e){return{type:"universalSelector"}}},{name:"attributePresenceSelector",symbols:[{literal:"["},"attributeName",{literal:"]"}],postprocess:function(e){return{type:"attributePresenceSelector",name:e[1]}}},{name:"attributeOperator",symbols:[{literal:"="}]},{name:"attributeOperator$string$1",symbols:[{literal:"~"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$1"]},{name:"attributeOperator$string$2",symbols:[{literal:"|"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$2"]},{name:"attributeOperator$string$3",symbols:[{literal:"^"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$3"]},{name:"attributeOperator$string$4",symbols:[{literal:"$"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$4"]},{name:"attributeOperator$string$5",symbols:[{literal:"*"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$5"]},{name:"attributeValueSelector",symbols:[{literal:"["},"attributeName","attributeOperator","attributeValue",{literal:"]"}],postprocess:function(e){return{type:"attributeValueSelector",name:e[1],value:e[3],operator:e[2][0]}}},{name:"attributeValue",symbols:["falsyPrimitiveStrings"],postprocess:t},{name:"attributeValue",symbols:["numericValue"],postprocess:t},{name:"attributeValue",symbols:["sqstring"],postprocess:t},{name:"attributeValue",symbols:["dqstring"],postprocess:t},{name:"falsyPrimitiveStrings$string$1",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$1"],postprocess:u},{name:"falsyPrimitiveStrings$string$2",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$2"],postprocess:u},{name:"falsyPrimitiveStrings$string$3",symbols:[{literal:"N"},{literal:"a"},{literal:"N"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$3"],postprocess:c},{name:"falsyPrimitiveStrings$string$4",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$4"],postprocess:c},{name:"falsyPrimitiveStrings$string$5",symbols:[{literal:"u"},{literal:"n"},{literal:"d"},{literal:"e"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"e"},{literal:"d"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$5"],postprocess:c},{name:"numericValue",symbols:["int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"+"},"int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"-"},"int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"-"},"int"],postprocess:l},{name:"numericValue",symbols:["int"],postprocess:l},{name:"numericValue",symbols:[{literal:"+"},"int"],postprocess:l},{name:"numericValue$string$1",symbols:[{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$1"],postprocess:l},{name:"numericValue$string$2",symbols:[{literal:"+"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$2"],postprocess:l},{name:"numericValue$string$3",symbols:[{literal:"-"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$3"],postprocess:l},{name:"int$ebnf$1",symbols:[/[0-9]/]},{name:"int$ebnf$1",symbols:["int$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"int",symbols:["int$ebnf$1"]},{name:"classParameters",symbols:[]},{name:"classParameters",symbols:["classParameter"]},{name:"classParameters",symbols:["classParameters",{literal:","},"_","classParameter"],postprocess:(r=0,i=3,function(e){return e[r].concat([e[i]])})},{name:"classParameter$ebnf$1",symbols:[/[^()"', ]/]},{name:"classParameter$ebnf$1",symbols:["classParameter$ebnf$1",/[^()"', ]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"classParameter",symbols:["classParameter$ebnf$1"],postprocess:function(e){return e[0].join("")}},{name:"classParameter",symbols:["sqstring"],postprocess:t},{name:"classParameter",symbols:["dqstring"],postprocess:t},{name:"pseudoElementSelector$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"pseudoElementSelector",symbols:["pseudoElementSelector$string$1","pseudoClassSelectorName"],postprocess:function(e){return{type:"pseudoElementSelector",name:e[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName"],postprocess:function(e){return{type:"pseudoClassSelector",name:e[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName",{literal:"("},"classParameters",{literal:")"}],postprocess:function(e){return{type:"pseudoClassSelector",name:e[1],parameters:e[3]}}},{name:"pseudoClassSelectorName$ebnf$1",symbols:[/[a-zA-Z0-9-_]/]},{name:"pseudoClassSelectorName$ebnf$1",symbols:["pseudoClassSelectorName$ebnf$1",/[a-zA-Z0-9-_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"pseudoClassSelectorName",symbols:[/[a-zA-Z]/,"pseudoClassSelectorName$ebnf$1"],postprocess:function(e){return e[0]+e[1].join("")}},{name:"dqstring$ebnf$1",symbols:[]},{name:"dqstring$ebnf$1",symbols:["dqstring$ebnf$1","dstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"dqstring",symbols:[{literal:'"'},"dqstring$ebnf$1",{literal:'"'}],postprocess:function(e){return e[1].join("")}},{name:"dstrchar",symbols:[/[^"]/],postprocess:t},{name:"dstrchar$string$1",symbols:[{literal:"\\"},{literal:'"'}],postprocess:function(e){return e.join("")}},{name:"dstrchar",symbols:["dstrchar$string$1"],postprocess:function(e){return'"'}},{name:"sqstring$ebnf$1",symbols:[]},{name:"sqstring$ebnf$1",symbols:["sqstring$ebnf$1","sstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sqstring",symbols:[{literal:"'"},"sqstring$ebnf$1",{literal:"'"}],postprocess:function(e){return e[1].join("")}},{name:"sstrchar",symbols:[/[^']/],postprocess:t},{name:"sstrchar$string$1",symbols:[{literal:"\\"},{literal:"'"}],postprocess:function(e){return e.join("")}},{name:"sstrchar",symbols:["sstrchar$string$1"],postprocess:function(e){return"'"}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ ]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(e){return null}}],ParserStart:"combinator"};"undefined"!=typeof e.exports?e.exports=h:window.grammar=h}()},function(e,t,n){(function(t){var n=1/0,r=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")();function c(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var h=Object.prototype,f=h.hasOwnProperty,d=h.toString,p=u.Symbol,m=h.propertyIsEnumerable,v=p?p.isConcatSpreadable:void 0;function g(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=y),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?g(s,t-1,n,r,i):c(i,s):r||(i[i.length]=s)}return i}function y(e){return x(e)||_(e)||!!(v&&e&&e[v])}function b(e){return e&&e.length?g(e,n):[]}function _(e){return w(e)&&f.call(e,"callee")&&(!m.call(e,"callee")||d.call(e)==i)}var x=Array.isArray;function T(e){return null!=e&&E(e.length)&&!S(e)}function w(e){return C(e)&&T(e)}function S(e){var t=k(e)?d.call(e):"";return t==o||t==a}function E(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function k(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function C(e){return!!e&&"object"==typeof e}e.exports=b}).call(this,n(27))},function(e,t,n){var r=n(52),i=n(513),o=n(514),a=n(1070),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t,n){var r=n(514),i=n(52);e.exports=function(){var e=r();return i(Object,{values:e},{values:function(){return Object.values!==e}}),e}},function(e,t,n){var r=n(1072),i=n(1073);e.exports=function(e){if(!e)return[];var t=i();return e===t.unknown?[]:e===t.all?t.elements:r(t.elements,(function(t){return t.constructor===e}))}},function(e,t){e.exports=function(e,t,r){if(e.filter)return e.filter(t,r);if(null==e)throw new TypeError;if("function"!=typeof t)throw new TypeError;for(var i=[],o=0;o<e.length;o++)if(n.call(e,o)){var a=e[o];t.call(r,a,o,e)&&i.push(a)}return i};var n=Object.prototype.hasOwnProperty},function(e,t,n){(function(t){var n=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r],r));return n},r=[["HTMLElement","article"],["HTMLElement","section"],["HTMLBaseFontElement","basefont"],["HTMLPhraseElement","cite"],["HTMLElement","noscript"],["HTMLBGSoundElement","bgsound"],["HTMLPhraseElement","blink"],["HTMLElement","multicol"],["HTMLNextIdElement","nextid"],["HTMLElement","rb"],["HTMLElement","spacer"],["HTMLAnchorElement","a"],["HTMLAreaElement","area"],["HTMLAudioElement","audio"],["HTMLBaseElement","base"],["HTMLBodyElement","body"],["HTMLBRElement","br"],["HTMLButtonElement","button"],["HTMLCanvasElement","canvas"],["HTMLContentElement","content"],["HTMLDataElement","data"],["HTMLDataListElement","datalist"],["HTMLDialogElement","dialog"],["HTMLDirectoryElement","dir"],["HTMLDivElement","div"],["HTMLDListElement","dl"],["HTMLEmbedElement","embed"],["HTMLFieldSetElement","fieldset"],["HTMLFontElement","font"],["HTMLFormElement","form"],["HTMLFrameElement","frame"],["HTMLFrameSetElement","frameset"],["HTMLHeadElement","head"],["HTMLHeadingElement","h1"],["HTMLHeadingElement","h2"],["HTMLHeadingElement","h3"],["HTMLHeadingElement","h4"],["HTMLHeadingElement","h5"],["HTMLHeadingElement","h6"],["HTMLHtmlElement","html"],["HTMLHRElement","hr"],["HTMLIFrameElement","iframe"],["HTMLImageElement","img"],["HTMLInputElement","input"],["HTMLIsIndexElement","index"],["HTMLKeygenElement","keygen","HTMLBlockElement"],["HTMLLabelElement","label"],["HTMLLegendElement","legend"],["HTMLLIElement","li"],["HTMLLinkElement","link"],["HTMLMapElement","map"],["HTMLMarqueeElement","marquee"],["HTMLMenuElement","menu"],["HTMLMetaElement","meta"],["HTMLMeterElement","meter"],["HTMLModElement","del"],["HTMLModElement","ins"],["HTMLObjectElement","object"],["HTMLOListElement","ol"],["HTMLOptGroupElement","optgroup"],["HTMLOptionElement","option"],["HTMLOutputElement","output"],["HTMLParagraphElement","p"],["HTMLParamElement","param"],["HTMLPictureElement","picture"],["HTMLPreElement","pre"],["HTMLProgressElement","progress"],["HTMLQuoteElement","q"],["HTMLQuoteElement","blockquote","HTMLBlockElement"],["HTMLScriptElement","script"],["HTMLPictureElement","picture"],["HTMLSelectElement","select"],["HTMLShadowElement","shadow"],["HTMLSourceElement","source"],["HTMLSpanElement","span"],["HTMLStyleElement","style"],["HTMLTableElement","table"],["HTMLTableCaptionElement","caption"],["HTMLTableCellElement","td","HTMLTableDataCellElement"],["HTMLTableCellElement","th","HTMLTableHeaderCellElement"],["HTMLTableRowElement","tr"],["HTMLTableColElement","col"],["HTMLTableColElement","colgroup"],["HTMLTableSectionElement","tbody"],["HTMLTableSectionElement","thead"],["HTMLTableSectionElement","tfoot"],["HTMLTemplateElement","template"],["HTMLTextAreaElement","textarea"],["HTMLTimeElement","time"],["HTMLTitleElement","title"],["HTMLTrackElement","track"],["HTMLUListElement","ul"],["HTMLVideoElement","video"]],i=function(e,t,n){if("undefined"!=typeof document&&"function"==typeof document.createElement){var r=document.createElement(e).constructor;if(r!==n)return r}};e.exports=function(){var e=t.HTMLUnknownElement;return{all:t.HTMLElement,elements:n(r,(function(n){var r=n[0],o=n[1],a=n[2],s=t[r],l=a&&t[a];return{constructor:i(o,l||s,e),constructorName:l?a:r,expectedConstructor:l||s,tag:o}})),unknown:e}}}).call(this,n(27))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=i(n(447));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return new r.default(e,null,t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=i(n(515));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return new r.default(e,null,t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n(122)),i=a(n(296)),o=a(n(103));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.default)(t).createRenderer((0,r.default)({mode:"string"},t)).render(e,t.context);return i.default.load("")(n)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,r.default)(this,e),this.customEventHandlers={},this.registeredEls={},this.pubSub=t}return(0,i.default)(e,[{key:"getEventHandler",value:function(){function e(e){var t=this;return this.customEventHandlers[e]?this.customEventHandlers[e]:function(n){return t.pubSub.publish(e,n)}}return e}()},{key:"unregister",value:function(){function e(e,t){!this.registeredEls[e]&&this.registeredEls[e]!==t||(this.registeredEls[e].removeEventListener(e,this.registeredEls[e].__handler__),this.registeredEls[e]=void 0,delete this.registeredEls[e])}return e}()},{key:"register",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!t||this.registeredEls[e]===t||(this.registeredEls[e]&&this.unregister(this.registeredEls[e]),this.registeredEls[e]=t,this.registeredEls[e].__handler__=this.getEventHandler(e),this.registeredEls[e].addEventListener(e,this.registeredEls[e].__handler__,{capture:n,passive:!1}))}return e}()}]),e}(),s=function(e){return new a(e)};t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.trackInfo=t.tileDataToPixData=t.calculateTilesFromResolution=t.calculateTileWidth=t.calculateTiles=t.calculateZoomLevel=t.calculateResolution=t.calculateZoomLevelFromResolutions=t.fetchTilesDebounced=t.getTileProxyAuthHeader=t.setTileProxyAuthHeader=t.authHeader=t.requestsInFlight=void 0;var r=p(n(246)),i=p(n(247)),o=p(n(17)),a=p(n(62)),s=p(n(18)),l=function(){var e=(0,i.default)(r.default.mark(function(){function e(t,n,i){return r.default.wrap(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.indexOf("hg19")>=0)){e.next=3;break}return e.next=3,I(1);case 3:return e.abrupt("return",P(t,n,"json",i));case 4:case"end":return e.stop()}}return e}(),e,this)}return e}()));return function(){function t(t,n,r){return e.apply(this,arguments)}return t}()}();t.fetchMultiRequestTiles=_,t.calculateTileAndPosInTile=E;var u=n(8),c=p(n(26)),h=n(182),f=n(10),d=n(11);function p(e){return e&&e.__esModule?e:{default:e}}var m=15,v=c.default.nice(),g=t.requestsInFlight=0,y=t.authHeader=null,b=function(e,t,n){var r=void 0,i=[],o={},a=0,s=function(e){var t=o[e.id];t&&i[t]?i[t].ids=i[t].ids.concat(e.ids):(o[e.id]=i.length,i.push(e))},l=function(){r=null,i=[],o={}},u=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.apply(void 0,[{sessionId:v,requests:i}].concat(r)),l()},c=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];var s=function(){a>0&&(u.apply(void 0,[e].concat(i)),a=0)};clearTimeout(r),r=setTimeout(s,n)};c.cancel=function(){clearTimeout(r),l()},c.immediate=function(){e({sessionId:v,requests:i})};var h=!1,f=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];s(e),h?a++:(u.apply(void 0,[e].concat(r)),c.apply(void 0,[e].concat(r)),h=!0,a=0,setTimeout((function(){h=!1}),t))};return f};function _(e,t){var n=e.requests,r=[],i={},l={},u=!0,c=!1,f=void 0;try{for(var d,p=(0,o.default)(n);!(u=(d=p.next()).done);u=!0){var g=d.value;i[g.server]||(i[g.server]={},l[g.server]=[]);var b=!0,_=!1,x=void 0;try{for(var T,w=(0,o.default)(g.ids);!(b=(T=w.next()).done);b=!0){var S=T.value;i[g.server][S]=!0,g.options&&function(){var e=S.indexOf("."),t=S.substring(0,e),n=S.substring(e+1),r=l[g.server].find((function(e){return e.tilesetUid===t}));r?r.tileIds.push(n):l[g.server].push({tilesetUid:t,tileIds:[n],options:g.options})}()}}catch(I){_=!0,x=I}finally{try{!b&&w.return&&w.return()}finally{if(_)throw x}}}}catch(I){c=!0,f=I}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}var E=(0,s.default)(i),k=function(e){for(var n=(0,s.default)(i[e]),o=l[e],u=function(i){var s=n.slice(i,i+Math.min(n.length-i,m)),l=s.map((function(e){return"d="+String(e)})).join("&"),u=String(e)+"/tiles/?"+String(l)+"&s="+String(v),c=new a.default((function(n,r){t.publish("requestSent",u);var i={};i.outUrl=u,i.server=e,i.theseTileIds=s,i.authHeader=y,(0,h.workerGetTiles)(i.outUrl,i.server,i.theseTileIds,i.authHeader,n,o),t.publish("requestReceived",u)}));r.push(c)},c=0;c<n.length;c+=m)u(c)},C=!0,A=!1,O=void 0;try{for(var P,M=(0,o.default)(E);!(C=(P=M.next()).done);C=!0)k(P.value)}catch(I){A=!0,O=I}finally{try{!C&&M.return&&M.return()}finally{if(A)throw O}}a.default.all(r).then((function(e){var t={},r=!0,i=!1,a=void 0;try{for(var l,u=(0,o.default)(e);!(r=(l=u.next()).done);r=!0){var c=l.value,h=(0,s.default)(c),f=!0,d=!1,p=void 0;try{for(var m,v=(0,o.default)(h);!(f=(m=v.next()).done);f=!0){var g=m.value;t[String(c[g].server)+"/"+String(g)]=c[g]}}catch(I){d=!0,p=I}finally{try{!f&&v.return&&v.return()}finally{if(d)throw p}}}}catch(I){i=!0,a=I}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}var y=!0,b=!1,_=void 0;try{for(var x,T=(0,o.default)(n);!(y=(x=T.next()).done);y=!0){var w=x.value,S={},E=w.server,k=!0,C=!1,A=void 0;try{for(var O,P=(0,o.default)(w.ids);!(k=(O=P.next()).done);k=!0){var M=O.value;S[M]=t[String(E)+"/"+String(M)]}}catch(I){C=!0,A=I}finally{try{!k&&P.return&&P.return()}finally{if(C)throw A}}w.done(S)}}catch(I){b=!0,_=I}finally{try{!y&&T.return&&T.return()}finally{if(b)throw _}}}))}t.setTileProxyAuthHeader=function(e){t.authHeader=y=e},t.getTileProxyAuthHeader=function(){return y};var x=t.fetchTilesDebounced=b(_,d.TILE_FETCH_DEBOUNCE,d.TILE_FETCH_DEBOUNCE),T=t.calculateZoomLevelFromResolutions=function(e,t){var n=e.map((function(e){return+e})).sort((function(e,t){return t-e})),r=t.range()[1]-t.range()[0],i=n.map((function(e){return(t.domain()[1]-t.domain()[0])/e})).map((function(e){return e/r})),o=i.filter((function(e){return e<1}));return 0===o.length?0:i.indexOf(o[o.length-1])},w=t.calculateResolution=function(e,t){if(e.resolutions)return e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[t];var n=e.max_width,r=+e.bins_per_dimension;return n/(Math.pow(2,t)*r)},S=t.calculateZoomLevel=function(e,t,n,r){var i=e.range()[1]-e.range()[0],o=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),a=384,s=Math.max(0,Math.ceil(Math.log(i/a)/Math.LN2)),l=Math.round(Math.log(o)/Math.LN2)+s,u=0;return r&&(u=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),l+=u};function E(e,t,n,r,i){var o=null,a=e.bins_per_dimension||256;o=e.resolutions?e.resolutions[r]*a:t/Math.pow(2,r);var s=Math.floor((i-n)/o);return[s,Math.floor(a*(i-s*o)/o)]}var k=t.calculateTiles=function(e,t,n,r,i,o){var a=Math.min(e,i),s=o/Math.pow(2,a),l=1e-7;return(0,u.range)(Math.max(0,Math.floor((t.domain()[0]-n)/s)),Math.min(Math.pow(2,a),Math.ceil((t.domain()[1]-n-l)/s)))},C=t.calculateTileWidth=function(e,t,n){return e.resolutions?e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[t]*n:e.max_width/Math.pow(2,t)},A=t.calculateTilesFromResolution=function(e,t,n,r,i){var o=1e-7,a=e*(i||256),s=20;r||(r=Number.MAX_VALUE);var l=Math.max(0,Math.floor((t.domain()[0]-n)/a)),c=Math.ceil(Math.min(r,t.domain()[1]-n-o)/a),h=(0,u.range)(l,c);return h.length>s&&(console.warn("Too many visible tiles: "+String(h.length)+" truncating to "+s),h=h.slice(0,s)),h},O=t.tileDataToPixData=function(e,t,n,r,i,o,a,s,l,u){var c=e.tileData;if(c.dense){if(e.mirrored&&!e.isMirrored&&e.tileData.tilePos.length>0&&e.tileData.tilePos[0]===e.tileData.tilePos[1]){e.tileData.dense=e.tileData.dense.slice();for(var f=Math.floor(Math.sqrt(e.tileData.dense.length)),d=0;d<f;d++)for(var p=d+1;p<f;p++)e.tileData.dense[d*f+p]=e.tileData.dense[p*f+d];if(s)for(var m=0;m<f;m++)for(var v=0;v<m;v++)e.tileData.dense[m*f+v]=NaN;e.isMirrored=!0}o({pixData:(0,h.workerSetPix)(c.dense.length,c.dense,t,n,r,i,a,s,e.tileData.shape,l,u)})}else o(null)};function P(e,n,r,i){t.requestsInFlight=g+=1,i.publish("requestSent",e);var o=null;if("text"===r)o=null;else{if("json"!==r)throw new Error('fetch either "text" or "json", not "'+r+'"');o="application/json"}var a={};return o&&(a["Content-Type"]=o),y&&(a.Authorization=y),fetch(e,{credentials:"same-origin",headers:a}).then((function(e){if(!e.ok)throw Error(e.statusText);return e[r]()})).then((function(e){return n(void 0,e),e})).catch((function(t){return console.error("Could not fetch "+String(e),t),n(t,void 0),t})).finally((function(){i.publish("requestReceived",e),t.requestsInFlight=g-=1}))}function M(e,t,n){return P(e,t,"text",n)}function I(e){return new a.default((function(t){return setTimeout(t,e)}))}var R=t.trackInfo=function(e,t,n,r,i){var o=String((0,f.trimTrailingSlash)(e))+"/tileset_info/?d="+String(t)+"&s="+String(v);i.publish("requestSent",o),l(o,(function(t,a){i.publish("requestReceived",o),t?r?r("Error retrieving tilesetInfo from: "+String(e)):console.warn("Error retrieving: ",o):n(a)}),i)},L={calculateResolution:w,calculateTileAndPosInTile:E,calculateTiles:k,calculateTilesFromResolution:A,calculateTileWidth:C,calculateZoomLevel:S,calculateZoomLevelFromResolutions:T,fetchTilesDebounced:x,json:l,text:M,tileDataToPixData:O,trackInfo:R};t.default=L},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.trackViewer=void 0;var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(19)),u=f(n(2)),c=f(n(1)),h=n(317);function f(e){return e&&e.__esModule?e:{default:e}}var d=t.trackViewer=function(e,t,n){var r=(0,l.default)(t,4),i=r[0],o=r[1],a=r[2],s=r[3];n.options.colorbarPosition||(n.options.colorbarPosition="hidden"),n.options.labelPosition||(n.options.labelPosition="hidden");var u="arbitary-id",c={editable:!1,zoomFixed:!1,views:[{uid:u,initialXDomain:[i,o],initialYDomain:[a,s],tracks:{center:[n]},layout:{w:12,h:12,x:0,y:0,moved:!1,static:!1}}]};return{id:u,hgApi:(0,h.viewer)(e,c,{sizeMode:"bounded"})}},p=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.id="id-"+String(Math.random()),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){function e(){this.initTrackViewer()}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e){var t=e.x,n=e.y,r=e.width,i=e.height;return this.zoomTo(t,n,r,i),!1}return e}()},{key:"initTrackViewer",value:function(){function e(){var e=this.props,t=e.trackConfig,n=e.x,r=e.y,i=e.width,o=e.height,a=document.getElementById(this.id),s=d(a,[n,n+i,r,r+o],t),l=s.id,u=s.hgApi;this.viewUid=l,this.viewer=u}return e}()},{key:"zoomTo",value:function(){function e(e,t,n,r){this.viewer.zoomTo(this.viewUid,e,e+n,t,t+r)}return e}()},{key:"render",value:function(){function e(){return c.default.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}return e}()}]),t}(c.default.Component);t.default=p,p.propTypes={trackConfig:u.default.object,width:u.default.number,height:u.default.number,x:u.default.number,y:u.default.number}},function(e,t,n){n.r(t);var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(e){a(o,e,this.t),a(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function a(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var s=1e-6,l=1e-12,u=Math.PI,c=u/2,h=u/4,f=2*u,d=180/u,p=u/180,m=Math.abs,v=Math.atan,g=Math.atan2,y=Math.cos,b=Math.ceil,_=Math.exp,x=Math.log,T=Math.pow,w=Math.sin,S=Math.sign||function(e){return e>0?1:e<0?-1:0},E=Math.sqrt,k=Math.tan;function C(e){return e>1?0:e<-1?u:Math.acos(e)}function A(e){return e>1?c:e<-1?-c:Math.asin(e)}function O(e){return(e=w(e/2))*e}function P(){}function M(e,t){e&&R.hasOwnProperty(e.type)&&R[e.type](e,t)}var I={Feature:function(e,t){M(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)M(n[r].geometry,t)}},R={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){L(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)L(n[r],t,0)},Polygon:function(e,t){D(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)D(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)M(n[r],t)}};function L(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function D(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)L(e[n],t,1);t.polygonEnd()}var N,j,B,F,H,z=function(e,t){e&&I.hasOwnProperty(e.type)?I[e.type](e,t):M(e,t)},U=r(),V=r(),G={point:P,lineStart:P,lineEnd:P,polygonStart:function(){U.reset(),G.lineStart=X,G.lineEnd=Y},polygonEnd:function(){var e=+U;V.add(e<0?f+e:e),this.lineStart=this.lineEnd=this.point=P},sphere:function(){V.add(f)}};function X(){G.point=W}function Y(){q(N,j)}function W(e,t){G.point=q,N=e,j=t,B=e*=p,F=y(t=(t*=p)/2+h),H=w(t)}function q(e,t){var n=(e*=p)-B,r=n>=0?1:-1,i=r*n,o=y(t=(t*=p)/2+h),a=w(t),s=H*a,l=F*o+s*y(i),u=s*r*w(i);U.add(g(u,l)),B=e,F=o,H=a}var K=function(e){return V.reset(),z(e,G),2*V};function $(e){return[g(e[1],e[0]),A(e[2])]}function Z(e){var t=e[0],n=e[1],r=y(n);return[r*y(t),r*w(t),w(n)]}function Q(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function J(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ee(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function te(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ne(e){var t=E(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var re,ie,oe,ae,se,le,ue,ce,he,fe,de=r(),pe={point:me,lineStart:ge,lineEnd:ye,polygonStart:function(){pe.point=be,pe.lineStart=_e,pe.lineEnd=xe,de.reset(),G.polygonStart()},polygonEnd:function(){G.polygonEnd(),pe.point=me,pe.lineStart=ge,pe.lineEnd=ye,U<0?(re=-(oe=180),ie=-(ae=90)):de>s?ae=90:de<-s&&(ie=-90),fe[0]=re,fe[1]=oe}};function me(e,t){he.push(fe=[re=e,oe=e]),t<ie&&(ie=t),t>ae&&(ae=t)}function ve(e,t){var n=Z([e*p,t*p]);if(ce){var r=J(ce,n),i=J([r[1],-r[0],0],r);ne(i),i=$(i);var o,a=e-se,s=a>0?1:-1,l=i[0]*d*s,u=m(a)>180;u^(s*se<l&&l<s*e)?(o=i[1]*d)>ae&&(ae=o):u^(s*se<(l=(l+360)%360-180)&&l<s*e)?(o=-i[1]*d)<ie&&(ie=o):(t<ie&&(ie=t),t>ae&&(ae=t)),u?e<se?Te(re,e)>Te(re,oe)&&(oe=e):Te(e,oe)>Te(re,oe)&&(re=e):oe>=re?(e<re&&(re=e),e>oe&&(oe=e)):e>se?Te(re,e)>Te(re,oe)&&(oe=e):Te(e,oe)>Te(re,oe)&&(re=e)}else he.push(fe=[re=e,oe=e]);t<ie&&(ie=t),t>ae&&(ae=t),ce=n,se=e}function ge(){pe.point=ve}function ye(){fe[0]=re,fe[1]=oe,pe.point=me,ce=null}function be(e,t){if(ce){var n=e-se;de.add(m(n)>180?n+(n>0?360:-360):n)}else le=e,ue=t;G.point(e,t),ve(e,t)}function _e(){G.lineStart()}function xe(){be(le,ue),G.lineEnd(),m(de)>s&&(re=-(oe=180)),fe[0]=re,fe[1]=oe,ce=null}function Te(e,t){return(t-=e)<0?t+360:t}function we(e,t){return e[0]-t[0]}function Se(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Ee,ke,Ce,Ae,Oe,Pe,Me,Ie,Re,Le,De,Ne,je,Be,Fe,He,ze=function(e){var t,n,r,i,o,a,s;if(ae=oe=-(re=ie=1/0),he=[],z(e,pe),n=he.length){for(he.sort(we),t=1,o=[r=he[0]];t<n;++t)Se(r,(i=he[t])[0])||Se(r,i[1])?(Te(r[0],i[1])>Te(r[0],r[1])&&(r[1]=i[1]),Te(i[0],r[1])>Te(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=Te(r[1],i[0]))>a&&(a=s,re=i[0],oe=r[1])}return he=fe=null,re===1/0||ie===1/0?[[NaN,NaN],[NaN,NaN]]:[[re,ie],[oe,ae]]},Ue={sphere:P,point:Ve,lineStart:Xe,lineEnd:qe,polygonStart:function(){Ue.lineStart=Ke,Ue.lineEnd=$e},polygonEnd:function(){Ue.lineStart=Xe,Ue.lineEnd=qe}};function Ve(e,t){e*=p;var n=y(t*=p);Ge(n*y(e),n*w(e),w(t))}function Ge(e,t,n){++Ee,Ce+=(e-Ce)/Ee,Ae+=(t-Ae)/Ee,Oe+=(n-Oe)/Ee}function Xe(){Ue.point=Ye}function Ye(e,t){e*=p;var n=y(t*=p);Be=n*y(e),Fe=n*w(e),He=w(t),Ue.point=We,Ge(Be,Fe,He)}function We(e,t){e*=p;var n=y(t*=p),r=n*y(e),i=n*w(e),o=w(t),a=g(E((a=Fe*o-He*i)*a+(a=He*r-Be*o)*a+(a=Be*i-Fe*r)*a),Be*r+Fe*i+He*o);ke+=a,Pe+=a*(Be+(Be=r)),Me+=a*(Fe+(Fe=i)),Ie+=a*(He+(He=o)),Ge(Be,Fe,He)}function qe(){Ue.point=Ve}function Ke(){Ue.point=Ze}function $e(){Qe(Ne,je),Ue.point=Ve}function Ze(e,t){Ne=e,je=t,e*=p,t*=p,Ue.point=Qe;var n=y(t);Be=n*y(e),Fe=n*w(e),He=w(t),Ge(Be,Fe,He)}function Qe(e,t){e*=p;var n=y(t*=p),r=n*y(e),i=n*w(e),o=w(t),a=Fe*o-He*i,s=He*r-Be*o,l=Be*i-Fe*r,u=E(a*a+s*s+l*l),c=A(u),h=u&&-c/u;Re+=h*a,Le+=h*s,De+=h*l,ke+=c,Pe+=c*(Be+(Be=r)),Me+=c*(Fe+(Fe=i)),Ie+=c*(He+(He=o)),Ge(Be,Fe,He)}var Je=function(e){Ee=ke=Ce=Ae=Oe=Pe=Me=Ie=Re=Le=De=0,z(e,Ue);var t=Re,n=Le,r=De,i=t*t+n*n+r*r;return i<l&&(t=Pe,n=Me,r=Ie,ke<s&&(t=Ce,n=Ae,r=Oe),(i=t*t+n*n+r*r)<l)?[NaN,NaN]:[g(n,t)*d,A(r/E(i))*d]},et=function(e){return function(){return e}},tt=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function nt(e,t){return[m(e)>u?e+Math.round(-e/f)*f:e,t]}function rt(e,t,n){return(e%=f)?t||n?tt(ot(e),at(t,n)):ot(e):t||n?at(t,n):nt}function it(e){return function(t,n){return[(t+=e)>u?t-f:t<-u?t+f:t,n]}}function ot(e){var t=it(e);return t.invert=it(-e),t}function at(e,t){var n=y(e),r=w(e),i=y(t),o=w(t);function a(e,t){var a=y(t),s=y(e)*a,l=w(e)*a,u=w(t),c=u*n+s*r;return[g(l*i-c*o,s*n-u*r),A(c*i+l*o)]}return a.invert=function(e,t){var a=y(t),s=y(e)*a,l=w(e)*a,u=w(t),c=u*i-l*o;return[g(l*i+u*o,s*n+c*r),A(c*n-s*r)]},a}nt.invert=nt;var st=function(e){function t(t){return(t=e(t[0]*p,t[1]*p))[0]*=d,t[1]*=d,t}return e=rt(e[0]*p,e[1]*p,e.length>2?e[2]*p:0),t.invert=function(t){return(t=e.invert(t[0]*p,t[1]*p))[0]*=d,t[1]*=d,t},t};function lt(e,t,n,r,i,o){if(n){var a=y(t),s=w(t),l=r*n;null==i?(i=t+r*f,o=t-l/2):(i=ut(a,i),o=ut(a,o),(r>0?i<o:i>o)&&(i+=r*f));for(var u,c=i;r>0?c>o:c<o;c-=l)u=$([a,-s*y(c),-s*w(c)]),e.point(u[0],u[1])}}function ut(e,t){(t=Z(t))[0]-=e,ne(t);var n=C(-t[1]);return((-t[2]<0?-n:n)+f-s)%f}var ct=function(){var e,t,n=et([0,0]),r=et(90),i=et(6),o={point:a};function a(n,r){e.push(n=t(n,r)),n[0]*=d,n[1]*=d}function s(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*p,l=i.apply(this,arguments)*p;return e=[],t=rt(-a[0]*p,-a[1]*p,0).invert,lt(o,s,l,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return s.center=function(e){return arguments.length?(n="function"==typeof e?e:et([+e[0],+e[1]]),s):n},s.radius=function(e){return arguments.length?(r="function"==typeof e?e:et(+e),s):r},s.precision=function(e){return arguments.length?(i="function"==typeof e?e:et(+e),s):i},s},ht=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:P,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},ft=function(e,t){return m(e[0]-t[0])<s&&m(e[1]-t[1])<s};function dt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var pt=function(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(ft(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);return void i.lineEnd()}s.push(n=new dt(r,e,null,!0)),l.push(n.o=new dt(r,null,n,!1)),s.push(n=new dt(a,e,null,!1)),l.push(n.o=new dt(a,null,n,!0))}})),s.length){for(l.sort(t),mt(s),mt(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(u=f.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}u=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}};function mt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var vt=r(),gt=function(e,t){var n=t[0],r=t[1],i=w(r),o=[w(n),-y(n),0],a=0,l=0;vt.reset(),1===i?r=c+s:-1===i&&(r=-c-s);for(var d=0,p=e.length;d<p;++d)if(v=(m=e[d]).length)for(var m,v,b=m[v-1],_=b[0],x=b[1]/2+h,T=w(x),S=y(x),E=0;E<v;++E,_=C,T=P,S=M,b=k){var k=m[E],C=k[0],O=k[1]/2+h,P=w(O),M=y(O),I=C-_,R=I>=0?1:-1,L=R*I,D=L>u,N=T*P;if(vt.add(g(N*R*w(L),S*M+N*y(L))),a+=D?I+R*f:I,D^_>=n^C>=n){var j=J(Z(b),Z(k));ne(j);var B=J(o,j);ne(B);var F=(D^I>=0?-1:1)*A(B[2]);(r>F||r===F&&(j[0]||j[1]))&&(l+=D^I>=0?1:-1)}}return(a<-s||a<s&&vt<-s)^1&l},yt=n(8),bt=function(e,t,n,r){return function(i){var o,a,s,l=t(i),u=ht(),c=t(u),h=!1,f={point:d,lineStart:m,lineEnd:v,polygonStart:function(){f.point=g,f.lineStart=y,f.lineEnd=b,a=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=m,f.lineEnd=v,a=Object(yt.merge)(a);var e=gt(o,r);a.length?(h||(i.polygonStart(),h=!0),pt(a,xt,e,n,i)):e&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(t,n){e(t,n)&&i.point(t,n)}function p(e,t){l.point(e,t)}function m(){f.point=p,l.lineStart()}function v(){f.point=d,l.lineEnd()}function g(e,t){s.push([e,t]),c.point(e,t)}function y(){c.lineStart(),s=[]}function b(){g(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,l=c.clean(),f=u.result(),d=f.length;if(s.pop(),o.push(s),s=null,d){if(1&l){if((t=(n=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}return}d>1&&2&l&&f.push(f.pop().concat(f.shift())),a.push(f.filter(_t))}}return f}};function _t(e){return e.length>1}function xt(e,t){return((e=e.x)[0]<0?e[1]-c-s:c-e[1])-((t=t.x)[0]<0?t[1]-c-s:c-t[1])}var Tt=bt((function(){return!0}),wt,Et,[-u,-c]);function wt(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var l=o>0?u:-u,h=m(o-n);m(h-u)<s?(e.point(n,r=(r+a)/2>0?c:-c),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(o,r),t=0):i!==l&&h>=u&&(m(n-i)<s&&(n-=i*s),m(o-l)<s&&(o-=l*s),r=St(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),t=0),e.point(n=o,r=a),i=l},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function St(e,t,n,r){var i,o,a=w(e-n);return m(a)>s?v((w(t)*(o=y(r))*w(n)-w(r)*(i=y(t))*w(e))/(i*o*a)):(t+r)/2}function Et(e,t,n,r){var i;if(null==e)i=n*c,r.point(-u,i),r.point(0,i),r.point(u,i),r.point(u,0),r.point(u,-i),r.point(0,-i),r.point(-u,-i),r.point(-u,0),r.point(-u,i);else if(m(e[0]-t[0])>s){var o=e[0]<t[0]?u:-u;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}var kt=function(e){var t=y(e),n=6*p,r=t>0,i=m(t)>s;function o(t,r,i,o){lt(o,e,n,i,t,r)}function a(e,n){return y(e)*y(n)>t}function l(e){var t,n,o,l,f;return{lineStart:function(){l=o=!1,f=1},point:function(d,p){var m,v=[d,p],g=a(d,p),y=r?g?0:h(d,p):g?h(d+(d<0?u:-u),p):0;if(!t&&(l=o=g)&&e.lineStart(),g!==o&&(!(m=c(t,v))||ft(t,m)||ft(v,m))&&(v[0]+=s,v[1]+=s,g=a(v[0],v[1])),g!==o)f=0,g?(e.lineStart(),m=c(v,t),e.point(m[0],m[1])):(m=c(t,v),e.point(m[0],m[1]),e.lineEnd()),t=m;else if(i&&t&&r^g){var b;!(y&n)&&(b=c(v,t,!0))&&(f=0,r?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}g&&(!t||!ft(t,v))&&e.point(v[0],v[1]),t=v,o=g,n=y},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return f|(l&&o)<<1}}}function c(e,n,r){var i=[1,0,0],o=J(Z(e),Z(n)),a=Q(o,o),l=o[0],c=a-l*l;if(!c)return!r&&e;var h=t*a/c,f=-t*l/c,d=J(i,o),p=te(i,h);ee(p,te(o,f));var v=d,g=Q(p,v),y=Q(v,v),b=g*g-y*(Q(p,p)-1);if(!(b<0)){var _=E(b),x=te(v,(-g-_)/y);if(ee(x,p),x=$(x),!r)return x;var T,w=e[0],S=n[0],k=e[1],C=n[1];S<w&&(T=w,w=S,S=T);var A=S-w,O=m(A-u)<s;if(!O&&C<k&&(T=k,k=C,C=T),O||A<s?O?k+C>0^x[1]<(m(x[0]-w)<s?k:C):k<=x[1]&&x[1]<=C:A>u^(w<=x[0]&&x[0]<=S)){var P=te(v,(-g+_)/y);return ee(P,p),[x,$(P)]}}}function h(t,n){var i=r?e:u-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return bt(a,l,o,r?[0,-e]:[-u,e-u])},Ct=function(e,t,n,r,i,o){var a,s=e[0],l=e[1],u=0,c=1,h=t[0]-s,f=t[1]-l;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*h,e[1]=l+u*f),c<1&&(t[0]=s+c*h,t[1]=l+c*f),!0}}}}},At=1e9,Ot=-At;function Pt(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,l){var c=0,h=0;if(null==i||(c=a(i,s))!==(h=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==h);else l.point(o[0],o[1])}function a(r,i){return m(r[0]-e)<s?i>0?0:3:m(r[0]-n)<s?i>0?2:1:m(r[1]-t)<s?i>0?1:0:i>0?3:2}function l(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,u,c,h,f,d,p,m,v,g,y,b=a,_=ht(),x={point:T,lineStart:k,lineEnd:C,polygonStart:S,polygonEnd:E};function T(e,t){i(e,t)&&b.point(e,t)}function w(){for(var t=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,h=s[0],f=h[0],d=h[1];l<c;++l)o=f,a=d,f=(h=s[l])[0],d=h[1],a<=r?d>r&&(f-o)*(r-a)>(d-a)*(e-o)&&++t:d<=r&&(f-o)*(r-a)<(d-a)*(e-o)&&--t;return t}function S(){b=_,s=[],u=[],y=!0}function E(){var e=w(),t=y&&e,n=(s=Object(yt.merge)(s)).length;(t||n)&&(a.polygonStart(),t&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&pt(s,l,e,o,a),a.polygonEnd()),b=a,s=u=c=null}function k(){x.point=A,u&&u.push(c=[]),g=!0,v=!1,p=m=NaN}function C(){s&&(A(h,f),d&&v&&_.rejoin(),s.push(_.result())),x.point=T,v&&b.lineEnd()}function A(o,a){var s=i(o,a);if(u&&c.push([o,a]),g)h=o,f=a,d=s,g=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&v)b.point(o,a);else{var l=[p=Math.max(Ot,Math.min(At,p)),m=Math.max(Ot,Math.min(At,m))],_=[o=Math.max(Ot,Math.min(At,o)),a=Math.max(Ot,Math.min(At,a))];Ct(l,_,e,t,n,r)?(v||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),s||b.lineEnd(),y=!1):s&&(b.lineStart(),b.point(o,a),y=!1)}p=o,m=a,v=s}return x}}var Mt,It,Rt,Lt=function(){var e,t,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return e&&t===n?e:e=Pt(r,i,o,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],e=t=null,n):[[r,i],[o,a]]}}},Dt=r(),Nt={sphere:P,point:P,lineStart:jt,lineEnd:P,polygonStart:P,polygonEnd:P};function jt(){Nt.point=Ft,Nt.lineEnd=Bt}function Bt(){Nt.point=Nt.lineEnd=P}function Ft(e,t){Mt=e*=p,It=w(t*=p),Rt=y(t),Nt.point=Ht}function Ht(e,t){e*=p;var n=w(t*=p),r=y(t),i=m(e-Mt),o=y(i),a=r*w(i),s=Rt*n-It*r*o,l=It*n+Rt*r*o;Dt.add(g(E(a*a+s*s),l)),Mt=e,It=n,Rt=r}var zt=function(e){return Dt.reset(),z(e,Nt),+Dt},Ut=[null,null],Vt={type:"LineString",coordinates:Ut},Gt=function(e,t){return Ut[0]=e,Ut[1]=t,zt(Vt)},Xt={Feature:function(e,t){return Wt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Wt(n[r].geometry,t))return!0;return!1}},Yt={Sphere:function(){return!0},Point:function(e,t){return qt(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(qt(n[r],t))return!0;return!1},LineString:function(e,t){return Kt(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Kt(n[r],t))return!0;return!1},Polygon:function(e,t){return $t(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if($t(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Wt(n[r],t))return!0;return!1}};function Wt(e,t){return!(!e||!Yt.hasOwnProperty(e.type))&&Yt[e.type](e,t)}function qt(e,t){return 0===Gt(e,t)}function Kt(e,t){var n=Gt(e[0],e[1]);return Gt(e[0],t)+Gt(t,e[1])<=n+s}function $t(e,t){return!!gt(e.map(Zt),Qt(t))}function Zt(e){return(e=e.map(Qt)).pop(),e}function Qt(e){return[e[0]*p,e[1]*p]}var Jt=function(e,t){return(e&&Xt.hasOwnProperty(e.type)?Xt[e.type]:Wt)(e,t)};function en(e,t,n){var r=Object(yt.range)(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function tn(e,t,n){var r=Object(yt.range)(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function nn(){var e,t,n,r,i,o,a,l,u,c,h,f,d=10,p=d,v=90,g=360,y=2.5;function _(){return{type:"MultiLineString",coordinates:x()}}function x(){return Object(yt.range)(b(r/v)*v,n,v).map(h).concat(Object(yt.range)(b(l/g)*g,a,g).map(f)).concat(Object(yt.range)(b(t/d)*d,e,d).filter((function(e){return m(e%v)>s})).map(u)).concat(Object(yt.range)(b(o/p)*p,i,p).filter((function(e){return m(e%g)>s})).map(c))}return _.lines=function(){return x().map((function(e){return{type:"LineString",coordinates:e}}))},_.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(a).slice(1),h(n).reverse().slice(1),f(l).reverse().slice(1))]}},_.extent=function(e){return arguments.length?_.extentMajor(e).extentMinor(e):_.extentMinor()},_.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),_.precision(y)):[[r,l],[n,a]]},_.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),_.precision(y)):[[t,o],[e,i]]},_.step=function(e){return arguments.length?_.stepMajor(e).stepMinor(e):_.stepMinor()},_.stepMajor=function(e){return arguments.length?(v=+e[0],g=+e[1],_):[v,g]},_.stepMinor=function(e){return arguments.length?(d=+e[0],p=+e[1],_):[d,p]},_.precision=function(s){return arguments.length?(y=+s,u=en(o,i,90),c=tn(t,e,y),h=en(l,a,90),f=tn(r,n,y),_):y},_.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function rn(){return nn()()}var on,an,sn,ln,un=function(e,t){var n=e[0]*p,r=e[1]*p,i=t[0]*p,o=t[1]*p,a=y(r),s=w(r),l=y(o),u=w(o),c=a*y(n),h=a*w(n),f=l*y(i),m=l*w(i),v=2*A(E(O(o-r)+a*l*O(i-n))),b=w(v),_=v?function(e){var t=w(e*=v)/b,n=w(v-e)/b,r=n*c+t*f,i=n*h+t*m,o=n*s+t*u;return[g(i,r)*d,g(o,E(r*r+i*i))*d]}:function(){return[n*d,r*d]};return _.distance=v,_},cn=function(e){return e},hn=r(),fn=r(),dn={point:P,lineStart:P,lineEnd:P,polygonStart:function(){dn.lineStart=pn,dn.lineEnd=gn},polygonEnd:function(){dn.lineStart=dn.lineEnd=dn.point=P,hn.add(m(fn)),fn.reset()},result:function(){var e=hn/2;return hn.reset(),e}};function pn(){dn.point=mn}function mn(e,t){dn.point=vn,on=sn=e,an=ln=t}function vn(e,t){fn.add(ln*e-sn*t),sn=e,ln=t}function gn(){vn(on,an)}var yn=dn,bn=1/0,_n=bn,xn=-bn,Tn=xn;function wn(e,t){e<bn&&(bn=e),e>xn&&(xn=e),t<_n&&(_n=t),t>Tn&&(Tn=t)}var Sn,En,kn,Cn,An={point:wn,lineStart:P,lineEnd:P,polygonStart:P,polygonEnd:P,result:function(){var e=[[bn,_n],[xn,Tn]];return xn=Tn=-(_n=bn=1/0),e}},On=0,Pn=0,Mn=0,In=0,Rn=0,Ln=0,Dn=0,Nn=0,jn=0,Bn={point:Fn,lineStart:Hn,lineEnd:Vn,polygonStart:function(){Bn.lineStart=Gn,Bn.lineEnd=Xn},polygonEnd:function(){Bn.point=Fn,Bn.lineStart=Hn,Bn.lineEnd=Vn},result:function(){var e=jn?[Dn/jn,Nn/jn]:Ln?[In/Ln,Rn/Ln]:Mn?[On/Mn,Pn/Mn]:[NaN,NaN];return On=Pn=Mn=In=Rn=Ln=Dn=Nn=jn=0,e}};function Fn(e,t){On+=e,Pn+=t,++Mn}function Hn(){Bn.point=zn}function zn(e,t){Bn.point=Un,Fn(kn=e,Cn=t)}function Un(e,t){var n=e-kn,r=t-Cn,i=E(n*n+r*r);In+=i*(kn+e)/2,Rn+=i*(Cn+t)/2,Ln+=i,Fn(kn=e,Cn=t)}function Vn(){Bn.point=Fn}function Gn(){Bn.point=Yn}function Xn(){Wn(Sn,En)}function Yn(e,t){Bn.point=Wn,Fn(Sn=kn=e,En=Cn=t)}function Wn(e,t){var n=e-kn,r=t-Cn,i=E(n*n+r*r);In+=i*(kn+e)/2,Rn+=i*(Cn+t)/2,Ln+=i,Dn+=(i=Cn*e-kn*t)*(kn+e),Nn+=i*(Cn+t),jn+=3*i,Fn(kn=e,Cn=t)}var qn=Bn;function Kn(e){this._context=e}Kn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,f)}},result:P};var $n,Zn,Qn,Jn,er,tr=r(),nr={point:P,lineStart:function(){nr.point=rr},lineEnd:function(){$n&&ir(Zn,Qn),nr.point=P},polygonStart:function(){$n=!0},polygonEnd:function(){$n=null},result:function(){var e=+tr;return tr.reset(),e}};function rr(e,t){nr.point=ir,Zn=Jn=e,Qn=er=t}function ir(e,t){Jn-=e,er-=t,tr.add(E(Jn*Jn+er*er)),Jn=e,er=t}var or=nr;function ar(){this._string=[]}function sr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}ar.prototype={_radius:4.5,_circle:sr(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=sr(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var lr=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),z(e,n(r))),r.result()}return o.area=function(e){return z(e,n(yn)),yn.result()},o.measure=function(e){return z(e,n(or)),or.result()},o.bounds=function(e){return z(e,n(An)),An.result()},o.centroid=function(e){return z(e,n(qn)),qn.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,cn):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new ar):new Kn(t=e),"function"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},ur=function(e){return{stream:cr(e)}};function cr(e){return function(t){var n=new hr;for(var r in e)n[r]=e[r];return n.stream=t,n}}function hr(){}function fr(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),z(n,e.stream(An)),t(An.result()),null!=r&&e.clipExtent(r),e}function dr(e,t,n){return fr(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function pr(e,t,n){return dr(e,[[0,0],t],n)}function mr(e,t,n){return fr(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function vr(e,t,n){return fr(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}hr.prototype={constructor:hr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var gr=16,yr=y(30*p),br=function(e,t){return+t?xr(e,t):_r(e)};function _r(e){return cr({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function xr(e,t){function n(r,i,o,a,l,u,c,h,f,d,p,v,y,b){var _=c-r,x=h-i,T=_*_+x*x;if(T>4*t&&y--){var w=a+d,S=l+p,k=u+v,C=E(w*w+S*S+k*k),O=A(k/=C),P=m(m(k)-1)<s||m(o-f)<s?(o+f)/2:g(S,w),M=e(P,O),I=M[0],R=M[1],L=I-r,D=R-i,N=x*L-_*D;(N*N/T>t||m((_*L+x*D)/T-.5)>.3||a*d+l*p+u*v<yr)&&(n(r,i,o,a,l,u,I,R,P,w/=C,S/=C,k,y,b),b.point(I,R),n(I,R,P,w,S,k,c,h,f,d,p,v,y,b))}}return function(t){var r,i,o,a,s,l,u,c,h,f,d,p,m={point:v,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=_},polygonEnd:function(){t.polygonEnd(),m.lineStart=g}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){c=NaN,m.point=y,t.lineStart()}function y(r,i){var o=Z([r,i]),a=e(r,i);n(c,h,u,f,d,p,c=a[0],h=a[1],u=r,f=o[0],d=o[1],p=o[2],gr,t),t.point(c,h)}function b(){m.point=v,t.lineEnd()}function _(){g(),m.point=x,m.lineEnd=T}function x(e,t){y(r=e,t),i=c,o=h,a=f,s=d,l=p,m.point=y}function T(){n(c,h,u,f,d,p,i,o,r,a,s,l,gr,t),m.lineEnd=b,b()}return m}}var Tr=cr({point:function(e,t){this.stream.point(e*p,t*p)}});function wr(e){return cr({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Sr(e,t,n){function r(r,i){return[t+e*r,n-e*i]}return r.invert=function(r,i){return[(r-t)/e,(n-i)/e]},r}function Er(e,t,n,r){var i=y(r),o=w(r),a=i*e,s=o*e,l=i/e,u=o/e,c=(o*n-i*t)/e,h=(o*t+i*n)/e;function f(e,r){return[a*e-s*r+t,n-s*e-a*r]}return f.invert=function(e,t){return[l*e-u*t+c,h-u*e-l*t]},f}function kr(e){return Cr((function(){return e}))()}function Cr(e){var t,n,r,i,o,a,s,l,u,c,h=150,f=480,m=250,v=0,g=0,y=0,b=0,_=0,x=0,T=null,w=Tt,S=null,k=cn,C=.5;function A(e){return l(e[0]*p,e[1]*p)}function O(e){return(e=l.invert(e[0],e[1]))&&[e[0]*d,e[1]*d]}function P(){var e=Er(h,0,0,x).apply(null,t(v,g)),r=(x?Er:Sr)(h,f-e[0],m-e[1],x);return n=rt(y,b,_),s=tt(t,r),l=tt(n,s),a=br(s,C),M()}function M(){return u=c=null,A}return A.stream=function(e){return u&&c===e?u:u=Tr(wr(n)(w(a(k(c=e)))))},A.preclip=function(e){return arguments.length?(w=e,T=void 0,M()):w},A.postclip=function(e){return arguments.length?(k=e,S=r=i=o=null,M()):k},A.clipAngle=function(e){return arguments.length?(w=+e?kt(T=e*p):(T=null,Tt),M()):T*d},A.clipExtent=function(e){return arguments.length?(k=null==e?(S=r=i=o=null,cn):Pt(S=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),M()):null==S?null:[[S,r],[i,o]]},A.scale=function(e){return arguments.length?(h=+e,P()):h},A.translate=function(e){return arguments.length?(f=+e[0],m=+e[1],P()):[f,m]},A.center=function(e){return arguments.length?(v=e[0]%360*p,g=e[1]%360*p,P()):[v*d,g*d]},A.rotate=function(e){return arguments.length?(y=e[0]%360*p,b=e[1]%360*p,_=e.length>2?e[2]%360*p:0,P()):[y*d,b*d,_*d]},A.angle=function(e){return arguments.length?(x=e%360*p,P()):x*d},A.precision=function(e){return arguments.length?(a=br(s,C=e*e),M()):E(C)},A.fitExtent=function(e,t){return dr(A,e,t)},A.fitSize=function(e,t){return pr(A,e,t)},A.fitWidth=function(e,t){return mr(A,e,t)},A.fitHeight=function(e,t){return vr(A,e,t)},function(){return t=e.apply(this,arguments),A.invert=t.invert&&O,P()}}function Ar(e){var t=0,n=u/3,r=Cr(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*p,n=e[1]*p):[t*d,n*d]},i}function Or(e){var t=y(e);function n(e,n){return[e*t,w(n)/t]}return n.invert=function(e,n){return[e/t,A(n*t)]},n}function Pr(e,t){var n=w(e),r=(n+w(t))/2;if(m(r)<s)return Or(e);var i=1+n*(2*r-n),o=E(i)/r;function a(e,t){var n=E(i-2*r*w(t))/r;return[n*w(e*=r),o-n*y(e)]}return a.invert=function(e,t){var n=o-t;return[g(e,m(n))/r*S(n),A((i-(e*e+n*n)*r*r)/(2*r))]},a}var Mr=function(){return Ar(Pr).scale(155.424).center([0,33.6442])},Ir=function(){return Mr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function Rr(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}var Lr=function(){var e,t,n,r,i,o,a=Ir(),l=Mr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Mr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function h(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function f(){return e=t=null,h}return h.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(e)},h.stream=function(n){return e&&t===n?e:e=Rr([a.stream(t=n),l.stream(n),u.stream(n)])},h.precision=function(e){return arguments.length?(a.precision(e),l.precision(e),u.precision(e),f()):a.precision()},h.scale=function(e){return arguments.length?(a.scale(e),l.scale(.35*e),u.scale(e),h.translate(a.translate())):a.scale()},h.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],h=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,h-.238*t],[o+.455*t,h+.238*t]]).stream(c),r=l.translate([o-.307*t,h+.201*t]).clipExtent([[o-.425*t+s,h+.12*t+s],[o-.214*t-s,h+.234*t-s]]).stream(c),i=u.translate([o-.205*t,h+.212*t]).clipExtent([[o-.214*t+s,h+.166*t+s],[o-.115*t-s,h+.234*t-s]]).stream(c),f()},h.fitExtent=function(e,t){return dr(h,e,t)},h.fitSize=function(e,t){return pr(h,e,t)},h.fitWidth=function(e,t){return mr(h,e,t)},h.fitHeight=function(e,t){return vr(h,e,t)},h.scale(1070)};function Dr(e){return function(t,n){var r=y(t),i=y(n),o=e(r*i);return[o*i*w(t),o*w(n)]}}function Nr(e){return function(t,n){var r=E(t*t+n*n),i=e(r),o=w(i),a=y(i);return[g(t*o,r*a),A(r&&n*o/r)]}}var jr=Dr((function(e){return E(2/(1+e))}));jr.invert=Nr((function(e){return 2*A(e/2)}));var Br=function(){return kr(jr).scale(124.75).clipAngle(179.999)},Fr=Dr((function(e){return(e=C(e))&&e/w(e)}));Fr.invert=Nr((function(e){return e}));var Hr=function(){return kr(Fr).scale(79.4188).clipAngle(179.999)};function zr(e,t){return[e,x(k((c+t)/2))]}zr.invert=function(e,t){return[e,2*v(_(t))-c]};var Ur=function(){return Vr(zr).scale(961/f)};function Vr(e){var t,n,r,i=kr(e),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,c=null;function h(){var o=u*a(),s=i(st(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===zr?[[Math.max(s[0]-o,c),t],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),h()):a()},i.translate=function(e){return arguments.length?(s(e),h()):s()},i.center=function(e){return arguments.length?(o(e),h()):o()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),h()):null==c?null:[[c,t],[n,r]]},h()}function Gr(e){return k((c+e)/2)}function Xr(e,t){var n=y(e),r=e===t?w(e):x(n/y(t))/x(Gr(t)/Gr(e)),i=n*T(Gr(e),r)/r;if(!r)return zr;function o(e,t){i>0?t<-c+s&&(t=-c+s):t>c-s&&(t=c-s);var n=i/T(Gr(t),r);return[n*w(r*e),i-n*y(r*e)]}return o.invert=function(e,t){var n=i-t,o=S(r)*E(e*e+n*n);return[g(e,m(n))/r*S(n),2*v(T(i/o,1/r))-c]},o}var Yr=function(){return Ar(Xr).scale(109.5).parallels([30,30])};function Wr(e,t){return[e,t]}Wr.invert=Wr;var qr=function(){return kr(Wr).scale(152.63)};function Kr(e,t){var n=y(e),r=e===t?w(e):(n-y(t))/(t-e),i=n/r+e;if(m(r)<s)return Wr;function o(e,t){var n=i-t,o=r*e;return[n*w(o),i-n*y(o)]}return o.invert=function(e,t){var n=i-t;return[g(e,m(n))/r*S(n),i-S(r)*E(e*e+n*n)]},o}var $r=function(){return Ar(Kr).scale(131.154).center([0,13.9389])},Zr=1.340264,Qr=-.081106,Jr=893e-6,ei=.003796,ti=E(3)/2,ni=12;function ri(e,t){var n=A(ti*w(t)),r=n*n,i=r*r*r;return[e*y(n)/(ti*(Zr+3*Qr*r+i*(7*Jr+9*ei*r))),n*(Zr+Qr*r+i*(Jr+ei*r))]}ri.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<ni&&(o=(i=(r-=n=(r*(Zr+Qr*i+o*(Jr+ei*i))-t)/(Zr+3*Qr*i+o*(7*Jr+9*ei*i)))*r)*i*i,!(m(n)<l));++a);return[ti*e*(Zr+3*Qr*i+o*(7*Jr+9*ei*i))/y(r),A(w(r)/ti)]};var ii=function(){return kr(ri).scale(177.158)};function oi(e,t){var n=y(t),r=y(e)*n;return[n*w(e)/r,w(t)/r]}oi.invert=Nr(v);var ai=function(){return kr(oi).scale(144.049).clipAngle(60)};function si(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?cn:cr({point:function(i,o){this.stream.point(i*e+n,o*t+r)}})}var li=function(){var e,t,n,r,i,o,a=1,s=0,l=0,u=1,c=1,h=cn,f=null,d=cn;function p(){return r=i=null,o}return o={stream:function(e){return r&&i===e?r:r=h(d(i=e))},postclip:function(r){return arguments.length?(d=r,f=e=t=n=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(f=e=t=n=null,cn):Pt(f=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==f?null:[[f,e],[t,n]]},scale:function(e){return arguments.length?(h=si((a=+e)*u,a*c,s,l),p()):a},translate:function(e){return arguments.length?(h=si(a*u,a*c,s=+e[0],l=+e[1]),p()):[s,l]},reflectX:function(e){return arguments.length?(h=si(a*(u=e?-1:1),a*c,s,l),p()):u<0},reflectY:function(e){return arguments.length?(h=si(a*u,a*(c=e?-1:1),s,l),p()):c<0},fitExtent:function(e,t){return dr(o,e,t)},fitSize:function(e,t){return pr(o,e,t)},fitWidth:function(e,t){return mr(o,e,t)},fitHeight:function(e,t){return vr(o,e,t)}}};function ui(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}ui.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(m(n)>s&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var ci=function(){return kr(ui).scale(175.295)};function hi(e,t){return[y(t)*w(e),w(t)]}hi.invert=Nr(A);var fi=function(){return kr(hi).scale(249.5).clipAngle(90+s)};function di(e,t){var n=y(t),r=1+y(e)*n;return[n*w(e)/r,w(t)/r]}di.invert=Nr((function(e){return 2*v(e)}));var pi=function(){return kr(di).scale(250).clipAngle(142)};function mi(e,t){return[x(k((c+t)/2)),-e]}mi.invert=function(e,t){return[-t,2*v(_(e))-c]};var vi=function(){var e=Vr(mi),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};n.d(t,"geoArea",(function(){return K})),n.d(t,"geoBounds",(function(){return ze})),n.d(t,"geoCentroid",(function(){return Je})),n.d(t,"geoCircle",(function(){return ct})),n.d(t,"geoClipAntimeridian",(function(){return Tt})),n.d(t,"geoClipCircle",(function(){return kt})),n.d(t,"geoClipExtent",(function(){return Lt})),n.d(t,"geoClipRectangle",(function(){return Pt})),n.d(t,"geoContains",(function(){return Jt})),n.d(t,"geoDistance",(function(){return Gt})),n.d(t,"geoGraticule",(function(){return nn})),n.d(t,"geoGraticule10",(function(){return rn})),n.d(t,"geoInterpolate",(function(){return un})),n.d(t,"geoLength",(function(){return zt})),n.d(t,"geoPath",(function(){return lr})),n.d(t,"geoAlbers",(function(){return Ir})),n.d(t,"geoAlbersUsa",(function(){return Lr})),n.d(t,"geoAzimuthalEqualArea",(function(){return Br})),n.d(t,"geoAzimuthalEqualAreaRaw",(function(){return jr})),n.d(t,"geoAzimuthalEquidistant",(function(){return Hr})),n.d(t,"geoAzimuthalEquidistantRaw",(function(){return Fr})),n.d(t,"geoConicConformal",(function(){return Yr})),n.d(t,"geoConicConformalRaw",(function(){return Xr})),n.d(t,"geoConicEqualArea",(function(){return Mr})),n.d(t,"geoConicEqualAreaRaw",(function(){return Pr})),n.d(t,"geoConicEquidistant",(function(){return $r})),n.d(t,"geoConicEquidistantRaw",(function(){return Kr})),n.d(t,"geoEqualEarth",(function(){return ii})),n.d(t,"geoEqualEarthRaw",(function(){return ri})),n.d(t,"geoEquirectangular",(function(){return qr})),n.d(t,"geoEquirectangularRaw",(function(){return Wr})),n.d(t,"geoGnomonic",(function(){return ai})),n.d(t,"geoGnomonicRaw",(function(){return oi})),n.d(t,"geoIdentity",(function(){return li})),n.d(t,"geoProjection",(function(){return kr})),n.d(t,"geoProjectionMutator",(function(){return Cr})),n.d(t,"geoMercator",(function(){return Ur})),n.d(t,"geoMercatorRaw",(function(){return zr})),n.d(t,"geoNaturalEarth1",(function(){return ci})),n.d(t,"geoNaturalEarth1Raw",(function(){return ui})),n.d(t,"geoOrthographic",(function(){return fi})),n.d(t,"geoOrthographicRaw",(function(){return hi})),n.d(t,"geoStereographic",(function(){return pi})),n.d(t,"geoStereographicRaw",(function(){return di})),n.d(t,"geoTransverseMercator",(function(){return vi})),n.d(t,"geoTransverseMercatorRaw",(function(){return mi})),n.d(t,"geoRotation",(function(){return st})),n.d(t,"geoStream",(function(){return z})),n.d(t,"geoTransform",(function(){return ur}))},function(e,t,n){n.r(t);var r=n(72),i=n(65),o=function(e,t){var n,o,l,u,c=Object(i.a)("beforesend","progress","load","error"),h=Object(r.a)(),f=new XMLHttpRequest,d=null,p=null,m=0;function v(e){var t,r=f.status;if(!r&&s(f)||r>=200&&r<300||304===r){if(l)try{t=l.call(n,f)}catch(i){return void c.call("error",n,i)}else t=f;c.call("load",n,t)}else c.call("error",n,e)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in f)&&/^(http(s)?:)?\/\//.test(e)&&(f=new XDomainRequest),"onload"in f?f.onload=f.onerror=f.ontimeout=v:f.onreadystatechange=function(e){f.readyState>3&&v(e)},f.onprogress=function(e){c.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?h.get(e):(null==t?h.remove(e):h.set(e,t+""),n)},mimeType:function(e){return arguments.length?(o=null==e?null:e+"",n):o},responseType:function(e){return arguments.length?(u=e,n):u},timeout:function(e){return arguments.length?(m=+e,n):m},user:function(e){return arguments.length<1?d:(d=null==e?null:e+"",n)},password:function(e){return arguments.length<1?p:(p=null==e?null:e+"",n)},response:function(e){return l=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,r,i){return f.open(t,e,!0,d,p),null!=o&&!h.has("accept")&&h.set("accept",o+",*/*"),f.setRequestHeader&&h.each((function(e,t){f.setRequestHeader(t,e)})),null!=o&&f.overrideMimeType&&f.overrideMimeType(o),null!=u&&(f.responseType=u),m>0&&(f.timeout=m),null==i&&"function"==typeof r&&(i=r,r=null),null!=i&&1===i.length&&(i=a(i)),null!=i&&n.on("error",i).on("load",(function(e){i(null,e)})),c.call("beforesend",n,f),f.send(null==r?null:r),n},abort:function(){return f.abort(),n},on:function(){var e=c.on.apply(c,arguments);return e===c?n:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n};function a(e){return function(t,n){e(null==t?n:null)}}function s(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}var l=function(e,t){return function(n,r){var i=o(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},u=l("text/html",(function(e){return document.createRange().createContextualFragment(e.responseText)})),c=l("application/json",(function(e){return JSON.parse(e.responseText)})),h=l("text/plain",(function(e){return e.responseText})),f=l("application/xml",(function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})),d=n(104),p=function(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=o(n).mimeType(e);return a.row=function(e){return arguments.length?a.response(m(t,r=e)):r},a.row(r),i?a.get(i):a}};function m(e,t){return function(n){return e(n.responseText,t)}}var v=p("text/csv",d.csvParse),g=p("text/tab-separated-values",d.tsvParse);n.d(t,"request",(function(){return o})),n.d(t,"html",(function(){return u})),n.d(t,"json",(function(){return c})),n.d(t,"text",(function(){return h})),n.d(t,"xml",(function(){return f})),n.d(t,"csv",(function(){return v})),n.d(t,"tsv",(function(){return g}))},function(e,t,n){n.r(t);var r=[].slice,i={};function o(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function a(e){if(!e._start)try{s(e)}catch(t){if(e._tasks[e._ended+e._active-1])u(e,t);else if(!e._data)throw t}}function s(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],r=n.length-1,o=n[r];n[r]=l(e,t),--e._waiting,++e._active,n=o.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||i)}}function l(e,t){return function(n,r){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?u(e,n):(e._data[t]=r,e._waiting?a(e):c(e))))}}function u(e,t){var n,r=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch(i){}e._active=NaN,c(e)}function c(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function h(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new o(e)}o.prototype=h.prototype={constructor:o,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=r.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),a(this),this},abort:function(){return null==this._error&&u(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},c(this),this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,c(this),this}},n.d(t,"queue",(function(){return h}))}]))}(f);var Ds=c({__proto__:null},[f.exports])}}]);
//# sourceMappingURL=668.df999d19.chunk.js.map